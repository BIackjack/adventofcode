(self.webpackChunkadventofcode=self.webpackChunkadventofcode||[]).push([[179],{798:(Bp,Tn,Jt)=>{"use strict";var Ve={};function ue(e){return"function"==typeof e}function Xe(e){const t=e(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}Jt.r(Ve),Jt.d(Ve,{Arc:()=>cA,BezierCurve:()=>hW,BoundingRect:()=>Yt,Circle:()=>oA,CompoundPath:()=>JMe,Ellipse:()=>JG,Group:()=>$r,Image:()=>qs,IncrementalDisplayable:()=>sTe,Line:()=>yh,LinearGradient:()=>uA,OrientedBoundingRect:()=>bb,Path:()=>Zt,Point:()=>dt,Polygon:()=>vb,Polyline:()=>lA,RadialGradient:()=>rTe,Rect:()=>Yn,Ring:()=>iW,Sector:()=>_h,Text:()=>nr,applyTransform:()=>Kf,clipPointsByRect:()=>mTe,clipRectByRect:()=>vTe,createIcon:()=>fA,extendPath:()=>uTe,extendShape:()=>lTe,getShapeClass:()=>hTe,getTransform:()=>Sb,groupTransition:()=>yW,initProps:()=>ro,isElementRemoved:()=>kf,lineLineIntersect:()=>bW,linePolygonIntersect:()=>_Te,makeImage:()=>pW,makePath:()=>dA,mergePath:()=>dTe,registerShape:()=>ps,removeElement:()=>$2,removeElementWithFadeOut:()=>wE,resizePath:()=>mW,setTooltipConfig:()=>gA,subPixelOptimize:()=>pTe,subPixelOptimizeLine:()=>P1,subPixelOptimizeRect:()=>fTe,transformDirection:()=>vW,traverseElements:()=>O1,updateProps:()=>Vi});const $t=Xe(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function wt(e,n){if(e){const t=e.indexOf(n);0<=t&&e.splice(t,1)}}class We{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const a of t)a.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(ue(r))try{r()}catch(a){n=a instanceof $t?a.errors:[a]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const a of i)try{Ci(a)}catch(o){n=n??[],o instanceof $t?n=[...n,...o.errors]:n.push(o)}}if(n)throw new $t(n)}}add(n){var t;if(n&&n!==this)if(this.closed)Ci(n);else{if(n instanceof We){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(n)}}_hasParent(n){const{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){const{_parentage:t}=this;t===n?this._parentage=null:Array.isArray(t)&&wt(t,n)}remove(n){const{_finalizers:t}=this;t&&wt(t,n),n instanceof We&&n._removeParent(this)}}We.EMPTY=(()=>{const e=new We;return e.closed=!0,e})();const Kn=We.EMPTY;function pn(e){return e instanceof We||e&&"closed"in e&&ue(e.remove)&&ue(e.add)&&ue(e.unsubscribe)}function Ci(e){ue(e)?e():e.unsubscribe()}const ar={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ga={setTimeout(e,n,...t){const{delegate:r}=ga;return r?.setTimeout?r.setTimeout(e,n,...t):setTimeout(e,n,...t)},clearTimeout(e){const{delegate:n}=ga;return(n?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Ss(e){ga.setTimeout(()=>{const{onUnhandledError:n}=ar;if(!n)throw e;n(e)})}function za(){}const or=at("C",void 0,void 0);function at(e,n,t){return{kind:e,value:n,error:t}}let le=null;function Ne(e){if(ar.useDeprecatedSynchronousErrorHandling){const n=!le;if(n&&(le={errorThrown:!1,error:null}),e(),n){const{errorThrown:t,error:r}=le;if(le=null,t)throw r}}else e()}class At extends We{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,pn(n)&&n.add(this)):this.destination=KK}static create(n,t,r){return new uo(n,t,r)}next(n){this.isStopped?dw(function Ie(e){return at("N",e,void 0)}(n),this):this._next(n)}error(n){this.isStopped?dw(function gn(e){return at("E",void 0,e)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?dw(or,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Dn=Function.prototype.bind;function En(e,n){return Dn.call(e,n)}class ed{constructor(n){this.partialObserver=n}next(n){const{partialObserver:t}=this;if(t.next)try{t.next(n)}catch(r){Xl(r)}}error(n){const{partialObserver:t}=this;if(t.error)try{t.error(n)}catch(r){Xl(r)}else Xl(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(t){Xl(t)}}}class uo extends At{constructor(n,t,r){let i;if(super(),ue(n)||!n)i={next:n??void 0,error:t??void 0,complete:r??void 0};else{let a;this&&ar.useDeprecatedNextContext?(a=Object.create(n),a.unsubscribe=()=>this.unsubscribe(),i={next:n.next&&En(n.next,a),error:n.error&&En(n.error,a),complete:n.complete&&En(n.complete,a)}):i=n}this.destination=new ed(i)}}function Xl(e){ar.useDeprecatedSynchronousErrorHandling?function qe(e){ar.useDeprecatedSynchronousErrorHandling&&le&&(le.errorThrown=!0,le.error=e)}(e):Ss(e)}function dw(e,n){const{onStoppedNotification:t}=ar;t&&ga.setTimeout(()=>t(e,n))}const KK={closed:!0,next:za,error:function ZK(e){throw e},complete:za},fw="function"==typeof Symbol&&Symbol.observable||"@@observable";function ql(e){return e}function MI(e){return 0===e.length?ql:1===e.length?e[0]:function(t){return e.reduce((r,i)=>i(r),t)}}let mn=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new e;return r.source=this,r.operator=t,r}subscribe(t,r,i){const a=function eQ(e){return e&&e instanceof At||function JK(e){return e&&ue(e.next)&&ue(e.error)&&ue(e.complete)}(e)&&pn(e)}(t)?t:new uo(t,r,i);return Ne(()=>{const{operator:o,source:s}=this;a.add(o?o.call(a,s):s?this._subscribe(a):this._trySubscribe(a))}),a}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=TI(r))((i,a)=>{const o=new uo({next:s=>{try{t(s)}catch(l){a(l),o.unsubscribe()}},error:a,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[fw](){return this}pipe(...t){return MI(t)(this)}toPromise(t){return new(t=TI(t))((r,i)=>{let a;this.subscribe(o=>a=o,o=>i(o),()=>r(a))})}}return e.create=n=>new e(n),e})();function TI(e){var n;return null!==(n=e??ar.Promise)&&void 0!==n?n:Promise}const tQ=Xe(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let he=(()=>{class e extends mn{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new DI(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new tQ}next(t){Ne(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){Ne(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Ne(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:a}=this;return r||i?Kn:(this.currentObservers=null,a.push(t),new We(()=>{this.currentObservers=null,wt(a,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:a}=this;r?t.error(i):a&&t.complete()}asObservable(){const t=new mn;return t.source=this,t}}return e.create=(n,t)=>new DI(n,t),e})();class DI extends he{constructor(n,t){super(),this.destination=n,this.source=t}next(n){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,n)}error(n){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,n)}complete(){var n,t;null===(t=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===t||t.call(n)}_subscribe(n){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(n))&&void 0!==r?r:Kn}}function EI(e){return ue(e?.lift)}function Ln(e){return n=>{if(EI(n))return n.lift(function(t){try{return e(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function vn(e,n,t,r,i){return new nQ(e,n,t,r,i)}class nQ extends At{constructor(n,t,r,i,a,o){super(n),this.onFinalize=a,this.shouldUnsubscribe=o,this._next=t?function(s){try{t(s)}catch(l){n.error(l)}}:super._next,this._error=i?function(s){try{i(s)}catch(l){n.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(s){n.error(s)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function Ce(e,n){return Ln((t,r)=>{let i=0;t.subscribe(vn(r,a=>{r.next(e.call(n,a,i++))}))})}function Xc(e){return this instanceof Xc?(this.v=e,this):new Xc(e)}function aQ(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(e,n||[]),a=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(d){r[d]&&(i[d]=function(f){return new Promise(function(p,g){a.push([d,f,p,g])>1||s(d,f)})})}function s(d,f){try{!function l(d){d.value instanceof Xc?Promise.resolve(d.value.v).then(c,u):h(a[0][2],d)}(r[d](f))}catch(p){h(a[0][3],p)}}function c(d){s("next",d)}function u(d){s("throw",d)}function h(d,f){d(f),a.shift(),a.length&&s(a[0][0],a[0][1])}}function oQ(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=function II(e){var n="function"==typeof Symbol&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(a){t[a]=e[a]&&function(o){return new Promise(function(s,l){!function i(a,o,s,l){Promise.resolve(l).then(function(c){a({value:c,done:s})},o)}(s,l,(o=e[a](o)).done,o.value)})}}}const gw=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function PI(e){return ue(e?.then)}function OI(e){return ue(e[fw])}function RI(e){return Symbol.asyncIterator&&ue(e?.[Symbol.asyncIterator])}function LI(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const kI=function lQ(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function FI(e){return ue(e?.[kI])}function zI(e){return aQ(this,arguments,function*(){const t=e.getReader();try{for(;;){const{value:r,done:i}=yield Xc(t.read());if(i)return yield Xc(void 0);yield yield Xc(r)}}finally{t.releaseLock()}})}function BI(e){return ue(e?.getReader)}function wi(e){if(e instanceof mn)return e;if(null!=e){if(OI(e))return function cQ(e){return new mn(n=>{const t=e[fw]();if(ue(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(gw(e))return function uQ(e){return new mn(n=>{for(let t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}(e);if(PI(e))return function hQ(e){return new mn(n=>{e.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,Ss)})}(e);if(RI(e))return VI(e);if(FI(e))return function dQ(e){return new mn(n=>{for(const t of e)if(n.next(t),n.closed)return;n.complete()})}(e);if(BI(e))return function fQ(e){return VI(zI(e))}(e)}throw LI(e)}function VI(e){return new mn(n=>{(function pQ(e,n){var t,r,i,a;return function rQ(e,n,t,r){return new(t||(t=Promise))(function(a,o){function s(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?a(u.value):function i(a){return a instanceof t?a:new t(function(o){o(a)})}(u.value).then(s,l)}c((r=r.apply(e,n||[])).next())})}(this,void 0,void 0,function*(){try{for(t=oQ(e);!(r=yield t.next()).done;)if(n.next(r.value),n.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(a=t.return)&&(yield a.call(t))}finally{if(i)throw i.error}}n.complete()})})(e,n).catch(t=>n.error(t))})}function ol(e,n,t,r=0,i=!1){const a=n.schedule(function(){t(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(a),!i)return a}function Qr(e,n,t=1/0){return ue(n)?Qr((r,i)=>Ce((a,o)=>n(r,a,i,o))(wi(e(r,i))),t):("number"==typeof n&&(t=n),Ln((r,i)=>function gQ(e,n,t,r,i,a,o,s){const l=[];let c=0,u=0,h=!1;const d=()=>{h&&!l.length&&!c&&n.complete()},f=g=>c<r?p(g):l.push(g),p=g=>{a&&n.next(g),c++;let m=!1;wi(t(g,u++)).subscribe(vn(n,v=>{i?.(v),a?f(v):n.next(v)},()=>{m=!0},void 0,()=>{if(m)try{for(c--;l.length&&c<r;){const v=l.shift();o?ol(n,o,()=>p(v)):p(v)}d()}catch(v){n.error(v)}}))};return e.subscribe(vn(n,f,()=>{h=!0,d()})),()=>{s?.()}}(r,i,e,t)))}function td(e=1/0){return Qr(ql,e)}const ma=new mn(e=>e.complete());function HI(e){return e&&ue(e.schedule)}function mw(e){return e[e.length-1]}function UI(e){return ue(mw(e))?e.pop():void 0}function Vp(e){return HI(mw(e))?e.pop():void 0}function vw(e,n=0){return Ln((t,r)=>{t.subscribe(vn(r,i=>ol(r,e,()=>r.next(i),n),()=>ol(r,e,()=>r.complete(),n),i=>ol(r,e,()=>r.error(i),n)))})}function GI(e,n=0){return Ln((t,r)=>{r.add(e.schedule(()=>t.subscribe(r),n))})}function WI(e,n){if(!e)throw new Error("Iterable cannot be null");return new mn(t=>{ol(t,n,()=>{const r=e[Symbol.asyncIterator]();ol(t,n,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Qn(e,n){return n?function SQ(e,n){if(null!=e){if(OI(e))return function _Q(e,n){return wi(e).pipe(GI(n),vw(n))}(e,n);if(gw(e))return function bQ(e,n){return new mn(t=>{let r=0;return n.schedule(function(){r===e.length?t.complete():(t.next(e[r++]),t.closed||this.schedule())})})}(e,n);if(PI(e))return function yQ(e,n){return wi(e).pipe(GI(n),vw(n))}(e,n);if(RI(e))return WI(e,n);if(FI(e))return function CQ(e,n){return new mn(t=>{let r;return ol(t,n,()=>{r=e[kI](),ol(t,n,()=>{let i,a;try{({value:i,done:a}=r.next())}catch(o){return void t.error(o)}a?t.complete():t.next(i)},0,!0)}),()=>ue(r?.return)&&r.return()})}(e,n);if(BI(e))return function wQ(e,n){return WI(zI(e),n)}(e,n)}throw LI(e)}(e,n):wi(e)}function fi(...e){const n=Vp(e),t=function vQ(e,n){return"number"==typeof mw(e)?e.pop():n}(e,1/0),r=e;return r.length?1===r.length?wi(r[0]):td(t)(Qn(r,n)):ma}function _r(e={}){const{connector:n=(()=>new he),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return a=>{let o,s,l,c=0,u=!1,h=!1;const d=()=>{s?.unsubscribe(),s=void 0},f=()=>{d(),o=l=void 0,u=h=!1},p=()=>{const g=o;f(),g?.unsubscribe()};return Ln((g,m)=>{c++,!h&&!u&&d();const v=l=l??n();m.add(()=>{c--,0===c&&!h&&!u&&(s=_w(p,i))}),v.subscribe(m),!o&&c>0&&(o=new uo({next:_=>v.next(_),error:_=>{h=!0,d(),s=_w(f,t,_),v.error(_)},complete:()=>{u=!0,d(),s=_w(f,r),v.complete()}}),wi(g).subscribe(o))})(a)}}function _w(e,n,...t){if(!0===n)return void e();if(!1===n)return;const r=new uo({next:()=>{r.unsubscribe(),e()}});return n(...t).subscribe(r)}function kn(e){for(let n in e)if(e[n]===kn)return n;throw Error("Could not find renamed property on target object.")}function yw(e,n){for(const t in n)n.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&(e[t]=n[t])}function Fn(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Fn).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const n=e.toString();if(null==n)return""+n;const t=n.indexOf("\n");return-1===t?n:n.substring(0,t)}function bw(e,n){return null==e||""===e?null===n?"":n:null==n||""===n?e:e+" "+n}const xQ=kn({__forward_ref__:kn});function _n(e){return e.__forward_ref__=_n,e.toString=function(){return Fn(this())},e}function et(e){return Cw(e)?e():e}function Cw(e){return"function"==typeof e&&e.hasOwnProperty(xQ)&&e.__forward_ref__===_n}function ww(e){return e&&!!e.\u0275providers}const Xm="https://g.co/ng/security#xss";class X extends Error{constructor(n,t){super(function qm(e,n){return`NG0${Math.abs(e)}${n?": "+n.trim():""}`}(n,t)),this.code=n}}function gt(e){return"string"==typeof e?e:null==e?"":String(e)}function Zm(e,n){throw new X(-201,!1)}function ho(e,n){null==e&&function bn(e,n,t,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${t} ${r} ${n} <=Actual]`))}(n,e,null,"!=")}function q(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function St(e){return{providers:e.providers||[],imports:e.imports||[]}}function Km(e){return jI(e,Qm)||jI(e,YI)}function jI(e,n){return e.hasOwnProperty(n)?e[n]:null}function $I(e){return e&&(e.hasOwnProperty(Sw)||e.hasOwnProperty(OQ))?e[Sw]:null}const Qm=kn({\u0275prov:kn}),Sw=kn({\u0275inj:kn}),YI=kn({ngInjectableDef:kn}),OQ=kn({ngInjectorDef:kn});var tt=(()=>((tt=tt||{})[tt.Default=0]="Default",tt[tt.Host=1]="Host",tt[tt.Self=2]="Self",tt[tt.SkipSelf=4]="SkipSelf",tt[tt.Optional=8]="Optional",tt))();let xw;function fo(e){const n=xw;return xw=e,n}function XI(e,n,t){const r=Km(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&tt.Optional?null:void 0!==n?n:void Zm(Fn(e))}const Un=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Hp={},Mw="__NG_DI_FLAG__",Jm="ngTempTokenPath",kQ=/\n/gm,qI="__source";let Up;function nd(e){const n=Up;return Up=e,n}function zQ(e,n=tt.Default){if(void 0===Up)throw new X(-203,!1);return null===Up?XI(e,void 0,n):Up.get(e,n&tt.Optional?null:void 0,n)}function G(e,n=tt.Default){return(function RQ(){return xw}()||zQ)(et(e),n)}function Nt(e,n=tt.Default){return G(e,ev(n))}function ev(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Tw(e){const n=[];for(let t=0;t<e.length;t++){const r=et(e[t]);if(Array.isArray(r)){if(0===r.length)throw new X(900,!1);let i,a=tt.Default;for(let o=0;o<r.length;o++){const s=r[o],l=BQ(s);"number"==typeof l?-1===l?i=s.token:a|=l:i=s}n.push(G(i,a))}else n.push(G(r))}return n}function Gp(e,n){return e[Mw]=n,e.prototype[Mw]=n,e}function BQ(e){return e[Mw]}function Kl(e){return{toString:e}.toString()}var Go=(()=>((Go=Go||{})[Go.OnPush=0]="OnPush",Go[Go.Default=1]="Default",Go))(),Wo=(()=>{return(e=Wo||(Wo={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",Wo;var e})();const sl={},dn=[],tv=kn({\u0275cmp:kn}),Dw=kn({\u0275dir:kn}),Ew=kn({\u0275pipe:kn}),KI=kn({\u0275mod:kn}),ll=kn({\u0275fac:kn}),Wp=kn({__NG_ELEMENT_ID__:kn});let UQ=0;function J(e){return Kl(()=>{const t=!0===e.standalone,r={},i={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===Go.OnPush,directiveDefs:null,pipeDefs:null,standalone:t,dependencies:t&&e.dependencies||null,getStandaloneInjector:null,selectors:e.selectors||dn,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||Wo.Emulated,id:"c"+UQ++,styles:e.styles||dn,_:null,setInput:null,schemas:e.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},a=e.dependencies,o=e.features;return i.inputs=eP(e.inputs,r),i.outputs=eP(e.outputs),o&&o.forEach(s=>s(i)),i.directiveDefs=a?()=>("function"==typeof a?a():a).map(QI).filter(JI):null,i.pipeDefs=a?()=>("function"==typeof a?a():a).map(ji).filter(JI):null,i})}function QI(e){return Cn(e)||Ai(e)}function JI(e){return null!==e}function It(e){return Kl(()=>({type:e.type,bootstrap:e.bootstrap||dn,declarations:e.declarations||dn,imports:e.imports||dn,exports:e.exports||dn,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function eP(e,n){if(null==e)return sl;const t={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],a=i;Array.isArray(i)&&(a=i[1],i=i[0]),t[i]=r,n&&(n[i]=a)}return t}const K=J;function va(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function Cn(e){return e[tv]||null}function Ai(e){return e[Dw]||null}function ji(e){return e[Ew]||null}function Va(e,n){const t=e[KI]||null;if(!t&&!0===n)throw new Error(`Type ${Fn(e)} does not have '\u0275mod' property.`);return t}function Ha(e){return Array.isArray(e)&&"object"==typeof e[1]}function $o(e){return Array.isArray(e)&&!0===e[1]}function Iw(e){return 0!=(4&e.flags)}function Xp(e){return e.componentOffset>-1}function ov(e){return 1==(1&e.flags)}function Yo(e){return null!==e.template}function jQ(e){return 0!=(256&e[2])}function Zc(e,n){return e.hasOwnProperty(ll)?e[ll]:null}class XQ{constructor(n,t,r){this.previousValue=n,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function on(){return oP}function oP(e){return e.type.prototype.ngOnChanges&&(e.setInput=ZQ),qQ}function qQ(){const e=lP(this),n=e?.current;if(n){const t=e.previous;if(t===sl)e.previous=n;else for(let r in n)t[r]=n[r];e.current=null,this.ngOnChanges(n)}}function ZQ(e,n,t,r){const i=this.declaredInputs[t],a=lP(e)||function KQ(e,n){return e[sP]=n}(e,{previous:sl,current:null}),o=a.current||(a.current={}),s=a.previous,l=s[i];o[i]=new XQ(l&&l.currentValue,n,s===sl),e[r]=n}on.ngInherit=!0;const sP="__ngSimpleChanges__";function lP(e){return e[sP]||null}function Si(e){for(;Array.isArray(e);)e=e[0];return e}function sv(e,n){return Si(n[e])}function Ua(e,n){return Si(n[e.index])}function hP(e,n){return e.data[n]}function Ga(e,n){const t=n[e];return Ha(t)?t:t[0]}function lv(e){return 64==(64&e[2])}function Ql(e,n){return null==n?null:e[n]}function dP(e){e[18]=0}function Ow(e,n){e[5]+=n;let t=e,r=e[3];for(;null!==r&&(1===n&&1===t[5]||-1===n&&0===t[5]);)r[5]+=n,t=r,r=r[3]}const mt={lFrame:wP(null),bindingsEnabled:!0};function pP(){return mt.bindingsEnabled}function Q(){return mt.lFrame.lView}function nn(){return mt.lFrame.tView}function kt(e){return mt.lFrame.contextLView=e,e[8]}function Ft(e){return mt.lFrame.contextLView=null,e}function xi(){let e=gP();for(;null!==e&&64===e.type;)e=e.parent;return e}function gP(){return mt.lFrame.currentTNode}function Ms(e,n){const t=mt.lFrame;t.currentTNode=e,t.isParent=n}function Rw(){return mt.lFrame.isParent}function Lw(){mt.lFrame.isParent=!1}function Yi(){const e=mt.lFrame;let n=e.bindingRootIndex;return-1===n&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}function cd(){return mt.lFrame.bindingIndex++}function hl(e){const n=mt.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,t}function uJ(e,n){const t=mt.lFrame;t.bindingIndex=t.bindingRootIndex=e,kw(n)}function kw(e){mt.lFrame.currentDirectiveIndex=e}function yP(){return mt.lFrame.currentQueryIndex}function zw(e){mt.lFrame.currentQueryIndex=e}function dJ(e){const n=e[1];return 2===n.type?n.declTNode:1===n.type?e[6]:null}function bP(e,n,t){if(t&tt.SkipSelf){let i=n,a=e;for(;!(i=i.parent,null!==i||t&tt.Host||(i=dJ(a),null===i||(a=a[15],10&i.type))););if(null===i)return!1;n=i,e=a}const r=mt.lFrame=CP();return r.currentTNode=n,r.lView=e,!0}function Bw(e){const n=CP(),t=e[1];mt.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function CP(){const e=mt.lFrame,n=null===e?null:e.child;return null===n?wP(e):n}function wP(e){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=n),n}function SP(){const e=mt.lFrame;return mt.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const xP=SP;function Vw(){const e=SP();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Xi(){return mt.lFrame.selectedIndex}function Kc(e){mt.lFrame.selectedIndex=e}function fr(){const e=mt.lFrame;return hP(e.tView,e.selectedIndex)}function cv(e,n){for(let t=n.directiveStart,r=n.directiveEnd;t<r;t++){const a=e.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:s,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=a;o&&(e.contentHooks||(e.contentHooks=[])).push(-t,o),s&&((e.contentHooks||(e.contentHooks=[])).push(t,s),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(t,s)),l&&(e.viewHooks||(e.viewHooks=[])).push(-t,l),c&&((e.viewHooks||(e.viewHooks=[])).push(t,c),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(t,c)),null!=u&&(e.destroyHooks||(e.destroyHooks=[])).push(t,u)}}function uv(e,n,t){MP(e,n,3,t)}function hv(e,n,t,r){(3&e[2])===t&&MP(e,n,t,r)}function Hw(e,n){let t=e[2];(3&t)===n&&(t&=2047,t+=1,e[2]=t)}function MP(e,n,t,r){const a=r??-1,o=n.length-1;let s=0;for(let l=void 0!==r?65535&e[18]:0;l<o;l++)if("number"==typeof n[l+1]){if(s=n[l],null!=r&&s>=r)break}else n[l]<0&&(e[18]+=65536),(s<a||-1==a)&&(CJ(e,t,n,l),e[18]=(4294901760&e[18])+l+2),l++}function CJ(e,n,t,r){const i=t[r]<0,a=t[r+1],s=e[i?-t[r]:t[r]];if(i){if(e[2]>>11<e[18]>>16&&(3&e[2])===n){e[2]+=2048;try{a.call(s)}finally{}}}else try{a.call(s)}finally{}}class Zp{constructor(n,t,r){this.factory=n,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function Gw(e,n,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const a=t[r++],o=t[r++],s=t[r++];e.setAttribute(n,o,s,a)}else{const a=i,o=t[++r];DP(a)?e.setProperty(n,a,o):e.setAttribute(n,a,o),r++}}return r}function TP(e){return 3===e||4===e||6===e}function DP(e){return 64===e.charCodeAt(0)}function Kp(e,n){if(null!==n&&0!==n.length)if(null===e||0===e.length)e=n.slice();else{let t=-1;for(let r=0;r<n.length;r++){const i=n[r];"number"==typeof i?t=i:0===t||EP(e,t,i,null,-1===t||2===t?n[++r]:null)}}return e}function EP(e,n,t,r,i){let a=0,o=e.length;if(-1===n)o=-1;else for(;a<e.length;){const s=e[a++];if("number"==typeof s){if(s===n){o=-1;break}if(s>n){o=a-1;break}}}for(;a<e.length;){const s=e[a];if("number"==typeof s)break;if(s===t){if(null===r)return void(null!==i&&(e[a+1]=i));if(r===e[a+1])return void(e[a+2]=i)}a++,null!==r&&a++,null!==i&&a++}-1!==o&&(e.splice(o,0,n),a=o+1),e.splice(a++,0,t),null!==r&&e.splice(a++,0,r),null!==i&&e.splice(a++,0,i)}function AP(e){return-1!==e}function dv(e){return 32767&e}function fv(e,n){let t=function MJ(e){return e>>16}(e),r=n;for(;t>0;)r=r[15],t--;return r}let Ww=!0;function pv(e){const n=Ww;return Ww=e,n}let TJ=0;const Ts={};function gv(e,n){const t=PP(e,n);if(-1!==t)return t;const r=n[1];r.firstCreatePass&&(e.injectorIndex=n.length,jw(r.data,e),jw(n,null),jw(r.blueprint,null));const i=$w(e,n),a=e.injectorIndex;if(AP(i)){const o=dv(i),s=fv(i,n),l=s[1].data;for(let c=0;c<8;c++)n[a+c]=s[o+c]|l[o+c]}return n[a+8]=i,a}function jw(e,n){e.push(0,0,0,0,0,0,0,0,n)}function PP(e,n){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===n[e.injectorIndex+8]?-1:e.injectorIndex}function $w(e,n){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let t=0,r=null,i=n;for(;null!==i;){if(r=BP(i),null===r)return-1;if(t++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function Yw(e,n,t){!function DJ(e,n,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Wp)&&(r=t[Wp]),null==r&&(r=t[Wp]=TJ++);const i=255&r;n.data[e+(i>>5)]|=1<<i}(e,n,t)}function OP(e,n,t){if(t&tt.Optional||void 0!==e)return e;Zm()}function RP(e,n,t,r){if(t&tt.Optional&&void 0===r&&(r=null),0==(t&(tt.Self|tt.Host))){const i=e[9],a=fo(void 0);try{return i?i.get(n,r,t&tt.Optional):XI(n,r,t&tt.Optional)}finally{fo(a)}}return OP(r,0,t)}function LP(e,n,t,r=tt.Default,i){if(null!==e){if(1024&n[2]){const o=function PJ(e,n,t,r,i){let a=e,o=n;for(;null!==a&&null!==o&&1024&o[2]&&!(256&o[2]);){const s=kP(a,o,t,r|tt.Self,Ts);if(s!==Ts)return s;let l=a.parent;if(!l){const c=o[21];if(c){const u=c.get(t,Ts,r);if(u!==Ts)return u}l=BP(o),o=o[15]}a=l}return i}(e,n,t,r,Ts);if(o!==Ts)return o}const a=kP(e,n,t,r,Ts);if(a!==Ts)return a}return RP(n,t,r,i)}function kP(e,n,t,r,i){const a=function NJ(e){if("string"==typeof e)return e.charCodeAt(0)||0;const n=e.hasOwnProperty(Wp)?e[Wp]:void 0;return"number"==typeof n?n>=0?255&n:IJ:n}(t);if("function"==typeof a){if(!bP(n,e,r))return r&tt.Host?OP(i,0,r):RP(n,t,r,i);try{const o=a(r);if(null!=o||r&tt.Optional)return o;Zm()}finally{xP()}}else if("number"==typeof a){let o=null,s=PP(e,n),l=-1,c=r&tt.Host?n[16][6]:null;for((-1===s||r&tt.SkipSelf)&&(l=-1===s?$w(e,n):n[s+8],-1!==l&&zP(r,!1)?(o=n[1],s=dv(l),n=fv(l,n)):s=-1);-1!==s;){const u=n[1];if(FP(a,s,u.data)){const h=AJ(s,n,t,o,r,c);if(h!==Ts)return h}l=n[s+8],-1!==l&&zP(r,n[1].data[s+8]===c)&&FP(a,s,n)?(o=u,s=dv(l),n=fv(l,n)):s=-1}}return i}function AJ(e,n,t,r,i,a){const o=n[1],s=o.data[e+8],u=mv(s,o,t,null==r?Xp(s)&&Ww:r!=o&&0!=(3&s.type),i&tt.Host&&a===s);return null!==u?Qc(n,o,u,s):Ts}function mv(e,n,t,r,i){const a=e.providerIndexes,o=n.data,s=1048575&a,l=e.directiveStart,u=a>>20,d=i?s+u:e.directiveEnd;for(let f=r?s:s+u;f<d;f++){const p=o[f];if(f<l&&t===p||f>=l&&p.type===t)return f}if(i){const f=o[l];if(f&&Yo(f)&&f.type===t)return l}return null}function Qc(e,n,t,r){let i=e[t];const a=n.data;if(function wJ(e){return e instanceof Zp}(i)){const o=i;o.resolving&&function MQ(e,n){const t=n?`. Dependency path: ${n.join(" > ")} > ${e}`:"";throw new X(-200,`Circular dependency in DI detected for ${e}${t}`)}(function yn(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():gt(e)}(a[t]));const s=pv(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?fo(o.injectImpl):null;bP(e,r,tt.Default);try{i=e[t]=o.factory(void 0,a,e,r),n.firstCreatePass&&t>=r.directiveStart&&function bJ(e,n,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:a}=n.type.prototype;if(r){const o=oP(n);(t.preOrderHooks||(t.preOrderHooks=[])).push(e,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(e,o)}i&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-e,i),a&&((t.preOrderHooks||(t.preOrderHooks=[])).push(e,a),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(e,a))}(t,a[t],n)}finally{null!==l&&fo(l),pv(s),o.resolving=!1,xP()}}return i}function FP(e,n,t){return!!(t[n+(e>>5)]&1<<e)}function zP(e,n){return!(e&tt.Self||e&tt.Host&&n)}class hd{constructor(n,t){this._tNode=n,this._lView=t}get(n,t,r){return LP(this._tNode,this._lView,n,ev(r),t)}}function IJ(){return new hd(xi(),Q())}function ot(e){return Kl(()=>{const n=e.prototype.constructor,t=n[ll]||Xw(n),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const a=i[ll]||Xw(i);if(a&&a!==t)return a;i=Object.getPrototypeOf(i)}return a=>new a})}function Xw(e){return Cw(e)?()=>{const n=Xw(et(e));return n&&n()}:Zc(e)}function BP(e){const n=e[1],t=n.type;return 2===t?n.declTNode:1===t?e[6]:null}const fd="__parameters__";function gd(e,n,t){return Kl(()=>{const r=function qw(e){return function(...t){if(e){const r=e(...t);for(const i in r)this[i]=r[i]}}}(n);function i(...a){if(this instanceof i)return r.apply(this,a),this;const o=new i(...a);return s.annotation=o,s;function s(l,c,u){const h=l.hasOwnProperty(fd)?l[fd]:Object.defineProperty(l,fd,{value:[]})[fd];for(;h.length<=u;)h.push(null);return(h[u]=h[u]||[]).push(o),l}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}class te{constructor(n,t){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=q({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function eu(e,n){e.forEach(t=>Array.isArray(t)?eu(t,n):n(t))}function HP(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function vv(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function e0(e,n){const t=[];for(let r=0;r<e;r++)t.push(n);return t}function Wa(e,n,t){let r=md(e,n);return r>=0?e[1|r]=t:(r=~r,function kJ(e,n,t,r){let i=e.length;if(i==n)e.push(t,r);else if(1===i)e.push(r,e[0]),e[0]=t;else{for(i--,e.push(e[i-1],e[i]);i>n;)e[i]=e[i-2],i--;e[n]=t,e[n+1]=r}}(e,r,n,t)),r}function Kw(e,n){const t=md(e,n);if(t>=0)return e[1|t]}function md(e,n){return function UP(e,n,t){let r=0,i=e.length>>t;for(;i!==r;){const a=r+(i-r>>1),o=e[a<<t];if(n===o)return a<<t;o>n?i=a:r=a+1}return~(i<<t)}(e,n,1)}const yv=Gp(gd("Inject",e=>({token:e})),-1),vd=Gp(gd("Optional"),8),t0=Gp(gd("SkipSelf"),4);var _a=(()=>((_a=_a||{})[_a.Important=1]="Important",_a[_a.DashCase=2]="DashCase",_a))();const nS=new Map;let iee=0;const iS="__ngContext__";function Pi(e,n){Ha(n)?(e[iS]=n[20],function oee(e){nS.set(e[20],e)}(n)):e[iS]=n}function oS(e,n){return undefined(e,n)}function o0(e){const n=e[3];return $o(n)?n[3]:n}function sS(e){return lO(e[13])}function lS(e){return lO(e[4])}function lO(e){for(;null!==e&&!$o(e);)e=e[4];return e}function yd(e,n,t,r,i){if(null!=r){let a,o=!1;$o(r)?a=r:Ha(r)&&(o=!0,r=r[0]);const s=Si(r);0===e&&null!==t?null==i?pO(n,t,s):tu(n,t,s,i||null,!0):1===e&&null!==t?tu(n,t,s,i||null,!0):2===e?function gS(e,n,t){const r=wv(e,n);r&&function Tee(e,n,t,r){e.removeChild(n,t,r)}(e,r,n,t)}(n,s,o):3===e&&n.destroyNode(s),null!=a&&function Aee(e,n,t,r,i){const a=t[7];a!==Si(t)&&yd(n,e,r,a,i);for(let s=10;s<t.length;s++){const l=t[s];s0(l[1],l,e,n,r,a)}}(n,e,a,t,i)}}function uS(e,n,t){return e.createElement(n,t)}function uO(e,n){const t=e[9],r=t.indexOf(n),i=n[3];512&n[2]&&(n[2]&=-513,Ow(i,-1)),t.splice(r,1)}function hS(e,n){if(e.length<=10)return;const t=10+n,r=e[t];if(r){const i=r[17];null!==i&&i!==e&&uO(i,r),n>0&&(e[t-1][4]=r[4]);const a=vv(e,10+n);!function _ee(e,n){s0(e,n,n[11],2,null,null),n[0]=null,n[6]=null}(r[1],r);const o=a[19];null!==o&&o.detachView(a[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function hO(e,n){if(!(128&n[2])){const t=n[11];t.destroyNode&&s0(e,n,t,3,null,null),function Cee(e){let n=e[13];if(!n)return dS(e[1],e);for(;n;){let t=null;if(Ha(n))t=n[13];else{const r=n[10];r&&(t=r)}if(!t){for(;n&&!n[4]&&n!==e;)Ha(n)&&dS(n[1],n),n=n[3];null===n&&(n=e),Ha(n)&&dS(n[1],n),t=n&&n[4]}n=t}}(n)}}function dS(e,n){if(!(128&n[2])){n[2]&=-65,n[2]|=128,function Mee(e,n){let t;if(null!=e&&null!=(t=e.destroyHooks))for(let r=0;r<t.length;r+=2){const i=n[t[r]];if(!(i instanceof Zp)){const a=t[r+1];if(Array.isArray(a))for(let o=0;o<a.length;o+=2){const s=i[a[o]],l=a[o+1];try{l.call(s)}finally{}}else try{a.call(i)}finally{}}}}(e,n),function xee(e,n){const t=e.cleanup,r=n[7];let i=-1;if(null!==t)for(let a=0;a<t.length-1;a+=2)if("string"==typeof t[a]){const o=t[a+3];o>=0?r[i=o]():r[i=-o].unsubscribe(),a+=2}else{const o=r[i=t[a+1]];t[a].call(o)}if(null!==r){for(let a=i+1;a<r.length;a++)(0,r[a])();n[7]=null}}(e,n),1===n[1].type&&n[11].destroy();const t=n[17];if(null!==t&&$o(n[3])){t!==n[3]&&uO(t,n);const r=n[19];null!==r&&r.detachView(e)}!function see(e){nS.delete(e[20])}(n)}}function dO(e,n,t){return function fO(e,n,t){let r=n;for(;null!==r&&40&r.type;)r=(n=r).parent;if(null===r)return t[0];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:a}=e.data[r.directiveStart+i];if(a===Wo.None||a===Wo.Emulated)return null}return Ua(r,t)}}(e,n.parent,t)}function tu(e,n,t,r,i){e.insertBefore(n,t,r,i)}function pO(e,n,t){e.appendChild(n,t)}function gO(e,n,t,r,i){null!==r?tu(e,n,t,r,i):pO(e,n,t)}function wv(e,n){return e.parentNode(n)}function mO(e,n,t){return _O(e,n,t)}let Mv,_S,Tv,_O=function vO(e,n,t){return 40&e.type?Ua(e,t):null};function Sv(e,n,t,r){const i=dO(e,r,n),a=n[11],s=mO(r.parent||n[6],r,n);if(null!=i)if(Array.isArray(t))for(let l=0;l<t.length;l++)gO(a,i,t[l],s,!1);else gO(a,i,t,s,!1)}function xv(e,n){if(null!==n){const t=n.type;if(3&t)return Ua(n,e);if(4&t)return pS(-1,e[n.index]);if(8&t){const r=n.child;if(null!==r)return xv(e,r);{const i=e[n.index];return $o(i)?pS(-1,i):Si(i)}}if(32&t)return oS(n,e)()||Si(e[n.index]);{const r=bO(e,n);return null!==r?Array.isArray(r)?r[0]:xv(o0(e[16]),r):xv(e,n.next)}}return null}function bO(e,n){return null!==n?e[16][6].projection[n.projection]:null}function pS(e,n){const t=10+e+1;if(t<n.length){const r=n[t],i=r[1].firstChild;if(null!==i)return xv(r,i)}return n[7]}function mS(e,n,t,r,i,a,o){for(;null!=t;){const s=r[t.index],l=t.type;if(o&&0===n&&(s&&Pi(Si(s),r),t.flags|=2),32!=(32&t.flags))if(8&l)mS(e,n,t.child,r,i,a,!1),yd(n,e,i,s,a);else if(32&l){const c=oS(t,r);let u;for(;u=c();)yd(n,e,i,u,a);yd(n,e,i,s,a)}else 16&l?CO(e,n,r,t,i,a):yd(n,e,i,s,a);t=o?t.projectionNext:t.next}}function s0(e,n,t,r,i,a){mS(t,r,e.firstChild,n,i,a,!1)}function CO(e,n,t,r,i,a){const o=t[16],l=o[6].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)yd(n,e,i,l[c],a);else mS(e,n,l,o[3],i,a,!0)}function wO(e,n,t){""===t?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t)}function SO(e,n,t){const{mergedAttrs:r,classes:i,styles:a}=t;null!==r&&Gw(e,n,r),null!==i&&wO(e,n,i),null!==a&&function Iee(e,n,t){e.setAttribute(n,"style",t)}(e,n,a)}function nu(e){return function vS(){if(void 0===Mv&&(Mv=null,Un.trustedTypes))try{Mv=Un.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Mv}()?.createHTML(e)||e}function yS(){if(void 0===Tv&&(Tv=null,Un.trustedTypes))try{Tv=Un.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Tv}function MO(e){return yS()?.createHTML(e)||e}function DO(e){return yS()?.createScriptURL(e)||e}class ru{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Xm})`}}class kee extends ru{getTypeName(){return"HTML"}}class Fee extends ru{getTypeName(){return"Style"}}class zee extends ru{getTypeName(){return"Script"}}class Bee extends ru{getTypeName(){return"URL"}}class Vee extends ru{getTypeName(){return"ResourceURL"}}function ja(e){return e instanceof ru?e.changingThisBreaksApplicationSecurity:e}function Ds(e,n){const t=function Hee(e){return e instanceof ru&&e.getTypeName()||null}(e);if(null!=t&&t!==n){if("ResourceURL"===t&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${t} (see ${Xm})`)}return t===n}class Yee{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const t=(new window.DOMParser).parseFromString(nu(n),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(n):(t.removeChild(t.firstChild),t)}catch{return null}}}class Xee{constructor(n){if(this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const r=this.inertDocument.createElement("body");t.appendChild(r)}}getInertBodyElement(n){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=nu(n),t;const r=this.inertDocument.createElement("body");return r.innerHTML=nu(n),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(n){const t=n.attributes;for(let i=t.length-1;0<i;i--){const o=t.item(i).name;("xmlns:ns1"===o||0===o.indexOf("ns1:"))&&n.removeAttribute(o)}let r=n.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const Zee=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Dv(e){return(e=String(e)).match(Zee)?e:"unsafe:"+e}function dl(e){const n={};for(const t of e.split(","))n[t]=!0;return n}function l0(...e){const n={};for(const t of e)for(const r in t)t.hasOwnProperty(r)&&(n[r]=!0);return n}const AO=dl("area,br,col,hr,img,wbr"),NO=dl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),IO=dl("rp,rt"),bS=l0(AO,l0(NO,dl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),l0(IO,dl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),l0(IO,NO)),CS=dl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),PO=l0(CS,dl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),dl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Kee=dl("script,style,template");class Qee{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let t=n.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let i=this.checkClobberedElement(t,t.nextSibling);if(i){t=i;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(n){const t=n.nodeName.toLowerCase();if(!bS.hasOwnProperty(t))return this.sanitizedSomething=!0,!Kee.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=n.attributes;for(let i=0;i<r.length;i++){const a=r.item(i),o=a.name,s=o.toLowerCase();if(!PO.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let l=a.value;CS[s]&&(l=Dv(l)),this.buf.push(" ",o,'="',OO(l),'"')}return this.buf.push(">"),!0}endElement(n){const t=n.nodeName.toLowerCase();bS.hasOwnProperty(t)&&!AO.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(n){this.buf.push(OO(n))}checkClobberedElement(n,t){if(t&&(n.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return t}}const Jee=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ete=/([^\#-~ |!])/g;function OO(e){return e.replace(/&/g,"&amp;").replace(Jee,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(ete,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ev;function RO(e,n){let t=null;try{Ev=Ev||function EO(e){const n=new Xee(e);return function qee(){try{return!!(new window.DOMParser).parseFromString(nu(""),"text/html")}catch{return!1}}()?new Yee(n):n}(e);let r=n?String(n):"";t=Ev.getInertBodyElement(r);let i=5,a=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=a,a=t.innerHTML,t=Ev.getInertBodyElement(r)}while(r!==a);return nu((new Qee).sanitizeChildren(wS(t)||t))}finally{if(t){const r=wS(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function wS(e){return"content"in e&&function tte(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Gn=(()=>((Gn=Gn||{})[Gn.NONE=0]="NONE",Gn[Gn.HTML=1]="HTML",Gn[Gn.STYLE=2]="STYLE",Gn[Gn.SCRIPT=3]="SCRIPT",Gn[Gn.URL=4]="URL",Gn[Gn.RESOURCE_URL=5]="RESOURCE_URL",Gn))();function LO(e){const n=c0();return n?MO(n.sanitize(Gn.HTML,e)||""):Ds(e,"HTML")?MO(ja(e)):RO(function xO(){return void 0!==_S?_S:typeof document<"u"?document:void 0}(),gt(e))}function bd(e){const n=c0();return n?n.sanitize(Gn.URL,e)||"":Ds(e,"URL")?ja(e):Dv(gt(e))}function kO(e){const n=c0();if(n)return DO(n.sanitize(Gn.RESOURCE_URL,e)||"");if(Ds(e,"ResourceURL"))return DO(ja(e));throw new X(904,!1)}function c0(){const e=Q();return e&&e[12]}const Av=new te("ENVIRONMENT_INITIALIZER"),zO=new te("INJECTOR",-1),BO=new te("INJECTOR_DEF_TYPES");class VO{get(n,t=Hp){if(t===Hp){const r=new Error(`NullInjectorError: No provider for ${Fn(n)}!`);throw r.name="NullInjectorError",r}return t}}function lte(...e){return{\u0275providers:HO(0,e),\u0275fromNgModule:!0}}function HO(e,...n){const t=[],r=new Set;let i;return eu(n,a=>{const o=a;SS(o,t,[],r)&&(i||(i=[]),i.push(o))}),void 0!==i&&UO(i,t),t}function UO(e,n){for(let t=0;t<e.length;t++){const{providers:i}=e[t];xS(i,a=>{n.push(a)})}}function SS(e,n,t,r){if(!(e=et(e)))return!1;let i=null,a=$I(e);const o=!a&&Cn(e);if(a||o){if(o&&!o.standalone)return!1;i=e}else{const l=e.ngModule;if(a=$I(l),!a)return!1;i=l}const s=r.has(i);if(o){if(s)return!1;if(r.add(i),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of l)SS(c,n,t,r)}}else{if(!a)return!1;{if(null!=a.imports&&!s){let c;r.add(i);try{eu(a.imports,u=>{SS(u,n,t,r)&&(c||(c=[]),c.push(u))})}finally{}void 0!==c&&UO(c,n)}if(!s){const c=Zc(i)||(()=>new i);n.push({provide:i,useFactory:c,deps:dn},{provide:BO,useValue:i,multi:!0},{provide:Av,useValue:()=>G(i),multi:!0})}const l=a.providers;null==l||s||xS(l,u=>{n.push(u)})}}return i!==e&&void 0!==e.providers}function xS(e,n){for(let t of e)ww(t)&&(t=t.\u0275providers),Array.isArray(t)?xS(t,n):n(t)}const cte=kn({provide:String,useValue:kn});function MS(e){return null!==e&&"object"==typeof e&&cte in e}function iu(e){return"function"==typeof e}const TS=new te("Set Injector scope."),Nv={},hte={};let DS;function Iv(){return void 0===DS&&(DS=new VO),DS}class Es{}class jO extends Es{constructor(n,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,AS(n,o=>this.processProvider(o)),this.records.set(zO,Cd(void 0,this)),i.has("environment")&&this.records.set(Es,Cd(void 0,this));const a=this.records.get(TS);null!=a&&"string"==typeof a.value&&this.scopes.add(a.value),this.injectorDefTypes=new Set(this.get(BO.multi,dn,tt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();for(const n of this._onDestroyHooks)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(n){this._onDestroyHooks.push(n)}runInContext(n){this.assertNotDestroyed();const t=nd(this),r=fo(void 0);try{return n()}finally{nd(t),fo(r)}}get(n,t=Hp,r=tt.Default){this.assertNotDestroyed(),r=ev(r);const i=nd(this),a=fo(void 0);try{if(!(r&tt.SkipSelf)){let s=this.records.get(n);if(void 0===s){const l=function mte(e){return"function"==typeof e||"object"==typeof e&&e instanceof te}(n)&&Km(n);s=l&&this.injectableDefInScope(l)?Cd(ES(n),Nv):null,this.records.set(n,s)}if(null!=s)return this.hydrate(n,s)}return(r&tt.Self?Iv():this.parent).get(n,t=r&tt.Optional&&t===Hp?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[Jm]=o[Jm]||[]).unshift(Fn(n)),i)throw o;return function VQ(e,n,t,r){const i=e[Jm];throw n[qI]&&i.unshift(n[qI]),e.message=function HQ(e,n,t,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let i=Fn(n);if(Array.isArray(n))i=n.map(Fn).join(" -> ");else if("object"==typeof n){let a=[];for(let o in n)if(n.hasOwnProperty(o)){let s=n[o];a.push(o+":"+("string"==typeof s?JSON.stringify(s):Fn(s)))}i=`{${a.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${e.replace(kQ,"\n  ")}`}("\n"+e.message,i,t,r),e.ngTokenPath=i,e[Jm]=null,e}(o,n,"R3InjectorError",this.source)}throw o}finally{fo(a),nd(i)}}resolveInjectorInitializers(){const n=nd(this),t=fo(void 0);try{const r=this.get(Av.multi,dn,tt.Self);for(const i of r)i()}finally{nd(n),fo(t)}}toString(){const n=[],t=this.records;for(const r of t.keys())n.push(Fn(r));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new X(205,!1)}processProvider(n){let t=iu(n=et(n))?n:et(n&&n.provide);const r=function fte(e){return MS(e)?Cd(void 0,e.useValue):Cd($O(e),Nv)}(n);if(iu(n)||!0!==n.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=Cd(void 0,Nv,!0),i.factory=()=>Tw(i.multi),this.records.set(t,i)),t=n,i.multi.push(n)}this.records.set(t,r)}hydrate(n,t){return t.value===Nv&&(t.value=hte,t.value=t.factory()),"object"==typeof t.value&&t.value&&function gte(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(n){if(!n.providedIn)return!1;const t=et(n.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function ES(e){const n=Km(e),t=null!==n?n.factory:Zc(e);if(null!==t)return t;if(e instanceof te)throw new X(204,!1);if(e instanceof Function)return function dte(e){const n=e.length;if(n>0)throw e0(n,"?"),new X(204,!1);const t=function IQ(e){const n=e&&(e[Qm]||e[YI]);if(n){const t=function PQ(e){if(e.hasOwnProperty("name"))return e.name;const n=(""+e).match(/^function\s*([^\s(]+)/);return null===n?"":n[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),n}return null}(e);return null!==t?()=>t.factory(e):()=>new e}(e);throw new X(204,!1)}function $O(e,n,t){let r;if(iu(e)){const i=et(e);return Zc(i)||ES(i)}if(MS(e))r=()=>et(e.useValue);else if(function WO(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...Tw(e.deps||[]));else if(function GO(e){return!(!e||!e.useExisting)}(e))r=()=>G(et(e.useExisting));else{const i=et(e&&(e.useClass||e.provide));if(!function pte(e){return!!e.deps}(e))return Zc(i)||ES(i);r=()=>new i(...Tw(e.deps))}return r}function Cd(e,n,t=!1){return{factory:e,value:n,multi:t?[]:void 0}}function AS(e,n){for(const t of e)Array.isArray(t)?AS(t,n):t&&ww(t)?AS(t.\u0275providers,n):n(t)}class vte{}class YO{}class yte{resolveComponentFactory(n){throw function _te(e){const n=Error(`No component factory found for ${Fn(e)}. Did you add it to @NgModule.entryComponents?`);return n.ngComponent=e,n}(n)}}let au=(()=>{class e{}return e.NULL=new yte,e})();function bte(){return wd(xi(),Q())}function wd(e,n){return new He(Ua(e,n))}let He=(()=>{class e{constructor(t){this.nativeElement=t}}return e.__NG_ELEMENT_ID__=bte,e})();function Cte(e){return e instanceof He?e.nativeElement:e}class u0{}let Ir=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>function wte(){const e=Q(),t=Ga(xi().index,e);return(Ha(t)?t:e)[11]}(),e})(),Ste=(()=>{class e{}return e.\u0275prov=q({token:e,providedIn:"root",factory:()=>null}),e})();class h0{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const xte=new h0("15.0.4"),NS={};function PS(e){return e.ngOriginalError}class Sd{constructor(){this._console=console}handleError(n){const t=this._findOriginalError(n);this._console.error("ERROR",n),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(n){let t=n&&PS(n);for(;t&&PS(t);)t=PS(t);return t||null}}function OS(e){return e.ownerDocument.defaultView}function fl(e){return e instanceof Function?e():e}function ZO(e,n,t){let r=e.length;for(;;){const i=e.indexOf(n,t);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const a=n.length;if(i+a===r||e.charCodeAt(i+a)<=32)return i}t=i+1}}const KO="ng-template";function Rte(e,n,t){let r=0;for(;r<e.length;){let i=e[r++];if(t&&"class"===i){if(i=e[r],-1!==ZO(i.toLowerCase(),n,0))return!0}else if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===n)return!0;return!1}}return!1}function QO(e){return 4===e.type&&e.value!==KO}function Lte(e,n,t){return n===(4!==e.type||t?e.value:KO)}function kte(e,n,t){let r=4;const i=e.attrs||[],a=function Bte(e){for(let n=0;n<e.length;n++)if(TP(e[n]))return n;return e.length}(i);let o=!1;for(let s=0;s<n.length;s++){const l=n[s];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!Lte(e,l,t)||""===l&&1===n.length){if(Xo(r))return!1;o=!0}}else{const c=8&r?l:n[++s];if(8&r&&null!==e.attrs){if(!Rte(e.attrs,c,t)){if(Xo(r))return!1;o=!0}continue}const h=Fte(8&r?"class":l,i,QO(e),t);if(-1===h){if(Xo(r))return!1;o=!0;continue}if(""!==c){let d;d=h>a?"":i[h+1].toLowerCase();const f=8&r?d:null;if(f&&-1!==ZO(f,c,0)||2&r&&c!==d){if(Xo(r))return!1;o=!0}}}}else{if(!o&&!Xo(r)&&!Xo(l))return!1;if(o&&Xo(l))continue;o=!1,r=l|1&r}}return Xo(r)||o}function Xo(e){return 0==(1&e)}function Fte(e,n,t,r){if(null===n)return-1;let i=0;if(r||!t){let a=!1;for(;i<n.length;){const o=n[i];if(o===e)return i;if(3===o||6===o)a=!0;else{if(1===o||2===o){let s=n[++i];for(;"string"==typeof s;)s=n[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=a?1:2}return-1}return function Vte(e,n){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){const r=e[t];if("number"==typeof r)return-1;if(r===n)return t;t++}return-1}(n,e)}function JO(e,n,t=!1){for(let r=0;r<n.length;r++)if(kte(e,n[r],t))return!0;return!1}function Hte(e,n){e:for(let t=0;t<n.length;t++){const r=n[t];if(e.length===r.length){for(let i=0;i<e.length;i++)if(e[i]!==r[i])continue e;return!0}}return!1}function eR(e,n){return e?":not("+n.trim()+")":n}function Ute(e){let n=e[0],t=1,r=2,i="",a=!1;for(;t<e.length;){let o=e[t];if("string"==typeof o)if(2&r){const s=e[++t];i+="["+o+(s.length>0?'="'+s+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Xo(o)&&(n+=eR(a,i),i=""),r=o,a=a||!Xo(r);t++}return""!==i&&(n+=eR(a,i)),n}const vt={};function k(e){tR(nn(),Q(),Xi()+e,!1)}function tR(e,n,t,r){if(!r)if(3==(3&n[2])){const a=e.preOrderCheckHooks;null!==a&&uv(n,a,t)}else{const a=e.preOrderHooks;null!==a&&hv(n,a,0,t)}Kc(t)}function aR(e,n=null,t=null,r){const i=oR(e,n,t,r);return i.resolveInjectorInitializers(),i}function oR(e,n=null,t=null,r,i=new Set){const a=[t||dn,lte(e)];return r=r||("object"==typeof e?void 0:Fn(e)),new jO(a,n||Iv(),r||null,i)}let ba=(()=>{class e{static create(t,r){if(Array.isArray(t))return aR({name:""},r,t,"");{const i=t.name??"";return aR({name:i},t.parent,t.providers,i)}}}return e.THROW_IF_NOT_FOUND=Hp,e.NULL=new VO,e.\u0275prov=q({token:e,providedIn:"any",factory:()=>G(zO)}),e.__NG_ELEMENT_ID__=-1,e})();function D(e,n=tt.Default){const t=Q();return null===t?G(e,n):LP(xi(),t,et(e),n)}function pR(e,n){const t=e.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const i=t[r],a=t[r+1];if(-1!==a){const o=e.data[a];zw(i),o.contentQueries(2,n[a],a)}}}function Ov(e,n,t,r,i,a,o,s,l,c,u){const h=n.blueprint.slice();return h[0]=i,h[2]=76|r,(null!==u||e&&1024&e[2])&&(h[2]|=1024),dP(h),h[3]=h[15]=e,h[8]=t,h[10]=o||e&&e[10],h[11]=s||e&&e[11],h[12]=l||e&&e[12]||null,h[9]=c||e&&e[9]||null,h[6]=a,h[20]=function aee(){return iee++}(),h[21]=u,h[16]=2==n.type?e[16]:h,h}function Td(e,n,t,r,i){let a=e.data[n];if(null===a)a=function zS(e,n,t,r,i){const a=gP(),o=Rw(),l=e.data[n]=function pne(e,n,t,r,i,a){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:n?n.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:a,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?a:a&&a.parent,t,n,r,i);return null===e.firstChild&&(e.firstChild=l),null!==a&&(o?null==a.child&&null!==l.parent&&(a.child=l):null===a.next&&(a.next=l)),l}(e,n,t,r,i),function cJ(){return mt.lFrame.inI18n}()&&(a.flags|=32);else if(64&a.type){a.type=t,a.value=r,a.attrs=i;const o=function qp(){const e=mt.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}();a.injectorIndex=null===o?-1:o.injectorIndex}return Ms(a,!0),a}function d0(e,n,t,r){if(0===t)return-1;const i=n.length;for(let a=0;a<t;a++)n.push(r),e.blueprint.push(r),e.data.push(null);return i}function BS(e,n,t){Bw(n);try{const r=e.viewQuery;null!==r&&qS(1,r,t);const i=e.template;null!==i&&gR(e,n,i,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&pR(e,n),e.staticViewQueries&&qS(2,e.viewQuery,t);const a=e.components;null!==a&&function hne(e,n){for(let t=0;t<n.length;t++)One(e,n[t])}(n,a)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{n[2]&=-5,Vw()}}function Rv(e,n,t,r){const i=n[2];if(128!=(128&i)){Bw(n);try{dP(n),function vP(e){return mt.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==t&&gR(e,n,t,2,r);const o=3==(3&i);if(o){const c=e.preOrderCheckHooks;null!==c&&uv(n,c,null)}else{const c=e.preOrderHooks;null!==c&&hv(n,c,0,null),Hw(n,0)}if(function Ine(e){for(let n=sS(e);null!==n;n=lS(n)){if(!n[2])continue;const t=n[9];for(let r=0;r<t.length;r++){const i=t[r],a=i[3];0==(512&i[2])&&Ow(a,1),i[2]|=512}}}(n),function Nne(e){for(let n=sS(e);null!==n;n=lS(n))for(let t=10;t<n.length;t++){const r=n[t],i=r[1];lv(r)&&Rv(i,r,i.template,r[8])}}(n),null!==e.contentQueries&&pR(e,n),o){const c=e.contentCheckHooks;null!==c&&uv(n,c)}else{const c=e.contentHooks;null!==c&&hv(n,c,1),Hw(n,1)}!function cne(e,n){const t=e.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)Kc(~i);else{const a=i,o=t[++r],s=t[++r];uJ(o,a),s(2,n[a])}}}finally{Kc(-1)}}(e,n);const s=e.components;null!==s&&function une(e,n){for(let t=0;t<n.length;t++)Pne(e,n[t])}(n,s);const l=e.viewQuery;if(null!==l&&qS(2,l,r),o){const c=e.viewCheckHooks;null!==c&&uv(n,c)}else{const c=e.viewHooks;null!==c&&hv(n,c,2),Hw(n,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),n[2]&=-41,512&n[2]&&(n[2]&=-513,Ow(n[3],-1))}finally{Vw()}}}function gR(e,n,t,r,i){const a=Xi(),o=2&r;try{Kc(-1),o&&n.length>22&&tR(e,n,22,!1),t(r,i)}finally{Kc(a)}}function VS(e,n,t){if(Iw(n)){const i=n.directiveEnd;for(let a=n.directiveStart;a<i;a++){const o=e.data[a];o.contentQueries&&o.contentQueries(1,t[a],a)}}}function HS(e,n,t){!pP()||(function bne(e,n,t,r){const i=t.directiveStart,a=t.directiveEnd;Xp(t)&&function Dne(e,n,t){const r=Ua(n,e),i=mR(t),a=e[10],o=Lv(e,Ov(e,i,null,t.onPush?32:16,r,n,a,a.createRenderer(r,t),null,null,null));e[n.index]=o}(n,t,e.data[i+t.componentOffset]),e.firstCreatePass||gv(t,n),Pi(r,n);const o=t.initialInputs;for(let s=i;s<a;s++){const l=e.data[s],c=Qc(n,e,s,t);Pi(c,n),null!==o&&Ene(0,s-i,c,l,0,o),Yo(l)&&(Ga(t.index,n)[8]=Qc(n,e,s,t))}}(e,n,t,Ua(t,n)),64==(64&t.flags)&&wR(e,n,t))}function US(e,n,t=Ua){const r=n.localNames;if(null!==r){let i=n.index+1;for(let a=0;a<r.length;a+=2){const o=r[a+1],s=-1===o?t(n,e):e[o];e[i++]=s}}}function mR(e){const n=e.tView;return null===n||n.incompleteFirstPass?e.tView=GS(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):n}function GS(e,n,t,r,i,a,o,s,l,c){const u=22+r,h=u+i,d=function dne(e,n){const t=[];for(let r=0;r<n;r++)t.push(r<e?null:vt);return t}(u,h),f="function"==typeof c?c():c;return d[1]={type:e,blueprint:d,template:t,queries:null,viewQuery:s,declTNode:n,data:d.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof a?a():a,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1}}function vR(e,n,t,r){const i=xR(n);null===t?i.push(r):(i.push(t),e.firstCreatePass&&MR(e).push(r,i.length-1))}function _R(e,n,t,r){for(let i in e)if(e.hasOwnProperty(i)){t=null===t?{}:t;const a=e[i];null===r?yR(t,n,i,a):r.hasOwnProperty(i)&&yR(t,n,r[i],a)}return t}function yR(e,n,t,r){e.hasOwnProperty(t)?e[t].push(n,r):e[t]=[n,r]}function $a(e,n,t,r,i,a,o,s){const l=Ua(n,t);let u,c=n.inputs;!s&&null!=c&&(u=c[r])?(ZS(e,t,u,r,i),Xp(n)&&bR(t,n.index)):3&n.type&&(r=function mne(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=o?o(i,n.value||"",r):i,a.setProperty(l,r,i))}function bR(e,n){const t=Ga(n,e);16&t[2]||(t[2]|=32)}function WS(e,n,t,r){let i=!1;if(pP()){const a=null===r?null:{"":-1},o=function wne(e,n){const t=e.directiveRegistry;let r=null,i=null;if(t)for(let a=0;a<t.length;a++){const o=t[a];if(JO(n,o.selectors,!1))if(r||(r=[]),Yo(o))if(null!==o.findHostDirectiveDefs){const s=[];i=i||new Map,o.findHostDirectiveDefs(o,s,i),r.unshift(...s,o),jS(e,n,s.length)}else r.unshift(o),jS(e,n,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(e,t);let s,l;null===o?s=l=null:[s,l]=o,null!==s&&(i=!0,CR(e,n,t,s,a,l)),a&&function Sne(e,n,t){if(n){const r=e.localNames=[];for(let i=0;i<n.length;i+=2){const a=t[n[i+1]];if(null==a)throw new X(-301,!1);r.push(n[i],a)}}}(t,r,a)}return t.mergedAttrs=Kp(t.mergedAttrs,t.attrs),i}function CR(e,n,t,r,i,a){for(let c=0;c<r.length;c++)Yw(gv(t,n),e,r[c].type);!function Mne(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}(t,e.data.length,r.length);for(let c=0;c<r.length;c++){const u=r[c];u.providersResolver&&u.providersResolver(u)}let o=!1,s=!1,l=d0(e,n,r.length,null);for(let c=0;c<r.length;c++){const u=r[c];t.mergedAttrs=Kp(t.mergedAttrs,u.hostAttrs),Tne(e,t,n,l,u),xne(l,u,i),null!==u.contentQueries&&(t.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(t.flags|=64);const h=u.type.prototype;!o&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(t.index),o=!0),!s&&(h.ngOnChanges||h.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(t.index),s=!0),l++}!function gne(e,n,t){const i=n.directiveEnd,a=e.data,o=n.attrs,s=[];let l=null,c=null;for(let u=n.directiveStart;u<i;u++){const h=a[u],d=t?t.get(h):null,p=d?d.outputs:null;l=_R(h.inputs,u,l,d?d.inputs:null),c=_R(h.outputs,u,c,p);const g=null===l||null===o||QO(n)?null:Ane(l,u,o);s.push(g)}null!==l&&(l.hasOwnProperty("class")&&(n.flags|=8),l.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=s,n.inputs=l,n.outputs=c}(e,t,a)}function wR(e,n,t){const r=t.directiveStart,i=t.directiveEnd,a=t.index,o=function hJ(){return mt.lFrame.currentDirectiveIndex}();try{Kc(a);for(let s=r;s<i;s++){const l=e.data[s],c=n[s];kw(s),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&Cne(l,c)}}finally{Kc(-1),kw(o)}}function Cne(e,n){null!==e.hostBindings&&e.hostBindings(1,n)}function jS(e,n,t){n.componentOffset=t,(e.components||(e.components=[])).push(n.index)}function xne(e,n,t){if(t){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)t[n.exportAs[r]]=e;Yo(n)&&(t[""]=e)}}function Tne(e,n,t,r,i){e.data[r]=i;const a=i.factory||(i.factory=Zc(i.type)),o=new Zp(a,Yo(i),D);e.blueprint[r]=o,t[r]=o,function _ne(e,n,t,r,i){const a=i.hostBindings;if(a){let o=e.hostBindingOpCodes;null===o&&(o=e.hostBindingOpCodes=[]);const s=~n.index;(function yne(e){let n=e.length;for(;n>0;){const t=e[--n];if("number"==typeof t&&t<0)return t}return 0})(o)!=s&&o.push(s),o.push(t,r,a)}}(e,n,r,d0(e,t,i.hostVars,vt),i)}function As(e,n,t,r,i,a){const o=Ua(e,n);!function $S(e,n,t,r,i,a,o){if(null==a)e.removeAttribute(n,i,t);else{const s=null==o?gt(a):o(a,r||"",i);e.setAttribute(n,i,s,t)}}(n[11],o,a,e.value,t,r,i)}function Ene(e,n,t,r,i,a){const o=a[n];if(null!==o){const s=r.setInput;for(let l=0;l<o.length;){const c=o[l++],u=o[l++],h=o[l++];null!==s?r.setInput(t,h,c,u):t[u]=h}}}function Ane(e,n,t){let r=null,i=0;for(;i<t.length;){const a=t[i];if(0!==a)if(5!==a){if("number"==typeof a)break;if(e.hasOwnProperty(a)){null===r&&(r=[]);const o=e[a];for(let s=0;s<o.length;s+=2)if(o[s]===n){r.push(a,o[s+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function SR(e,n,t,r){return[e,!0,!1,n,null,0,r,t,null,null]}function Pne(e,n){const t=Ga(n,e);if(lv(t)){const r=t[1];48&t[2]?Rv(r,t,r.template,t[8]):t[5]>0&&YS(t)}}function YS(e){for(let r=sS(e);null!==r;r=lS(r))for(let i=10;i<r.length;i++){const a=r[i];if(lv(a))if(512&a[2]){const o=a[1];Rv(o,a,o.template,a[8])}else a[5]>0&&YS(a)}const t=e[1].components;if(null!==t)for(let r=0;r<t.length;r++){const i=Ga(t[r],e);lv(i)&&i[5]>0&&YS(i)}}function One(e,n){const t=Ga(n,e),r=t[1];(function Rne(e,n){for(let t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])})(r,t),BS(r,t,t[8])}function Lv(e,n){return e[13]?e[14][4]=n:e[13]=n,e[14]=n,n}function XS(e){for(;e;){e[2]|=32;const n=o0(e);if(jQ(e)&&!n)return e;e=n}return null}function kv(e,n,t,r=!0){const i=n[10];i.begin&&i.begin();try{Rv(e,n,e.template,t)}catch(o){throw r&&DR(n,o),o}finally{i.end&&i.end()}}function qS(e,n,t){zw(0),n(e,t)}function xR(e){return e[7]||(e[7]=[])}function MR(e){return e.cleanup||(e.cleanup=[])}function DR(e,n){const t=e[9],r=t?t.get(Sd,null):null;r&&r.handleError(n)}function ZS(e,n,t,r,i){for(let a=0;a<t.length;){const o=t[a++],s=t[a++],l=n[o],c=e.data[o];null!==c.setInput?c.setInput(l,i,r,s):l[s]=i}}function pl(e,n,t){const r=sv(n,e);!function cO(e,n,t){e.setValue(n,t)}(e[11],r,t)}function Fv(e,n,t){let r=t?e.styles:null,i=t?e.classes:null,a=0;if(null!==n)for(let o=0;o<n.length;o++){const s=n[o];"number"==typeof s?a=s:1==a?i=bw(i,s):2==a&&(r=bw(r,s+": "+n[++o]+";"))}t?e.styles=r:e.stylesWithoutHost=r,t?e.classes=i:e.classesWithoutHost=i}function zv(e,n,t,r,i=!1){for(;null!==t;){const a=n[t.index];if(null!==a&&r.push(Si(a)),$o(a))for(let s=10;s<a.length;s++){const l=a[s],c=l[1].firstChild;null!==c&&zv(l[1],l,c,r)}const o=t.type;if(8&o)zv(e,n,t.child,r);else if(32&o){const s=oS(t,n);let l;for(;l=s();)r.push(l)}else if(16&o){const s=bO(n,t);if(Array.isArray(s))r.push(...s);else{const l=o0(n[16]);zv(l[1],l,s,r,!0)}}t=i?t.projectionNext:t.next}return r}class f0{constructor(n,t){this._lView=n,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const n=this._lView,t=n[1];return zv(t,n,t.firstChild,[])}get context(){return this._lView[8]}set context(n){this._lView[8]=n}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[3];if($o(n)){const t=n[8],r=t?t.indexOf(this):-1;r>-1&&(hS(n,r),vv(t,r))}this._attachedToViewContainer=!1}hO(this._lView[1],this._lView)}onDestroy(n){vR(this._lView[1],this._lView,null,n)}markForCheck(){XS(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){kv(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new X(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function bee(e,n){s0(e,n,n[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new X(902,!1);this._appRef=n}}class Lne extends f0{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;kv(n[1],n,n[8],!1)}checkNoChanges(){}get context(){return null}}class ER extends au{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const t=Cn(n);return new p0(t,this.ngModule)}}function AR(e){const n=[];for(let t in e)e.hasOwnProperty(t)&&n.push({propName:e[t],templateName:t});return n}class Fne{constructor(n,t){this.injector=n,this.parentInjector=t}get(n,t,r){r=ev(r);const i=this.injector.get(n,NS,r);return i!==NS||t===NS?i:this.parentInjector.get(n,t,r)}}class p0 extends YO{constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=function Gte(e){return e.map(Ute).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return AR(this.componentDef.inputs)}get outputs(){return AR(this.componentDef.outputs)}create(n,t,r,i){let a=(i=i||this.ngModule)instanceof Es?i:i?.injector;a&&null!==this.componentDef.getStandaloneInjector&&(a=this.componentDef.getStandaloneInjector(a)||a);const o=a?new Fne(n,a):n,s=o.get(u0,null);if(null===s)throw new X(407,!1);const l=o.get(Ste,null),c=s.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",h=r?function fne(e,n,t){return e.selectRootElement(n,t===Wo.ShadowDom)}(c,r,this.componentDef.encapsulation):uS(c,u,function kne(e){const n=e.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(u)),d=this.componentDef.onPush?288:272,f=GS(0,null,null,1,0,null,null,null,null,null),p=Ov(null,f,null,d,null,null,s,c,l,o,null);let g,m;Bw(p);try{const v=this.componentDef;let _,y=null;v.findHostDirectiveDefs?(_=[],y=new Map,v.findHostDirectiveDefs(v,_,y),_.push(v)):_=[v];const b=function Bne(e,n){const t=e[1];return e[22]=n,Td(t,22,2,"#host",null)}(p,h),w=function Vne(e,n,t,r,i,a,o,s){const l=i[1];!function Hne(e,n,t,r){for(const i of e)n.mergedAttrs=Kp(n.mergedAttrs,i.hostAttrs);null!==n.mergedAttrs&&(Fv(n,n.mergedAttrs,!0),null!==t&&SO(r,t,n))}(r,e,n,o);const c=a.createRenderer(n,t),u=Ov(i,mR(t),null,t.onPush?32:16,i[e.index],e,a,c,s||null,null,null);return l.firstCreatePass&&jS(l,e,r.length-1),Lv(i,u),i[e.index]=u}(b,h,v,_,p,s,c);m=hP(f,22),h&&function Gne(e,n,t,r){if(r)Gw(e,t,["ng-version",xte.full]);else{const{attrs:i,classes:a}=function Wte(e){const n=[],t=[];let r=1,i=2;for(;r<e.length;){let a=e[r];if("string"==typeof a)2===i?""!==a&&n.push(a,e[++r]):8===i&&t.push(a);else{if(!Xo(i))break;i=a}r++}return{attrs:n,classes:t}}(n.selectors[0]);i&&Gw(e,t,i),a&&a.length>0&&wO(e,t,a.join(" "))}}(c,v,h,r),void 0!==t&&function Wne(e,n,t){const r=e.projection=[];for(let i=0;i<n.length;i++){const a=t[i];r.push(null!=a?Array.from(a):null)}}(m,this.ngContentSelectors,t),g=function Une(e,n,t,r,i,a){const o=xi(),s=i[1],l=Ua(o,i);CR(s,i,o,t,null,r);for(let u=0;u<t.length;u++)Pi(Qc(i,s,o.directiveStart+u,o),i);wR(s,i,o),l&&Pi(l,i);const c=Qc(i,s,o.directiveStart+o.componentOffset,o);if(e[8]=i[8]=c,null!==a)for(const u of a)u(c,n);return VS(s,o,e),c}(w,v,_,y,p,[jne]),BS(f,p,null)}finally{Vw()}return new zne(this.componentType,g,wd(m,p),p,m)}}class zne extends vte{constructor(n,t,r,i,a){super(),this.location=r,this._rootLView=i,this._tNode=a,this.instance=t,this.hostView=this.changeDetectorRef=new Lne(i),this.componentType=n}setInput(n,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[n])){const a=this._rootLView;ZS(a[1],a,i,n,t),bR(a,this._tNode.index)}}get injector(){return new hd(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function jne(){const e=xi();cv(Q()[1],e)}function ge(e){let n=function NR(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),t=!0;const r=[e];for(;n;){let i;if(Yo(e))i=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new X(903,!1);i=n.\u0275dir}if(i){if(t){r.push(i);const o=e;o.inputs=KS(e.inputs),o.declaredInputs=KS(e.declaredInputs),o.outputs=KS(e.outputs);const s=i.hostBindings;s&&qne(e,s);const l=i.viewQuery,c=i.contentQueries;if(l&&Yne(e,l),c&&Xne(e,c),yw(e.inputs,i.inputs),yw(e.declaredInputs,i.declaredInputs),yw(e.outputs,i.outputs),Yo(i)&&i.data.animation){const u=e.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const a=i.features;if(a)for(let o=0;o<a.length;o++){const s=a[o];s&&s.ngInherit&&s(e),s===ge&&(t=!1)}}n=Object.getPrototypeOf(n)}!function $ne(e){let n=0,t=null;for(let r=e.length-1;r>=0;r--){const i=e[r];i.hostVars=n+=i.hostVars,i.hostAttrs=Kp(i.hostAttrs,t=Kp(t,i.hostAttrs))}}(r)}function KS(e){return e===sl?{}:e===dn?[]:e}function Yne(e,n){const t=e.viewQuery;e.viewQuery=t?(r,i)=>{n(r,i),t(r,i)}:n}function Xne(e,n){const t=e.contentQueries;e.contentQueries=t?(r,i,a)=>{n(r,i,a),t(r,i,a)}:n}function qne(e,n){const t=e.hostBindings;e.hostBindings=t?(r,i)=>{n(r,i),t(r,i)}:n}let Bv=null;function ou(){if(!Bv){const e=Un.Symbol;if(e&&e.iterator)Bv=e.iterator;else{const n=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<n.length;++t){const r=n[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Bv=r)}}}return Bv}function g0(e){return!!QS(e)&&(Array.isArray(e)||!(e instanceof Map)&&ou()in e)}function QS(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Ns(e,n,t){return e[n]=t}function Oi(e,n,t){return!Object.is(e[n],t)&&(e[n]=t,!0)}function su(e,n,t,r){const i=Oi(e,n,t);return Oi(e,n+1,r)||i}function Wn(e,n,t,r){const i=Q();return Oi(i,cd(),n)&&(nn(),As(fr(),i,e,n,t,r)),Wn}function Ad(e,n,t,r,i,a){const s=su(e,function ul(){return mt.lFrame.bindingIndex}(),t,i);return hl(2),s?n+gt(t)+r+gt(i)+a:vt}function $(e,n,t,r,i,a,o,s){const l=Q(),c=nn(),u=e+22,h=c.firstCreatePass?function are(e,n,t,r,i,a,o,s,l){const c=n.consts,u=Td(n,e,4,o||null,Ql(c,s));WS(n,t,u,Ql(c,l)),cv(n,u);const h=u.tViews=GS(2,u,r,i,a,n.directiveRegistry,n.pipeRegistry,null,n.schemas,c);return null!==n.queries&&(n.queries.template(n,u),h.queries=n.queries.embeddedTView(u)),u}(u,c,l,n,t,r,i,a,o):c.data[u];Ms(h,!1);const d=l[11].createComment("");Sv(c,l,d,h),Pi(d,l),Lv(l,l[u]=SR(d,l,d,h)),ov(h)&&HS(c,l,h),null!=o&&US(l,h,s)}function zr(e){return function ld(e,n){return e[n]}(function lJ(){return mt.lFrame.contextLView}(),22+e)}function O(e,n,t){const r=Q();return Oi(r,cd(),n)&&$a(nn(),fr(),r,e,n,r[11],t,!1),O}function JS(e,n,t,r,i){const o=i?"class":"style";ZS(e,t,n.inputs[o],o,r)}function B(e,n,t,r){const i=Q(),a=nn(),o=22+e,s=i[11],l=i[o]=uS(s,n,function yJ(){return mt.lFrame.currentNamespace}()),c=a.firstCreatePass?function sre(e,n,t,r,i,a,o){const s=n.consts,c=Td(n,e,2,i,Ql(s,a));return WS(n,t,c,Ql(s,o)),null!==c.attrs&&Fv(c,c.attrs,!1),null!==c.mergedAttrs&&Fv(c,c.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,c),c}(o,a,i,0,n,t,r):a.data[o];return Ms(c,!0),SO(s,l,c),32!=(32&c.flags)&&Sv(a,i,l,c),0===function rJ(){return mt.lFrame.elementDepthCount}()&&Pi(l,i),function iJ(){mt.lFrame.elementDepthCount++}(),ov(c)&&(HS(a,i,c),VS(a,c,i)),null!==r&&US(i,c),B}function H(){let e=xi();Rw()?Lw():(e=e.parent,Ms(e,!1));const n=e;!function aJ(){mt.lFrame.elementDepthCount--}();const t=nn();return t.firstCreatePass&&(cv(t,e),Iw(e)&&t.queries.elementEnd(e)),null!=n.classesWithoutHost&&function SJ(e){return 0!=(8&e.flags)}(n)&&JS(t,n,Q(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function xJ(e){return 0!=(16&e.flags)}(n)&&JS(t,n,Q(),n.stylesWithoutHost,!1),H}function ie(e,n,t,r){return B(e,n,t,r),H(),ie}function sr(e,n,t){const r=Q(),i=nn(),a=e+22,o=i.firstCreatePass?function lre(e,n,t,r,i){const a=n.consts,o=Ql(a,r),s=Td(n,e,8,"ng-container",o);return null!==o&&Fv(s,o,!0),WS(n,t,s,Ql(a,i)),null!==n.queries&&n.queries.elementStart(n,s),s}(a,i,r,n,t):i.data[a];Ms(o,!0);const s=r[a]=r[11].createComment("");return Sv(i,r,s,o),Pi(s,r),ov(o)&&(HS(i,r,o),VS(i,o,r)),null!=t&&US(r,o),sr}function lr(){let e=xi();const n=nn();return Rw()?Lw():(e=e.parent,Ms(e,!1)),n.firstCreatePass&&(cv(n,e),Iw(e)&&n.queries.elementEnd(e)),lr}function er(e,n,t){return sr(e,n,t),lr(),er}function br(){return Q()}function v0(e){return!!e&&"function"==typeof e.then}const ex=function GR(e){return!!e&&"function"==typeof e.subscribe};function re(e,n,t,r){const i=Q(),a=nn(),o=xi();return function jR(e,n,t,r,i,a,o){const s=ov(r),c=e.firstCreatePass&&MR(e),u=n[8],h=xR(n);let d=!0;if(3&r.type||o){const g=Ua(r,n),m=o?o(g):g,v=h.length,_=o?b=>o(Si(b[r.index])):r.index;let y=null;if(!o&&s&&(y=function cre(e,n,t,r){const i=e.cleanup;if(null!=i)for(let a=0;a<i.length-1;a+=2){const o=i[a];if(o===t&&i[a+1]===r){const s=n[7],l=i[a+2];return s.length>l?s[l]:null}"string"==typeof o&&(a+=2)}return null}(e,n,i,r.index)),null!==y)(y.__ngLastListenerFn__||y).__ngNextListenerFn__=a,y.__ngLastListenerFn__=a,d=!1;else{a=YR(r,n,u,a,!1);const b=t.listen(m,i,a);h.push(a,b),c&&c.push(i,_,v,v+1)}}else a=YR(r,n,u,a,!1);const f=r.outputs;let p;if(d&&null!==f&&(p=f[i])){const g=p.length;if(g)for(let m=0;m<g;m+=2){const w=n[p[m]][p[m+1]].subscribe(a),C=h.length;h.push(a,w),c&&c.push(i,r.index,C,-(C+1))}}}(a,i,i[11],o,e,n,r),re}function $R(e,n,t,r){try{return!1!==t(r)}catch(i){return DR(e,i),!1}}function YR(e,n,t,r,i){return function a(o){if(o===Function)return r;XS(e.componentOffset>-1?Ga(e.index,n):n);let l=$R(n,0,r,o),c=a.__ngNextListenerFn__;for(;c;)l=$R(n,0,c,o)&&l,c=c.__ngNextListenerFn__;return i&&!1===l&&(o.preventDefault(),o.returnValue=!1),l}}function W(e=1){return function fJ(e){return(mt.lFrame.contextLView=function pJ(e,n){for(;e>0;)n=n[15],e--;return n}(e,mt.lFrame.contextLView))[8]}(e)}function ure(e,n){let t=null;const r=function zte(e){const n=e.attrs;if(null!=n){const t=n.indexOf(5);if(0==(1&t))return n[t+1]}return null}(e);for(let i=0;i<n.length;i++){const a=n[i];if("*"!==a){if(null===r?JO(e,a,!0):Hte(r,a))return i}else t=i}return t}function Mt(e){const n=Q()[16][6];if(!n.projection){const r=n.projection=e0(e?e.length:1,null),i=r.slice();let a=n.child;for(;null!==a;){const o=e?ure(a,e):0;null!==o&&(i[o]?i[o].projectionNext=a:r[o]=a,i[o]=a),a=a.next}}}function Pe(e,n=0,t){const r=Q(),i=nn(),a=Td(i,22+e,16,null,t||null);null===a.projection&&(a.projection=n),Lw(),32!=(32&a.flags)&&function Eee(e,n,t){CO(n[11],0,n,t,dO(e,t,n),mO(t.parent||n[6],t,n))}(i,r,a)}function Hv(e,n){return e<<17|n<<2}function Jl(e){return e>>17&32767}function rx(e){return 2|e}function lu(e){return(131068&e)>>2}function ix(e,n){return-131069&e|n<<2}function ax(e){return 1|e}function nL(e,n,t,r,i){const a=e[t+1],o=null===n;let s=r?Jl(a):lu(a),l=!1;for(;0!==s&&(!1===l||o);){const u=e[s+1];mre(e[s],n)&&(l=!0,e[s+1]=r?ax(u):rx(u)),s=r?Jl(u):lu(u)}l&&(e[t+1]=r?rx(a):ax(a))}function mre(e,n){return null===e||null==n||(Array.isArray(e)?e[1]:e)===n||!(!Array.isArray(e)||"string"!=typeof n)&&md(e,n)>=0}const ei={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function rL(e){return e.substring(ei.key,ei.keyEnd)}function vre(e){return e.substring(ei.value,ei.valueEnd)}function iL(e,n){const t=ei.textEnd;return t===n?-1:(n=ei.keyEnd=function bre(e,n,t){for(;n<t&&e.charCodeAt(n)>32;)n++;return n}(e,ei.key=n,t),kd(e,n,t))}function aL(e,n){const t=ei.textEnd;let r=ei.key=kd(e,n,t);return t===r?-1:(r=ei.keyEnd=function Cre(e,n,t){let r;for(;n<t&&(45===(r=e.charCodeAt(n))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)n++;return n}(e,r,t),r=sL(e,r,t),r=ei.value=kd(e,r,t),r=ei.valueEnd=function wre(e,n,t){let r=-1,i=-1,a=-1,o=n,s=o;for(;o<t;){const l=e.charCodeAt(o++);if(59===l)return s;34===l||39===l?s=o=lL(e,l,o,t):n===o-4&&85===a&&82===i&&76===r&&40===l?s=o=lL(e,41,o,t):l>32&&(s=o),a=i,i=r,r=-33&l}return s}(e,r,t),sL(e,r,t))}function oL(e){ei.key=0,ei.keyEnd=0,ei.value=0,ei.valueEnd=0,ei.textEnd=e.length}function kd(e,n,t){for(;n<t&&e.charCodeAt(n)<=32;)n++;return n}function sL(e,n,t,r){return(n=kd(e,n,t))<t&&n++,n}function lL(e,n,t,r){let i=-1,a=t;for(;a<r;){const o=e.charCodeAt(a++);if(o==n&&92!==i)return a;i=92==o&&92===i?0:o}throw new Error}function pi(e,n,t){return qo(e,n,t,!1),pi}function _e(e,n){return qo(e,n,null,!0),_e}function Sre(e,n){for(let t=function yre(e){return oL(e),aL(e,kd(e,0,ei.textEnd))}(n);t>=0;t=aL(n,t))hL(e,rL(n),vre(n))}function Ya(e){Zo(Wa,Ps,e,!0)}function Ps(e,n){for(let t=function _re(e){return oL(e),iL(e,kd(e,0,ei.textEnd))}(n);t>=0;t=iL(n,t))Wa(e,rL(n),!0)}function qo(e,n,t,r){const i=Q(),a=nn(),o=hl(2);a.firstUpdatePass&&uL(a,e,o,r),n!==vt&&Oi(i,o,n)&&dL(a,a.data[Xi()],i,i[11],e,i[o+1]=function Nre(e,n){return null==e||("string"==typeof n?e+=n:"object"==typeof e&&(e=Fn(ja(e)))),e}(n,t),r,o)}function Zo(e,n,t,r){const i=nn(),a=hl(2);i.firstUpdatePass&&uL(i,null,a,r);const o=Q();if(t!==vt&&Oi(o,a,t)){const s=i.data[Xi()];if(pL(s,r)&&!cL(i,a)){let l=r?s.classesWithoutHost:s.stylesWithoutHost;null!==l&&(t=bw(l,t||"")),JS(i,s,o,t,r)}else!function Are(e,n,t,r,i,a,o,s){i===vt&&(i=dn);let l=0,c=0,u=0<i.length?i[0]:null,h=0<a.length?a[0]:null;for(;null!==u||null!==h;){const d=l<i.length?i[l+1]:void 0,f=c<a.length?a[c+1]:void 0;let g,p=null;u===h?(l+=2,c+=2,d!==f&&(p=h,g=f)):null===h||null!==u&&u<h?(l+=2,p=u):(c+=2,p=h,g=f),null!==p&&dL(e,n,t,r,p,g,o,s),u=l<i.length?i[l]:null,h=c<a.length?a[c]:null}}(i,s,o,o[11],o[a+1],o[a+1]=function Ere(e,n,t){if(null==t||""===t)return dn;const r=[],i=ja(t);if(Array.isArray(i))for(let a=0;a<i.length;a++)e(r,i[a],!0);else if("object"==typeof i)for(const a in i)i.hasOwnProperty(a)&&e(r,a,i[a]);else"string"==typeof i&&n(r,i);return r}(e,n,t),r,a)}}function cL(e,n){return n>=e.expandoStartIndex}function uL(e,n,t,r){const i=e.data;if(null===i[t+1]){const a=i[Xi()],o=cL(e,t);pL(a,r)&&null===n&&!o&&(n=!1),n=function xre(e,n,t,r){const i=function Fw(e){const n=mt.lFrame.currentDirectiveIndex;return-1===n?null:e[n]}(e);let a=r?n.residualClasses:n.residualStyles;if(null===i)0===(r?n.classBindings:n.styleBindings)&&(t=_0(t=ox(null,e,n,t,r),n.attrs,r),a=null);else{const o=n.directiveStylingLast;if(-1===o||e[o]!==i)if(t=ox(i,e,n,t,r),null===a){let l=function Mre(e,n,t){const r=t?n.classBindings:n.styleBindings;if(0!==lu(r))return e[Jl(r)]}(e,n,r);void 0!==l&&Array.isArray(l)&&(l=ox(null,e,n,l[1],r),l=_0(l,n.attrs,r),function Tre(e,n,t,r){e[Jl(t?n.classBindings:n.styleBindings)]=r}(e,n,r,l))}else a=function Dre(e,n,t){let r;const i=n.directiveEnd;for(let a=1+n.directiveStylingLast;a<i;a++)r=_0(r,e[a].hostAttrs,t);return _0(r,n.attrs,t)}(e,n,r)}return void 0!==a&&(r?n.residualClasses=a:n.residualStyles=a),t}(i,a,n,r),function pre(e,n,t,r,i,a){let o=a?n.classBindings:n.styleBindings,s=Jl(o),l=lu(o);e[r]=t;let u,c=!1;if(Array.isArray(t)){const h=t;u=h[1],(null===u||md(h,u)>0)&&(c=!0)}else u=t;if(i)if(0!==l){const d=Jl(e[s+1]);e[r+1]=Hv(d,s),0!==d&&(e[d+1]=ix(e[d+1],r)),e[s+1]=function dre(e,n){return 131071&e|n<<17}(e[s+1],r)}else e[r+1]=Hv(s,0),0!==s&&(e[s+1]=ix(e[s+1],r)),s=r;else e[r+1]=Hv(l,0),0===s?s=r:e[l+1]=ix(e[l+1],r),l=r;c&&(e[r+1]=rx(e[r+1])),nL(e,u,r,!0),nL(e,u,r,!1),function gre(e,n,t,r,i){const a=i?e.residualClasses:e.residualStyles;null!=a&&"string"==typeof n&&md(a,n)>=0&&(t[r+1]=ax(t[r+1]))}(n,u,e,r,a),o=Hv(s,l),a?n.classBindings=o:n.styleBindings=o}(i,a,n,t,o,r)}}function ox(e,n,t,r,i){let a=null;const o=t.directiveEnd;let s=t.directiveStylingLast;for(-1===s?s=t.directiveStart:s++;s<o&&(a=n[s],r=_0(r,a.hostAttrs,i),a!==e);)s++;return null!==e&&(t.directiveStylingLast=s),r}function _0(e,n,t){const r=t?1:2;let i=-1;if(null!==n)for(let a=0;a<n.length;a++){const o=n[a];"number"==typeof o?i=o:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Wa(e,o,!!t||n[++a]))}return void 0===e?null:e}function hL(e,n,t){Wa(e,n,ja(t))}function dL(e,n,t,r,i,a,o,s){if(!(3&n.type))return;const l=e.data,c=l[s+1],u=function fre(e){return 1==(1&e)}(c)?fL(l,n,t,i,lu(c),o):void 0;Uv(u)||(Uv(a)||function hre(e){return 2==(2&e)}(c)&&(a=fL(l,null,t,i,s,o)),function Nee(e,n,t,r,i){if(n)i?e.addClass(t,r):e.removeClass(t,r);else{let a=-1===r.indexOf("-")?void 0:_a.DashCase;null==i?e.removeStyle(t,r,a):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),a|=_a.Important),e.setStyle(t,r,i,a))}}(r,o,sv(Xi(),t),i,a))}function fL(e,n,t,r,i,a){const o=null===n;let s;for(;i>0;){const l=e[i],c=Array.isArray(l),u=c?l[1]:l,h=null===u;let d=t[i+1];d===vt&&(d=h?dn:void 0);let f=h?Kw(d,r):u===r?d:void 0;if(c&&!Uv(f)&&(f=Kw(l,r)),Uv(f)&&(s=f,o))return s;const p=e[i+1];i=o?Jl(p):lu(p)}if(null!==n){let l=a?n.residualClasses:n.residualStyles;null!=l&&(s=Kw(l,r))}return s}function Uv(e){return void 0!==e}function pL(e,n){return 0!=(e.flags&(n?8:16))}function ae(e,n=""){const t=Q(),r=nn(),i=e+22,a=r.firstCreatePass?Td(r,i,1,n,null):r.data[i],o=t[i]=function cS(e,n){return e.createText(n)}(t[11],n);Sv(r,t,o,a),Ms(a,!1)}function Ht(e){return en("",e,""),Ht}function en(e,n,t){const r=Q(),i=function Ed(e,n,t,r){return Oi(e,cd(),t)?n+gt(t)+r:vt}(r,e,n,t);return i!==vt&&pl(r,Xi(),i),en}function sx(e,n,t,r,i){const a=Q(),o=Ad(a,e,n,t,r,i);return o!==vt&&pl(a,Xi(),o),sx}function Gv(e,n,t,r,i){!function Is(e){Zo(hL,Sre,e,!1)}(Ad(Q(),e,n,t,r,i))}function Wv(e,n,t){const r=Q();return Oi(r,cd(),n)&&$a(nn(),fr(),r,e,n,r[11],t,!0),Wv}const cu=void 0;var qre=["en",[["a","p"],["AM","PM"],cu],[["AM","PM"],cu,cu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],cu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],cu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",cu,"{1} 'at' {0}",cu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Xre(e){const t=Math.floor(Math.abs(e)),r=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===r?1:5}];let Fd={};function Ri(e){const n=function Zre(e){return e.toLowerCase().replace(/_/g,"-")}(e);let t=PL(n);if(t)return t;const r=n.split("-")[0];if(t=PL(r),t)return t;if("en"===r)return qre;throw new X(701,!1)}function PL(e){return e in Fd||(Fd[e]=Un.ng&&Un.ng.common&&Un.ng.common.locales&&Un.ng.common.locales[e]),Fd[e]}var ye=(()=>((ye=ye||{})[ye.LocaleId=0]="LocaleId",ye[ye.DayPeriodsFormat=1]="DayPeriodsFormat",ye[ye.DayPeriodsStandalone=2]="DayPeriodsStandalone",ye[ye.DaysFormat=3]="DaysFormat",ye[ye.DaysStandalone=4]="DaysStandalone",ye[ye.MonthsFormat=5]="MonthsFormat",ye[ye.MonthsStandalone=6]="MonthsStandalone",ye[ye.Eras=7]="Eras",ye[ye.FirstDayOfWeek=8]="FirstDayOfWeek",ye[ye.WeekendRange=9]="WeekendRange",ye[ye.DateFormat=10]="DateFormat",ye[ye.TimeFormat=11]="TimeFormat",ye[ye.DateTimeFormat=12]="DateTimeFormat",ye[ye.NumberSymbols=13]="NumberSymbols",ye[ye.NumberFormats=14]="NumberFormats",ye[ye.CurrencyCode=15]="CurrencyCode",ye[ye.CurrencySymbol=16]="CurrencySymbol",ye[ye.CurrencyName=17]="CurrencyName",ye[ye.Currencies=18]="Currencies",ye[ye.Directionality=19]="Directionality",ye[ye.PluralCase=20]="PluralCase",ye[ye.ExtraData=21]="ExtraData",ye))();const zd="en-US";let OL=zd;function hx(e,n,t,r,i){if(e=et(e),Array.isArray(e))for(let a=0;a<e.length;a++)hx(e[a],n,t,r,i);else{const a=nn(),o=Q();let s=iu(e)?e:et(e.provide),l=$O(e);const c=xi(),u=1048575&c.providerIndexes,h=c.directiveStart,d=c.providerIndexes>>20;if(iu(e)||!e.multi){const f=new Zp(l,i,D),p=fx(s,n,i?u:u+d,h);-1===p?(Yw(gv(c,o),a,s),dx(a,e,n.length),n.push(s),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(f),o.push(f)):(t[p]=f,o[p]=f)}else{const f=fx(s,n,u+d,h),p=fx(s,n,u,u+d),g=f>=0&&t[f],m=p>=0&&t[p];if(i&&!m||!i&&!g){Yw(gv(c,o),a,s);const v=function Yie(e,n,t,r,i){const a=new Zp(e,t,D);return a.multi=[],a.index=n,a.componentProviders=0,a5(a,i,r&&!t),a}(i?$ie:jie,t.length,i,r,l);!i&&m&&(t[p].providerFactory=v),dx(a,e,n.length,0),n.push(s),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(v),o.push(v)}else dx(a,e,f>-1?f:p,a5(t[i?p:f],l,!i&&r));!i&&r&&m&&t[p].componentProviders++}}}function dx(e,n,t,r){const i=iu(n),a=function ute(e){return!!e.useClass}(n);if(i||a){const l=(a?et(n.useClass):n).prototype.ngOnDestroy;if(l){const c=e.destroyHooks||(e.destroyHooks=[]);if(!i&&n.multi){const u=c.indexOf(t);-1===u?c.push(t,[r,l]):c[u+1].push(r,l)}else c.push(t,l)}}}function a5(e,n,t){return t&&e.componentProviders++,e.multi.push(n)-1}function fx(e,n,t,r){for(let i=t;i<r;i++)if(n[i]===e)return i;return-1}function jie(e,n,t,r){return px(this.multi,[])}function $ie(e,n,t,r){const i=this.multi;let a;if(this.providerFactory){const o=this.providerFactory.componentProviders,s=Qc(t,t[1],this.providerFactory.index,r);a=s.slice(0,o),px(i,a);for(let l=o;l<s.length;l++)a.push(s[l])}else a=[],px(i,a);return a}function px(e,n){for(let t=0;t<e.length;t++)n.push((0,e[t])());return n}function Me(e,n=[]){return t=>{t.providersResolver=(r,i)=>function Wie(e,n,t){const r=nn();if(r.firstCreatePass){const i=Yo(e);hx(t,r.data,r.blueprint,i,!0),hx(n,r.data,r.blueprint,i,!1)}}(r,i?i(e):e,n)}}class Bd{}class o5{}class s5 extends Bd{constructor(n,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ER(this);const r=Va(n);this._bootstrapComponents=fl(r.bootstrap),this._r3Injector=oR(n,t,[{provide:Bd,useValue:this},{provide:au,useValue:this.componentFactoryResolver}],Fn(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class gx extends o5{constructor(n){super(),this.moduleType=n}create(n){return new s5(this.moduleType,n)}}class qie extends Bd{constructor(n,t,r){super(),this.componentFactoryResolver=new ER(this),this.instance=null;const i=new jO([...n,{provide:Bd,useValue:this},{provide:au,useValue:this.componentFactoryResolver}],t||Iv(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function qv(e,n,t=null){return new qie(e,n,t).injector}let Zie=(()=>{class e{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const r=HO(0,t.type),i=r.length>0?qv([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,i)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return e.\u0275prov=q({token:e,providedIn:"environment",factory:()=>new e(G(Es))}),e})();function mx(e){e.getStandaloneInjector=n=>n.get(Zie).getOrCreateStandaloneInjector(e)}function gl(e,n,t,r){return function g5(e,n,t,r,i,a){const o=n+t;return Oi(e,o,i)?Ns(e,o+1,a?r.call(a,i):r(i)):x0(e,o+1)}(Q(),Yi(),e,n,t,r)}function p5(e,n,t,r,i,a){return function v5(e,n,t,r,i,a,o,s){const l=n+t;return function Vv(e,n,t,r,i){const a=su(e,n,t,r);return Oi(e,n+2,i)||a}(e,l,i,a,o)?Ns(e,l+3,s?r.call(s,i,a,o):r(i,a,o)):x0(e,l+3)}(Q(),Yi(),e,n,t,r,i,a)}function x0(e,n){const t=e[n];return t===vt?void 0:t}function bx(e){return n=>{setTimeout(e,void 0,n)}}const Ae=class vae extends he{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,t,r){let i=n,a=t||(()=>null),o=r;if(n&&"object"==typeof n){const l=n;i=l.next?.bind(l),a=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(a=bx(a),i&&(i=bx(i)),o&&(o=bx(o)));const s=super.subscribe({next:i,error:a,complete:o});return n instanceof We&&n.add(s),s}};function _ae(){return this._results[ou()]()}class D0{constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=ou(),r=D0.prototype;r[t]||(r[t]=_ae)}get changes(){return this._changes||(this._changes=new Ae)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,t){return this._results.reduce(n,t)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,t){const r=this;r.dirty=!1;const i=function go(e){return e.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function RJ(e,n,t){if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],a=n[r];if(t&&(i=t(i),a=t(a)),a!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let wn=(()=>{class e{}return e.__NG_ELEMENT_ID__=Cae,e})();const yae=wn,bae=class extends yae{constructor(n,t,r){super(),this._declarationLView=n,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(n,t){const r=this._declarationTContainer.tViews,i=Ov(this._declarationLView,r,n,16,null,r.declTNode,null,null,null,null,t||null);i[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(i[19]=o.createEmbeddedView(r)),BS(r,i,n),new f0(i)}};function Cae(){return Zv(xi(),Q())}function Zv(e,n){return 4&e.type?new bae(n,e,wd(e,n)):null}let wr=(()=>{class e{}return e.__NG_ELEMENT_ID__=wae,e})();function wae(){return w5(xi(),Q())}const Sae=wr,b5=class extends Sae{constructor(n,t,r){super(),this._lContainer=n,this._hostTNode=t,this._hostLView=r}get element(){return wd(this._hostTNode,this._hostLView)}get injector(){return new hd(this._hostTNode,this._hostLView)}get parentInjector(){const n=$w(this._hostTNode,this._hostLView);if(AP(n)){const t=fv(n,this._hostLView),r=dv(n);return new hd(t[1].data[r+8],t)}return new hd(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const t=C5(this._lContainer);return null!==t&&t[n]||null}get length(){return this._lContainer.length-10}createEmbeddedView(n,t,r){let i,a;"number"==typeof r?i=r:null!=r&&(i=r.index,a=r.injector);const o=n.createEmbeddedView(t||{},a);return this.insert(o,i),o}createComponent(n,t,r,i,a){const o=n&&!function Jp(e){return"function"==typeof e}(n);let s;if(o)s=t;else{const h=t||{};s=h.index,r=h.injector,i=h.projectableNodes,a=h.environmentInjector||h.ngModuleRef}const l=o?n:new p0(Cn(n)),c=r||this.parentInjector;if(!a&&null==l.ngModule){const d=(o?c:this.parentInjector).get(Es,null);d&&(a=d)}const u=l.create(c,i,void 0,a);return this.insert(u.hostView,s),u}insert(n,t){const r=n._lView,i=r[1];if(function nJ(e){return $o(e[3])}(r)){const u=this.indexOf(n);if(-1!==u)this.detach(u);else{const h=r[3],d=new b5(h,h[6],h[3]);d.detach(d.indexOf(n))}}const a=this._adjustIndex(t),o=this._lContainer;!function wee(e,n,t,r){const i=10+r,a=t.length;r>0&&(t[i-1][4]=n),r<a-10?(n[4]=t[i],HP(t,10+r,n)):(t.push(n),n[4]=null),n[3]=t;const o=n[17];null!==o&&t!==o&&function See(e,n){const t=e[9];n[16]!==n[3][3][16]&&(e[2]=!0),null===t?e[9]=[n]:t.push(n)}(o,n);const s=n[19];null!==s&&s.insertView(e),n[2]|=64}(i,r,o,a);const s=pS(a,o),l=r[11],c=wv(l,o[7]);return null!==c&&function yee(e,n,t,r,i,a){r[0]=i,r[6]=n,s0(e,r,t,1,i,a)}(i,o[6],l,r,c,s),n.attachToViewContainerRef(),HP(Cx(o),a,n),n}move(n,t){return this.insert(n,t)}indexOf(n){const t=C5(this._lContainer);return null!==t?t.indexOf(n):-1}remove(n){const t=this._adjustIndex(n,-1),r=hS(this._lContainer,t);r&&(vv(Cx(this._lContainer),t),hO(r[1],r))}detach(n){const t=this._adjustIndex(n,-1),r=hS(this._lContainer,t);return r&&null!=vv(Cx(this._lContainer),t)?new f0(r):null}_adjustIndex(n,t=0){return n??this.length+t}};function C5(e){return e[8]}function Cx(e){return e[8]||(e[8]=[])}function w5(e,n){let t;const r=n[e.index];if($o(r))t=r;else{let i;if(8&e.type)i=Si(r);else{const a=n[11];i=a.createComment("");const o=Ua(e,n);tu(a,wv(a,o),i,function Dee(e,n){return e.nextSibling(n)}(a,o),!1)}n[e.index]=t=SR(r,n,i,e),Lv(n,t)}return new b5(t,e,n)}class Sx{constructor(n){this.queryList=n,this.matches=null}clone(){return new Sx(this.queryList)}setDirty(){this.queryList.setDirty()}}class xx{constructor(n=[]){this.queries=n}createEmbeddedView(n){const t=n.queries;if(null!==t){const r=null!==n.contentQueries?n.contentQueries[0]:t.length,i=[];for(let a=0;a<r;a++){const o=t.getByIndex(a);i.push(this.queries[o.indexInDeclarationView].clone())}return new xx(i)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let t=0;t<this.queries.length;t++)null!==D5(n,t).matches&&this.queries[t].setDirty()}}class S5{constructor(n,t,r=null){this.predicate=n,this.flags=t,this.read=r}}class Mx{constructor(n=[]){this.queries=n}elementStart(n,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(n,t)}elementEnd(n){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(n)}embeddedTView(n){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,a=this.getByIndex(r).embeddedTView(n,i);a&&(a.indexInDeclarationView=r,null!==t?t.push(a):t=[a])}return null!==t?new Mx(t):null}template(n,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(n,t)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Tx{constructor(n,t=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(n,t){this.isApplyingToNode(t)&&this.matchTNode(n,t)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,t){this.elementStart(n,t)}embeddedTView(n,t){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,t),new Tx(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=n.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(n,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const a=r[i];this.matchTNodeWithReadOption(n,t,xae(t,a)),this.matchTNodeWithReadOption(n,t,mv(t,n,a,!1,!1))}else r===wn?4&t.type&&this.matchTNodeWithReadOption(n,t,-1):this.matchTNodeWithReadOption(n,t,mv(t,n,r,!1,!1))}matchTNodeWithReadOption(n,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===He||i===wr||i===wn&&4&t.type)this.addMatch(t.index,-2);else{const a=mv(t,n,i,!1,!1);null!==a&&this.addMatch(t.index,a)}else this.addMatch(t.index,r)}}addMatch(n,t){null===this.matches?this.matches=[n,t]:this.matches.push(n,t)}}function xae(e,n){const t=e.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===n)return t[r+1];return null}function Tae(e,n,t,r){return-1===t?function Mae(e,n){return 11&e.type?wd(e,n):4&e.type?Zv(e,n):null}(n,e):-2===t?function Dae(e,n,t){return t===He?wd(n,e):t===wn?Zv(n,e):t===wr?w5(n,e):void 0}(e,n,r):Qc(e,e[1],t,n)}function x5(e,n,t,r){const i=n[19].queries[r];if(null===i.matches){const a=e.data,o=t.matches,s=[];for(let l=0;l<o.length;l+=2){const c=o[l];s.push(c<0?null:Tae(n,a[c],o[l+1],t.metadata.read))}i.matches=s}return i.matches}function Dx(e,n,t,r){const i=e.queries.getByIndex(t),a=i.matches;if(null!==a){const o=x5(e,n,i,t);for(let s=0;s<a.length;s+=2){const l=a[s];if(l>0)r.push(o[s/2]);else{const c=a[s+1],u=n[-l];for(let h=10;h<u.length;h++){const d=u[h];d[17]===d[3]&&Dx(d[1],d,c,r)}if(null!==u[9]){const h=u[9];for(let d=0;d<h.length;d++){const f=h[d];Dx(f[1],f,c,r)}}}}}return r}function nt(e){const n=Q(),t=nn(),r=yP();zw(r+1);const i=D5(t,r);if(e.dirty&&function tJ(e){return 4==(4&e[2])}(n)===(2==(2&i.metadata.flags))){if(null===i.matches)e.reset([]);else{const a=i.crossesNgTemplate?Dx(t,n,r,[]):x5(t,n,i,r);e.reset(a,Cte),e.notifyOnChanges()}return!0}return!1}function Br(e,n,t){const r=nn();r.firstCreatePass&&(T5(r,new S5(e,n,t),-1),2==(2&n)&&(r.staticViewQueries=!0)),M5(r,Q(),n)}function fn(e,n,t,r){const i=nn();if(i.firstCreatePass){const a=xi();T5(i,new S5(n,t,r),a.index),function Aae(e,n){const t=e.contentQueries||(e.contentQueries=[]);n!==(t.length?t[t.length-1]:-1)&&t.push(e.queries.length-1,n)}(i,e),2==(2&t)&&(i.staticContentQueries=!0)}M5(i,Q(),t)}function rt(){return function Eae(e,n){return e[19].queries[n].queryList}(Q(),yP())}function M5(e,n,t){const r=new D0(4==(4&t));vR(e,n,r,r.destroy),null===n[19]&&(n[19]=new xx),n[19].queries.push(new Sx(r))}function T5(e,n,t){null===e.queries&&(e.queries=new Mx),e.queries.track(new Tx(n,t))}function D5(e,n){return e.queries.getByIndex(n)}function Ca(e,n){return Zv(e,n)}function Qv(...e){}const Jv=new te("Application Initializer");let e_=(()=>{class e{constructor(t){this.appInits=t,this.resolve=Qv,this.reject=Qv,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const a=this.appInits[i]();if(v0(a))t.push(a);else if(ex(a)){const o=new Promise((s,l)=>{a.subscribe({complete:s,error:l})});t.push(o)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return e.\u0275fac=function(t){return new(t||e)(G(Jv,8))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const A0=new te("AppId",{providedIn:"root",factory:function $5(){return`${Px()}${Px()}${Px()}`}});function Px(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Y5=new te("Platform Initializer"),ec=new te("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),X5=new te("appBootstrapListener"),Ox=new te("AnimationModuleType");let qae=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const Os=new te("LocaleId",{providedIn:"root",factory:()=>Nt(Os,tt.Optional|tt.SkipSelf)||function Zae(){return typeof $localize<"u"&&$localize.locale||zd}()});class Qae{constructor(n,t){this.ngModuleFactory=n,this.componentFactories=t}}let q5=(()=>{class e{compileModuleSync(t){return new gx(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),a=fl(Va(t).declarations).reduce((o,s)=>{const l=Cn(s);return l&&o.push(new p0(l)),o},[]);return new Qae(r,a)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const toe=(()=>Promise.resolve(0))();function Rx(e){typeof Zone>"u"?toe.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class it{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ae(!1),this.onMicrotaskEmpty=new Ae(!1),this.onStable=new Ae(!1),this.onError=new Ae(!1),typeof Zone>"u")throw new X(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function noe(){let e=Un.requestAnimationFrame,n=Un.cancelAnimationFrame;if(typeof Zone<"u"&&e&&n){const t=e[Zone.__symbol__("OriginalDelegate")];t&&(e=t);const r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function aoe(e){const n=()=>{!function ioe(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Un,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,kx(e),e.isCheckStableRunning=!0,Lx(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),kx(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,a,o,s)=>{try{return Q5(e),t.invokeTask(i,a,o,s)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===a.type||e.shouldCoalesceRunChangeDetection)&&n(),J5(e)}},onInvoke:(t,r,i,a,o,s,l)=>{try{return Q5(e),t.invoke(i,a,o,s,l)}finally{e.shouldCoalesceRunChangeDetection&&n(),J5(e)}},onHasTask:(t,r,i,a)=>{t.hasTask(i,a),r===i&&("microTask"==a.change?(e._hasPendingMicrotasks=a.microTask,kx(e),Lx(e)):"macroTask"==a.change&&(e.hasPendingMacrotasks=a.macroTask))},onHandleError:(t,r,i,a)=>(t.handleError(i,a),e.runOutsideAngular(()=>e.onError.emit(a)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!it.isInAngularZone())throw new X(909,!1)}static assertNotInAngularZone(){if(it.isInAngularZone())throw new X(909,!1)}run(n,t,r){return this._inner.run(n,t,r)}runTask(n,t,r,i){const a=this._inner,o=a.scheduleEventTask("NgZoneEvent: "+i,n,roe,Qv,Qv);try{return a.runTask(o,t,r)}finally{a.cancelTask(o)}}runGuarded(n,t,r){return this._inner.runGuarded(n,t,r)}runOutsideAngular(n){return this._outer.run(n)}}const roe={};function Lx(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function kx(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function Q5(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function J5(e){e._nesting--,Lx(e)}class ooe{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ae,this.onMicrotaskEmpty=new Ae,this.onStable=new Ae,this.onError=new Ae}run(n,t,r){return n.apply(t,r)}runGuarded(n,t,r){return n.apply(t,r)}runOutsideAngular(n){return n()}runTask(n,t,r,i){return n.apply(t,r)}}const ek=new te(""),t_=new te("");let Bx,Fx=(()=>{class e{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Bx||(function soe(e){Bx=e}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{it.assertNotInAngularZone(),Rx(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Rx(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let a=-1;r&&r>0&&(a=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==a),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:a,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}}return e.\u0275fac=function(t){return new(t||e)(G(it),G(zx),G(t_))},e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})(),zx=(()=>{class e{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return Bx?.findTestabilityInTree(this,t,r)??null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})(),tc=null;const tk=new te("AllowMultipleToken"),Vx=new te("PlatformDestroyListeners");class nk{constructor(n,t){this.name=n,this.token=t}}function ik(e,n,t=[]){const r=`Platform: ${n}`,i=new te(r);return(a=[])=>{let o=Hx();if(!o||o.injector.get(tk,!1)){const s=[...t,...a,{provide:i,useValue:!0}];e?e(s):function uoe(e){if(tc&&!tc.get(tk,!1))throw new X(400,!1);tc=e;const n=e.get(ok);(function rk(e){const n=e.get(Y5,null);n&&n.forEach(t=>t())})(e)}(function ak(e=[],n){return ba.create({name:n,providers:[{provide:TS,useValue:"platform"},{provide:Vx,useValue:new Set([()=>tc=null])},...e]})}(s,r))}return function doe(e){const n=Hx();if(!n)throw new X(401,!1);return n}()}}function Hx(){return tc?.get(ok)??null}let ok=(()=>{class e{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function lk(e,n){let t;return t="noop"===e?new ooe:("zone.js"===e?void 0:e)||new it(n),t}(r?.ngZone,function sk(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!e||!e.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!e||!e.ngZoneRunCoalescing)||!1}}(r)),a=[{provide:it,useValue:i}];return i.run(()=>{const o=ba.create({providers:a,parent:this.injector,name:t.moduleType.name}),s=t.create(o),l=s.injector.get(Sd,null);if(!l)throw new X(402,!1);return i.runOutsideAngular(()=>{const c=i.onError.subscribe({next:u=>{l.handleError(u)}});s.onDestroy(()=>{n_(this._modules,s),c.unsubscribe()})}),function ck(e,n,t){try{const r=t();return v0(r)?r.catch(i=>{throw n.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw n.runOutsideAngular(()=>e.handleError(r)),r}}(l,i,()=>{const c=s.injector.get(e_);return c.runInitializers(),c.donePromise.then(()=>(function RL(e){ho(e,"Expected localeId to be defined"),"string"==typeof e&&(OL=e.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Os,zd)||zd),this._moduleDoBootstrap(s),s))})})}bootstrapModule(t,r=[]){const i=uk({},r);return function loe(e,n,t){const r=new gx(t);return Promise.resolve(r)}(0,0,t).then(a=>this.bootstrapModuleFactory(a,i))}_moduleDoBootstrap(t){const r=t.injector.get(Ud);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new X(403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new X(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(Vx,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(t){return new(t||e)(G(ba))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function uk(e,n){return Array.isArray(n)?n.reduce(uk,e):{...e,...n}}let Ud=(()=>{class e{constructor(t,r,i){this._zone=t,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new mn(s=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{s.next(this._stable),s.complete()})}),o=new mn(s=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{it.assertNotInAngularZone(),Rx(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,s.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{it.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{s.next(!1)}))});return()=>{l.unsubscribe(),c.unsubscribe()}});this.isStable=fi(a,o.pipe(_r()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof YO;if(!this._injector.get(e_).done)throw!i&&function rd(e){const n=Cn(e)||Ai(e)||ji(e);return null!==n&&n.standalone}(t),new X(405,false);let o;o=i?t:this._injector.get(au).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const s=function coe(e){return e.isBoundToModule}(o)?void 0:this._injector.get(Bd),c=o.create(ba.NULL,[],r||o.selector,s),u=c.location.nativeElement,h=c.injector.get(ek,null);return h?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),n_(this.components,c),h?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new X(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;n_(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(X5,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>n_(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new X(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return e.\u0275fac=function(t){return new(t||e)(G(it),G(Es),G(Sd))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function n_(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}let un=(()=>{class e{}return e.__NG_ELEMENT_ID__=poe,e})();function poe(e){return function goe(e,n,t){if(Xp(e)&&!t){const r=Ga(e.index,n);return new f0(r,r)}return 47&e.type?new f0(n[16],n):null}(xi(),Q(),16==(16&e))}class gk{constructor(){}supports(n){return g0(n)}create(n){return new Coe(n)}}const boe=(e,n)=>n;class Coe{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||boe}forEachItem(n){let t;for(t=this._itHead;null!==t;t=t._next)n(t)}forEachOperation(n){let t=this._itHead,r=this._removalsHead,i=0,a=null;for(;t||r;){const o=!r||t&&t.currentIndex<vk(r,i,a)?t:r,s=vk(o,i,a),l=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{a||(a=[]);const c=s-i,u=l-i;if(c!=u){for(let d=0;d<c;d++){const f=d<a.length?a[d]:a[d]=0,p=f+d;u<=p&&p<c&&(a[d]=f+1)}a[o.previousIndex]=u-c}}s!==l&&n(o,s,l)}}forEachPreviousItem(n){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)n(t)}forEachMovedItem(n){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)n(t)}forEachIdentityChange(n){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)n(t)}diff(n){if(null==n&&(n=[]),!g0(n))throw new X(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i,a,o,t=this._itHead,r=!1;if(Array.isArray(n)){this.length=n.length;for(let s=0;s<this.length;s++)a=n[s],o=this._trackByFn(s,a),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,a,o,s)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,s),r=!0),t=t._next}else i=0,function nre(e,n){if(Array.isArray(e))for(let t=0;t<e.length;t++)n(e[t]);else{const t=e[ou()]();let r;for(;!(r=t.next()).done;)n(r.value)}}(n,s=>{o=this._trackByFn(i,s),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,s,o,i)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,t,r,i){let a;return null===n?a=this._itTail:(a=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._reinsertAfter(n,a,i)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._moveAfter(n,a,i)):n=this._addAfter(new woe(t,r),a,i),n}_verifyReinsertion(n,t,r,i){let a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==a?n=this._reinsertAfter(a,n._prev,i):n.currentIndex!=i&&(n.currentIndex=i,this._addToMoves(n,i)),n}_truncate(n){for(;null!==n;){const t=n._next;this._addToRemovals(this._unlink(n)),n=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const i=n._prevRemoved,a=n._nextRemoved;return null===i?this._removalsHead=a:i._nextRemoved=a,null===a?this._removalsTail=i:a._prevRemoved=i,this._insertAfter(n,t,r),this._addToMoves(n,r),n}_moveAfter(n,t,r){return this._unlink(n),this._insertAfter(n,t,r),this._addToMoves(n,r),n}_addAfter(n,t,r){return this._insertAfter(n,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,t,r){const i=null===t?this._itHead:t._next;return n._next=i,n._prev=t,null===i?this._itTail=n:i._prev=n,null===t?this._itHead=n:t._next=n,null===this._linkedRecords&&(this._linkedRecords=new mk),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const t=n._prev,r=n._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,n}_addToMoves(n,t){return n.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new mk),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,t){return n.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class woe{constructor(n,t){this.item=n,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Soe{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){const t=n._prevDup,r=n._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class mk{constructor(){this.map=new Map}put(n){const t=n.trackById;let r=this.map.get(t);r||(r=new Soe,this.map.set(t,r)),r.add(n)}get(n,t){const i=this.map.get(n);return i?i.get(n,t):null}remove(n){const t=n.trackById;return this.map.get(t).remove(n)&&this.map.delete(t),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function vk(e,n,t){const r=e.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+n+i}class _k{constructor(){}supports(n){return n instanceof Map||QS(n)}create(){return new xoe}}class xoe{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let t;for(t=this._mapHead;null!==t;t=t._next)n(t)}forEachPreviousItem(n){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)n(t)}forEachChangedItem(n){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)n(t)}diff(n){if(n){if(!(n instanceof Map||QS(n)))throw new X(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(n,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const a=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,a)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,t){if(n){const r=n._prev;return t._next=n,t._prev=r,n._prev=t,r&&(r._next=t),n===this._mapHead&&(this._mapHead=t),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(n,t){if(this._records.has(n)){const i=this._records.get(n);this._maybeAddToChanges(i,t);const a=i._prev,o=i._next;return a&&(a._next=o),o&&(o._prev=a),i._next=null,i._prev=null,i}const r=new Moe(n);return this._records.set(n,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,t){Object.is(t,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=t,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,t){n instanceof Map?n.forEach(t):Object.keys(n).forEach(r=>t(n[r],r))}}class Moe{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function yk(){return new Zi([new gk])}let Zi=(()=>{class e{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new e(t)}static extend(t){return{provide:e,useFactory:r=>e.create(t,r||yk()),deps:[[e,new t0,new vd]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new X(901,!1)}}return e.\u0275prov=q({token:e,providedIn:"root",factory:yk}),e})();function bk(){return new N0([new _k])}let N0=(()=>{class e{constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new e(t)}static extend(t){return{provide:e,useFactory:r=>e.create(t,r||bk()),deps:[[e,new t0,new vd]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new X(901,!1)}}return e.\u0275prov=q({token:e,providedIn:"root",factory:bk}),e})();const Eoe=ik(null,"core",[]);let Aoe=(()=>{class e{constructor(t){}}return e.\u0275fac=function(t){return new(t||e)(G(Ud))},e.\u0275mod=It({type:e}),e.\u0275inj=St({}),e})();function Gd(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}let $x=null;function Rs(){return $x}class Poe{}const rn=new te("DocumentToken");let Yx=(()=>{class e{historyGo(t){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=q({token:e,factory:function(){return function Ooe(){return G(Ck)}()},providedIn:"platform"}),e})();const Roe=new te("Location Initialized");let Ck=(()=>{class e extends Yx{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Rs().getBaseHref(this._doc)}onPopState(t){const r=Rs().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Rs().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){wk()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){wk()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return e.\u0275fac=function(t){return new(t||e)(G(rn))},e.\u0275prov=q({token:e,factory:function(){return function Loe(){return new Ck(G(rn))}()},providedIn:"platform"}),e})();function wk(){return!!window.history.pushState}function Xx(e,n){if(0==e.length)return n;if(0==n.length)return e;let t=0;return e.endsWith("/")&&t++,n.startsWith("/")&&t++,2==t?e+n.substring(1):1==t?e+n:e+"/"+n}function Sk(e){const n=e.match(/#|\?|$/),t=n&&n.index||e.length;return e.slice(0,t-("/"===e[t-1]?1:0))+e.slice(t)}function vl(e){return e&&"?"!==e[0]?"?"+e:e}let hu=(()=>{class e{historyGo(t){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=q({token:e,factory:function(){return Nt(Mk)},providedIn:"root"}),e})();const xk=new te("appBaseHref");let Mk=(()=>{class e extends hu{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Nt(rn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Xx(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+vl(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,a){const o=this.prepareExternalUrl(i+vl(a));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,a){const o=this.prepareExternalUrl(i+vl(a));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return e.\u0275fac=function(t){return new(t||e)(G(Yx),G(xk,8))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),koe=(()=>{class e extends hu{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Xx(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,a){let o=this.prepareExternalUrl(i+vl(a));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,a){let o=this.prepareExternalUrl(i+vl(a));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return e.\u0275fac=function(t){return new(t||e)(G(Yx),G(xk,8))},e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})(),I0=(()=>{class e{constructor(t){this._subject=new Ae,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function Boe(e){if(new RegExp("^(https?:)?//").test(e)){const[,t]=e.split(/\/\/[^\/]+/);return t}return e}(Sk(Tk(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+vl(r))}normalize(t){return e.stripTrailingSlash(function zoe(e,n){return e&&n.startsWith(e)?n.substring(e.length):n}(this._basePath,Tk(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+vl(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+vl(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return e.normalizeQueryParams=vl,e.joinWithSlash=Xx,e.stripTrailingSlash=Sk,e.\u0275fac=function(t){return new(t||e)(G(hu))},e.\u0275prov=q({token:e,factory:function(){return function Foe(){return new I0(G(hu))}()},providedIn:"root"}),e})();function Tk(e){return e.replace(/\/index.html$/,"")}var pr=(()=>((pr=pr||{})[pr.Format=0]="Format",pr[pr.Standalone=1]="Standalone",pr))(),Tt=(()=>((Tt=Tt||{})[Tt.Narrow=0]="Narrow",Tt[Tt.Abbreviated=1]="Abbreviated",Tt[Tt.Wide=2]="Wide",Tt[Tt.Short=3]="Short",Tt))(),cr=(()=>((cr=cr||{})[cr.Short=0]="Short",cr[cr.Medium=1]="Medium",cr[cr.Long=2]="Long",cr[cr.Full=3]="Full",cr))(),Qe=(()=>((Qe=Qe||{})[Qe.Decimal=0]="Decimal",Qe[Qe.Group=1]="Group",Qe[Qe.List=2]="List",Qe[Qe.PercentSign=3]="PercentSign",Qe[Qe.PlusSign=4]="PlusSign",Qe[Qe.MinusSign=5]="MinusSign",Qe[Qe.Exponential=6]="Exponential",Qe[Qe.SuperscriptingExponent=7]="SuperscriptingExponent",Qe[Qe.PerMille=8]="PerMille",Qe[Qe.Infinity=9]="Infinity",Qe[Qe.NaN=10]="NaN",Qe[Qe.TimeSeparator=11]="TimeSeparator",Qe[Qe.CurrencyDecimal=12]="CurrencyDecimal",Qe[Qe.CurrencyGroup=13]="CurrencyGroup",Qe))();function Ek(e,n,t){const r=Ri(e),a=_o([r[ye.DaysFormat],r[ye.DaysStandalone]],n);return _o(a,t)}function Ak(e,n,t){const r=Ri(e),a=_o([r[ye.MonthsFormat],r[ye.MonthsStandalone]],n);return _o(a,t)}function a_(e,n){return _o(Ri(e)[ye.DateFormat],n)}function P0(e,n){return _o(Ri(e)[ye.TimeFormat],n)}function o_(e,n){return _o(Ri(e)[ye.DateTimeFormat],n)}function vo(e,n){const t=Ri(e),r=t[ye.NumberSymbols][n];if(typeof r>"u"){if(n===Qe.CurrencyDecimal)return t[ye.NumberSymbols][Qe.Decimal];if(n===Qe.CurrencyGroup)return t[ye.NumberSymbols][Qe.Group]}return r}function Nk(e){if(!e[ye.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[ye.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function _o(e,n){for(let t=n;t>-1;t--)if(typeof e[t]<"u")return e[t];throw new Error("Locale data API: locale data undefined")}function Zx(e){const[n,t]=e.split(":");return{hours:+n,minutes:+t}}const Koe=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,O0={},Qoe=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var ti=(()=>((ti=ti||{})[ti.Short=0]="Short",ti[ti.ShortGMT=1]="ShortGMT",ti[ti.Long=2]="Long",ti[ti.Extended=3]="Extended",ti))(),st=(()=>((st=st||{})[st.FullYear=0]="FullYear",st[st.Month=1]="Month",st[st.Date=2]="Date",st[st.Hours=3]="Hours",st[st.Minutes=4]="Minutes",st[st.Seconds=5]="Seconds",st[st.FractionalSeconds=6]="FractionalSeconds",st[st.Day=7]="Day",st))(),Dt=(()=>((Dt=Dt||{})[Dt.DayPeriods=0]="DayPeriods",Dt[Dt.Days=1]="Days",Dt[Dt.Months=2]="Months",Dt[Dt.Eras=3]="Eras",Dt))();function Joe(e,n,t,r){let i=function lse(e){if(Ok(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){const[i,a=1,o=1]=e.split("-").map(s=>+s);return s_(i,a-1,o)}const t=parseFloat(e);if(!isNaN(e-t))return new Date(t);let r;if(r=e.match(Koe))return function cse(e){const n=new Date(0);let t=0,r=0;const i=e[8]?n.setUTCFullYear:n.setFullYear,a=e[8]?n.setUTCHours:n.setHours;e[9]&&(t=Number(e[9]+e[10]),r=Number(e[9]+e[11])),i.call(n,Number(e[1]),Number(e[2])-1,Number(e[3]));const o=Number(e[4]||0)-t,s=Number(e[5]||0)-r,l=Number(e[6]||0),c=Math.floor(1e3*parseFloat("0."+(e[7]||0)));return a.call(n,o,s,l,c),n}(r)}const n=new Date(e);if(!Ok(n))throw new Error(`Unable to convert "${e}" into a date`);return n}(e);n=_l(t,n)||n;let s,o=[];for(;n;){if(s=Qoe.exec(n),!s){o.push(n);break}{o=o.concat(s.slice(1));const u=o.pop();if(!u)break;n=u}}let l=i.getTimezoneOffset();r&&(l=Pk(r,l),i=function sse(e,n,t){const r=t?-1:1,i=e.getTimezoneOffset();return function ose(e,n){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+n),e}(e,r*(Pk(n,i)-i))}(i,r,!0));let c="";return o.forEach(u=>{const h=function ase(e){if(Qx[e])return Qx[e];let n;switch(e){case"G":case"GG":case"GGG":n=jn(Dt.Eras,Tt.Abbreviated);break;case"GGGG":n=jn(Dt.Eras,Tt.Wide);break;case"GGGGG":n=jn(Dt.Eras,Tt.Narrow);break;case"y":n=Hr(st.FullYear,1,0,!1,!0);break;case"yy":n=Hr(st.FullYear,2,0,!0,!0);break;case"yyy":n=Hr(st.FullYear,3,0,!1,!0);break;case"yyyy":n=Hr(st.FullYear,4,0,!1,!0);break;case"Y":n=h_(1);break;case"YY":n=h_(2,!0);break;case"YYY":n=h_(3);break;case"YYYY":n=h_(4);break;case"M":case"L":n=Hr(st.Month,1,1);break;case"MM":case"LL":n=Hr(st.Month,2,1);break;case"MMM":n=jn(Dt.Months,Tt.Abbreviated);break;case"MMMM":n=jn(Dt.Months,Tt.Wide);break;case"MMMMM":n=jn(Dt.Months,Tt.Narrow);break;case"LLL":n=jn(Dt.Months,Tt.Abbreviated,pr.Standalone);break;case"LLLL":n=jn(Dt.Months,Tt.Wide,pr.Standalone);break;case"LLLLL":n=jn(Dt.Months,Tt.Narrow,pr.Standalone);break;case"w":n=Kx(1);break;case"ww":n=Kx(2);break;case"W":n=Kx(1,!0);break;case"d":n=Hr(st.Date,1);break;case"dd":n=Hr(st.Date,2);break;case"c":case"cc":n=Hr(st.Day,1);break;case"ccc":n=jn(Dt.Days,Tt.Abbreviated,pr.Standalone);break;case"cccc":n=jn(Dt.Days,Tt.Wide,pr.Standalone);break;case"ccccc":n=jn(Dt.Days,Tt.Narrow,pr.Standalone);break;case"cccccc":n=jn(Dt.Days,Tt.Short,pr.Standalone);break;case"E":case"EE":case"EEE":n=jn(Dt.Days,Tt.Abbreviated);break;case"EEEE":n=jn(Dt.Days,Tt.Wide);break;case"EEEEE":n=jn(Dt.Days,Tt.Narrow);break;case"EEEEEE":n=jn(Dt.Days,Tt.Short);break;case"a":case"aa":case"aaa":n=jn(Dt.DayPeriods,Tt.Abbreviated);break;case"aaaa":n=jn(Dt.DayPeriods,Tt.Wide);break;case"aaaaa":n=jn(Dt.DayPeriods,Tt.Narrow);break;case"b":case"bb":case"bbb":n=jn(Dt.DayPeriods,Tt.Abbreviated,pr.Standalone,!0);break;case"bbbb":n=jn(Dt.DayPeriods,Tt.Wide,pr.Standalone,!0);break;case"bbbbb":n=jn(Dt.DayPeriods,Tt.Narrow,pr.Standalone,!0);break;case"B":case"BB":case"BBB":n=jn(Dt.DayPeriods,Tt.Abbreviated,pr.Format,!0);break;case"BBBB":n=jn(Dt.DayPeriods,Tt.Wide,pr.Format,!0);break;case"BBBBB":n=jn(Dt.DayPeriods,Tt.Narrow,pr.Format,!0);break;case"h":n=Hr(st.Hours,1,-12);break;case"hh":n=Hr(st.Hours,2,-12);break;case"H":n=Hr(st.Hours,1);break;case"HH":n=Hr(st.Hours,2);break;case"m":n=Hr(st.Minutes,1);break;case"mm":n=Hr(st.Minutes,2);break;case"s":n=Hr(st.Seconds,1);break;case"ss":n=Hr(st.Seconds,2);break;case"S":n=Hr(st.FractionalSeconds,1);break;case"SS":n=Hr(st.FractionalSeconds,2);break;case"SSS":n=Hr(st.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":n=c_(ti.Short);break;case"ZZZZZ":n=c_(ti.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":n=c_(ti.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":n=c_(ti.Long);break;default:return null}return Qx[e]=n,n}(u);c+=h?h(i,t,l):"''"===u?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function s_(e,n,t){const r=new Date(0);return r.setFullYear(e,n,t),r.setHours(0,0,0),r}function _l(e,n){const t=function Voe(e){return Ri(e)[ye.LocaleId]}(e);if(O0[t]=O0[t]||{},O0[t][n])return O0[t][n];let r="";switch(n){case"shortDate":r=a_(e,cr.Short);break;case"mediumDate":r=a_(e,cr.Medium);break;case"longDate":r=a_(e,cr.Long);break;case"fullDate":r=a_(e,cr.Full);break;case"shortTime":r=P0(e,cr.Short);break;case"mediumTime":r=P0(e,cr.Medium);break;case"longTime":r=P0(e,cr.Long);break;case"fullTime":r=P0(e,cr.Full);break;case"short":const i=_l(e,"shortTime"),a=_l(e,"shortDate");r=l_(o_(e,cr.Short),[i,a]);break;case"medium":const o=_l(e,"mediumTime"),s=_l(e,"mediumDate");r=l_(o_(e,cr.Medium),[o,s]);break;case"long":const l=_l(e,"longTime"),c=_l(e,"longDate");r=l_(o_(e,cr.Long),[l,c]);break;case"full":const u=_l(e,"fullTime"),h=_l(e,"fullDate");r=l_(o_(e,cr.Full),[u,h])}return r&&(O0[t][n]=r),r}function l_(e,n){return n&&(e=e.replace(/\{([^}]+)}/g,function(t,r){return null!=n&&r in n?n[r]:t})),e}function Qo(e,n,t="-",r,i){let a="";(e<0||i&&e<=0)&&(i?e=1-e:(e=-e,a=t));let o=String(e);for(;o.length<n;)o="0"+o;return r&&(o=o.slice(o.length-n)),a+o}function Hr(e,n,t=0,r=!1,i=!1){return function(a,o){let s=function tse(e,n){switch(e){case st.FullYear:return n.getFullYear();case st.Month:return n.getMonth();case st.Date:return n.getDate();case st.Hours:return n.getHours();case st.Minutes:return n.getMinutes();case st.Seconds:return n.getSeconds();case st.FractionalSeconds:return n.getMilliseconds();case st.Day:return n.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}(e,a);if((t>0||s>-t)&&(s+=t),e===st.Hours)0===s&&-12===t&&(s=12);else if(e===st.FractionalSeconds)return function ese(e,n){return Qo(e,3).substring(0,n)}(s,n);const l=vo(o,Qe.MinusSign);return Qo(s,n,l,r,i)}}function jn(e,n,t=pr.Format,r=!1){return function(i,a){return function nse(e,n,t,r,i,a){switch(t){case Dt.Months:return Ak(n,i,r)[e.getMonth()];case Dt.Days:return Ek(n,i,r)[e.getDay()];case Dt.DayPeriods:const o=e.getHours(),s=e.getMinutes();if(a){const c=function $oe(e){const n=Ri(e);return Nk(n),(n[ye.ExtraData][2]||[]).map(r=>"string"==typeof r?Zx(r):[Zx(r[0]),Zx(r[1])])}(n),u=function Yoe(e,n,t){const r=Ri(e);Nk(r);const a=_o([r[ye.ExtraData][0],r[ye.ExtraData][1]],n)||[];return _o(a,t)||[]}(n,i,r),h=c.findIndex(d=>{if(Array.isArray(d)){const[f,p]=d,g=o>=f.hours&&s>=f.minutes,m=o<p.hours||o===p.hours&&s<p.minutes;if(f.hours<p.hours){if(g&&m)return!0}else if(g||m)return!0}else if(d.hours===o&&d.minutes===s)return!0;return!1});if(-1!==h)return u[h]}return function Hoe(e,n,t){const r=Ri(e),a=_o([r[ye.DayPeriodsFormat],r[ye.DayPeriodsStandalone]],n);return _o(a,t)}(n,i,r)[o<12?0:1];case Dt.Eras:return function Uoe(e,n){return _o(Ri(e)[ye.Eras],n)}(n,r)[e.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,a,e,n,t,r)}}function c_(e){return function(n,t,r){const i=-1*r,a=vo(t,Qe.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(e){case ti.Short:return(i>=0?"+":"")+Qo(o,2,a)+Qo(Math.abs(i%60),2,a);case ti.ShortGMT:return"GMT"+(i>=0?"+":"")+Qo(o,1,a);case ti.Long:return"GMT"+(i>=0?"+":"")+Qo(o,2,a)+":"+Qo(Math.abs(i%60),2,a);case ti.Extended:return 0===r?"Z":(i>=0?"+":"")+Qo(o,2,a)+":"+Qo(Math.abs(i%60),2,a);default:throw new Error(`Unknown zone width "${e}"`)}}}function Ik(e){return s_(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay()))}function Kx(e,n=!1){return function(t,r){let i;if(n){const a=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,o=t.getDate();i=1+Math.floor((o+a)/7)}else{const a=Ik(t),o=function ise(e){const n=s_(e,0,1).getDay();return s_(e,0,1+(n<=4?4:11)-n)}(a.getFullYear()),s=a.getTime()-o.getTime();i=1+Math.round(s/6048e5)}return Qo(i,e,vo(r,Qe.MinusSign))}}function h_(e,n=!1){return function(t,r){return Qo(Ik(t).getFullYear(),e,vo(r,Qe.MinusSign),n)}}const Qx={};function Pk(e,n){e=e.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(t)?n:t}function Ok(e){return e instanceof Date&&!isNaN(e.valueOf())}function Fk(e,n){n=encodeURIComponent(n);for(const t of e.split(";")){const r=t.indexOf("="),[i,a]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===n)return decodeURIComponent(a)}return null}let yl=(()=>{class e{constructor(t,r,i,a){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=a,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(g0(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Fn(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return e.\u0275fac=function(t){return new(t||e)(D(Zi),D(N0),D(He),D(Ir))},e.\u0275dir=K({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),e})();class wse{constructor(n,t,r,i){this.$implicit=n,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Li=(()=>{class e{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,a,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new wse(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===a?void 0:a);else if(null!==a){const s=r.get(a);r.move(s,o),Vk(s,i)}});for(let i=0,a=r.length;i<a;i++){const s=r.get(i).context;s.index=i,s.count=a,s.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{Vk(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return e.\u0275fac=function(t){return new(t||e)(D(wr),D(wn),D(Zi))},e.\u0275dir=K({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function Vk(e,n){e.context.$implicit=n.item}let Ut=(()=>{class e{constructor(t,r){this._viewContainer=t,this._context=new xse,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Hk("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Hk("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return e.\u0275fac=function(t){return new(t||e)(D(wr),D(wn))},e.\u0275dir=K({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class xse{constructor(){this.$implicit=null,this.ngIf=null}}function Hk(e,n){if(n&&!n.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${Fn(n)}'.`)}class iM{constructor(n,t){this._viewContainerRef=n,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(n){n&&!this._created?this.create():!n&&this._created&&this.destroy()}}let L0=(()=>{class e{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(t)}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=K({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),e})(),aM=(()=>{class e{constructor(t,r,i){this.ngSwitch=i,i._addCase(),this._view=new iM(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return e.\u0275fac=function(t){return new(t||e)(D(wr),D(wn),D(L0,9))},e.\u0275dir=K({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),e})(),nc=(()=>{class e{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:i,ngTemplateOutletContext:a,ngTemplateOutletInjector:o}=this;this._viewRef=r.createEmbeddedView(i,a,o?{injector:o}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return e.\u0275fac=function(t){return new(t||e)(D(wr))},e.\u0275dir=K({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[on]}),e})();const kse=new te("DATE_PIPE_DEFAULT_TIMEZONE"),Fse=new te("DATE_PIPE_DEFAULT_OPTIONS");let k0=(()=>{class e{constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,a){if(null==t||""===t||t!=t)return null;try{return Joe(t,r??this.defaultOptions?.dateFormat??"mediumDate",a||this.locale,i??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(o){throw function Jo(e,n){return new X(2100,!1)}()}}}return e.\u0275fac=function(t){return new(t||e)(D(Os,16),D(kse,24),D(Fse,24))},e.\u0275pipe=va({name:"date",type:e,pure:!0,standalone:!0}),e})(),F0=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=It({type:e}),e.\u0275inj=St({}),e})();const $k="browser";function du(e){return e===$k}let Kse=(()=>{class e{}return e.\u0275prov=q({token:e,providedIn:"root",factory:()=>new Qse(G(rn),window)}),e})();class Qse{constructor(n,t){this.document=n,this.window=t,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const t=function Jse(e,n){const t=e.getElementById(n)||e.getElementsByName(n)[0];if(t)return t;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow)){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const a=i.shadowRoot;if(a){const o=a.getElementById(n)||a.querySelector(`[name="${n}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,n);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(n){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=n)}}scrollToElement(n){const t=n.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],i-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const n=Yk(this.window.history)||Yk(Object.getPrototypeOf(this.window.history));return!(!n||!n.writable&&!n.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Yk(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class Xk{}class Tle extends Poe{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class uM extends Tle{static makeCurrent(){!function Ioe(e){$x||($x=e)}(new uM)}onAndCancel(n,t,r){return n.addEventListener(t,r,!1),()=>{n.removeEventListener(t,r,!1)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,t){return(t=t||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return"window"===t?window:"document"===t?n:"body"===t?n.body:null}getBaseHref(n){const t=function Dle(){return B0=B0||document.querySelector("base"),B0?B0.getAttribute("href"):null}();return null==t?null:function Ele(e){p_=p_||document.createElement("a"),p_.setAttribute("href",e);const n=p_.pathname;return"/"===n.charAt(0)?n:`/${n}`}(t)}resetBaseElement(){B0=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return Fk(document.cookie,n)}}let p_,B0=null;const e6=new te("TRANSITION_ID"),Nle=[{provide:Jv,useFactory:function Ale(e,n,t){return()=>{t.get(e_).donePromise.then(()=>{const r=Rs(),i=n.querySelectorAll(`style[ng-transition="${e}"]`);for(let a=0;a<i.length;a++)r.remove(i[a])})}},deps:[e6,rn,ba],multi:!0}];let Ple=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})();const g_=new te("EventManagerPlugins");let m_=(()=>{class e{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let a=0;a<i.length;a++){const o=i[a];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return e.\u0275fac=function(t){return new(t||e)(G(g_),G(it))},e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})();class t6{constructor(n){this._doc=n}addGlobalEventListener(n,t,r){const i=Rs().getGlobalEventTarget(this._doc,n);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let n6=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})(),V0=(()=>{class e extends n6{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(a=>{const o=this._doc.createElement("style");o.textContent=a,i.push(r.appendChild(o))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(r6),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(r6))}}return e.\u0275fac=function(t){return new(t||e)(G(rn))},e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})();function r6(e){Rs().remove(e)}const hM={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},dM=/%COMP%/g;function fM(e,n){return n.flat(100).map(t=>t.replace(dM,e))}function o6(e){return n=>{if("__ngUnwrap__"===n)return e;!1===e(n)&&(n.preventDefault(),n.returnValue=!1)}}let v_=(()=>{class e{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new pM(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case Wo.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new zle(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case Wo.ShadowDom:return new Ble(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=fM(r.id,r.styles);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(t){return new(t||e)(G(m_),G(V0),G(A0))},e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})();class pM{constructor(n){this.eventManager=n,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,t){return t?document.createElementNS(hM[t]||t,n):document.createElement(n)}createComment(n){return document.createComment(n)}createText(n){return document.createTextNode(n)}appendChild(n,t){(l6(n)?n.content:n).appendChild(t)}insertBefore(n,t,r){n&&(l6(n)?n.content:n).insertBefore(t,r)}removeChild(n,t){n&&n.removeChild(t)}selectRootElement(n,t){let r="string"==typeof n?document.querySelector(n):n;if(!r)throw new Error(`The selector "${n}" did not match any elements`);return t||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,r,i){if(i){t=i+":"+t;const a=hM[i];a?n.setAttributeNS(a,t,r):n.setAttribute(t,r)}else n.setAttribute(t,r)}removeAttribute(n,t,r){if(r){const i=hM[r];i?n.removeAttributeNS(i,t):n.removeAttribute(`${r}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,r,i){i&(_a.DashCase|_a.Important)?n.style.setProperty(t,r,i&_a.Important?"important":""):n.style[t]=r}removeStyle(n,t,r){r&_a.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,r){n[t]=r}setValue(n,t){n.nodeValue=t}listen(n,t,r){return"string"==typeof n?this.eventManager.addGlobalEventListener(n,t,o6(r)):this.eventManager.addEventListener(n,t,o6(r))}}function l6(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class zle extends pM{constructor(n,t,r,i){super(n),this.component=r;const a=fM(i+"-"+r.id,r.styles);t.addStyles(a),this.contentAttr=function Lle(e){return"_ngcontent-%COMP%".replace(dM,e)}(i+"-"+r.id),this.hostAttr=function kle(e){return"_nghost-%COMP%".replace(dM,e)}(i+"-"+r.id)}applyToHost(n){super.setAttribute(n,this.hostAttr,"")}createElement(n,t){const r=super.createElement(n,t);return super.setAttribute(r,this.contentAttr,""),r}}class Ble extends pM{constructor(n,t,r,i){super(n),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=fM(i.id,i.styles);for(let o=0;o<a.length;o++){const s=document.createElement("style");s.textContent=a[o],this.shadowRoot.appendChild(s)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,r){return super.insertBefore(this.nodeOrShadowRoot(n),t,r)}removeChild(n,t){return super.removeChild(this.nodeOrShadowRoot(n),t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}}let Vle=(()=>{class e extends t6{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return e.\u0275fac=function(t){return new(t||e)(G(rn))},e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})();const c6=["alt","control","meta","shift"],Hle={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ule={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let Gle=(()=>{class e extends t6{constructor(t){super(t)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,r,i){const a=e.parseEventName(r),o=e.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Rs().onAndCancel(t,a.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const a=e._normalizeKey(r.pop());let o="",s=r.indexOf("code");if(s>-1&&(r.splice(s,1),o="code."),c6.forEach(c=>{const u=r.indexOf(c);u>-1&&(r.splice(u,1),o+=c+".")}),o+=a,0!=r.length||0===a.length)return null;const l={};return l.domEventName=i,l.fullKey=o,l}static matchEventFullKeyCode(t,r){let i=Hle[t.key]||t.key,a="";return r.indexOf("code.")>-1&&(i=t.code,a="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),c6.forEach(o=>{o!==i&&(0,Ule[o])(t)&&(a+=o+".")}),a+=i,a===r)}static eventCallback(t,r,i){return a=>{e.matchEventFullKeyCode(a,t)&&i.runGuarded(()=>r(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return e.\u0275fac=function(t){return new(t||e)(G(rn))},e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})();const h6=[{provide:ec,useValue:$k},{provide:Y5,useValue:function Wle(){uM.makeCurrent()},multi:!0},{provide:rn,useFactory:function $le(){return function Lee(e){_S=e}(document),document},deps:[]}],Yle=ik(Eoe,"browser",h6),d6=new te(""),f6=[{provide:t_,useClass:class Ile{addToWindow(n){Un.getAngularTestability=(r,i=!0)=>{const a=n.findTestabilityInTree(r,i);if(null==a)throw new Error("Could not find testability for element.");return a},Un.getAllAngularTestabilities=()=>n.getAllTestabilities(),Un.getAllAngularRootElements=()=>n.getAllRootElements(),Un.frameworkStabilizers||(Un.frameworkStabilizers=[]),Un.frameworkStabilizers.push(r=>{const i=Un.getAllAngularTestabilities();let a=i.length,o=!1;const s=function(l){o=o||l,a--,0==a&&r(o)};i.forEach(function(l){l.whenStable(s)})})}findTestabilityInTree(n,t,r){return null==t?null:n.getTestability(t)??(r?Rs().isShadowRoot(t)?this.findTestabilityInTree(n,t.host,!0):this.findTestabilityInTree(n,t.parentElement,!0):null)}},deps:[]},{provide:ek,useClass:Fx,deps:[it,zx,t_]},{provide:Fx,useClass:Fx,deps:[it,zx,t_]}],p6=[{provide:TS,useValue:"root"},{provide:Sd,useFactory:function jle(){return new Sd},deps:[]},{provide:g_,useClass:Vle,multi:!0,deps:[rn,it,ec]},{provide:g_,useClass:Gle,multi:!0,deps:[rn]},{provide:v_,useClass:v_,deps:[m_,V0,A0]},{provide:u0,useExisting:v_},{provide:n6,useExisting:V0},{provide:V0,useClass:V0,deps:[rn]},{provide:m_,useClass:m_,deps:[g_,it]},{provide:Xk,useClass:Ple,deps:[]},[]];let g6=(()=>{class e{constructor(t){}static withServerTransition(t){return{ngModule:e,providers:[{provide:A0,useValue:t.appId},{provide:e6,useExisting:A0},Nle]}}}return e.\u0275fac=function(t){return new(t||e)(G(d6,12))},e.\u0275mod=It({type:e}),e.\u0275inj=St({providers:[...p6,...f6],imports:[F0,Aoe]}),e})(),m6=(()=>{class e{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return e.\u0275fac=function(t){return new(t||e)(G(rn))},e.\u0275prov=q({token:e,factory:function(t){let r=null;return r=t?new t:function qle(){return new m6(G(rn))}(),r},providedIn:"root"}),e})();typeof window<"u"&&window;let fu=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=q({token:e,factory:function(t){let r=null;return r=t?new(t||e):G(y6),r},providedIn:"root"}),e})(),y6=(()=>{class e extends fu{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case Gn.NONE:return r;case Gn.HTML:return Ds(r,"HTML")?ja(r):RO(this._doc,String(r)).toString();case Gn.STYLE:return Ds(r,"Style")?ja(r):r;case Gn.SCRIPT:if(Ds(r,"Script"))return ja(r);throw new Error("unsafe value used in a script context");case Gn.URL:return Ds(r,"URL")?ja(r):Dv(String(r));case Gn.RESOURCE_URL:if(Ds(r,"ResourceURL"))return ja(r);throw new Error(`unsafe value used in a resource URL context (see ${Xm})`);default:throw new Error(`Unexpected SecurityContext ${t} (see ${Xm})`)}}bypassSecurityTrustHtml(t){return function Uee(e){return new kee(e)}(t)}bypassSecurityTrustStyle(t){return function Gee(e){return new Fee(e)}(t)}bypassSecurityTrustScript(t){return function Wee(e){return new zee(e)}(t)}bypassSecurityTrustUrl(t){return function jee(e){return new Bee(e)}(t)}bypassSecurityTrustResourceUrl(t){return function $ee(e){return new Vee(e)}(t)}}return e.\u0275fac=function(t){return new(t||e)(G(rn))},e.\u0275prov=q({token:e,factory:function(t){let r=null;return r=t?new t:function nce(e){return new y6(e.get(rn))}(G(ba)),r},providedIn:"root"}),e})();class b6{}class rce{}const bl="*";function __(e,n){return{type:7,name:e,definitions:n,options:{}}}function pu(e,n=null){return{type:4,styles:n,timings:e}}function C6(e,n=null){return{type:2,steps:e,options:n}}function es(e){return{type:6,styles:e,offset:null}}function Wd(e,n,t){return{type:0,name:e,styles:n,options:t}}function gu(e,n,t=null){return{type:1,expr:e,animation:n,options:t}}function w6(e){Promise.resolve().then(e)}class H0{constructor(n=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=n+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){w6(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(n=>n()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(n){this._position=this.totalTime?n*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(n){const t="start"==n?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class S6{constructor(n){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=n;let t=0,r=0,i=0;const a=this.players.length;0==a?w6(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==a&&this._onFinish()}),o.onDestroy(()=>{++r==a&&this._onDestroy()}),o.onStart(()=>{++i==a&&this._onStart()})}),this.totalTime=this.players.reduce((o,s)=>Math.max(o,s.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this.players.forEach(n=>n.init())}onStart(n){this._onStartFns.push(n)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(n=>n()),this._onStartFns=[])}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(n=>n.play())}pause(){this.players.forEach(n=>n.pause())}restart(){this.players.forEach(n=>n.restart())}finish(){this._onFinish(),this.players.forEach(n=>n.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(n=>n.destroy()),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this.players.forEach(n=>n.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(n){const t=n*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const n=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=n?n.getPosition():0}beforeDestroy(){this.players.forEach(n=>{n.beforeDestroy&&n.beforeDestroy()})}triggerCallback(n){const t="start"==n?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function x6(e){return new X(3e3,!1)}function zce(){return typeof window<"u"&&typeof window.document<"u"}function _M(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function ic(e){switch(e.length){case 0:return new H0;case 1:return e[0];default:return new S6(e)}}function M6(e,n,t,r,i=new Map,a=new Map){const o=[],s=[];let l=-1,c=null;if(r.forEach(u=>{const h=u.get("offset"),d=h==l,f=d&&c||new Map;u.forEach((p,g)=>{let m=g,v=p;if("offset"!==g)switch(m=n.normalizePropertyName(m,o),v){case"!":v=i.get(g);break;case bl:v=a.get(g);break;default:v=n.normalizeStyleValue(g,m,v,o)}f.set(m,v)}),d||s.push(f),c=f,l=h}),o.length)throw function Tce(e){return new X(3502,!1)}();return s}function yM(e,n,t,r){switch(n){case"start":e.onStart(()=>r(t&&bM(t,"start",e)));break;case"done":e.onDone(()=>r(t&&bM(t,"done",e)));break;case"destroy":e.onDestroy(()=>r(t&&bM(t,"destroy",e)))}}function bM(e,n,t){const a=CM(e.element,e.triggerName,e.fromState,e.toState,n||e.phaseName,t.totalTime??e.totalTime,!!t.disabled),o=e._data;return null!=o&&(a._data=o),a}function CM(e,n,t,r,i="",a=0,o){return{element:e,triggerName:n,fromState:t,toState:r,phaseName:i,totalTime:a,disabled:!!o}}function Xa(e,n,t){let r=e.get(n);return r||e.set(n,r=t),r}function T6(e){const n=e.indexOf(":");return[e.substring(1,n),e.slice(n+1)]}let wM=(e,n)=>!1,D6=(e,n,t)=>[],E6=null;function SM(e){const n=e.parentNode||e.host;return n===E6?null:n}(_M()||typeof Element<"u")&&(zce()?(E6=(()=>document.documentElement)(),wM=(e,n)=>{for(;n;){if(n===e)return!0;n=SM(n)}return!1}):wM=(e,n)=>e.contains(n),D6=(e,n,t)=>{if(t)return Array.from(e.querySelectorAll(n));const r=e.querySelector(n);return r?[r]:[]});let mu=null,A6=!1;const N6=wM,I6=D6;let P6=(()=>{class e{validateStyleProperty(t){return function Vce(e){mu||(mu=function Hce(){return typeof document<"u"?document.body:null}()||{},A6=!!mu.style&&"WebkitAppearance"in mu.style);let n=!0;return mu.style&&!function Bce(e){return"ebkit"==e.substring(1,6)}(e)&&(n=e in mu.style,!n&&A6&&(n="Webkit"+e.charAt(0).toUpperCase()+e.slice(1)in mu.style)),n}(t)}matchesElement(t,r){return!1}containsElement(t,r){return N6(t,r)}getParentElement(t){return SM(t)}query(t,r,i){return I6(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,a,o,s=[],l){return new H0(i,a)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})(),xM=(()=>{class e{}return e.NOOP=new P6,e})();const MM="ng-enter",y_="ng-leave",b_="ng-trigger",C_=".ng-trigger",R6="ng-animating",TM=".ng-animating";function Cl(e){if("number"==typeof e)return e;const n=e.match(/^(-?[\.\d]+)(m?s)/);return!n||n.length<2?0:DM(parseFloat(n[1]),n[2])}function DM(e,n){return"s"===n?1e3*e:e}function w_(e,n,t){return e.hasOwnProperty("duration")?e:function Wce(e,n,t){let i,a=0,o="";if("string"==typeof e){const s=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===s)return n.push(x6()),{duration:0,delay:0,easing:""};i=DM(parseFloat(s[1]),s[2]);const l=s[3];null!=l&&(a=DM(parseFloat(l),s[4]));const c=s[5];c&&(o=c)}else i=e;if(!t){let s=!1,l=n.length;i<0&&(n.push(function ice(){return new X(3100,!1)}()),s=!0),a<0&&(n.push(function ace(){return new X(3101,!1)}()),s=!0),s&&n.splice(l,0,x6())}return{duration:i,delay:a,easing:o}}(e,n,t)}function U0(e,n={}){return Object.keys(e).forEach(t=>{n[t]=e[t]}),n}function L6(e){const n=new Map;return Object.keys(e).forEach(t=>{n.set(t,e[t])}),n}function ac(e,n=new Map,t){if(t)for(let[r,i]of t)n.set(r,i);for(let[r,i]of e)n.set(r,i);return n}function F6(e,n,t){return t?n+":"+t+";":""}function z6(e){let n="";for(let t=0;t<e.style.length;t++){const r=e.style.item(t);n+=F6(0,r,e.style.getPropertyValue(r))}for(const t in e.style)e.style.hasOwnProperty(t)&&!t.startsWith("_")&&(n+=F6(0,Xce(t),e.style[t]));e.setAttribute("style",n)}function Ls(e,n,t){e.style&&(n.forEach((r,i)=>{const a=AM(i);t&&!t.has(i)&&t.set(i,e.style[a]),e.style[a]=r}),_M()&&z6(e))}function vu(e,n){e.style&&(n.forEach((t,r)=>{const i=AM(r);e.style[i]=""}),_M()&&z6(e))}function G0(e){return Array.isArray(e)?1==e.length?e[0]:C6(e):e}const EM=new RegExp("{{\\s*(.+?)\\s*}}","g");function B6(e){let n=[];if("string"==typeof e){let t;for(;t=EM.exec(e);)n.push(t[1]);EM.lastIndex=0}return n}function W0(e,n,t){const r=e.toString(),i=r.replace(EM,(a,o)=>{let s=n[o];return null==s&&(t.push(function sce(e){return new X(3003,!1)}()),s=""),s.toString()});return i==r?e:i}function S_(e){const n=[];let t=e.next();for(;!t.done;)n.push(t.value),t=e.next();return n}const Yce=/-+([a-z0-9])/g;function AM(e){return e.replace(Yce,(...n)=>n[1].toUpperCase())}function Xce(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function qa(e,n,t){switch(n.type){case 7:return e.visitTrigger(n,t);case 0:return e.visitState(n,t);case 1:return e.visitTransition(n,t);case 2:return e.visitSequence(n,t);case 3:return e.visitGroup(n,t);case 4:return e.visitAnimate(n,t);case 5:return e.visitKeyframes(n,t);case 6:return e.visitStyle(n,t);case 8:return e.visitReference(n,t);case 9:return e.visitAnimateChild(n,t);case 10:return e.visitAnimateRef(n,t);case 11:return e.visitQuery(n,t);case 12:return e.visitStagger(n,t);default:throw function lce(e){return new X(3004,!1)}()}}function V6(e,n){return window.getComputedStyle(e)[n]}function eue(e,n){const t=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(r=>function tue(e,n,t){if(":"==e[0]){const l=function nue(e,n){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return n.push(function wce(e){return new X(3016,!1)}()),"* => *"}}(e,t);if("function"==typeof l)return void n.push(l);e=l}const r=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function Cce(e){return new X(3015,!1)}()),n;const i=r[1],a=r[2],o=r[3];n.push(H6(i,o));"<"==a[0]&&!("*"==i&&"*"==o)&&n.push(H6(o,i))}(r,t,n)):t.push(e),t}const D_=new Set(["true","1"]),E_=new Set(["false","0"]);function H6(e,n){const t=D_.has(e)||E_.has(e),r=D_.has(n)||E_.has(n);return(i,a)=>{let o="*"==e||e==i,s="*"==n||n==a;return!o&&t&&"boolean"==typeof i&&(o=i?D_.has(e):E_.has(e)),!s&&r&&"boolean"==typeof a&&(s=a?D_.has(n):E_.has(n)),o&&s}}const rue=new RegExp("s*:selfs*,?","g");function NM(e,n,t,r){return new iue(e).build(n,t,r)}class iue{constructor(n){this._driver=n}build(n,t,r){const i=new sue(t);return this._resetContextStyleTimingState(i),qa(this,G0(n),i)}_resetContextStyleTimingState(n){n.currentQuerySelector="",n.collectedStyles=new Map,n.collectedStyles.set("",new Map),n.currentTime=0}visitTrigger(n,t){let r=t.queryCount=0,i=t.depCount=0;const a=[],o=[];return"@"==n.name.charAt(0)&&t.errors.push(function uce(){return new X(3006,!1)}()),n.definitions.forEach(s=>{if(this._resetContextStyleTimingState(t),0==s.type){const l=s,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,a.push(this.visitState(l,t))}),l.name=c}else if(1==s.type){const l=this.visitTransition(s,t);r+=l.queryCount,i+=l.depCount,o.push(l)}else t.errors.push(function hce(){return new X(3007,!1)}())}),{type:7,name:n.name,states:a,transitions:o,queryCount:r,depCount:i,options:null}}visitState(n,t){const r=this.visitStyle(n.styles,t),i=n.options&&n.options.params||null;if(r.containsDynamicStyles){const a=new Set,o=i||{};r.styles.forEach(s=>{s instanceof Map&&s.forEach(l=>{B6(l).forEach(c=>{o.hasOwnProperty(c)||a.add(c)})})}),a.size&&(S_(a.values()),t.errors.push(function dce(e,n){return new X(3008,!1)}()))}return{type:0,name:n.name,style:r,options:i?{params:i}:null}}visitTransition(n,t){t.queryCount=0,t.depCount=0;const r=qa(this,G0(n.animation),t);return{type:1,matchers:eue(n.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:_u(n.options)}}visitSequence(n,t){return{type:2,steps:n.steps.map(r=>qa(this,r,t)),options:_u(n.options)}}visitGroup(n,t){const r=t.currentTime;let i=0;const a=n.steps.map(o=>{t.currentTime=r;const s=qa(this,o,t);return i=Math.max(i,t.currentTime),s});return t.currentTime=i,{type:3,steps:a,options:_u(n.options)}}visitAnimate(n,t){const r=function cue(e,n){if(e.hasOwnProperty("duration"))return e;if("number"==typeof e)return IM(w_(e,n).duration,0,"");const t=e;if(t.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=IM(0,0,"");return a.dynamic=!0,a.strValue=t,a}const i=w_(t,n);return IM(i.duration,i.delay,i.easing)}(n.timings,t.errors);t.currentAnimateTimings=r;let i,a=n.styles?n.styles:es({});if(5==a.type)i=this.visitKeyframes(a,t);else{let o=n.styles,s=!1;if(!o){s=!0;const c={};r.easing&&(c.easing=r.easing),o=es(c)}t.currentTime+=r.duration+r.delay;const l=this.visitStyle(o,t);l.isEmptyStep=s,i=l}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(n,t){const r=this._makeStyleAst(n,t);return this._validateStyleAst(r,t),r}_makeStyleAst(n,t){const r=[],i=Array.isArray(n.styles)?n.styles:[n.styles];for(let s of i)"string"==typeof s?s===bl?r.push(s):t.errors.push(new X(3002,!1)):r.push(L6(s));let a=!1,o=null;return r.forEach(s=>{if(s instanceof Map&&(s.has("easing")&&(o=s.get("easing"),s.delete("easing")),!a))for(let l of s.values())if(l.toString().indexOf("{{")>=0){a=!0;break}}),{type:6,styles:r,easing:o,offset:n.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(n,t){const r=t.currentAnimateTimings;let i=t.currentTime,a=t.currentTime;r&&a>0&&(a-=r.duration+r.delay),n.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,l)=>{const c=t.collectedStyles.get(t.currentQuerySelector),u=c.get(l);let h=!0;u&&(a!=i&&a>=u.startTime&&i<=u.endTime&&(t.errors.push(function pce(e,n,t,r,i){return new X(3010,!1)}()),h=!1),a=u.startTime),h&&c.set(l,{startTime:a,endTime:i}),t.options&&function $ce(e,n,t){const r=n.params||{},i=B6(e);i.length&&i.forEach(a=>{r.hasOwnProperty(a)||t.push(function oce(e){return new X(3001,!1)}())})}(s,t.options,t.errors)})})}visitKeyframes(n,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function gce(){return new X(3011,!1)}()),r;let a=0;const o=[];let s=!1,l=!1,c=0;const u=n.steps.map(v=>{const _=this._makeStyleAst(v,t);let y=null!=_.offset?_.offset:function lue(e){if("string"==typeof e)return null;let n=null;if(Array.isArray(e))e.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;n=parseFloat(r.get("offset")),r.delete("offset")}});else if(e instanceof Map&&e.has("offset")){const t=e;n=parseFloat(t.get("offset")),t.delete("offset")}return n}(_.styles),b=0;return null!=y&&(a++,b=_.offset=y),l=l||b<0||b>1,s=s||b<c,c=b,o.push(b),_});l&&t.errors.push(function mce(){return new X(3012,!1)}()),s&&t.errors.push(function vce(){return new X(3200,!1)}());const h=n.steps.length;let d=0;a>0&&a<h?t.errors.push(function _ce(){return new X(3202,!1)}()):0==a&&(d=1/(h-1));const f=h-1,p=t.currentTime,g=t.currentAnimateTimings,m=g.duration;return u.forEach((v,_)=>{const y=d>0?_==f?1:d*_:o[_],b=y*m;t.currentTime=p+g.delay+b,g.duration=b,this._validateStyleAst(v,t),v.offset=y,r.styles.push(v)}),r}visitReference(n,t){return{type:8,animation:qa(this,G0(n.animation),t),options:_u(n.options)}}visitAnimateChild(n,t){return t.depCount++,{type:9,options:_u(n.options)}}visitAnimateRef(n,t){return{type:10,animation:this.visitReference(n.animation,t),options:_u(n.options)}}visitQuery(n,t){const r=t.currentQuerySelector,i=n.options||{};t.queryCount++,t.currentQuery=n;const[a,o]=function aue(e){const n=!!e.split(/\s*,\s*/).find(t=>":self"==t);return n&&(e=e.replace(rue,"")),e=e.replace(/@\*/g,C_).replace(/@\w+/g,t=>C_+"-"+t.slice(1)).replace(/:animating/g,TM),[e,n]}(n.selector);t.currentQuerySelector=r.length?r+" "+a:a,Xa(t.collectedStyles,t.currentQuerySelector,new Map);const s=qa(this,G0(n.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:a,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:s,originalSelector:n.selector,options:_u(n.options)}}visitStagger(n,t){t.currentQuery||t.errors.push(function yce(){return new X(3013,!1)}());const r="full"===n.timings?{duration:0,delay:0,easing:"full"}:w_(n.timings,t.errors,!0);return{type:12,animation:qa(this,G0(n.animation),t),timings:r,options:null}}}class sue{constructor(n){this.errors=n,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function _u(e){return e?(e=U0(e)).params&&(e.params=function oue(e){return e?U0(e):null}(e.params)):e={},e}function IM(e,n,t){return{duration:e,delay:n,easing:t}}function PM(e,n,t,r,i,a,o=null,s=!1){return{type:1,element:e,keyframes:n,preStyleProps:t,postStyleProps:r,duration:i,delay:a,totalTime:i+a,easing:o,subTimeline:s}}class A_{constructor(){this._map=new Map}get(n){return this._map.get(n)||[]}append(n,t){let r=this._map.get(n);r||this._map.set(n,r=[]),r.push(...t)}has(n){return this._map.has(n)}clear(){this._map.clear()}}const due=new RegExp(":enter","g"),pue=new RegExp(":leave","g");function OM(e,n,t,r,i,a=new Map,o=new Map,s,l,c=[]){return(new gue).buildKeyframes(e,n,t,r,i,a,o,s,l,c)}class gue{buildKeyframes(n,t,r,i,a,o,s,l,c,u=[]){c=c||new A_;const h=new RM(n,t,c,i,a,u,[]);h.options=l;const d=l.delay?Cl(l.delay):0;h.currentTimeline.delayNextStep(d),h.currentTimeline.setStyles([o],null,h.errors,l),qa(this,r,h);const f=h.timelines.filter(p=>p.containsAnimation());if(f.length&&s.size){let p;for(let g=f.length-1;g>=0;g--){const m=f[g];if(m.element===t){p=m;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([s],null,h.errors,l)}return f.length?f.map(p=>p.buildKeyframes()):[PM(t,[],[],[],0,d,"",!1)]}visitTrigger(n,t){}visitState(n,t){}visitTransition(n,t){}visitAnimateChild(n,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(n.options),a=t.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);a!=o&&t.transformIntoNewTimeline(o)}t.previousNode=n}visitAnimateRef(n,t){const r=t.createSubContext(n.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([n.options,n.animation.options],t,r),this.visitReference(n.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=n}_applyAnimationRefDelays(n,t,r){for(const i of n){const a=i?.delay;if(a){const o="number"==typeof a?a:Cl(W0(a,i?.params??{},t.errors));r.delayNextStep(o)}}}_visitSubInstructions(n,t,r){let a=t.currentTimeline.currentTime;const o=null!=r.duration?Cl(r.duration):null,s=null!=r.delay?Cl(r.delay):null;return 0!==o&&n.forEach(l=>{const c=t.appendInstructionToTimeline(l,o,s);a=Math.max(a,c.duration+c.delay)}),a}visitReference(n,t){t.updateOptions(n.options,!0),qa(this,n.animation,t),t.previousNode=n}visitSequence(n,t){const r=t.subContextCount;let i=t;const a=n.options;if(a&&(a.params||a.delay)&&(i=t.createSubContext(a),i.transformIntoNewTimeline(),null!=a.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=N_);const o=Cl(a.delay);i.delayNextStep(o)}n.steps.length&&(n.steps.forEach(o=>qa(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=n}visitGroup(n,t){const r=[];let i=t.currentTimeline.currentTime;const a=n.options&&n.options.delay?Cl(n.options.delay):0;n.steps.forEach(o=>{const s=t.createSubContext(n.options);a&&s.delayNextStep(a),qa(this,o,s),i=Math.max(i,s.currentTimeline.currentTime),r.push(s.currentTimeline)}),r.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(i),t.previousNode=n}_visitTiming(n,t){if(n.dynamic){const r=n.strValue;return w_(t.params?W0(r,t.params,t.errors):r,t.errors)}return{duration:n.duration,delay:n.delay,easing:n.easing}}visitAnimate(n,t){const r=t.currentAnimateTimings=this._visitTiming(n.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const a=n.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(r.duration),this.visitStyle(a,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=n}visitStyle(n,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const a=i&&i.easing||n.easing;n.isEmptyStep?r.applyEmptyStep(a):r.setStyles(n.styles,a,t.errors,t.options),t.previousNode=n}visitKeyframes(n,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,a=r.duration,s=t.createSubContext().currentTimeline;s.easing=r.easing,n.styles.forEach(l=>{s.forwardTime((l.offset||0)*a),s.setStyles(l.styles,l.easing,t.errors,t.options),s.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(s),t.transformIntoNewTimeline(i+a),t.previousNode=n}visitQuery(n,t){const r=t.currentTimeline.currentTime,i=n.options||{},a=i.delay?Cl(i.delay):0;a&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=N_);let o=r;const s=t.invokeQuery(n.selector,n.originalSelector,n.limit,n.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=s.length;let l=null;s.forEach((c,u)=>{t.currentQueryIndex=u;const h=t.createSubContext(n.options,c);a&&h.delayNextStep(a),c===t.element&&(l=h.currentTimeline),qa(this,n.animation,h),h.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,h.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=n}visitStagger(n,t){const r=t.parentContext,i=t.currentTimeline,a=n.timings,o=Math.abs(a.duration),s=o*(t.currentQueryTotal-1);let l=o*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":l=s-l;break;case"full":l=r.currentStaggerTime}const u=t.currentTimeline;l&&u.delayNextStep(l);const h=u.currentTime;qa(this,n.animation,t),t.previousNode=n,r.currentStaggerTime=i.currentTime-h+(i.startTime-r.currentTimeline.startTime)}}const N_={};class RM{constructor(n,t,r,i,a,o,s,l){this._driver=n,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=a,this.errors=o,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=N_,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new I_(this._driver,t,0),s.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(n,t){if(!n)return;const r=n;let i=this.options;null!=r.duration&&(i.duration=Cl(r.duration)),null!=r.delay&&(i.delay=Cl(r.delay));const a=r.params;if(a){let o=i.params;o||(o=this.options.params={}),Object.keys(a).forEach(s=>{(!t||!o.hasOwnProperty(s))&&(o[s]=W0(a[s],o,this.errors))})}}_copyOptions(){const n={};if(this.options){const t=this.options.params;if(t){const r=n.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return n}createSubContext(n=null,t,r){const i=t||this.element,a=new RM(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(n),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(n){return this.previousNode=N_,this.currentTimeline=this.currentTimeline.fork(this.element,n),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(n,t,r){const i={duration:t??n.duration,delay:this.currentTimeline.currentTime+(r??0)+n.delay,easing:""},a=new mue(this._driver,n.element,n.keyframes,n.preStyleProps,n.postStyleProps,i,n.stretchStartingKeyframe);return this.timelines.push(a),i}incrementTime(n){this.currentTimeline.forwardTime(this.currentTimeline.duration+n)}delayNextStep(n){n>0&&this.currentTimeline.delayNextStep(n)}invokeQuery(n,t,r,i,a,o){let s=[];if(i&&s.push(this.element),n.length>0){n=(n=n.replace(due,"."+this._enterClassName)).replace(pue,"."+this._leaveClassName);let c=this._driver.query(this.element,n,1!=r);0!==r&&(c=r<0?c.slice(c.length+r,c.length):c.slice(0,r)),s.push(...c)}return!a&&0==s.length&&o.push(function bce(e){return new X(3014,!1)}()),s}}class I_{constructor(n,t,r,i){this._driver=n,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(n){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+n),t&&this.snapshotCurrentStyles()):this.startTime+=n}fork(n,t){return this.applyStylesToKeyframe(),new I_(this._driver,n,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(n){this.applyStylesToKeyframe(),this.duration=n,this._loadKeyframe()}_updateStyle(n,t){this._localTimelineStyles.set(n,t),this._globalTimelineStyles.set(n,t),this._styleSummary.set(n,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(n){n&&this._previousKeyframe.set("easing",n);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||bl),this._currentKeyframe.set(t,bl);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(n,t,r,i){t&&this._previousKeyframe.set("easing",t);const a=i&&i.params||{},o=function vue(e,n){const t=new Map;let r;return e.forEach(i=>{if("*"===i){r=r||n.keys();for(let a of r)t.set(a,bl)}else ac(i,t)}),t}(n,this._globalTimelineStyles);for(let[s,l]of o){const c=W0(l,a,r);this._pendingStyles.set(s,c),this._localTimelineStyles.has(s)||this._backFill.set(s,this._globalTimelineStyles.get(s)??bl),this._updateStyle(s,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((n,t)=>{this._currentKeyframe.set(t,n)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((n,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,n)}))}snapshotCurrentStyles(){for(let[n,t]of this._localTimelineStyles)this._pendingStyles.set(n,t),this._updateStyle(n,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const n=[];for(let t in this._currentKeyframe)n.push(t);return n}mergeTimelineCollectedStyles(n){n._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const n=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((s,l)=>{const c=ac(s,new Map,this._backFill);c.forEach((u,h)=>{"!"===u?n.add(h):u===bl&&t.add(h)}),r||c.set("offset",l/this.duration),i.push(c)});const a=n.size?S_(n.values()):[],o=t.size?S_(t.values()):[];if(r){const s=i[0],l=new Map(s);s.set("offset",0),l.set("offset",1),i=[s,l]}return PM(this.element,i,a,o,this.duration,this.startTime,this.easing,!1)}}class mue extends I_{constructor(n,t,r,i,a,o,s=!1){super(n,t,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=a,this._stretchStartingKeyframe=s,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let n=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],o=r+t,s=t/o,l=ac(n[0]);l.set("offset",0),a.push(l);const c=ac(n[0]);c.set("offset",W6(s)),a.push(c);const u=n.length-1;for(let h=1;h<=u;h++){let d=ac(n[h]);const f=d.get("offset");d.set("offset",W6((t+f*r)/o)),a.push(d)}r=o,t=0,i="",n=a}return PM(this.element,n,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function W6(e,n=3){const t=Math.pow(10,n-1);return Math.round(e*t)/t}class LM{}const _ue=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class yue extends LM{normalizePropertyName(n,t){return AM(n)}normalizeStyleValue(n,t,r,i){let a="";const o=r.toString().trim();if(_ue.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)a="px";else{const s=r.match(/^[+-]?[\d\.]+([a-z]*)$/);s&&0==s[1].length&&i.push(function cce(e,n){return new X(3005,!1)}())}return o+a}}function j6(e,n,t,r,i,a,o,s,l,c,u,h,d){return{type:0,element:e,triggerName:n,isRemovalTransition:i,fromState:t,fromStyles:a,toState:r,toStyles:o,timelines:s,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:h,errors:d}}const kM={};class $6{constructor(n,t,r){this._triggerName=n,this.ast=t,this._stateStyles=r}match(n,t,r,i){return function bue(e,n,t,r,i){return e.some(a=>a(n,t,r,i))}(this.ast.matchers,n,t,r,i)}buildStyles(n,t,r){let i=this._stateStyles.get("*");return void 0!==n&&(i=this._stateStyles.get(n?.toString())||i),i?i.buildStyles(t,r):new Map}build(n,t,r,i,a,o,s,l,c,u){const h=[],d=this.ast.options&&this.ast.options.params||kM,p=this.buildStyles(r,s&&s.params||kM,h),g=l&&l.params||kM,m=this.buildStyles(i,g,h),v=new Set,_=new Map,y=new Map,b="void"===i,w={params:Cue(g,d),delay:this.ast.options?.delay},C=u?[]:OM(n,t,this.ast.animation,a,o,p,m,w,c,h);let S=0;if(C.forEach(M=>{S=Math.max(M.duration+M.delay,S)}),h.length)return j6(t,this._triggerName,r,i,b,p,m,[],[],_,y,S,h);C.forEach(M=>{const E=M.element,T=Xa(_,E,new Set);M.preStyleProps.forEach(N=>T.add(N));const A=Xa(y,E,new Set);M.postStyleProps.forEach(N=>A.add(N)),E!==t&&v.add(E)});const x=S_(v.values());return j6(t,this._triggerName,r,i,b,p,m,C,x,_,y,S)}}function Cue(e,n){const t=U0(n);for(const r in e)e.hasOwnProperty(r)&&null!=e[r]&&(t[r]=e[r]);return t}class wue{constructor(n,t,r){this.styles=n,this.defaultParams=t,this.normalizer=r}buildStyles(n,t){const r=new Map,i=U0(this.defaultParams);return Object.keys(n).forEach(a=>{const o=n[a];null!==o&&(i[a]=o)}),this.styles.styles.forEach(a=>{"string"!=typeof a&&a.forEach((o,s)=>{o&&(o=W0(o,i,t));const l=this.normalizer.normalizePropertyName(s,t);o=this.normalizer.normalizeStyleValue(s,l,o,t),r.set(s,o)})}),r}}class xue{constructor(n,t,r){this.name=n,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new wue(i.style,i.options&&i.options.params||{},r))}),Y6(this.states,"true","1"),Y6(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new $6(n,i,this.states))}),this.fallbackTransition=function Mue(e,n,t){return new $6(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,s)=>!0],options:null,queryCount:0,depCount:0},n)}(n,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(n,t,r,i){return this.transitionFactories.find(o=>o.match(n,t,r,i))||null}matchStyles(n,t,r){return this.fallbackTransition.buildStyles(n,t,r)}}function Y6(e,n,t){e.has(n)?e.has(t)||e.set(t,e.get(n)):e.has(t)&&e.set(n,e.get(t))}const Tue=new A_;class Due{constructor(n,t,r){this.bodyNode=n,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(n,t){const r=[],a=NM(this._driver,t,r,[]);if(r.length)throw function Dce(e){return new X(3503,!1)}();this._animations.set(n,a)}_buildPlayer(n,t,r){const i=n.element,a=M6(0,this._normalizer,0,n.keyframes,t,r);return this._driver.animate(i,a,n.duration,n.delay,n.easing,[],!0)}create(n,t,r={}){const i=[],a=this._animations.get(n);let o;const s=new Map;if(a?(o=OM(this._driver,t,a,MM,y_,new Map,new Map,r,Tue,i),o.forEach(u=>{const h=Xa(s,u.element,new Map);u.postStyleProps.forEach(d=>h.set(d,null))})):(i.push(function Ece(){return new X(3300,!1)}()),o=[]),i.length)throw function Ace(e){return new X(3504,!1)}();s.forEach((u,h)=>{u.forEach((d,f)=>{u.set(f,this._driver.computeStyle(h,f,bl))})});const c=ic(o.map(u=>{const h=s.get(u.element);return this._buildPlayer(u,new Map,h)}));return this._playersById.set(n,c),c.onDestroy(()=>this.destroy(n)),this.players.push(c),c}destroy(n){const t=this._getPlayer(n);t.destroy(),this._playersById.delete(n);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(n){const t=this._playersById.get(n);if(!t)throw function Nce(e){return new X(3301,!1)}();return t}listen(n,t,r,i){const a=CM(t,"","","");return yM(this._getPlayer(n),r,a,i),()=>{}}command(n,t,r,i){if("register"==r)return void this.register(n,i[0]);if("create"==r)return void this.create(n,t,i[0]||{});const a=this._getPlayer(n);switch(r){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(n)}}}const X6="ng-animate-queued",FM="ng-animate-disabled",Pue=[],q6={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Oue={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},yo="__ng_removed";class zM{constructor(n,t=""){this.namespaceId=t;const r=n&&n.hasOwnProperty("value");if(this.value=function Fue(e){return e??null}(r?n.value:n),r){const a=U0(n);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(n){const t=n.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const j0="void",BM=new zM(j0);class Rue{constructor(n,t,r){this.id=n,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+n,bo(t,this._hostClassName)}listen(n,t,r,i){if(!this._triggers.has(t))throw function Ice(e,n){return new X(3302,!1)}();if(null==r||0==r.length)throw function Pce(e){return new X(3303,!1)}();if(!function zue(e){return"start"==e||"done"==e}(r))throw function Oce(e,n){return new X(3400,!1)}();const a=Xa(this._elementListeners,n,[]),o={name:t,phase:r,callback:i};a.push(o);const s=Xa(this._engine.statesByElement,n,new Map);return s.has(t)||(bo(n,b_),bo(n,b_+"-"+t),s.set(t,BM)),()=>{this._engine.afterFlush(()=>{const l=a.indexOf(o);l>=0&&a.splice(l,1),this._triggers.has(t)||s.delete(t)})}}register(n,t){return!this._triggers.has(n)&&(this._triggers.set(n,t),!0)}_getTrigger(n){const t=this._triggers.get(n);if(!t)throw function Rce(e){return new X(3401,!1)}();return t}trigger(n,t,r,i=!0){const a=this._getTrigger(t),o=new VM(this.id,t,n);let s=this._engine.statesByElement.get(n);s||(bo(n,b_),bo(n,b_+"-"+t),this._engine.statesByElement.set(n,s=new Map));let l=s.get(t);const c=new zM(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),s.set(t,c),l||(l=BM),c.value!==j0&&l.value===c.value){if(!function Hue(e,n){const t=Object.keys(e),r=Object.keys(n);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const a=t[i];if(!n.hasOwnProperty(a)||e[a]!==n[a])return!1}return!0}(l.params,c.params)){const g=[],m=a.matchStyles(l.value,l.params,g),v=a.matchStyles(c.value,c.params,g);g.length?this._engine.reportError(g):this._engine.afterFlush(()=>{vu(n,m),Ls(n,v)})}return}const d=Xa(this._engine.playersByElement,n,[]);d.forEach(g=>{g.namespaceId==this.id&&g.triggerName==t&&g.queued&&g.destroy()});let f=a.matchTransition(l.value,c.value,n,c.params),p=!1;if(!f){if(!i)return;f=a.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:t,transition:f,fromState:l,toState:c,player:o,isFallbackTransition:p}),p||(bo(n,X6),o.onStart(()=>{jd(n,X6)})),o.onDone(()=>{let g=this.players.indexOf(o);g>=0&&this.players.splice(g,1);const m=this._engine.playersByElement.get(n);if(m){let v=m.indexOf(o);v>=0&&m.splice(v,1)}}),this.players.push(o),d.push(o),o}deregister(n){this._triggers.delete(n),this._engine.statesByElement.forEach(t=>t.delete(n)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=n))})}clearElementCache(n){this._engine.statesByElement.delete(n),this._elementListeners.delete(n);const t=this._engine.playersByElement.get(n);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(n))}_signalRemovalForInnerTriggers(n,t){const r=this._engine.driver.query(n,C_,!0);r.forEach(i=>{if(i[yo])return;const a=this._engine.fetchNamespacesByElement(i);a.size?a.forEach(o=>o.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(n,t,r,i){const a=this._engine.statesByElement.get(n),o=new Map;if(a){const s=[];if(a.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){const u=this.trigger(n,c,j0,i);u&&s.push(u)}}),s.length)return this._engine.markElementAsRemoved(this.id,n,!0,t,o),r&&ic(s).onDone(()=>this._engine.processLeaveNode(n)),!0}return!1}prepareLeaveAnimationListeners(n){const t=this._elementListeners.get(n),r=this._engine.statesByElement.get(n);if(t&&r){const i=new Set;t.forEach(a=>{const o=a.name;if(i.has(o))return;i.add(o);const l=this._triggers.get(o).fallbackTransition,c=r.get(o)||BM,u=new zM(j0),h=new VM(this.id,o,n);this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:o,transition:l,fromState:c,toState:u,player:h,isFallbackTransition:!0})})}}removeNode(n,t){const r=this._engine;if(n.childElementCount&&this._signalRemovalForInnerTriggers(n,t),this.triggerLeaveAnimation(n,t,!0))return;let i=!1;if(r.totalAnimations){const a=r.players.length?r.playersByQueriedElement.get(n):[];if(a&&a.length)i=!0;else{let o=n;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(n),i)r.markElementAsRemoved(this.id,n,!1,t);else{const a=n[yo];(!a||a===q6)&&(r.afterFlush(()=>this.clearElementCache(n)),r.destroyInnerAnimations(n),r._onRemovalComplete(n,t))}}insertNode(n,t){bo(n,this._hostClassName)}drainQueuedTransitions(n){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const a=r.element,o=this._elementListeners.get(a);o&&o.forEach(s=>{if(s.name==r.triggerName){const l=CM(a,r.triggerName,r.fromState.value,r.toState.value);l._data=n,yM(r.player,s.phase,l,s.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const a=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==a||0==o?a-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(n){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,n)}elementContainsData(n){let t=!1;return this._elementListeners.has(n)&&(t=!0),t=!!this._queue.find(r=>r.element===n)||t,t}}class Lue{constructor(n,t,r){this.bodyNode=n,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,a)=>{}}_onRemovalComplete(n,t){this.onRemovalComplete(n,t)}get queuedPlayers(){const n=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&n.push(r)})}),n}createNamespace(n,t){const r=new Rue(n,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[n]=r}_balanceNamespaceList(n,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,s=this.driver.getParentElement(t);for(;s;){const l=i.get(s);if(l){const c=r.indexOf(l);r.splice(c+1,0,n),o=!0;break}s=this.driver.getParentElement(s)}o||r.unshift(n)}else r.push(n);return i.set(t,n),n}register(n,t){let r=this._namespaceLookup[n];return r||(r=this.createNamespace(n,t)),r}registerTrigger(n,t,r){let i=this._namespaceLookup[n];i&&i.register(t,r)&&this.totalAnimations++}destroy(n,t){if(!n)return;const r=this._fetchNamespace(n);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[n];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(n){return this._namespaceLookup[n]}fetchNamespacesByElement(n){const t=new Set,r=this.statesByElement.get(n);if(r)for(let i of r.values())if(i.namespaceId){const a=this._fetchNamespace(i.namespaceId);a&&t.add(a)}return t}trigger(n,t,r,i){if(P_(t)){const a=this._fetchNamespace(n);if(a)return a.trigger(t,r,i),!0}return!1}insertNode(n,t,r,i){if(!P_(t))return;const a=t[yo];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(n){const o=this._fetchNamespace(n);o&&o.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(n){this.collectedEnterElements.push(n)}markElementAsDisabled(n,t){t?this.disabledNodes.has(n)||(this.disabledNodes.add(n),bo(n,FM)):this.disabledNodes.has(n)&&(this.disabledNodes.delete(n),jd(n,FM))}removeNode(n,t,r,i){if(P_(t)){const a=n?this._fetchNamespace(n):null;if(a?a.removeNode(t,i):this.markElementAsRemoved(n,t,!1,i),r){const o=this.namespacesByHostElement.get(t);o&&o.id!==n&&o.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(n,t,r,i,a){this.collectedLeaveElements.push(t),t[yo]={namespaceId:n,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:a}}listen(n,t,r,i,a){return P_(t)?this._fetchNamespace(n).listen(t,r,i,a):()=>{}}_buildInstruction(n,t,r,i,a){return n.transition.build(this.driver,n.element,n.fromState.value,n.toState.value,r,i,n.fromState.options,n.toState.options,t,a)}destroyInnerAnimations(n){let t=this.driver.query(n,C_,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(n,TM,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(n){const t=this.playersByElement.get(n);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(n){const t=this.playersByQueriedElement.get(n);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(n=>{if(this.players.length)return ic(this.players).onDone(()=>n());n()})}processLeaveNode(n){const t=n[yo];if(t&&t.setForRemoval){if(n[yo]=q6,t.namespaceId){this.destroyInnerAnimations(n);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(n)}this._onRemovalComplete(n,t.setForRemoval)}n.classList?.contains(FM)&&this.markElementAsDisabled(n,!1),this.driver.query(n,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(n=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)bo(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,n)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?ic(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(n){throw function Lce(e){return new X(3402,!1)}()}_flushAnimations(n,t){const r=new A_,i=[],a=new Map,o=[],s=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(L=>{u.add(L);const V=this.driver.query(L,".ng-animate-queued",!0);for(let F=0;F<V.length;F++)u.add(V[F])});const h=this.bodyNode,d=Array.from(this.statesByElement.keys()),f=Q6(d,this.collectedEnterElements),p=new Map;let g=0;f.forEach((L,V)=>{const F=MM+g++;p.set(V,F),L.forEach(j=>bo(j,F))});const m=[],v=new Set,_=new Set;for(let L=0;L<this.collectedLeaveElements.length;L++){const V=this.collectedLeaveElements[L],F=V[yo];F&&F.setForRemoval&&(m.push(V),v.add(V),F.hasAnimation?this.driver.query(V,".ng-star-inserted",!0).forEach(j=>v.add(j)):_.add(V))}const y=new Map,b=Q6(d,Array.from(v));b.forEach((L,V)=>{const F=y_+g++;y.set(V,F),L.forEach(j=>bo(j,F))}),n.push(()=>{f.forEach((L,V)=>{const F=p.get(V);L.forEach(j=>jd(j,F))}),b.forEach((L,V)=>{const F=y.get(V);L.forEach(j=>jd(j,F))}),m.forEach(L=>{this.processLeaveNode(L)})});const w=[],C=[];for(let L=this._namespaceList.length-1;L>=0;L--)this._namespaceList[L].drainQueuedTransitions(t).forEach(F=>{const j=F.player,Y=F.element;if(w.push(j),this.collectedEnterElements.length){const Ye=Y[yo];if(Ye&&Ye.setForMove){if(Ye.previousTriggersValues&&Ye.previousTriggersValues.has(F.triggerName)){const Rt=Ye.previousTriggersValues.get(F.triggerName),ct=this.statesByElement.get(F.element);if(ct&&ct.has(F.triggerName)){const pt=ct.get(F.triggerName);pt.value=Rt,ct.set(F.triggerName,pt)}}return void j.destroy()}}const se=!h||!this.driver.containsElement(h,Y),de=y.get(Y),we=p.get(Y),pe=this._buildInstruction(F,r,we,de,se);if(pe.errors&&pe.errors.length)return void C.push(pe);if(se)return j.onStart(()=>vu(Y,pe.fromStyles)),j.onDestroy(()=>Ls(Y,pe.toStyles)),void i.push(j);if(F.isFallbackTransition)return j.onStart(()=>vu(Y,pe.fromStyles)),j.onDestroy(()=>Ls(Y,pe.toStyles)),void i.push(j);const Le=[];pe.timelines.forEach(Ye=>{Ye.stretchStartingKeyframe=!0,this.disabledNodes.has(Ye.element)||Le.push(Ye)}),pe.timelines=Le,r.append(Y,pe.timelines),o.push({instruction:pe,player:j,element:Y}),pe.queriedElements.forEach(Ye=>Xa(s,Ye,[]).push(j)),pe.preStyleProps.forEach((Ye,Rt)=>{if(Ye.size){let ct=l.get(Rt);ct||l.set(Rt,ct=new Set),Ye.forEach((pt,Se)=>ct.add(Se))}}),pe.postStyleProps.forEach((Ye,Rt)=>{let ct=c.get(Rt);ct||c.set(Rt,ct=new Set),Ye.forEach((pt,Se)=>ct.add(Se))})});if(C.length){const L=[];C.forEach(V=>{L.push(function kce(e,n){return new X(3505,!1)}())}),w.forEach(V=>V.destroy()),this.reportError(L)}const S=new Map,x=new Map;o.forEach(L=>{const V=L.element;r.has(V)&&(x.set(V,V),this._beforeAnimationBuild(L.player.namespaceId,L.instruction,S))}),i.forEach(L=>{const V=L.element;this._getPreviousPlayers(V,!1,L.namespaceId,L.triggerName,null).forEach(j=>{Xa(S,V,[]).push(j),j.destroy()})});const M=m.filter(L=>eF(L,l,c)),E=new Map;K6(E,this.driver,_,c,bl).forEach(L=>{eF(L,l,c)&&M.push(L)});const A=new Map;f.forEach((L,V)=>{K6(A,this.driver,new Set(L),l,"!")}),M.forEach(L=>{const V=E.get(L),F=A.get(L);E.set(L,new Map([...Array.from(V?.entries()??[]),...Array.from(F?.entries()??[])]))});const N=[],R=[],z={};o.forEach(L=>{const{element:V,player:F,instruction:j}=L;if(r.has(V)){if(u.has(V))return F.onDestroy(()=>Ls(V,j.toStyles)),F.disabled=!0,F.overrideTotalTime(j.totalTime),void i.push(F);let Y=z;if(x.size>1){let de=V;const we=[];for(;de=de.parentNode;){const pe=x.get(de);if(pe){Y=pe;break}we.push(de)}we.forEach(pe=>x.set(pe,Y))}const se=this._buildAnimation(F.namespaceId,j,S,a,A,E);if(F.setRealPlayer(se),Y===z)N.push(F);else{const de=this.playersByElement.get(Y);de&&de.length&&(F.parentPlayer=ic(de)),i.push(F)}}else vu(V,j.fromStyles),F.onDestroy(()=>Ls(V,j.toStyles)),R.push(F),u.has(V)&&i.push(F)}),R.forEach(L=>{const V=a.get(L.element);if(V&&V.length){const F=ic(V);L.setRealPlayer(F)}}),i.forEach(L=>{L.parentPlayer?L.syncPlayerEvents(L.parentPlayer):L.destroy()});for(let L=0;L<m.length;L++){const V=m[L],F=V[yo];if(jd(V,y_),F&&F.hasAnimation)continue;let j=[];if(s.size){let se=s.get(V);se&&se.length&&j.push(...se);let de=this.driver.query(V,TM,!0);for(let we=0;we<de.length;we++){let pe=s.get(de[we]);pe&&pe.length&&j.push(...pe)}}const Y=j.filter(se=>!se.destroyed);Y.length?Bue(this,V,Y):this.processLeaveNode(V)}return m.length=0,N.forEach(L=>{this.players.push(L),L.onDone(()=>{L.destroy();const V=this.players.indexOf(L);this.players.splice(V,1)}),L.play()}),N}elementContainsData(n,t){let r=!1;const i=t[yo];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(n).elementContainsData(t)||r}afterFlush(n){this._flushFns.push(n)}afterFlushAnimationsDone(n){this._whenQuietFns.push(n)}_getPreviousPlayers(n,t,r,i,a){let o=[];if(t){const s=this.playersByQueriedElement.get(n);s&&(o=s)}else{const s=this.playersByElement.get(n);if(s){const l=!a||a==j0;s.forEach(c=>{c.queued||!l&&c.triggerName!=i||o.push(c)})}}return(r||i)&&(o=o.filter(s=>!(r&&r!=s.namespaceId||i&&i!=s.triggerName))),o}_beforeAnimationBuild(n,t,r){const a=t.element,o=t.isRemovalTransition?void 0:n,s=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const c=l.element,u=c!==a,h=Xa(r,c,[]);this._getPreviousPlayers(c,u,o,s,t.toState).forEach(f=>{const p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),h.push(f)})}vu(a,t.fromStyles)}_buildAnimation(n,t,r,i,a,o){const s=t.triggerName,l=t.element,c=[],u=new Set,h=new Set,d=t.timelines.map(p=>{const g=p.element;u.add(g);const m=g[yo];if(m&&m.removedBeforeQueried)return new H0(p.duration,p.delay);const v=g!==l,_=function Vue(e){const n=[];return J6(e,n),n}((r.get(g)||Pue).map(S=>S.getRealPlayer())).filter(S=>!!S.element&&S.element===g),y=a.get(g),b=o.get(g),w=M6(0,this._normalizer,0,p.keyframes,y,b),C=this._buildPlayer(p,w,_);if(p.subTimeline&&i&&h.add(g),v){const S=new VM(n,s,g);S.setRealPlayer(C),c.push(S)}return C});c.forEach(p=>{Xa(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function kue(e,n,t){let r=e.get(n);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&e.delete(n)}return r}(this.playersByQueriedElement,p.element,p))}),u.forEach(p=>bo(p,R6));const f=ic(d);return f.onDestroy(()=>{u.forEach(p=>jd(p,R6)),Ls(l,t.toStyles)}),h.forEach(p=>{Xa(i,p,[]).push(f)}),f}_buildPlayer(n,t,r){return t.length>0?this.driver.animate(n.element,t,n.duration,n.delay,n.easing,r):new H0(n.duration,n.delay)}}class VM{constructor(n,t,r){this.namespaceId=n,this.triggerName=t,this.element=r,this._player=new H0,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(n){this._containsRealPlayer||(this._player=n,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>yM(n,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(n.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(n){this.totalTime=n}syncPlayerEvents(n){const t=this._player;t.triggerCallback&&n.onStart(()=>t.triggerCallback("start")),n.onDone(()=>this.finish()),n.onDestroy(()=>this.destroy())}_queueEvent(n,t){Xa(this._queuedCallbacks,n,[]).push(t)}onDone(n){this.queued&&this._queueEvent("done",n),this._player.onDone(n)}onStart(n){this.queued&&this._queueEvent("start",n),this._player.onStart(n)}onDestroy(n){this.queued&&this._queueEvent("destroy",n),this._player.onDestroy(n)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(n){this.queued||this._player.setPosition(n)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(n){const t=this._player;t.triggerCallback&&t.triggerCallback(n)}}function P_(e){return e&&1===e.nodeType}function Z6(e,n){const t=e.style.display;return e.style.display=n??"none",t}function K6(e,n,t,r,i){const a=[];t.forEach(l=>a.push(Z6(l)));const o=[];r.forEach((l,c)=>{const u=new Map;l.forEach(h=>{const d=n.computeStyle(c,h,i);u.set(h,d),(!d||0==d.length)&&(c[yo]=Oue,o.push(c))}),e.set(c,u)});let s=0;return t.forEach(l=>Z6(l,a[s++])),o}function Q6(e,n){const t=new Map;if(e.forEach(s=>t.set(s,[])),0==n.length)return t;const i=new Set(n),a=new Map;function o(s){if(!s)return 1;let l=a.get(s);if(l)return l;const c=s.parentNode;return l=t.has(c)?c:i.has(c)?1:o(c),a.set(s,l),l}return n.forEach(s=>{const l=o(s);1!==l&&t.get(l).push(s)}),t}function bo(e,n){e.classList?.add(n)}function jd(e,n){e.classList?.remove(n)}function Bue(e,n,t){ic(t).onDone(()=>e.processLeaveNode(n))}function J6(e,n){for(let t=0;t<e.length;t++){const r=e[t];r instanceof S6?J6(r.players,n):n.push(r)}}function eF(e,n,t){const r=t.get(e);if(!r)return!1;let i=n.get(e);return i?r.forEach(a=>i.add(a)):n.set(e,r),t.delete(e),!0}class O_{constructor(n,t,r){this.bodyNode=n,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,a)=>{},this._transitionEngine=new Lue(n,t,r),this._timelineEngine=new Due(n,t,r),this._transitionEngine.onRemovalComplete=(i,a)=>this.onRemovalComplete(i,a)}registerTrigger(n,t,r,i,a){const o=n+"-"+i;let s=this._triggerCache[o];if(!s){const l=[],u=NM(this._driver,a,l,[]);if(l.length)throw function Mce(e,n){return new X(3404,!1)}();s=function Sue(e,n,t){return new xue(e,n,t)}(i,u,this._normalizer),this._triggerCache[o]=s}this._transitionEngine.registerTrigger(t,i,s)}register(n,t){this._transitionEngine.register(n,t)}destroy(n,t){this._transitionEngine.destroy(n,t)}onInsert(n,t,r,i){this._transitionEngine.insertNode(n,t,r,i)}onRemove(n,t,r,i){this._transitionEngine.removeNode(n,t,i||!1,r)}disableAnimations(n,t){this._transitionEngine.markElementAsDisabled(n,t)}process(n,t,r,i){if("@"==r.charAt(0)){const[a,o]=T6(r);this._timelineEngine.command(a,t,o,i)}else this._transitionEngine.trigger(n,t,r,i)}listen(n,t,r,i,a){if("@"==r.charAt(0)){const[o,s]=T6(r);return this._timelineEngine.listen(o,t,s,a)}return this._transitionEngine.listen(n,t,r,i,a)}flush(n=-1){this._transitionEngine.flush(n)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Gue=(()=>{class e{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let a=e.initialStylesByElement.get(t);a||e.initialStylesByElement.set(t,a=new Map),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&Ls(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ls(this._element,this._initialStyles),this._endStyles&&(Ls(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(vu(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(vu(this._element,this._endStyles),this._endStyles=null),Ls(this._element,this._initialStyles),this._state=3)}}return e.initialStylesByElement=new WeakMap,e})();function HM(e){let n=null;return e.forEach((t,r)=>{(function Wue(e){return"display"===e||"position"===e})(r)&&(n=n||new Map,n.set(r,t))}),n}class tF{constructor(n,t,r,i){this.element=n,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const n=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,n,this.options),this._finalKeyframe=n.length?n[n.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(n){const t=[];return n.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(n,t,r){return n.animate(this._convertKeyframesToObject(t),r)}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(n=>n()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}setPosition(n){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=n*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const n=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&n.set(i,this._finished?r:V6(this.element,i))}),this.currentSnapshot=n}triggerCallback(n){const t="start"===n?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class jue{validateStyleProperty(n){return!0}validateAnimatableStyleProperty(n){return!0}matchesElement(n,t){return!1}containsElement(n,t){return N6(n,t)}getParentElement(n){return SM(n)}query(n,t,r){return I6(n,t,r)}computeStyle(n,t,r){return window.getComputedStyle(n)[t]}animate(n,t,r,i,a,o=[]){const l={duration:r,delay:i,fill:0==i?"both":"forwards"};a&&(l.easing=a);const c=new Map,u=o.filter(f=>f instanceof tF);(function qce(e,n){return 0===e||0===n})(r,i)&&u.forEach(f=>{f.currentSnapshot.forEach((p,g)=>c.set(g,p))});let h=function jce(e){return e.length?e[0]instanceof Map?e:e.map(n=>L6(n)):[]}(t).map(f=>ac(f));h=function Zce(e,n,t){if(t.size&&n.length){let r=n[0],i=[];if(t.forEach((a,o)=>{r.has(o)||i.push(o),r.set(o,a)}),i.length)for(let a=1;a<n.length;a++){let o=n[a];i.forEach(s=>o.set(s,V6(e,s)))}}return n}(n,h,c);const d=function Uue(e,n){let t=null,r=null;return Array.isArray(n)&&n.length?(t=HM(n[0]),n.length>1&&(r=HM(n[n.length-1]))):n instanceof Map&&(t=HM(n)),t||r?new Gue(e,t,r):null}(n,h);return new tF(n,h,l,d)}}let $ue=(()=>{class e extends b6{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:Wo.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?C6(t):t;return nF(this._renderer,null,r,"register",[i]),new Yue(r,this._renderer)}}return e.\u0275fac=function(t){return new(t||e)(G(u0),G(rn))},e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})();class Yue extends rce{constructor(n,t){super(),this._id=n,this._renderer=t}create(n,t){return new Xue(this._id,n,t||{},this._renderer)}}class Xue{constructor(n,t,r,i){this.id=n,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(n,t){return this._renderer.listen(this.element,`@@${this.id}:${n}`,t)}_command(n,...t){return nF(this._renderer,this.element,this.id,n,t)}onDone(n){this._listen("done",n)}onStart(n){this._listen("start",n)}onDestroy(n){this._listen("destroy",n)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(n){this._command("setPosition",n)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function nF(e,n,t,r,i){return e.setProperty(n,`@@${t}:${r}`,i)}const rF="@.disabled";let que=(()=>{class e{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(a,o)=>{const s=o?.parentNode(a);s&&o.removeChild(s,a)}}createRenderer(t,r){const a=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let u=this._rendererCache.get(a);return u||(u=new iF("",a,this.engine,()=>this._rendererCache.delete(a)),this._rendererCache.set(a,u)),u}const o=r.id,s=r.id+"-"+this._currentId;this._currentId++,this.engine.register(s,t);const l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(o,s,t,u.name,u)};return r.data.animation.forEach(l),new Zue(this,s,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[o,s]=a;o(s)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return e.\u0275fac=function(t){return new(t||e)(G(u0),G(O_),G(it))},e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})();class iF{constructor(n,t,r,i){this.namespaceId=n,this.delegate=t,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?a=>t.destroyNode(a):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(n,t){return this.delegate.createElement(n,t)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}appendChild(n,t){this.delegate.appendChild(n,t),this.engine.onInsert(this.namespaceId,t,n,!1)}insertBefore(n,t,r,i=!0){this.delegate.insertBefore(n,t,r),this.engine.onInsert(this.namespaceId,t,n,i)}removeChild(n,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(n,t){return this.delegate.selectRootElement(n,t)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,t,r,i){this.delegate.setAttribute(n,t,r,i)}removeAttribute(n,t,r){this.delegate.removeAttribute(n,t,r)}addClass(n,t){this.delegate.addClass(n,t)}removeClass(n,t){this.delegate.removeClass(n,t)}setStyle(n,t,r,i){this.delegate.setStyle(n,t,r,i)}removeStyle(n,t,r){this.delegate.removeStyle(n,t,r)}setProperty(n,t,r){"@"==t.charAt(0)&&t==rF?this.disableAnimations(n,!!r):this.delegate.setProperty(n,t,r)}setValue(n,t){this.delegate.setValue(n,t)}listen(n,t,r){return this.delegate.listen(n,t,r)}disableAnimations(n,t){this.engine.disableAnimations(n,t)}}class Zue extends iF{constructor(n,t,r,i,a){super(t,r,i,a),this.factory=n,this.namespaceId=t}setProperty(n,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==rF?this.disableAnimations(n,r=void 0===r||!!r):this.engine.process(this.namespaceId,n,t.slice(1),r):this.delegate.setProperty(n,t,r)}listen(n,t,r){if("@"==t.charAt(0)){const i=function Kue(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(n);let a=t.slice(1),o="";return"@"!=a.charAt(0)&&([a,o]=function Que(e){const n=e.indexOf(".");return[e.substring(0,n),e.slice(n+1)]}(a)),this.engine.listen(this.namespaceId,i,a,o,s=>{this.factory.scheduleListenerCallback(s._data||-1,r,s)})}return this.delegate.listen(n,t,r)}}let Jue=(()=>{class e extends O_{constructor(t,r,i,a){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return e.\u0275fac=function(t){return new(t||e)(G(rn),G(xM),G(LM),G(Ud))},e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})();const aF=[{provide:b6,useClass:$ue},{provide:LM,useFactory:function ehe(){return new yue}},{provide:O_,useClass:Jue},{provide:u0,useFactory:function the(e,n,t){return new que(e,n,t)},deps:[v_,O_,it]}],UM=[{provide:xM,useFactory:()=>new jue},{provide:Ox,useValue:"BrowserAnimations"},...aF],oF=[{provide:xM,useClass:P6},{provide:Ox,useValue:"NoopAnimations"},...aF];let nhe=(()=>{class e{static withConfig(t){return{ngModule:e,providers:t.disableAnimations?oF:UM}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=It({type:e}),e.\u0275inj=St({providers:UM,imports:[g6]}),e})();function Ue(...e){return Qn(e,Vp(e))}function oc(e,n){return ue(n)?Qr(e,n,1):Qr(e,1)}function Re(e,n){return Ln((t,r)=>{let i=0;t.subscribe(vn(r,a=>e.call(n,a,i++)&&r.next(a)))})}class L_{}class GM{}class wl{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?this.lazyInit="string"==typeof n?()=>{this.headers=new Map,n.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),a=i.toLowerCase(),o=t.slice(r+1).trim();this.maybeSetNormalizedName(i,a),this.headers.has(a)?this.headers.get(a).push(o):this.headers.set(a,[o])}})}:()=>{this.headers=new Map,Object.keys(n).forEach(t=>{let r=n[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const t=this.headers.get(n.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,t){return this.clone({name:n,value:t,op:"a"})}set(n,t){return this.clone({name:n,value:t,op:"s"})}delete(n,t){return this.clone({name:n,value:t,op:"d"})}maybeSetNormalizedName(n,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,n)}init(){this.lazyInit&&(this.lazyInit instanceof wl?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(t=>{this.headers.set(t,n.headers.get(t)),this.normalizedNames.set(t,n.normalizedNames.get(t))})}clone(n){const t=new wl;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof wl?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([n]),t}applyUpdate(n){const t=n.name.toLowerCase();switch(n.op){case"a":case"s":let r=n.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(n.name,t);const i=("a"===n.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const a=n.value;if(a){let o=this.headers.get(t);if(!o)return;o=o.filter(s=>-1===a.indexOf(s)),0===o.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>n(this.normalizedNames.get(t),this.headers.get(t)))}}class rhe{encodeKey(n){return sF(n)}encodeValue(n){return sF(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const ahe=/%(\d[a-f0-9])/gi,ohe={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function sF(e){return encodeURIComponent(e).replace(ahe,(n,t)=>ohe[t]??n)}function k_(e){return`${e}`}class sc{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new rhe,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function ihe(e,n){const t=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(i=>{const a=i.indexOf("="),[o,s]=-1==a?[n.decodeKey(i),""]:[n.decodeKey(i.slice(0,a)),n.decodeValue(i.slice(a+1))],l=t.get(o)||[];l.push(s),t.set(o,l)}),t}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(t=>{const r=n.fromObject[t],i=Array.isArray(r)?r.map(k_):[k_(r)];this.map.set(t,i)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const t=this.map.get(n);return t?t[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,t){return this.clone({param:n,value:t,op:"a"})}appendAll(n){const t=[];return Object.keys(n).forEach(r=>{const i=n[r];Array.isArray(i)?i.forEach(a=>{t.push({param:r,value:a,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(n,t){return this.clone({param:n,value:t,op:"s"})}delete(n,t){return this.clone({param:n,value:t,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const t=this.encoder.encodeKey(n);return this.map.get(n).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const t=new sc({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(n),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const t=("a"===n.op?this.map.get(n.param):void 0)||[];t.push(k_(n.value)),this.map.set(n.param,t);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let r=this.map.get(n.param)||[];const i=r.indexOf(k_(n.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(n.param,r):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class she{constructor(){this.map=new Map}set(n,t){return this.map.set(n,t),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function lF(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function cF(e){return typeof Blob<"u"&&e instanceof Blob}function uF(e){return typeof FormData<"u"&&e instanceof FormData}class $0{constructor(n,t,r,i){let a;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function lhe(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,a=i):a=r,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new wl),this.context||(this.context=new she),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=t;else{const s=t.indexOf("?");this.urlWithParams=t+(-1===s?"?":s<t.length-1?"&":"")+o}}else this.params=new sc,this.urlWithParams=t}serializeBody(){return null===this.body?null:lF(this.body)||cF(this.body)||uF(this.body)||function che(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof sc?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||uF(this.body)?null:cF(this.body)?this.body.type||null:lF(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof sc?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){const t=n.method||this.method,r=n.url||this.url,i=n.responseType||this.responseType,a=void 0!==n.body?n.body:this.body,o=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,s=void 0!==n.reportProgress?n.reportProgress:this.reportProgress;let l=n.headers||this.headers,c=n.params||this.params;const u=n.context??this.context;return void 0!==n.setHeaders&&(l=Object.keys(n.setHeaders).reduce((h,d)=>h.set(d,n.setHeaders[d]),l)),n.setParams&&(c=Object.keys(n.setParams).reduce((h,d)=>h.set(d,n.setParams[d]),c)),new $0(t,r,a,{params:c,headers:l,context:u,reportProgress:s,responseType:i,withCredentials:o})}}var Ur=(()=>((Ur=Ur||{})[Ur.Sent=0]="Sent",Ur[Ur.UploadProgress=1]="UploadProgress",Ur[Ur.ResponseHeader=2]="ResponseHeader",Ur[Ur.DownloadProgress=3]="DownloadProgress",Ur[Ur.Response=4]="Response",Ur[Ur.User=5]="User",Ur))();class WM{constructor(n,t=200,r="OK"){this.headers=n.headers||new wl,this.status=void 0!==n.status?n.status:t,this.statusText=n.statusText||r,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class jM extends WM{constructor(n={}){super(n),this.type=Ur.ResponseHeader}clone(n={}){return new jM({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class F_ extends WM{constructor(n={}){super(n),this.type=Ur.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new F_({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class hF extends WM{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}function $M(e,n){return{body:n,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let dF=(()=>{class e{constructor(t){this.handler=t}request(t,r,i={}){let a;if(t instanceof $0)a=t;else{let l,c;l=i.headers instanceof wl?i.headers:new wl(i.headers),i.params&&(c=i.params instanceof sc?i.params:new sc({fromObject:i.params})),a=new $0(t,r,void 0!==i.body?i.body:null,{headers:l,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const o=Ue(a).pipe(oc(l=>this.handler.handle(l)));if(t instanceof $0||"events"===i.observe)return o;const s=o.pipe(Re(l=>l instanceof F_));switch(i.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return s.pipe(Ce(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return s.pipe(Ce(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return s.pipe(Ce(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return s.pipe(Ce(l=>l.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new sc).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,$M(i,r))}post(t,r,i={}){return this.request("POST",t,$M(i,r))}put(t,r,i={}){return this.request("PUT",t,$M(i,r))}}return e.\u0275fac=function(t){return new(t||e)(G(L_))},e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})();function fF(e,n){return n(e)}function uhe(e,n){return(t,r)=>n.intercept(t,{handle:i=>e(i,r)})}const dhe=new te("HTTP_INTERCEPTORS"),Y0=new te("HTTP_INTERCEPTOR_FNS");function fhe(){let e=null;return(n,t)=>(null===e&&(e=(Nt(dhe,{optional:!0})??[]).reduceRight(uhe,fF)),e(n,t))}let pF=(()=>{class e extends L_{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=Array.from(new Set(this.injector.get(Y0)));this.chain=r.reduceRight((i,a)=>function hhe(e,n,t){return(r,i)=>t.runInContext(()=>n(r,a=>e(a,i)))}(i,a,this.injector),fF)}return this.chain(t,r=>this.backend.handle(r))}}return e.\u0275fac=function(t){return new(t||e)(G(GM),G(Es))},e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})();const vhe=/^\)\]\}',?\n/;let mF=(()=>{class e{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new mn(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((f,p)=>i.setRequestHeader(f,p.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const f=t.detectContentTypeHeader();null!==f&&i.setRequestHeader("Content-Type",f)}if(t.responseType){const f=t.responseType.toLowerCase();i.responseType="json"!==f?f:"text"}const a=t.serializeBody();let o=null;const s=()=>{if(null!==o)return o;const f=i.statusText||"OK",p=new wl(i.getAllResponseHeaders()),g=function _he(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(i)||t.url;return o=new jM({headers:p,status:i.status,statusText:f,url:g}),o},l=()=>{let{headers:f,status:p,statusText:g,url:m}=s(),v=null;204!==p&&(v=typeof i.response>"u"?i.responseText:i.response),0===p&&(p=v?200:0);let _=p>=200&&p<300;if("json"===t.responseType&&"string"==typeof v){const y=v;v=v.replace(vhe,"");try{v=""!==v?JSON.parse(v):null}catch(b){v=y,_&&(_=!1,v={error:b,text:v})}}_?(r.next(new F_({body:v,headers:f,status:p,statusText:g,url:m||void 0})),r.complete()):r.error(new hF({error:v,headers:f,status:p,statusText:g,url:m||void 0}))},c=f=>{const{url:p}=s(),g=new hF({error:f,status:i.status||0,statusText:i.statusText||"Unknown Error",url:p||void 0});r.error(g)};let u=!1;const h=f=>{u||(r.next(s()),u=!0);let p={type:Ur.DownloadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),"text"===t.responseType&&!!i.responseText&&(p.partialText=i.responseText),r.next(p)},d=f=>{let p={type:Ur.UploadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),r.next(p)};return i.addEventListener("load",l),i.addEventListener("error",c),i.addEventListener("timeout",c),i.addEventListener("abort",c),t.reportProgress&&(i.addEventListener("progress",h),null!==a&&i.upload&&i.upload.addEventListener("progress",d)),i.send(a),r.next({type:Ur.Sent}),()=>{i.removeEventListener("error",c),i.removeEventListener("abort",c),i.removeEventListener("load",l),i.removeEventListener("timeout",c),t.reportProgress&&(i.removeEventListener("progress",h),null!==a&&i.upload&&i.upload.removeEventListener("progress",d)),i.readyState!==i.DONE&&i.abort()}})}}return e.\u0275fac=function(t){return new(t||e)(G(Xk))},e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})();const YM=new te("XSRF_ENABLED"),vF="XSRF-TOKEN",_F=new te("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>vF}),yF="X-XSRF-TOKEN",bF=new te("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>yF});class CF{}let yhe=(()=>{class e{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Fk(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return e.\u0275fac=function(t){return new(t||e)(G(rn),G(ec),G(_F))},e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})();function bhe(e,n){const t=e.url.toLowerCase();if(!Nt(YM)||"GET"===e.method||"HEAD"===e.method||t.startsWith("http://")||t.startsWith("https://"))return n(e);const r=Nt(CF).getToken(),i=Nt(bF);return null!=r&&!e.headers.has(i)&&(e=e.clone({headers:e.headers.set(i,r)})),n(e)}var Pr=(()=>((Pr=Pr||{})[Pr.Interceptors=0]="Interceptors",Pr[Pr.LegacyInterceptors=1]="LegacyInterceptors",Pr[Pr.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Pr[Pr.NoXsrfProtection=3]="NoXsrfProtection",Pr[Pr.JsonpSupport=4]="JsonpSupport",Pr[Pr.RequestsMadeViaParent=5]="RequestsMadeViaParent",Pr))();function $d(e,n){return{\u0275kind:e,\u0275providers:n}}function Che(...e){const n=[dF,mF,pF,{provide:L_,useExisting:pF},{provide:GM,useExisting:mF},{provide:Y0,useValue:bhe,multi:!0},{provide:YM,useValue:!0},{provide:CF,useClass:yhe}];for(const t of e)n.push(...t.\u0275providers);return function ste(e){return{\u0275providers:e}}(n)}const wF=new te("LEGACY_INTERCEPTOR_FN");function She({cookieName:e,headerName:n}){const t=[];return void 0!==e&&t.push({provide:_F,useValue:e}),void 0!==n&&t.push({provide:bF,useValue:n}),$d(Pr.CustomXsrfConfiguration,t)}let xhe=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=It({type:e}),e.\u0275inj=St({providers:[Che($d(Pr.LegacyInterceptors,[{provide:wF,useFactory:fhe},{provide:Y0,useExisting:wF,multi:!0}]),She({cookieName:vF,headerName:yF}))]}),e})();const{isArray:Mhe}=Array,{getPrototypeOf:The,prototype:Dhe,keys:Ehe}=Object;function SF(e){if(1===e.length){const n=e[0];if(Mhe(n))return{args:n,keys:null};if(function Ahe(e){return e&&"object"==typeof e&&The(e)===Dhe}(n)){const t=Ehe(n);return{args:t.map(r=>n[r]),keys:t}}}return{args:e,keys:null}}const{isArray:Nhe}=Array;function XM(e){return Ce(n=>function Ihe(e,n){return Nhe(n)?e(...n):e(n)}(e,n))}function xF(e,n){return e.reduce((t,r,i)=>(t[r]=n[i],t),{})}let TF=(()=>{class e{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return e.\u0275fac=function(t){return new(t||e)(D(Ir),D(He))},e.\u0275dir=K({type:e}),e})(),yu=(()=>{class e extends TF{}return e.\u0275fac=function(){let n;return function(r){return(n||(n=ot(e)))(r||e)}}(),e.\u0275dir=K({type:e,features:[ge]}),e})();const Sa=new te("NgValueAccessor"),Ohe={provide:Sa,useExisting:_n(()=>X0),multi:!0},Lhe=new te("CompositionEventMode");let X0=(()=>{class e extends TF{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Rhe(){const e=Rs()?Rs().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return e.\u0275fac=function(t){return new(t||e)(D(Ir),D(He),D(Lhe,8))},e.\u0275dir=K({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&re("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},features:[Me([Ohe]),ge]}),e})();const ki=new te("NgValidators"),cc=new te("NgAsyncValidators");function FF(e){return null!=e}function zF(e){return v0(e)?Qn(e):e}function BF(e){let n={};return e.forEach(t=>{n=null!=t?{...n,...t}:n}),0===Object.keys(n).length?null:n}function VF(e,n){return n.map(t=>t(e))}function HF(e){return e.map(n=>function zhe(e){return!e.validate}(n)?n:t=>n.validate(t))}function qM(e){return null!=e?function UF(e){if(!e)return null;const n=e.filter(FF);return 0==n.length?null:function(t){return BF(VF(t,n))}}(HF(e)):null}function GF(e){if(!e)return null;const n=e.filter(FF);return 0==n.length?null:function(t){return function MF(...e){const n=UI(e),{args:t,keys:r}=SF(e),i=new mn(a=>{const{length:o}=t;if(!o)return void a.complete();const s=new Array(o);let l=o,c=o;for(let u=0;u<o;u++){let h=!1;wi(t[u]).subscribe(vn(a,d=>{h||(h=!0,c--),s[u]=d},()=>l--,void 0,()=>{(!l||!h)&&(c||a.next(r?xF(r,s):s),a.complete())}))}});return n?i.pipe(XM(n)):i}(VF(t,n).map(zF)).pipe(Ce(BF))}}function ZM(e){return null!=e?GF(HF(e)):null}function WF(e,n){return null===e?[n]:Array.isArray(e)?[...e,n]:[e,n]}function KM(e){return e?Array.isArray(e)?e:[e]:[]}function B_(e,n){return Array.isArray(e)?e.includes(n):e===n}function YF(e,n){const t=KM(n);return KM(e).forEach(i=>{B_(t,i)||t.push(i)}),t}function XF(e,n){return KM(n).filter(t=>!B_(e,t))}class qF{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=qM(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=ZM(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n){this.control&&this.control.reset(n)}hasError(n,t){return!!this.control&&this.control.hasError(n,t)}getError(n,t){return this.control?this.control.getError(n,t):null}}class Ki extends qF{get formDirective(){return null}get path(){return null}}class uc extends qF{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ZF{constructor(n){this._cd=n}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let QM=(()=>{class e extends ZF{constructor(t){super(t)}}return e.\u0275fac=function(t){return new(t||e)(D(uc,2))},e.\u0275dir=K({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&_e("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[ge]}),e})();const q0="VALID",H_="INVALID",Yd="PENDING",Z0="DISABLED";function U_(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class e8{constructor(n,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===q0}get invalid(){return this.status===H_}get pending(){return this.status==Yd}get disabled(){return this.status===Z0}get enabled(){return this.status!==Z0}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(YF(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(YF(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(XF(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(XF(n,this._rawAsyncValidators))}hasValidator(n){return B_(this._rawValidators,n)}hasAsyncValidator(n){return B_(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=Yd,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const t=this._parentMarkedDirty(n.onlySelf);this.status=Z0,this.errors=null,this._forEachChild(r=>{r.disable({...n,onlySelf:!0})}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...n,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(n={}){const t=this._parentMarkedDirty(n.onlySelf);this.status=q0,this._forEachChild(r=>{r.enable({...n,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors({...n,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===q0||this.status===Yd)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Z0:q0}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=Yd,this._hasOwnPendingAsyncValidator=!0;const t=zF(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,t={}){this.errors=n,this._updateControlsErrors(!1!==t.emitEvent)}get(n){let t=n;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(n,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[n]:null}hasError(n,t){return!!this.getError(n,t)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new Ae,this.statusChanges=new Ae}_calculateStatus(){return this._allControlsDisabled()?Z0:this.errors?H_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Yd)?Yd:this._anyControlsHaveStatus(H_)?H_:q0}_anyControlsHaveStatus(n){return this._anyControls(t=>t.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){U_(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=function $he(e){return Array.isArray(e)?qM(e):e||null}(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=function Yhe(e){return Array.isArray(e)?ZM(e):e||null}(this._rawAsyncValidators)}}const K0=new te("CallSetDisabledState",{providedIn:"root",factory:()=>aT}),aT="always";function Q0(e,n,t=aT){(function oT(e,n){const t=function jF(e){return e._rawValidators}(e);null!==n.validator?e.setValidators(WF(t,n.validator)):"function"==typeof t&&e.setValidators([t]);const r=function $F(e){return e._rawAsyncValidators}(e);null!==n.asyncValidator?e.setAsyncValidators(WF(r,n.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const i=()=>e.updateValueAndValidity();j_(n._rawValidators,i),j_(n._rawAsyncValidators,i)})(e,n),n.valueAccessor.writeValue(e.value),(e.disabled||"always"===t)&&n.valueAccessor.setDisabledState?.(e.disabled),function Zhe(e,n){n.valueAccessor.registerOnChange(t=>{e._pendingValue=t,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&t8(e,n)})}(e,n),function Qhe(e,n){const t=(r,i)=>{n.valueAccessor.writeValue(r),i&&n.viewToModelUpdate(r)};e.registerOnChange(t),n._registerOnDestroy(()=>{e._unregisterOnChange(t)})}(e,n),function Khe(e,n){n.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&t8(e,n),"submit"!==e.updateOn&&e.markAsTouched()})}(e,n),function qhe(e,n){if(n.valueAccessor.setDisabledState){const t=r=>{n.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(t),n._registerOnDestroy(()=>{e._unregisterOnDisabledChange(t)})}}(e,n)}function j_(e,n){e.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(n)})}function t8(e,n){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function i8(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}function a8(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}const o8=class extends e8{constructor(n=null,t,r){super(function nT(e){return(U_(e)?e.validators:e)||null}(t),function rT(e,n){return(U_(n)?n.asyncValidators:e)||null}(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),U_(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=a8(n)?n.value:n)}setValue(n,t={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(n,t={}){this.setValue(n,t)}reset(n=this.defaultValue,t={}){this._applyFormState(n),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){i8(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){i8(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){a8(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}},ode={provide:uc,useExisting:_n(()=>Y_)},c8=(()=>Promise.resolve())();let Y_=(()=>{class e extends uc{constructor(t,r,i,a,o,s){super(),this._changeDetectorRef=o,this.callSetDisabledState=s,this.control=new o8,this._registered=!1,this.update=new Ae,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function cT(e,n){if(!n)return null;let t,r,i;return Array.isArray(n),n.forEach(a=>{a.constructor===X0?t=a:function tde(e){return Object.getPrototypeOf(e.constructor)===yu}(a)?r=a:i=a}),i||r||t||null}(0,a)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function lT(e,n){if(!e.hasOwnProperty("model"))return!1;const t=e.model;return!!t.isFirstChange()||!Object.is(n,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Q0(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){c8.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&Gd(r);c8.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function G_(e,n){return[...n.path,e]}(t,this._parent):[t]}}return e.\u0275fac=function(t){return new(t||e)(D(Ki,9),D(ki,10),D(cc,10),D(Sa,10),D(un,8),D(K0,8))},e.\u0275dir=K({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Me([ode]),ge,on]}),e})(),h8=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=It({type:e}),e.\u0275inj=St({}),e})(),Ide=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=It({type:e}),e.\u0275inj=St({imports:[h8]}),e})(),A8=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:K0,useValue:t.callSetDisabledState??aT}]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=It({type:e}),e.\u0275inj=St({imports:[Ide]}),e})();const vT={now:()=>(vT.delegate||Date).now(),delegate:void 0};class Za extends he{constructor(n=1/0,t=1/0,r=vT){super(),this._bufferSize=n,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,n),this._windowTime=Math.max(1,t)}next(n){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:a,_windowTime:o}=this;t||(r.push(n),!i&&r.push(a.now()+o)),this._trimBuffer(),super.next(n)}_subscribe(n){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(n),{_infiniteTimeWindow:r,_buffer:i}=this,a=i.slice();for(let o=0;o<a.length&&!n.closed;o+=r?1:2)n.next(a[o]);return this._checkFinalizedStatuses(n),t}_trimBuffer(){const{_bufferSize:n,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,a=(i?1:2)*n;if(n<1/0&&a<r.length&&r.splice(0,r.length-a),!i){const o=t.now();let s=0;for(let l=1;l<r.length&&r[l]<=o;l+=2)s=l;s&&r.splice(0,s+1)}}}const Ode=["addListener","removeListener"],Rde=["addEventListener","removeEventListener"],Lde=["on","off"];function Gr(e,n,t,r){if(ue(t)&&(r=t,t=void 0),r)return Gr(e,n,t).pipe(XM(r));const[i,a]=function zde(e){return ue(e.addEventListener)&&ue(e.removeEventListener)}(e)?Rde.map(o=>s=>e[o](n,s,t)):function kde(e){return ue(e.addListener)&&ue(e.removeListener)}(e)?Ode.map(N8(e,n)):function Fde(e){return ue(e.on)&&ue(e.off)}(e)?Lde.map(N8(e,n)):[];if(!i&&gw(e))return Qr(o=>Gr(o,n,t))(wi(e));if(!i)throw new TypeError("Invalid event target");return new mn(o=>{const s=(...l)=>o.next(1<l.length?l:l[0]);return i(s),()=>a(s)})}function N8(e,n){return t=>r=>e[t](n,r)}class Xt extends he{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){const{hasError:n,thrownError:t,_value:r}=this;if(n)throw t;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}}function Cu(...e){const n=Vp(e),t=UI(e),{args:r,keys:i}=SF(e);if(0===r.length)return Qn([],n);const a=new mn(function Bde(e,n,t=ql){return r=>{I8(n,()=>{const{length:i}=e,a=new Array(i);let o=i,s=i;for(let l=0;l<i;l++)I8(n,()=>{const c=Qn(e[l],n);let u=!1;c.subscribe(vn(r,h=>{a[l]=h,u||(u=!0,s--),s||r.next(t(a.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,n,i?o=>xF(i,o):ql));return t?a.pipe(XM(t)):a}function I8(e,n,t){e?ol(t,e,n):n()}class Vde extends We{constructor(n,t){super()}schedule(n,t=0){return this}}const X_={setInterval(e,n,...t){const{delegate:r}=X_;return r?.setInterval?r.setInterval(e,n,...t):setInterval(e,n,...t)},clearInterval(e){const{delegate:n}=X_;return(n?.clearInterval||clearInterval)(e)},delegate:void 0};class _T extends Vde{constructor(n,t){super(n,t),this.scheduler=n,this.work=t,this.pending=!1}schedule(n,t=0){var r;if(this.closed)return this;this.state=n;const i=this.id,a=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(a,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(a,this.id,t),this}requestAsyncId(n,t,r=0){return X_.setInterval(n.flush.bind(n,this),r)}recycleAsyncId(n,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&X_.clearInterval(t)}execute(n,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(n,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,t){let i,r=!1;try{this.work(n)}catch(a){r=!0,i=a||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:n,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,wt(r,this),null!=n&&(this.id=this.recycleAsyncId(t,n,null)),this.delay=null,super.unsubscribe()}}}class eg{constructor(n,t=eg.now){this.schedulerActionCtor=n,this.now=t}schedule(n,t=0,r){return new this.schedulerActionCtor(this,n).schedule(r,t)}}eg.now=vT.now;class yT extends eg{constructor(n,t=eg.now){super(n,t),this.actions=[],this._active=!1}flush(n){const{actions:t}=this;if(this._active)return void t.push(n);let r;this._active=!0;do{if(r=n.execute(n.state,n.delay))break}while(n=t.shift());if(this._active=!1,r){for(;n=t.shift();)n.unsubscribe();throw r}}}const tg=new yT(_T),Hde=tg;function Xd(e=0,n,t=Hde){let r=-1;return null!=n&&(HI(n)?t=n:r=n),new mn(i=>{let a=function Ude(e){return e instanceof Date&&!isNaN(e)}(e)?+e-t.now():e;a<0&&(a=0);let o=0;return t.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},a)})}const ng={schedule(e){let n=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=ng;r&&(n=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=n(a=>{t=void 0,e(a)});return new We(()=>t?.(i))},requestAnimationFrame(...e){const{delegate:n}=ng;return(n?.requestAnimationFrame||requestAnimationFrame)(...e)},cancelAnimationFrame(...e){const{delegate:n}=ng;return(n?.cancelAnimationFrame||cancelAnimationFrame)(...e)},delegate:void 0},P8=new class Wde extends yT{flush(n){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;n=n||r.shift();do{if(i=n.execute(n.state,n.delay))break}while((n=r[0])&&n.id===t&&r.shift());if(this._active=!1,i){for(;(n=r[0])&&n.id===t&&r.shift();)n.unsubscribe();throw i}}}(class Gde extends _T{constructor(n,t){super(n,t),this.scheduler=n,this.work=t}requestAsyncId(n,t,r=0){return null!==r&&r>0?super.requestAsyncId(n,t,r):(n.actions.push(this),n._scheduled||(n._scheduled=ng.requestAnimationFrame(()=>n.flush(void 0))))}recycleAsyncId(n,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(n,t,r);const{actions:a}=n;null!=t&&(null===(i=a[a.length-1])||void 0===i?void 0:i.id)!==t&&(ng.cancelAnimationFrame(t),n._scheduled=void 0)}});function q_(...e){return function jde(){return td(1)}()(Qn(e,Vp(e)))}function Ka(...e){const n=Vp(e);return Ln((t,r)=>{(n?q_(e,t,n):q_(e,t)).subscribe(r)})}function O8(){return Ln((e,n)=>{let t,r=!1;e.subscribe(vn(n,i=>{const a=t;t=i,r&&n.next([a,i]),r=!0}))})}function Z_(e,n=ql){return e=e??$de,Ln((t,r)=>{let i,a=!0;t.subscribe(vn(r,o=>{const s=n(o);(a||!e(i,s))&&(a=!1,i=s,r.next(o))}))})}function $de(e,n){return e===n}function ee(e){return Ln((n,t)=>{wi(e).subscribe(vn(t,()=>t.complete(),za)),!t.closed&&n.subscribe(t)})}function Qi(e){return e<=0?()=>ma:Ln((n,t)=>{let r=0;n.subscribe(vn(t,i=>{++r<=e&&(t.next(i),e<=r&&t.complete())}))})}function R8(e){return Ce(()=>e)}function L8(e,n){return n?t=>q_(n.pipe(Qi(1),function Yde(){return Ln((e,n)=>{e.subscribe(vn(n,za))})}()),t.pipe(L8(e))):Qr((t,r)=>e(t,r).pipe(Qi(1),R8(t)))}function CT(e,n=tg){const t=Xd(e,n);return L8(()=>t)}function wT(e){let t,n=1/0;return null!=e&&("object"==typeof e?({count:n=1/0,delay:t}=e):n=e),n<=0?()=>ma:Ln((r,i)=>{let o,a=0;const s=()=>{if(o?.unsubscribe(),o=null,null!=t){const c="number"==typeof t?Xd(t):wi(t(a)),u=vn(i,()=>{u.unsubscribe(),l()});c.subscribe(u)}else l()},l=()=>{let c=!1;o=r.subscribe(vn(i,void 0,()=>{++a<n?o?s():c=!0:i.complete()})),c&&s()};l()})}function tr(e,n){return Ln((t,r)=>{let i=null,a=0,o=!1;const s=()=>o&&!i&&r.complete();t.subscribe(vn(r,l=>{i?.unsubscribe();let c=0;const u=a++;wi(e(l,u)).subscribe(i=vn(r,h=>r.next(n?n(l,h,u,c++):h),()=>{i=null,s()}))},()=>{o=!0,s()}))})}function qd(e,n=tg){return Ln((t,r)=>{let i=null,a=null,o=null;const s=()=>{if(i){i.unsubscribe(),i=null;const c=a;a=null,r.next(c)}};function l(){const c=o+e,u=n.now();if(u<c)return i=this.schedule(void 0,c-u),void r.add(i);s()}t.subscribe(vn(r,c=>{a=c,o=n.now(),i||(i=n.schedule(l,e),r.add(i))},()=>{s(),r.complete()},void 0,()=>{a=i=null}))})}function ST(e,n=!1){return Ln((t,r)=>{let i=0;t.subscribe(vn(r,a=>{const o=e(a,i++);(o||n)&&r.next(a),!o&&r.complete()}))})}function rg(){return Ln((e,n)=>{let t=null;e._refCount++;const r=vn(n,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(t=null);const i=e._connection,a=t;t=null,i&&(!a||i===a)&&i.unsubscribe(),n.unsubscribe()});e.subscribe(r),r.closed||(t=e.connect())})}class K_ extends mn{constructor(n,t){super(),this.source=n,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,EI(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new We;const t=this.getSubject();n.add(this.source.subscribe(vn(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=We.EMPTY)}return n}refCount(){return rg()(this)}}const qde={connector:()=>new he};function k8(e,n=qde){const{connector:t}=n;return Ln((r,i)=>{const a=t();wi(e(function Xde(e){return new mn(n=>e.subscribe(n))}(a))).subscribe(i),i.add(r.subscribe(a))})}function F8(e){return e?n=>k8(e)(n):n=>function Zde(e,n){const t=ue(e)?e:()=>e;return ue(n)?k8(n,{connector:t}):r=>new K_(r,t)}(new he)(n)}function wu(e){return Ln((n,t)=>{try{n.subscribe(t)}finally{t.add(e)}})}function ri(e,n,t){const r=ue(e)||n||t?{next:e,error:n,complete:t}:e;return r?Ln((i,a)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let s=!0;i.subscribe(vn(a,l=>{var c;null===(c=r.next)||void 0===c||c.call(r,l),a.next(l)},()=>{var l;s=!1,null===(l=r.complete)||void 0===l||l.call(r),a.complete()},l=>{var c;s=!1,null===(c=r.error)||void 0===c||c.call(r,l),a.error(l)},()=>{var l,c;s&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):ql}const Q_=Xe(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function B8(e){return new mn(n=>{wi(e()).subscribe(n)})}function ig(e,n){const t=ue(e)?e:()=>e,r=i=>i.error(t());return new mn(n?i=>n.schedule(r,0,i):r)}function J_(e){return Ln((n,t)=>{let r=!1;n.subscribe(vn(t,i=>{r=!0,t.next(i)},()=>{r||t.next(e),t.complete()}))})}function V8(e=Qde){return Ln((n,t)=>{let r=!1;n.subscribe(vn(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(e())))})}function Qde(){return new Q_}function hc(e,n){const t=arguments.length>=2;return r=>r.pipe(e?Re((i,a)=>e(i,a,r)):ql,Qi(1),t?J_(n):V8(()=>new Q_))}function dc(e){return Ln((n,t)=>{let a,r=null,i=!1;r=n.subscribe(vn(t,void 0,void 0,o=>{a=wi(e(o,dc(e)(n))),r?(r.unsubscribe(),r=null,a.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,a.subscribe(t))})}function Jde(e,n,t,r,i){return(a,o)=>{let s=t,l=n,c=0;a.subscribe(vn(o,u=>{const h=c++;l=s?e(l,u,h):(s=!0,u),r&&o.next(l)},i&&(()=>{s&&o.next(l),o.complete()})))}}function H8(e,n){return Ln(Jde(e,n,arguments.length>=2,!0))}function xT(e){return e<=0?()=>ma:Ln((n,t)=>{let r=[];n.subscribe(vn(t,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function U8(e,n){const t=arguments.length>=2;return r=>r.pipe(e?Re((i,a)=>e(i,a,r)):ql,xT(1),t?J_(n):V8(()=>new Q_))}const zt="primary",ag=Symbol("RouteTitle");class efe{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t[0]:t}return null}getAll(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Zd(e){return new efe(e)}function tfe(e,n,t){const r=t.path.split("/");if(r.length>e.length||"full"===t.pathMatch&&(n.hasChildren()||r.length<e.length))return null;const i={};for(let a=0;a<r.length;a++){const o=r[a],s=e[a];if(o.startsWith(":"))i[o.substring(1)]=s;else if(o!==s.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function ks(e,n){const t=e?Object.keys(e):void 0,r=n?Object.keys(n):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let a=0;a<t.length;a++)if(i=t[a],!G8(e[i],n[i]))return!1;return!0}function G8(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;const t=[...e].sort(),r=[...n].sort();return t.every((i,a)=>r[a]===i)}return e===n}function W8(e){return Array.prototype.concat.apply([],e)}function j8(e){return e.length>0?e[e.length-1]:null}function Mi(e,n){for(const t in e)e.hasOwnProperty(t)&&n(e[t],t)}function fc(e){return ex(e)?e:v0(e)?Qn(Promise.resolve(e)):Ue(e)}const ey=!1,rfe={exact:function X8(e,n,t){if(!xu(e.segments,n.segments)||!ty(e.segments,n.segments,t)||e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children)if(!e.children[r]||!X8(e.children[r],n.children[r],t))return!1;return!0},subset:q8},$8={exact:function ife(e,n){return ks(e,n)},subset:function afe(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(t=>G8(e[t],n[t]))},ignored:()=>!0};function Y8(e,n,t){return rfe[t.paths](e.root,n.root,t.matrixParams)&&$8[t.queryParams](e.queryParams,n.queryParams)&&!("exact"===t.fragment&&e.fragment!==n.fragment)}function q8(e,n,t){return Z8(e,n,n.segments,t)}function Z8(e,n,t,r){if(e.segments.length>t.length){const i=e.segments.slice(0,t.length);return!(!xu(i,t)||n.hasChildren()||!ty(i,t,r))}if(e.segments.length===t.length){if(!xu(e.segments,t)||!ty(e.segments,t,r))return!1;for(const i in n.children)if(!e.children[i]||!q8(e.children[i],n.children[i],r))return!1;return!0}{const i=t.slice(0,e.segments.length),a=t.slice(e.segments.length);return!!(xu(e.segments,i)&&ty(e.segments,i,r)&&e.children[zt])&&Z8(e.children[zt],n,a,r)}}function ty(e,n,t){return n.every((r,i)=>$8[t](e[i].parameters,r.parameters))}class Su{constructor(n=new Gt([],{}),t={},r=null){this.root=n,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Zd(this.queryParams)),this._queryParamMap}toString(){return lfe.serialize(this)}}class Gt{constructor(n,t){this.segments=n,this.children=t,this.parent=null,Mi(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ny(this)}}class og{constructor(n,t){this.path=n,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Zd(this.parameters)),this._parameterMap}toString(){return J8(this)}}function xu(e,n){return e.length===n.length&&e.every((t,r)=>t.path===n[r].path)}let sg=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=q({token:e,factory:function(){return new MT},providedIn:"root"}),e})();class MT{parse(n){const t=new vfe(n);return new Su(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(n){const t=`/${lg(n.root,!0)}`,r=function hfe(e){const n=Object.keys(e).map(t=>{const r=e[t];return Array.isArray(r)?r.map(i=>`${ry(t)}=${ry(i)}`).join("&"):`${ry(t)}=${ry(r)}`}).filter(t=>!!t);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${t}${r}${"string"==typeof n.fragment?`#${function cfe(e){return encodeURI(e)}(n.fragment)}`:""}`}}const lfe=new MT;function ny(e){return e.segments.map(n=>J8(n)).join("/")}function lg(e,n){if(!e.hasChildren())return ny(e);if(n){const t=e.children[zt]?lg(e.children[zt],!1):"",r=[];return Mi(e.children,(i,a)=>{a!==zt&&r.push(`${a}:${lg(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function sfe(e,n){let t=[];return Mi(e.children,(r,i)=>{i===zt&&(t=t.concat(n(r,i)))}),Mi(e.children,(r,i)=>{i!==zt&&(t=t.concat(n(r,i)))}),t}(e,(r,i)=>i===zt?[lg(e.children[zt],!1)]:[`${i}:${lg(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[zt]?`${ny(e)}/${t[0]}`:`${ny(e)}/(${t.join("//")})`}}function K8(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ry(e){return K8(e).replace(/%3B/gi,";")}function TT(e){return K8(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function iy(e){return decodeURIComponent(e)}function Q8(e){return iy(e.replace(/\+/g,"%20"))}function J8(e){return`${TT(e.path)}${function ufe(e){return Object.keys(e).map(n=>`;${TT(n)}=${TT(e[n])}`).join("")}(e.parameters)}`}const dfe=/^[^\/()?;=#]+/;function ay(e){const n=e.match(dfe);return n?n[0]:""}const ffe=/^[^=?&#]+/,gfe=/^[^&#]+/;class vfe{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Gt([],{}):new Gt([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(t).length>0)&&(r[zt]=new Gt(n,t)),r}parseSegment(){const n=ay(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new X(4009,ey);return this.capture(n),new og(iy(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const t=ay(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=ay(this.remaining);i&&(r=i,this.capture(r))}n[iy(t)]=iy(r)}parseQueryParam(n){const t=function pfe(e){const n=e.match(ffe);return n?n[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function mfe(e){const n=e.match(gfe);return n?n[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=Q8(t),a=Q8(r);if(n.hasOwnProperty(i)){let o=n[i];Array.isArray(o)||(o=[o],n[i]=o),o.push(a)}else n[i]=a}parseParens(n){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=ay(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new X(4010,ey);let a;r.indexOf(":")>-1?(a=r.slice(0,r.indexOf(":")),this.capture(a),this.capture(":")):n&&(a=zt);const o=this.parseChildren();t[a]=1===Object.keys(o).length?o[zt]:new Gt([],o),this.consumeOptional("//")}return t}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new X(4011,ey)}}function DT(e){return e.segments.length>0?new Gt([],{[zt]:e}):e}function oy(e){const n={};for(const r of Object.keys(e.children)){const a=oy(e.children[r]);(a.segments.length>0||a.hasChildren())&&(n[r]=a)}return function _fe(e){if(1===e.numberOfChildren&&e.children[zt]){const n=e.children[zt];return new Gt(e.segments.concat(n.segments),n.children)}return e}(new Gt(e.segments,n))}function Mu(e){return e instanceof Su}function Cfe(e,n,t,r,i){if(0===t.length)return Kd(n.root,n.root,n.root,r,i);const a=function n7(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new t7(!0,0,e);let n=0,t=!1;const r=e.reduce((i,a,o)=>{if("object"==typeof a&&null!=a){if(a.outlets){const s={};return Mi(a.outlets,(l,c)=>{s[c]="string"==typeof l?l.split("/"):l}),[...i,{outlets:s}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===o?(a.split("/").forEach((s,l)=>{0==l&&"."===s||(0==l&&""===s?t=!0:".."===s?n++:""!=s&&i.push(s))}),i):[...i,a]},[]);return new t7(t,n,r)}(t);return a.toRoot()?Kd(n.root,n.root,new Gt([],{}),r,i):function o(l){const c=function Sfe(e,n,t,r){if(e.isAbsolute)return new Qd(n.root,!0,0);if(-1===r)return new Qd(t,t===n.root,0);return function r7(e,n,t){let r=e,i=n,a=t;for(;a>i;){if(a-=i,r=r.parent,!r)throw new X(4005,!1);i=r.segments.length}return new Qd(r,!1,i-a)}(t,r+(cg(e.commands[0])?0:1),e.numberOfDoubleDots)}(a,n,e.snapshot?._urlSegment,l),u=c.processChildren?hg(c.segmentGroup,c.index,a.commands):AT(c.segmentGroup,c.index,a.commands);return Kd(n.root,c.segmentGroup,u,r,i)}(e.snapshot?._lastPathIndex)}function cg(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function ug(e){return"object"==typeof e&&null!=e&&e.outlets}function Kd(e,n,t,r,i){let o,a={};r&&Mi(r,(l,c)=>{a[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`}),o=e===n?t:e7(e,n,t);const s=DT(oy(o));return new Su(s,a,i)}function e7(e,n,t){const r={};return Mi(e.children,(i,a)=>{r[a]=i===n?t:e7(i,n,t)}),new Gt(e.segments,r)}class t7{constructor(n,t,r){if(this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=r,n&&r.length>0&&cg(r[0]))throw new X(4003,!1);const i=r.find(ug);if(i&&i!==j8(r))throw new X(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Qd{constructor(n,t,r){this.segmentGroup=n,this.processChildren=t,this.index=r}}function AT(e,n,t){if(e||(e=new Gt([],{})),0===e.segments.length&&e.hasChildren())return hg(e,n,t);const r=function Mfe(e,n,t){let r=0,i=n;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=t.length)return a;const o=e.segments[i],s=t[r];if(ug(s))break;const l=`${s}`,c=r<t.length-1?t[r+1]:null;if(i>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!a7(l,c,o))return a;r+=2}else{if(!a7(l,{},o))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,n,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const a=new Gt(e.segments.slice(0,r.pathIndex),{});return a.children[zt]=new Gt(e.segments.slice(r.pathIndex),e.children),hg(a,0,i)}return r.match&&0===i.length?new Gt(e.segments,{}):r.match&&!e.hasChildren()?NT(e,n,t):r.match?hg(e,0,i):NT(e,n,t)}function hg(e,n,t){if(0===t.length)return new Gt(e.segments,{});{const r=function xfe(e){return ug(e[0])?e[0].outlets:{[zt]:e}}(t),i={};return Mi(r,(a,o)=>{"string"==typeof a&&(a=[a]),null!==a&&(i[o]=AT(e.children[o],n,a))}),Mi(e.children,(a,o)=>{void 0===r[o]&&(i[o]=a)}),new Gt(e.segments,i)}}function NT(e,n,t){const r=e.segments.slice(0,n);let i=0;for(;i<t.length;){const a=t[i];if(ug(a)){const l=Tfe(a.outlets);return new Gt(r,l)}if(0===i&&cg(t[0])){r.push(new og(e.segments[n].path,i7(t[0]))),i++;continue}const o=ug(a)?a.outlets[zt]:`${a}`,s=i<t.length-1?t[i+1]:null;o&&s&&cg(s)?(r.push(new og(o,i7(s))),i+=2):(r.push(new og(o,{})),i++)}return new Gt(r,{})}function Tfe(e){const n={};return Mi(e,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(n[r]=NT(new Gt([],{}),0,t))}),n}function i7(e){const n={};return Mi(e,(t,r)=>n[r]=`${t}`),n}function a7(e,n,t){return e==t.path&&ks(n,t.parameters)}class Sl{constructor(n,t){this.id=n,this.url=t}}class IT extends Sl{constructor(n,t,r="imperative",i=null){super(n,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class xl extends Sl{constructor(n,t,r){super(n,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class sy extends Sl{constructor(n,t,r,i){super(n,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class o7 extends Sl{constructor(n,t,r,i){super(n,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Dfe extends Sl{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Efe extends Sl{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Afe extends Sl{constructor(n,t,r,i,a){super(n,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Nfe extends Sl{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ife extends Sl{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pfe{constructor(n){this.route=n,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ofe{constructor(n){this.route=n,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Rfe{constructor(n){this.snapshot=n,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Lfe{constructor(n){this.snapshot=n,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kfe{constructor(n){this.snapshot=n,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ffe{constructor(n){this.snapshot=n,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class s7{constructor(n,t,r){this.routerEvent=n,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Bfe=(()=>{class e{createUrlTree(t,r,i,a,o,s){return Cfe(t||r.root,i,a,o,s)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})(),Vfe=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=q({token:e,factory:function(n){return Bfe.\u0275fac(n)},providedIn:"root"}),e})();class l7{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const t=this.pathFromRoot(n);return t.length>1?t[t.length-2]:null}children(n){const t=PT(n,this._root);return t?t.children.map(r=>r.value):[]}firstChild(n){const t=PT(n,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(n){const t=OT(n,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==n)}pathFromRoot(n){return OT(n,this._root).map(t=>t.value)}}function PT(e,n){if(e===n.value)return n;for(const t of n.children){const r=PT(e,t);if(r)return r}return null}function OT(e,n){if(e===n.value)return[n];for(const t of n.children){const r=OT(e,t);if(r.length)return r.unshift(n),r}return[]}class Ml{constructor(n,t){this.value=n,this.children=t}toString(){return`TreeNode(${this.value})`}}function Jd(e){const n={};return e&&e.children.forEach(t=>n[t.value.outlet]=t),n}class c7 extends l7{constructor(n,t){super(n),this.snapshot=t,RT(this,n)}toString(){return this.snapshot.toString()}}function u7(e,n){const t=function Hfe(e,n){const o=new ly([],{},{},"",{},zt,n,null,e.root,-1,{});return new d7("",new Ml(o,[]))}(e,n),r=new Xt([new og("",{})]),i=new Xt({}),a=new Xt({}),o=new Xt({}),s=new Xt(""),l=new Tu(r,i,o,s,a,zt,n,t.root);return l.snapshot=t.root,new c7(new Ml(l,[]),t)}class Tu{constructor(n,t,r,i,a,o,s,l){this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=o,this.component=s,this.title=this.data?.pipe(Ce(c=>c[ag]))??Ue(void 0),this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Ce(n=>Zd(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Ce(n=>Zd(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function h7(e,n="emptyOnly"){const t=e.pathFromRoot;let r=0;if("always"!==n)for(r=t.length-1;r>=1;){const i=t[r],a=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function Ufe(e){return e.reduce((n,t)=>({params:{...n.params,...t.params},data:{...n.data,...t.data},resolve:{...t.data,...n.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class ly{constructor(n,t,r,i,a,o,s,l,c,u,h){this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=o,this.component=s,this.routeConfig=l,this._urlSegment=c,this._lastPathIndex=u,this._resolve=h}get title(){return this.data?.[ag]}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Zd(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Zd(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class d7 extends l7{constructor(n,t){super(t),this.url=n,RT(this,t)}toString(){return f7(this._root)}}function RT(e,n){n.value._routerState=e,n.children.forEach(t=>RT(e,t))}function f7(e){const n=e.children.length>0?` { ${e.children.map(f7).join(", ")} } `:"";return`${e.value}${n}`}function LT(e){if(e.snapshot){const n=e.snapshot,t=e._futureSnapshot;e.snapshot=t,ks(n.queryParams,t.queryParams)||e.queryParams.next(t.queryParams),n.fragment!==t.fragment&&e.fragment.next(t.fragment),ks(n.params,t.params)||e.params.next(t.params),function nfe(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;++t)if(!ks(e[t],n[t]))return!1;return!0}(n.url,t.url)||e.url.next(t.url),ks(n.data,t.data)||e.data.next(t.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function kT(e,n){const t=ks(e.params,n.params)&&function ofe(e,n){return xu(e,n)&&e.every((t,r)=>ks(t.parameters,n[r].parameters))}(e.url,n.url);return t&&!(!e.parent!=!n.parent)&&(!e.parent||kT(e.parent,n.parent))}function dg(e,n,t){if(t&&e.shouldReuseRoute(n.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=n.value;const i=function Wfe(e,n,t){return n.children.map(r=>{for(const i of t.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return dg(e,r,i);return dg(e,r)})}(e,n,t);return new Ml(r,i)}{if(e.shouldAttach(n.value)){const a=e.retrieve(n.value);if(null!==a){const o=a.route;return o.value._futureSnapshot=n.value,o.children=n.children.map(s=>dg(e,s)),o}}const r=function jfe(e){return new Tu(new Xt(e.url),new Xt(e.params),new Xt(e.queryParams),new Xt(e.fragment),new Xt(e.data),e.outlet,e.component,e)}(n.value),i=n.children.map(a=>dg(e,a));return new Ml(r,i)}}const FT="ngNavigationCancelingError";function p7(e,n){const{redirectTo:t,navigationBehaviorOptions:r}=Mu(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,i=g7(!1,0,n);return i.url=t,i.navigationBehaviorOptions=r,i}function g7(e,n,t){const r=new Error("NavigationCancelingError: "+(e||""));return r[FT]=!0,r.cancellationCode=n,t&&(r.url=t),r}function m7(e){return v7(e)&&Mu(e.url)}function v7(e){return e&&e[FT]}class $fe{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new fg,this.attachRef=null}}let fg=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new $fe,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const cy=!1;let zT=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=zt,this.activateEvents=new Ae,this.deactivateEvents=new Ae,this.attachEvents=new Ae,this.detachEvents=new Ae,this.parentContexts=Nt(fg),this.location=Nt(wr),this.changeDetector=Nt(un),this.environmentInjector=Nt(Es)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new X(4012,cy);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new X(4012,cy);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new X(4012,cy);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new X(4013,cy);this._activatedRoute=t;const i=this.location,o=t.snapshot.component,s=this.parentContexts.getOrCreateContext(this.name).children,l=new Yfe(t,s,i.injector);if(r&&function Xfe(e){return!!e.resolveComponentFactory}(r)){const c=r.resolveComponentFactory(o);this.activated=i.createComponent(c,i.length,l)}else this.activated=i.createComponent(o,{index:i.length,injector:l,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=K({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[on]}),e})();class Yfe{constructor(n,t,r){this.route=n,this.childContexts=t,this.parent=r}get(n,t){return n===Tu?this.route:n===fg?this.childContexts:this.parent.get(n,t)}}let BT=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=J({type:e,selectors:[["ng-component"]],standalone:!0,features:[mx],decls:1,vars:0,template:function(t,r){1&t&&ie(0,"router-outlet")},dependencies:[zT],encapsulation:2}),e})();function _7(e,n){return e.providers&&!e._injector&&(e._injector=qv(e.providers,n,`Route: ${e.path}`)),e._injector??n}function HT(e){const n=e.children&&e.children.map(HT),t=n?{...e,children:n}:{...e};return!t.component&&!t.loadComponent&&(n||t.loadChildren)&&t.outlet&&t.outlet!==zt&&(t.component=BT),t}function Co(e){return e.outlet||zt}function y7(e,n){const t=e.filter(r=>Co(r)===n);return t.push(...e.filter(r=>Co(r)!==n)),t}function pg(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let n=e.parent;n;n=n.parent){const t=n.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class Jfe{constructor(n,t,r,i){this.routeReuseStrategy=n,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(n){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,n),LT(this.futureState.root),this.activateChildRoutes(t,r,n)}deactivateChildRoutes(n,t,r){const i=Jd(t);n.children.forEach(a=>{const o=a.value.outlet;this.deactivateRoutes(a,i[o],r),delete i[o]}),Mi(i,(a,o)=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(n,t,r){const i=n.value,a=t?t.value:null;if(i===a)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(n,t,o.children)}else this.deactivateChildRoutes(n,t,r);else a&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(n,t){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,t):this.deactivateRouteAndOutlet(n,t)}detachAndStoreRouteSubtree(n,t){const r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,a=Jd(n);for(const o of Object.keys(a))this.deactivateRouteAndItsChildren(a[o],i);if(r&&r.outlet){const o=r.outlet.detach(),s=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:o,route:n,contexts:s})}}deactivateRouteAndOutlet(n,t){const r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,a=Jd(n);for(const o of Object.keys(a))this.deactivateRouteAndItsChildren(a[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(n,t,r){const i=Jd(t);n.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],r),this.forwardEvent(new Ffe(a.value.snapshot))}),n.children.length&&this.forwardEvent(new Lfe(n.value.snapshot))}activateRoutes(n,t,r){const i=n.value,a=t?t.value:null;if(LT(i),i===a)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(n,t,o.children)}else this.activateChildRoutes(n,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const s=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(s.contexts),o.attachRef=s.componentRef,o.route=s.route.value,o.outlet&&o.outlet.attach(s.componentRef,s.route.value),LT(s.route.value),this.activateChildRoutes(n,null,o.children)}else{const s=pg(i.snapshot),l=s?.get(au)??null;o.attachRef=null,o.route=i,o.resolver=l,o.injector=s,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(n,null,o.children)}}else this.activateChildRoutes(n,null,r)}}class b7{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class uy{constructor(n,t){this.component=n,this.route=t}}function epe(e,n,t){const r=e._root;return gg(r,n?n._root:null,t,[r.value])}function ef(e,n){const t=Symbol(),r=n.get(e,t);return r===t?"function"!=typeof e||function NQ(e){return null!==Km(e)}(e)?n.get(e):e:r}function gg(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=Jd(n);return e.children.forEach(o=>{(function npe(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=e.value,o=n?n.value:null,s=t?t.getContext(e.value.outlet):null;if(o&&a.routeConfig===o.routeConfig){const l=function rpe(e,n,t){if("function"==typeof t)return t(e,n);switch(t){case"pathParamsChange":return!xu(e.url,n.url);case"pathParamsOrQueryParamsChange":return!xu(e.url,n.url)||!ks(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!kT(e,n)||!ks(e.queryParams,n.queryParams);default:return!kT(e,n)}}(o,a,a.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new b7(r)):(a.data=o.data,a._resolvedData=o._resolvedData),gg(e,n,a.component?s?s.children:null:t,r,i),l&&s&&s.outlet&&s.outlet.isActivated&&i.canDeactivateChecks.push(new uy(s.outlet.component,o))}else o&&mg(n,s,i),i.canActivateChecks.push(new b7(r)),gg(e,null,a.component?s?s.children:null:t,r,i)})(o,a[o.value.outlet],t,r.concat([o.value]),i),delete a[o.value.outlet]}),Mi(a,(o,s)=>mg(o,t.getContext(s),i)),i}function mg(e,n,t){const r=Jd(e),i=e.value;Mi(r,(a,o)=>{mg(a,i.component?n?n.children.getContext(o):null:n,t)}),t.canDeactivateChecks.push(new uy(i.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,i))}function vg(e){return"function"==typeof e}function UT(e){return e instanceof Q_||"EmptyError"===e?.name}const hy=Symbol("INITIAL_VALUE");function tf(){return tr(e=>Cu(e.map(n=>n.pipe(Qi(1),Ka(hy)))).pipe(Ce(n=>{for(const t of n)if(!0!==t){if(t===hy)return hy;if(!1===t||t instanceof Su)return t}return!0}),Re(n=>n!==hy),Qi(1)))}function C7(e){return function QK(...e){return MI(e)}(ri(n=>{if(Mu(n))throw p7(0,n)}),Ce(n=>!0===n))}const GT={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function w7(e,n,t,r,i){const a=WT(e,n,t);return a.matched?function bpe(e,n,t,r){const i=n.canMatch;return i&&0!==i.length?Ue(i.map(o=>{const s=ef(o,e);return fc(function cpe(e){return e&&vg(e.canMatch)}(s)?s.canMatch(n,t):e.runInContext(()=>s(n,t)))})).pipe(tf(),C7()):Ue(!0)}(r=_7(n,r),n,t).pipe(Ce(o=>!0===o?a:{...GT})):Ue(a)}function WT(e,n,t){if(""===n.path)return"full"===n.pathMatch&&(e.hasChildren()||t.length>0)?{...GT}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(n.matcher||tfe)(t,e,n);if(!i)return{...GT};const a={};Mi(i.posParams,(s,l)=>{a[l]=s.path});const o=i.consumed.length>0?{...a,...i.consumed[i.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function dy(e,n,t,r){if(t.length>0&&function Spe(e,n,t){return t.some(r=>fy(e,n,r)&&Co(r)!==zt)}(e,t,r)){const a=new Gt(n,function wpe(e,n,t,r){const i={};i[zt]=r,r._sourceSegment=e,r._segmentIndexShift=n.length;for(const a of t)if(""===a.path&&Co(a)!==zt){const o=new Gt([],{});o._sourceSegment=e,o._segmentIndexShift=n.length,i[Co(a)]=o}return i}(e,n,r,new Gt(t,e.children)));return a._sourceSegment=e,a._segmentIndexShift=n.length,{segmentGroup:a,slicedSegments:[]}}if(0===t.length&&function xpe(e,n,t){return t.some(r=>fy(e,n,r))}(e,t,r)){const a=new Gt(e.segments,function Cpe(e,n,t,r,i){const a={};for(const o of r)if(fy(e,t,o)&&!i[Co(o)]){const s=new Gt([],{});s._sourceSegment=e,s._segmentIndexShift=n.length,a[Co(o)]=s}return{...i,...a}}(e,n,t,r,e.children));return a._sourceSegment=e,a._segmentIndexShift=n.length,{segmentGroup:a,slicedSegments:t}}const i=new Gt(e.segments,e.children);return i._sourceSegment=e,i._segmentIndexShift=n.length,{segmentGroup:i,slicedSegments:t}}function fy(e,n,t){return(!(e.hasChildren()||n.length>0)||"full"!==t.pathMatch)&&""===t.path}function S7(e,n,t,r){return!!(Co(e)===r||r!==zt&&fy(n,t,e))&&("**"===e.path||WT(n,e,t).matched)}function x7(e,n,t){return 0===n.length&&!e.children[t]}const py=!1;class gy{constructor(n){this.segmentGroup=n||null}}class M7{constructor(n){this.urlTree=n}}function _g(e){return ig(new gy(e))}function T7(e){return ig(new M7(e))}class Epe{constructor(n,t,r,i,a){this.injector=n,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=a,this.allowRedirects=!0}apply(){const n=dy(this.urlTree.root,[],[],this.config).segmentGroup,t=new Gt(n.segments,n.children);return this.expandSegmentGroup(this.injector,this.config,t,zt).pipe(Ce(a=>this.createUrlTree(oy(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(dc(a=>{if(a instanceof M7)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof gy?this.noMatchError(a):a}))}match(n){return this.expandSegmentGroup(this.injector,this.config,n.root,zt).pipe(Ce(i=>this.createUrlTree(oy(i),n.queryParams,n.fragment))).pipe(dc(i=>{throw i instanceof gy?this.noMatchError(i):i}))}noMatchError(n){return new X(4002,py)}createUrlTree(n,t,r){const i=DT(n);return new Su(i,t,r)}expandSegmentGroup(n,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(n,t,r).pipe(Ce(a=>new Gt([],a))):this.expandSegment(n,r,t,r.segments,i,!0)}expandChildren(n,t,r){const i=[];for(const a of Object.keys(r.children))"primary"===a?i.unshift(a):i.push(a);return Qn(i).pipe(oc(a=>{const o=r.children[a],s=y7(t,a);return this.expandSegmentGroup(n,s,o,a).pipe(Ce(l=>({segment:l,outlet:a})))}),H8((a,o)=>(a[o.outlet]=o.segment,a),{}),U8())}expandSegment(n,t,r,i,a,o){return Qn(r).pipe(oc(s=>this.expandSegmentAgainstRoute(n,t,r,s,i,a,o).pipe(dc(c=>{if(c instanceof gy)return Ue(null);throw c}))),hc(s=>!!s),dc((s,l)=>{if(UT(s))return x7(t,i,a)?Ue(new Gt([],{})):_g(t);throw s}))}expandSegmentAgainstRoute(n,t,r,i,a,o,s){return S7(i,t,a,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(n,t,i,a,o):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,t,r,i,a,o):_g(t):_g(t)}expandSegmentAgainstRouteUsingRedirect(n,t,r,i,a,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(n,t,r,i,a,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,t,r,i){const a=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?T7(a):this.lineralizeSegments(r,a).pipe(Qr(o=>{const s=new Gt(o,{});return this.expandSegment(n,s,t,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,t,r,i,a,o){const{matched:s,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=WT(t,i,a);if(!s)return _g(t);const h=this.applyRedirectCommands(l,i.redirectTo,u);return i.redirectTo.startsWith("/")?T7(h):this.lineralizeSegments(i,h).pipe(Qr(d=>this.expandSegment(n,t,r,d.concat(c),o,!1)))}matchSegmentAgainstRoute(n,t,r,i,a){return"**"===r.path?(n=_7(r,n),r.loadChildren?(r._loadedRoutes?Ue({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(n,r)).pipe(Ce(s=>(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,new Gt(i,{})))):Ue(new Gt(i,{}))):w7(t,r,i,n).pipe(tr(({matched:o,consumedSegments:s,remainingSegments:l})=>o?this.getChildConfig(n=r._injector??n,r,i).pipe(Qr(u=>{const h=u.injector??n,d=u.routes,{segmentGroup:f,slicedSegments:p}=dy(t,s,l,d),g=new Gt(f.segments,f.children);if(0===p.length&&g.hasChildren())return this.expandChildren(h,d,g).pipe(Ce(y=>new Gt(s,y)));if(0===d.length&&0===p.length)return Ue(new Gt(s,{}));const m=Co(r)===a;return this.expandSegment(h,g,d,p,m?zt:a,!0).pipe(Ce(_=>new Gt(s.concat(_.segments),_.children)))})):_g(t)))}getChildConfig(n,t,r){return t.children?Ue({routes:t.children,injector:n}):t.loadChildren?void 0!==t._loadedRoutes?Ue({routes:t._loadedRoutes,injector:t._loadedInjector}):function ype(e,n,t,r){const i=n.canLoad;return void 0===i||0===i.length?Ue(!0):Ue(i.map(o=>{const s=ef(o,e);return fc(function ape(e){return e&&vg(e.canLoad)}(s)?s.canLoad(n,t):e.runInContext(()=>s(n,t)))})).pipe(tf(),C7())}(n,t,r).pipe(Qr(i=>i?this.configLoader.loadChildren(n,t).pipe(ri(a=>{t._loadedRoutes=a.routes,t._loadedInjector=a.injector})):function Tpe(e){return ig(g7(py,3))}())):Ue({routes:[],injector:n})}lineralizeSegments(n,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Ue(r);if(i.numberOfChildren>1||!i.children[zt])return ig(new X(4e3,py));i=i.children[zt]}}applyRedirectCommands(n,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),n,r)}applyRedirectCreateUrlTree(n,t,r,i){const a=this.createSegmentGroup(n,t.root,r,i);return new Su(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(n,t){const r={};return Mi(n,(i,a)=>{if("string"==typeof i&&i.startsWith(":")){const s=i.substring(1);r[a]=t[s]}else r[a]=i}),r}createSegmentGroup(n,t,r,i){const a=this.createSegments(n,t.segments,r,i);let o={};return Mi(t.children,(s,l)=>{o[l]=this.createSegmentGroup(n,s,r,i)}),new Gt(a,o)}createSegments(n,t,r,i){return t.map(a=>a.path.startsWith(":")?this.findPosParam(n,a,i):this.findOrReturn(a,r))}findPosParam(n,t,r){const i=r[t.path.substring(1)];if(!i)throw new X(4001,py);return i}findOrReturn(n,t){let r=0;for(const i of t){if(i.path===n.path)return t.splice(r),i;r++}return n}}class Npe{}class Ope{constructor(n,t,r,i,a,o,s){this.injector=n,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=a,this.paramsInheritanceStrategy=o,this.urlSerializer=s}recognize(){const n=dy(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,n,zt).pipe(Ce(t=>{if(null===t)return null;const r=new ly([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},zt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Ml(r,t),a=new d7(this.url,i);return this.inheritParamsAndData(a._root),a}))}inheritParamsAndData(n){const t=n.value,r=h7(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),n.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(n,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(n,t,r):this.processSegment(n,t,r,r.segments,i)}processChildren(n,t,r){return Qn(Object.keys(r.children)).pipe(oc(i=>{const a=r.children[i],o=y7(t,i);return this.processSegmentGroup(n,o,a,i)}),H8((i,a)=>i&&a?(i.push(...a),i):null),ST(i=>null!==i),J_(null),U8(),Ce(i=>{if(null===i)return null;const a=E7(i);return function Rpe(e){e.sort((n,t)=>n.value.outlet===zt?-1:t.value.outlet===zt?1:n.value.outlet.localeCompare(t.value.outlet))}(a),a}))}processSegment(n,t,r,i,a){return Qn(t).pipe(oc(o=>this.processSegmentAgainstRoute(o._injector??n,o,r,i,a)),hc(o=>!!o),dc(o=>{if(UT(o))return x7(r,i,a)?Ue([]):Ue(null);throw o}))}processSegmentAgainstRoute(n,t,r,i,a){if(t.redirectTo||!S7(t,r,i,a))return Ue(null);let o;if("**"===t.path){const s=i.length>0?j8(i).parameters:{},l=N7(r)+i.length;o=Ue({snapshot:new ly(i,s,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,I7(t),Co(t),t.component??t._loadedComponent??null,t,A7(r),l,P7(t)),consumedSegments:[],remainingSegments:[]})}else o=w7(r,t,i,n).pipe(Ce(({matched:s,consumedSegments:l,remainingSegments:c,parameters:u})=>{if(!s)return null;const h=N7(r)+l.length;return{snapshot:new ly(l,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,I7(t),Co(t),t.component??t._loadedComponent??null,t,A7(r),h,P7(t)),consumedSegments:l,remainingSegments:c}}));return o.pipe(tr(s=>{if(null===s)return Ue(null);const{snapshot:l,consumedSegments:c,remainingSegments:u}=s;n=t._injector??n;const h=t._loadedInjector??n,d=function Lpe(e){return e.children?e.children:e.loadChildren?e._loadedRoutes:[]}(t),{segmentGroup:f,slicedSegments:p}=dy(r,c,u,d.filter(m=>void 0===m.redirectTo));if(0===p.length&&f.hasChildren())return this.processChildren(h,d,f).pipe(Ce(m=>null===m?null:[new Ml(l,m)]));if(0===d.length&&0===p.length)return Ue([new Ml(l,[])]);const g=Co(t)===a;return this.processSegment(h,d,f,p,g?zt:a).pipe(Ce(m=>null===m?null:[new Ml(l,m)]))}))}}function kpe(e){const n=e.value.routeConfig;return n&&""===n.path&&void 0===n.redirectTo}function E7(e){const n=[],t=new Set;for(const r of e){if(!kpe(r)){n.push(r);continue}const i=n.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):n.push(r)}for(const r of t){const i=E7(r.children);n.push(new Ml(r.value,i))}return n.filter(r=>!t.has(r))}function A7(e){let n=e;for(;n._sourceSegment;)n=n._sourceSegment;return n}function N7(e){let n=e,t=n._segmentIndexShift??0;for(;n._sourceSegment;)n=n._sourceSegment,t+=n._segmentIndexShift??0;return t-1}function I7(e){return e.data||{}}function P7(e){return e.resolve||{}}function O7(e){return"string"==typeof e.title||null===e.title}function jT(e){return tr(n=>{const t=e(n);return t?Qn(t).pipe(Ce(()=>n)):Ue(n)})}const nf=new te("ROUTES");let $T=(()=>{class e{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Ue(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=fc(t.loadComponent()).pipe(Ce(L7),ri(a=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=a}),wu(()=>{this.componentLoaders.delete(t)})),i=new K_(r,()=>new he).pipe(rg());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Ue({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const a=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(Ce(s=>{this.onLoadEndListener&&this.onLoadEndListener(r);let l,c,u=!1;Array.isArray(s)?c=s:(l=s.create(t).injector,c=W8(l.get(nf,[],tt.Self|tt.Optional)));return{routes:c.map(HT),injector:l}}),wu(()=>{this.childrenLoaders.delete(r)})),o=new K_(a,()=>new he).pipe(rg());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(t){return fc(t()).pipe(Ce(L7),Qr(i=>i instanceof o5||Array.isArray(i)?Ue(i):Qn(this.compiler.compileModuleAsync(i))))}}return e.\u0275fac=function(t){return new(t||e)(G(ba),G(q5))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function L7(e){return function jpe(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let YT=(()=>{class e{constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new he,this.configLoader=Nt($T),this.environmentInjector=Nt(Es),this.urlSerializer=Nt(sg),this.rootContexts=Nt(fg),this.navigationId=0,this.configLoader.onLoadEndListener=i=>this.events.next(new Ofe(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new Pfe(i))}get hasRequestedNavigation(){return 0!==this.navigationId}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new Xt({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Re(r=>0!==r.id),Ce(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),tr(r=>{let i=!1,a=!1;return Ue(r).pipe(ri(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),tr(o=>{const s=t.browserUrlTree.toString(),l=!t.navigated||o.extractedUrl.toString()!==s||s!==t.currentUrlTree.toString();if(("reload"===t.onSameUrlNavigation||l)&&t.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return F7(o.source)&&(t.browserUrlTree=o.extractedUrl),Ue(o).pipe(tr(u=>{const h=this.transitions?.getValue();return this.events.next(new IT(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),h!==this.transitions?.getValue()?ma:Promise.resolve(u)}),function Ape(e,n,t,r){return tr(i=>function Dpe(e,n,t,r,i){return new Epe(e,n,t,r,i).apply()}(e,n,t,i.extractedUrl,r).pipe(Ce(a=>({...i,urlAfterRedirects:a}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),ri(u=>{this.currentNavigation={...this.currentNavigation,finalUrl:u.urlAfterRedirects},r.urlAfterRedirects=u.urlAfterRedirects}),function zpe(e,n,t,r,i){return Qr(a=>function Ppe(e,n,t,r,i,a,o="emptyOnly"){return new Ope(e,n,t,r,i,o,a).recognize().pipe(tr(s=>null===s?function Ipe(e){return new mn(n=>n.error(e))}(new Npe):Ue(s)))}(e,n,t,a.urlAfterRedirects,r.serialize(a.urlAfterRedirects),r,i).pipe(Ce(o=>({...a,targetSnapshot:o}))))}(this.environmentInjector,t.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),ri(u=>{if(r.targetSnapshot=u.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!u.extras.skipLocationChange){const d=t.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl);t.setBrowserUrl(d,u)}t.browserUrlTree=u.urlAfterRedirects}const h=new Dfe(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}));if(l&&t.rawUrlTree&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:h,extractedUrl:d,source:f,restoredState:p,extras:g}=o,m=new IT(h,this.urlSerializer.serialize(d),f,p);this.events.next(m);const v=u7(d,t.rootComponentType).snapshot;return Ue(r={...o,targetSnapshot:v,urlAfterRedirects:d,extras:{...g,skipLocationChange:!1,replaceUrl:!1}})}return t.rawUrlTree=o.rawUrl,o.resolve(null),ma}),ri(o=>{const s=new Efe(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),Ce(o=>r={...o,guards:epe(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),function hpe(e,n){return Qr(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:o}}=t;return 0===o.length&&0===a.length?Ue({...t,guardsResult:!0}):function dpe(e,n,t,r){return Qn(e).pipe(Qr(i=>function _pe(e,n,t,r,i){const a=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return a&&0!==a.length?Ue(a.map(s=>{const l=pg(n)??i,c=ef(s,l);return fc(function lpe(e){return e&&vg(e.canDeactivate)}(c)?c.canDeactivate(e,n,t,r):l.runInContext(()=>c(e,n,t,r))).pipe(hc())})).pipe(tf()):Ue(!0)}(i.component,i.route,t,n,r)),hc(i=>!0!==i,!0))}(o,r,i,e).pipe(Qr(s=>s&&function ipe(e){return"boolean"==typeof e}(s)?function fpe(e,n,t,r){return Qn(n).pipe(oc(i=>q_(function gpe(e,n){return null!==e&&n&&n(new Rfe(e)),Ue(!0)}(i.route.parent,r),function ppe(e,n){return null!==e&&n&&n(new kfe(e)),Ue(!0)}(i.route,r),function vpe(e,n,t){const r=n[n.length-1],a=n.slice(0,n.length-1).reverse().map(o=>function tpe(e){const n=e.routeConfig?e.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:e,guards:n}:null}(o)).filter(o=>null!==o).map(o=>B8(()=>Ue(o.guards.map(l=>{const c=pg(o.node)??t,u=ef(l,c);return fc(function spe(e){return e&&vg(e.canActivateChild)}(u)?u.canActivateChild(r,e):c.runInContext(()=>u(r,e))).pipe(hc())})).pipe(tf())));return Ue(a).pipe(tf())}(e,i.path,t),function mpe(e,n,t){const r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||0===r.length)return Ue(!0);const i=r.map(a=>B8(()=>{const o=pg(n)??t,s=ef(a,o);return fc(function ope(e){return e&&vg(e.canActivate)}(s)?s.canActivate(n,e):o.runInContext(()=>s(n,e))).pipe(hc())}));return Ue(i).pipe(tf())}(e,i.route,t))),hc(i=>!0!==i,!0))}(r,a,e,n):Ue(s)),Ce(s=>({...t,guardsResult:s})))})}(this.environmentInjector,o=>this.events.next(o)),ri(o=>{if(r.guardsResult=o.guardsResult,Mu(o.guardsResult))throw p7(0,o.guardsResult);const s=new Afe(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),Re(o=>!!o.guardsResult||(t.restoreHistory(o),this.cancelNavigationTransition(o,"",3,t),!1)),jT(o=>{if(o.guards.canActivateChecks.length)return Ue(o).pipe(ri(s=>{const l=new Nfe(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(l)}),tr(s=>{let l=!1;return Ue(s).pipe(function Bpe(e,n){return Qr(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Ue(t);let a=0;return Qn(i).pipe(oc(o=>function Vpe(e,n,t,r){const i=e.routeConfig,a=e._resolve;return void 0!==i?.title&&!O7(i)&&(a[ag]=i.title),function Hpe(e,n,t,r){const i=function Upe(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===i.length)return Ue({});const a={};return Qn(i).pipe(Qr(o=>function Gpe(e,n,t,r){const i=pg(n)??r,a=ef(e,i);return fc(a.resolve?a.resolve(n,t):i.runInContext(()=>a(n,t)))}(e[o],n,t,r).pipe(hc(),ri(s=>{a[o]=s}))),xT(1),R8(a),dc(o=>UT(o)?ma:ig(o)))}(a,e,n,r).pipe(Ce(o=>(e._resolvedData=o,e.data=h7(e,t).resolve,i&&O7(i)&&(e.data[ag]=i.title),null)))}(o.route,r,e,n)),ri(()=>a++),xT(1),Qr(o=>a===i.length?Ue(t):ma))})}(t.paramsInheritanceStrategy,this.environmentInjector),ri({next:()=>l=!0,complete:()=>{l||(t.restoreHistory(s),this.cancelNavigationTransition(s,"",2,t))}}))}),ri(s=>{const l=new Ife(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(l)}))}),jT(o=>{const s=l=>{const c=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(l.routeConfig).pipe(ri(u=>{l.component=u}),Ce(()=>{})));for(const u of l.children)c.push(...s(u));return c};return Cu(s(o.targetSnapshot.root)).pipe(J_(),Qi(1))}),jT(()=>t.afterPreactivation()),Ce(o=>{const s=function Gfe(e,n,t){const r=dg(e,n._root,t?t._root:void 0);return new c7(r,n)}(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return r={...o,targetRouterState:s}}),ri(o=>{t.currentUrlTree=o.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),t.routerState=o.targetRouterState,"deferred"===t.urlUpdateStrategy&&(o.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,o),t.browserUrlTree=o.urlAfterRedirects)}),((e,n,t)=>Ce(r=>(new Jfe(n,r.targetRouterState,r.currentRouterState,t).activate(e),r)))(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o)),ri({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new xl(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),wu(()=>{i||a||this.cancelNavigationTransition(r,"",1,t),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),dc(o=>{if(a=!0,v7(o)){m7(o)||(t.navigated=!0,t.restoreHistory(r,!0));const s=new sy(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode);if(this.events.next(s),m7(o)){const l=t.urlHandlingStrategy.merge(o.url,t.rawUrlTree),c={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||F7(r.source)};t.scheduleNavigation(l,"imperative",null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const s=new o7(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);this.events.next(s);try{r.resolve(t.errorHandler(o))}catch(l){r.reject(l)}}return ma}))}))}cancelNavigationTransition(t,r,i,a){const o=new sy(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function F7(e){return"imperative"!==e}let z7=(()=>{class e{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(a=>a.outlet===zt);return r}getResolvedTitleForRoute(t){return t.data[ag]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=q({token:e,factory:function(){return Nt($pe)},providedIn:"root"}),e})(),$pe=(()=>{class e extends z7{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return e.\u0275fac=function(t){return new(t||e)(G(m6))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Ype=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=q({token:e,factory:function(){return Nt(qpe)},providedIn:"root"}),e})();class Xpe{shouldDetach(n){return!1}store(n,t){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,t){return n.routeConfig===t.routeConfig}}let qpe=(()=>{class e extends Xpe{}return e.\u0275fac=function(){let n;return function(r){return(n||(n=ot(e)))(r||e)}}(),e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const my=new te("",{providedIn:"root",factory:()=>({})});let Kpe=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=q({token:e,factory:function(){return Nt(Qpe)},providedIn:"root"}),e})(),Qpe=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Jpe(e){throw e}function e0e(e,n,t){return n.parse("/")}const t0e={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},n0e={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Fi=(()=>{class e{constructor(){this.disposed=!1,this.currentPageId=0,this.console=Nt(qae),this.isNgZoneEnabled=!1,this.options=Nt(my,{optional:!0})||{},this.errorHandler=this.options.errorHandler||Jpe,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||e0e,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>Ue(void 0),this.urlHandlingStrategy=Nt(Kpe),this.routeReuseStrategy=Nt(Ype),this.urlCreationStrategy=Nt(Vfe),this.titleStrategy=Nt(z7),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=W8(Nt(nf,{optional:!0})??[]),this.navigationTransitions=Nt(YT),this.urlSerializer=Nt(sg),this.location=Nt(I0),this.rootComponentType=null,this.isNgZoneEnabled=Nt(it)instanceof it&&it.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Su,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=u7(this.currentUrlTree,this.rootComponentType),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},a=t.state?.navigationId?t.state:null;if(t.state){const s={...t.state};delete s.navigationId,delete s.\u0275routerPageId,0!==Object.keys(s).length&&(i.state=s)}const o=this.parseUrl(t.url);this.scheduleNavigation(o,r,a,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(HT),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:a,fragment:o,queryParamsHandling:s,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:o;let u=null;switch(s){case"merge":u={...this.currentUrlTree.queryParams,...a};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=a||null}return null!==u&&(u=this.removeEmptyProps(u)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,u,c??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Mu(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function r0e(e){for(let n=0;n<e.length;n++){if(null==e[n])throw new X(4008,!1)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...t0e}:!1===r?{...n0e}:r,Mu(t))return Y8(this.currentUrlTree,t,i);const a=this.parseUrl(t);return Y8(this.currentUrlTree,a,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const a=t[i];return null!=a&&(r[i]=a),r},{})}scheduleNavigation(t,r,i,a,o){if(this.disposed)return Promise.resolve(!1);let s,l,c,u;return o?(s=o.resolve,l=o.reject,c=o.promise):c=new Promise((h,d)=>{s=h,l=d}),"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),u=i&&i.\u0275routerPageId?i.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):u=0,this.navigationTransitions.handleNavigationRequest({targetPageId:u,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:a,resolve:s,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(h=>Promise.reject(h))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),a={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",a):this.location.go(i,"",a)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===i?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),yg=(()=>{class e{constructor(t,r,i,a,o,s){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=a,this.el=o,this.locationStrategy=s,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new he;const l=o.nativeElement.tagName;this.isAnchorElement="A"===l||"AREA"===l,this.isAnchorElement?this.subscription=t.events.subscribe(c=>{c instanceof xl&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=Gd(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=Gd(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=Gd(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,a,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||a||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function FO(e,n,t){return function ote(e,n){return"src"===n&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===n&&("base"===e||"link"===e)?kO:bd}(n,t)(e)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,a=this.el.nativeElement;null!==r?i.setAttribute(a,t,r):i.removeAttribute(a,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return e.\u0275fac=function(t){return new(t||e)(D(Fi),D(Tu),function Jc(e){return function EJ(e,n){if("class"===n)return e.classes;if("style"===n)return e.styles;const t=e.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const a=t[i];if(TP(a))break;if(0===a)i+=2;else if("number"==typeof a)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(a===n)return t[i+1];i+=2}}}return null}(xi(),e)}("tabindex"),D(Ir),D(He),D(hu))},e.\u0275dir=K({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&re("click",function(a){return r.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&t&&Wn("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[on]}),e})();class V7{}let o0e=(()=>{class e{constructor(t,r,i,a,o){this.router=t,this.injector=i,this.preloadingStrategy=a,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Re(t=>t instanceof xl),oc(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const a of r){a.providers&&!a._injector&&(a._injector=qv(a.providers,t,`Route: ${a.path}`));const o=a._injector??t,s=a._loadedInjector??o;a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent?i.push(this.preloadConfig(o,a)):(a.children||a._loadedRoutes)&&i.push(this.processRoutes(s,a.children??a._loadedRoutes))}return Qn(i).pipe(td())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):Ue(null);const a=i.pipe(Qr(o=>null===o?Ue(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return r.loadComponent&&!r._loadedComponent?Qn([a,this.loader.loadComponent(r)]).pipe(td()):a})}}return e.\u0275fac=function(t){return new(t||e)(G(Fi),G(q5),G(Es),G(V7),G($T))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const XT=new te("");let H7=(()=>{class e{constructor(t,r,i,a,o={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=a,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof IT?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof xl&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof s7&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new s7(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return e.\u0275fac=function(t){!function fR(){throw new Error("invalid")}()},e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})();function af(e,n){return{\u0275kind:e,\u0275providers:n}}function G7(){const e=Nt(ba);return n=>{const t=e.get(Ud);if(n!==t.components[0])return;const r=e.get(Fi),i=e.get(W7);1===e.get(ZT)&&r.initialNavigation(),e.get(j7,null,tt.Optional)?.setUpPreloading(),e.get(XT,null,tt.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const W7=new te("",{factory:()=>new he}),ZT=new te("",{providedIn:"root",factory:()=>1});const j7=new te("");function h0e(e){return af(0,[{provide:j7,useExisting:o0e},{provide:V7,useExisting:e}])}const $7=new te("ROUTER_FORROOT_GUARD"),d0e=[I0,{provide:sg,useClass:MT},Fi,fg,{provide:Tu,useFactory:function U7(e){return e.routerState.root},deps:[Fi]},$T,[]];function f0e(){return new nk("Router",Fi)}let KT=(()=>{class e{constructor(t){}static forRoot(t,r){return{ngModule:e,providers:[d0e,[],{provide:nf,multi:!0,useValue:t},{provide:$7,useFactory:v0e,deps:[[Fi,new vd,new t0]]},{provide:my,useValue:r||{}},r?.useHash?{provide:hu,useClass:koe}:{provide:hu,useClass:Mk},{provide:XT,useFactory:()=>{const e=Nt(Kse),n=Nt(it),t=Nt(my),r=Nt(YT),i=Nt(sg);return t.scrollOffset&&e.setOffset(t.scrollOffset),new H7(i,r,e,n,t)}},r?.preloadingStrategy?h0e(r.preloadingStrategy).\u0275providers:[],{provide:nk,multi:!0,useFactory:f0e},r?.initialNavigation?_0e(r):[],[{provide:Y7,useFactory:G7},{provide:X5,multi:!0,useExisting:Y7}]]}}static forChild(t){return{ngModule:e,providers:[{provide:nf,multi:!0,useValue:t}]}}}return e.\u0275fac=function(t){return new(t||e)(G($7,8))},e.\u0275mod=It({type:e}),e.\u0275inj=St({imports:[BT]}),e})();function v0e(e){return"guarded"}function _0e(e){return["disabled"===e.initialNavigation?af(3,[{provide:Jv,multi:!0,useFactory:()=>{const n=Nt(Fi);return()=>{n.setUpLocationChangeListener()}}},{provide:ZT,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?af(2,[{provide:ZT,useValue:0},{provide:Jv,multi:!0,deps:[ba],useFactory:n=>{const t=n.get(Roe,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const a=n.get(Fi),o=n.get(W7);(function r(i){n.get(Fi).events.pipe(Re(o=>o instanceof xl||o instanceof sy||o instanceof o7),Ce(o=>o instanceof xl||o instanceof sy&&(0===o.code||1===o.code)&&null),Re(o=>null!==o),Qi(1)).subscribe(()=>{i()})})(()=>{i(!0)}),a.afterPreactivation=()=>(i(!0),o.closed?Ue(void 0):o),a.initialNavigation()}))}}]).\u0275providers:[]]}const Y7=new te("");let QT;try{QT=typeof Intl<"u"&&Intl.v8BreakIterator}catch{QT=!1}let Cg,vy,Du,JT,wo=(()=>{class e{constructor(t){this._platformId=t,this.isBrowser=this._platformId?du(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!QT)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return e.\u0275fac=function(t){return new(t||e)(G(ec))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function q7(e){return function b0e(){if(null==Cg&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Cg=!0}))}finally{Cg=Cg||!1}return Cg}()?e:!!e.capture}function Z7(){if(null==Du){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Du=!1,Du;if("scrollBehavior"in document.documentElement.style)Du=!0;else{const e=Element.prototype.scrollTo;Du=!!e&&!/\{\s*\[native code\]\s*\}/.test(e.toString())}}return Du}function wg(){if("object"!=typeof document||!document)return 0;if(null==vy){const e=document.createElement("div"),n=e.style;e.dir="rtl",n.width="1px",n.overflow="auto",n.visibility="hidden",n.pointerEvents="none",n.position="absolute";const t=document.createElement("div"),r=t.style;r.width="2px",r.height="1px",e.appendChild(t),document.body.appendChild(e),vy=0,0===e.scrollLeft&&(e.scrollLeft=1,vy=0===e.scrollLeft?1:2),e.remove()}return vy}function Eu(e){return e.composedPath?e.composedPath()[0]:e.target}function K7(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function J7(e){return Array.isArray(e)?e:[e]}function Wr(e){return null==e?"":"string"==typeof e?e:`${e}px`}function _y(e){return e instanceof He?e.nativeElement:e}class nz{constructor(n){this._items=n,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new he,this._typeaheadSubscription=We.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new he,this.change=new he,n instanceof D0&&(this._itemChangesSubscription=n.changes.subscribe(t=>{if(this._activeItem){const i=t.toArray().indexOf(this._activeItem);i>-1&&i!==this._activeItemIndex&&(this._activeItemIndex=i)}}))}skipPredicate(n){return this._skipPredicateFn=n,this}withWrap(n=!0){return this._wrap=n,this}withVerticalOrientation(n=!0){return this._vertical=n,this}withHorizontalOrientation(n){return this._horizontal=n,this}withAllowedModifierKeys(n){return this._allowedModifierKeys=n,this}withTypeAhead(n=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(ri(t=>this._pressedLetters.push(t)),qd(n),Re(()=>this._pressedLetters.length>0),Ce(()=>this._pressedLetters.join(""))).subscribe(t=>{const r=this._getItemsArray();for(let i=1;i<r.length+1;i++){const a=(this._activeItemIndex+i)%r.length,o=r[a];if(!this._skipPredicateFn(o)&&0===o.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(a);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(n=!0){return this._homeAndEnd=n,this}withPageUpDown(n=!0,t=10){return this._pageUpAndDown={enabled:n,delta:t},this}setActiveItem(n){const t=this._activeItem;this.updateActiveItem(n),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(n){const t=n.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(a=>!n[a]||this._allowedModifierKeys.indexOf(a)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&i){this.setNextItemActive();break}return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&i){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&i){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&i){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&i){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&i){const a=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(a>0?a:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&i){const a=this._activeItemIndex+this._pageUpAndDown.delta,o=this._getItemsArray().length;this._setActiveItemByIndex(a<o?a:o-1,-1);break}return;default:return void((i||function H0e(e,...n){return n.length?n.some(t=>e[t]):e.altKey||e.shiftKey||e.ctrlKey||e.metaKey}(n,"shiftKey"))&&(n.key&&1===n.key.length?this._letterKeyStream.next(n.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],n.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(n){const t=this._getItemsArray(),r="number"==typeof n?n:t.indexOf(n);this._activeItem=t[r]??null,this._activeItemIndex=r}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(n){this._wrap?this._setActiveInWrapMode(n):this._setActiveInDefaultMode(n)}_setActiveInWrapMode(n){const t=this._getItemsArray();for(let r=1;r<=t.length;r++){const i=(this._activeItemIndex+n*r+t.length)%t.length;if(!this._skipPredicateFn(t[i]))return void this.setActiveItem(i)}}_setActiveInDefaultMode(n){this._setActiveItemByIndex(this._activeItemIndex+n,n)}_setActiveItemByIndex(n,t){const r=this._getItemsArray();if(r[n]){for(;this._skipPredicateFn(r[n]);)if(!r[n+=t])return;this.setActiveItem(n)}}_getItemsArray(){return this._items instanceof D0?this._items.toArray():this._items}}class $0e extends nz{setActiveItem(n){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(n),this.activeItem&&this.activeItem.setActiveStyles()}}class Y0e extends nz{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(n){return this._origin=n,this}setActiveItem(n){super.setActiveItem(n),this.activeItem&&this.activeItem.focus(this._origin)}}let rz=(()=>{class e{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function q0e(e){return!!(e.offsetWidth||e.offsetHeight||"function"==typeof e.getClientRects&&e.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const r=function X0e(e){try{return e.frameElement}catch{return null}}(function rge(e){return e.ownerDocument&&e.ownerDocument.defaultView||window}(t));if(r&&(-1===az(r)||!this.isVisible(r)))return!1;let i=t.nodeName.toLowerCase(),a=az(t);return t.hasAttribute("contenteditable")?-1!==a:!("iframe"===i||"object"===i||this._platform.WEBKIT&&this._platform.IOS&&!function tge(e){let n=e.nodeName.toLowerCase(),t="input"===n&&e.type;return"text"===t||"password"===t||"select"===n||"textarea"===n}(t))&&("audio"===i?!!t.hasAttribute("controls")&&-1!==a:"video"===i?-1!==a&&(null!==a||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,r){return function nge(e){return!function K0e(e){return function J0e(e){return"input"==e.nodeName.toLowerCase()}(e)&&"hidden"==e.type}(e)&&(function Z0e(e){let n=e.nodeName.toLowerCase();return"input"===n||"select"===n||"button"===n||"textarea"===n}(e)||function Q0e(e){return function ege(e){return"a"==e.nodeName.toLowerCase()}(e)&&e.hasAttribute("href")}(e)||e.hasAttribute("contenteditable")||iz(e))}(t)&&!this.isDisabled(t)&&(r?.ignoreVisibility||this.isVisible(t))}}return e.\u0275fac=function(t){return new(t||e)(G(wo))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function iz(e){if(!e.hasAttribute("tabindex")||void 0===e.tabIndex)return!1;let n=e.getAttribute("tabindex");return!(!n||isNaN(parseInt(n,10)))}function az(e){if(!iz(e))return null;const n=parseInt(e.getAttribute("tabindex")||"",10);return isNaN(n)?-1:n}class oz{constructor(n,t,r,i,a=!1){this._element=n,this._checker=t,this._ngZone=r,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,a||this.attachAnchors()}get enabled(){return this._enabled}set enabled(n){this._enabled=n,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(n,this._startAnchor),this._toggleAnchorTabIndex(n,this._endAnchor))}destroy(){const n=this._startAnchor,t=this._endAnchor;n&&(n.removeEventListener("focus",this.startAnchorListener),n.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(n){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(n)))})}focusFirstTabbableElementWhenReady(n){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(n)))})}focusLastTabbableElementWhenReady(n){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(n)))})}_getRegionBoundary(n){const t=this._element.querySelectorAll(`[cdk-focus-region-${n}], [cdkFocusRegion${n}], [cdk-focus-${n}]`);return"start"==n?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(n){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const r=this._getFirstTabbableElement(t);return r?.focus(n),!!r}return t.focus(n),!0}return this.focusFirstTabbableElement(n)}focusFirstTabbableElement(n){const t=this._getRegionBoundary("start");return t&&t.focus(n),!!t}focusLastTabbableElement(n){const t=this._getRegionBoundary("end");return t&&t.focus(n),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(n){if(this._checker.isFocusable(n)&&this._checker.isTabbable(n))return n;const t=n.children;for(let r=0;r<t.length;r++){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[r]):null;if(i)return i}return null}_getLastTabbableElement(n){if(this._checker.isFocusable(n)&&this._checker.isTabbable(n))return n;const t=n.children;for(let r=t.length-1;r>=0;r--){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[r]):null;if(i)return i}return null}_createAnchor(){const n=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,n),n.classList.add("cdk-visually-hidden"),n.classList.add("cdk-focus-trap-anchor"),n.setAttribute("aria-hidden","true"),n}_toggleAnchorTabIndex(n,t){n?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(n){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(n,this._startAnchor),this._toggleAnchorTabIndex(n,this._endAnchor))}_executeOnStable(n){this._ngZone.isStable?n():this._ngZone.onStable.pipe(Qi(1)).subscribe(n)}}let ige=(()=>{class e{constructor(t,r,i){this._checker=t,this._ngZone=r,this._document=i}create(t,r=!1){return new oz(t,this._checker,this._ngZone,this._document,r)}}return e.\u0275fac=function(t){return new(t||e)(G(rz),G(it),G(rn))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const sge=new te("cdk-input-modality-detector-options"),lge={ignoreKeys:[18,17,224,91,16]},cf=q7({passive:!0,capture:!0});let cge=(()=>{class e{constructor(t,r,i,a){this._platform=t,this._mostRecentTarget=null,this._modality=new Xt(null),this._lastTouchMs=0,this._onKeydown=o=>{this._options?.ignoreKeys?.some(s=>s===o.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Eu(o))},this._onMousedown=o=>{Date.now()-this._lastTouchMs<650||(this._modality.next(function age(e){return 0===e.buttons||0===e.offsetX&&0===e.offsetY}(o)?"keyboard":"mouse"),this._mostRecentTarget=Eu(o))},this._onTouchstart=o=>{!function oge(e){const n=e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0];return!(!n||-1!==n.identifier||null!=n.radiusX&&1!==n.radiusX||null!=n.radiusY&&1!==n.radiusY)}(o)?(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Eu(o)):this._modality.next("keyboard")},this._options={...lge,...a},this.modalityDetected=this._modality.pipe(function U0e(e){return Re((n,t)=>e<=t)}(1)),this.modalityChanged=this.modalityDetected.pipe(Z_()),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,cf),i.addEventListener("mousedown",this._onMousedown,cf),i.addEventListener("touchstart",this._onTouchstart,cf)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,cf),document.removeEventListener("mousedown",this._onMousedown,cf),document.removeEventListener("touchstart",this._onTouchstart,cf))}}return e.\u0275fac=function(t){return new(t||e)(G(wo),G(it),G(rn),G(sge,8))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const hge=new te("cdk-focus-monitor-default-options"),yy=q7({passive:!0,capture:!0});let lz=(()=>{class e{constructor(t,r,i,a,o){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new he,this._rootNodeFocusAndBlurListener=s=>{for(let c=Eu(s);c;c=c.parentElement)"focus"===s.type?this._onFocus(s,c):this._onBlur(s,c)},this._document=a,this._detectionMode=o?.detectionMode||0}monitor(t,r=!1){const i=_y(t);if(!this._platform.isBrowser||1!==i.nodeType)return Ue(null);const a=function w0e(e){if(function C0e(){if(null==JT){const e=typeof document<"u"?document.head:null;JT=!(!e||!e.createShadowRoot&&!e.attachShadow)}return JT}()){const n=e.getRootNode?e.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&n instanceof ShadowRoot)return n}return null}(i)||this._getDocument(),o=this._elementInfo.get(i);if(o)return r&&(o.checkChildren=!0),o.subject;const s={checkChildren:r,subject:new he,rootNode:a};return this._elementInfo.set(i,s),this._registerGlobalListeners(s),s.subject}stopMonitoring(t){const r=_y(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const a=_y(t);a===this._getDocument().activeElement?this._getClosestElementsInfo(a).forEach(([s,l])=>this._originChanged(s,r,l)):(this._setOrigin(r),"function"==typeof a.focus&&a.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const i=this._elementInfo.get(r),a=Eu(t);!i||!i.checkChildren&&r!==a||this._originChanged(r,this._getFocusOrigin(a),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(t,r){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,yy),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,yy)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(ee(this._stopInputModalityDetector)).subscribe(a=>{this._setOrigin(a,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,yy),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,yy),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,a)=>{(a===t||i.checkChildren&&a.contains(t))&&r.push([a,i])}),r}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if("mouse"!==i||!r||r===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const a=t.labels;if(a)for(let o=0;o<a.length;o++)if(a[o].contains(r))return!0;return!1}}return e.\u0275fac=function(t){return new(t||e)(G(it),G(wo),G(cge),G(rn,8),G(hge,8))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class tD{attach(n){return this._attachedHost=n,n.attach(this)}detach(){let n=this._attachedHost;null!=n&&(this._attachedHost=null,n.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(n){this._attachedHost=n}}class dge extends tD{constructor(n,t,r,i,a){super(),this.component=n,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=i,this.projectableNodes=a}}class cz extends tD{constructor(n,t,r,i){super(),this.templateRef=n,this.viewContainerRef=t,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(n,t=this.context){return this.context=t,super.attach(n)}detach(){return this.context=void 0,super.detach()}}class fge extends tD{constructor(n){super(),this.element=n instanceof He?n.nativeElement:n}}class pge{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(n){return n instanceof dge?(this._attachedPortal=n,this.attachComponentPortal(n)):n instanceof cz?(this._attachedPortal=n,this.attachTemplatePortal(n)):this.attachDomPortal&&n instanceof fge?(this._attachedPortal=n,this.attachDomPortal(n)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(n){this._disposeFn=n}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class gge extends pge{constructor(n,t,r,i,a){super(),this.outletElement=n,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=o=>{const s=o.element,l=this._document.createComment("dom-portal");s.parentNode.insertBefore(l,s),this.outletElement.appendChild(s),this._attachedPortal=o,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(s,l)})},this._document=a}attachComponentPortal(n){const r=(n.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(n.component);let i;return n.viewContainerRef?(i=n.viewContainerRef.createComponent(r,n.viewContainerRef.length,n.injector||n.viewContainerRef.injector,n.projectableNodes||void 0),this.setDisposeFn(()=>i.destroy())):(i=r.create(n.injector||this._defaultInjector||ba.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=n,i}attachTemplatePortal(n){let t=n.viewContainerRef,r=t.createEmbeddedView(n.templateRef,n.context,{injector:n.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);-1!==i&&t.remove(i)}),this._attachedPortal=n,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(n){return n.hostView.rootNodes[0]}}let rD,nD=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=It({type:e}),e.\u0275inj=St({}),e})(),vge=1;const by={};function uz(e){return e in by&&(delete by[e],!0)}const _ge={setImmediate(e){const n=vge++;return by[n]=!0,rD||(rD=Promise.resolve()),rD.then(()=>uz(n)&&e()),n},clearImmediate(e){uz(e)}},{setImmediate:yge,clearImmediate:bge}=_ge,Cy={setImmediate(...e){const{delegate:n}=Cy;return(n?.setImmediate||yge)(...e)},clearImmediate(e){const{delegate:n}=Cy;return(n?.clearImmediate||bge)(e)},delegate:void 0},Sge=new class wge extends yT{flush(n){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;n=n||r.shift();do{if(i=n.execute(n.state,n.delay))break}while((n=r[0])&&n.id===t&&r.shift());if(this._active=!1,i){for(;(n=r[0])&&n.id===t&&r.shift();)n.unsubscribe();throw i}}}(class Cge extends _T{constructor(n,t){super(n,t),this.scheduler=n,this.work=t}requestAsyncId(n,t,r=0){return null!==r&&r>0?super.requestAsyncId(n,t,r):(n.actions.push(this),n._scheduled||(n._scheduled=Cy.setImmediate(n.flush.bind(n,void 0))))}recycleAsyncId(n,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(n,t,r);const{actions:a}=n;null!=t&&(null===(i=a[a.length-1])||void 0===i?void 0:i.id)!==t&&(Cy.clearImmediate(t),n._scheduled=void 0)}});function iD(e,n=tg){return function xge(e){return Ln((n,t)=>{let r=!1,i=null,a=null,o=!1;const s=()=>{if(a?.unsubscribe(),a=null,r){r=!1;const c=i;i=null,t.next(c)}o&&t.complete()},l=()=>{a=null,o&&t.complete()};n.subscribe(vn(t,c=>{r=!0,i=c,a||wi(e(c)).subscribe(a=vn(t,s,l))},()=>{o=!0,(!r||!a||a.closed)&&t.complete()}))})}(()=>Xd(e,n))}const Mge=new te("cdk-dir-doc",{providedIn:"root",factory:function Tge(){return Nt(rn)}}),Dge=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Au=(()=>{class e{constructor(t){if(this.value="ltr",this.change=new Ae,t){const i=t.documentElement?t.documentElement.dir:null;this.value=function Ege(e){const n=e?.toLowerCase()||"";return"auto"===n&&typeof navigator<"u"&&navigator?.language?Dge.test(navigator.language)?"rtl":"ltr":"rtl"===n?"rtl":"ltr"}((t.body?t.body.dir:null)||i||"ltr")}}ngOnDestroy(){this.change.complete()}}return e.\u0275fac=function(t){return new(t||e)(G(Mge,8))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),wy=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=It({type:e}),e.\u0275inj=St({}),e})();const Age=["contentWrapper"],Nge=["*"],Ige=new te("VIRTUAL_SCROLL_STRATEGY");let Nu=(()=>{class e{constructor(t,r,i){this._ngZone=t,this._platform=r,this._scrolled=new he,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new mn(r=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe(iD(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Ue()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(Re(a=>!a||i.indexOf(a)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((i,a)=>{this._scrollableContainsElement(a,t)&&r.push(a)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let i=_y(r),a=t.getElementRef().nativeElement;do{if(i==a)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Gr(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return e.\u0275fac=function(t){return new(t||e)(G(it),G(wo),G(rn,8))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),hz=(()=>{class e{constructor(t,r,i,a){this.elementRef=t,this.scrollDispatcher=r,this.ngZone=i,this.dir=a,this._destroyed=new he,this._elementScrolled=new mn(o=>this.ngZone.runOutsideAngular(()=>Gr(this.elementRef.nativeElement,"scroll").pipe(ee(this._destroyed)).subscribe(o)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const r=this.elementRef.nativeElement,i=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=i?t.end:t.start),null==t.right&&(t.right=i?t.start:t.end),null!=t.bottom&&(t.top=r.scrollHeight-r.clientHeight-t.bottom),i&&0!=wg()?(null!=t.left&&(t.right=r.scrollWidth-r.clientWidth-t.left),2==wg()?t.left=t.right:1==wg()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=r.scrollWidth-r.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const r=this.elementRef.nativeElement;Z7()?r.scrollTo(t):(null!=t.top&&(r.scrollTop=t.top),null!=t.left&&(r.scrollLeft=t.left))}measureScrollOffset(t){const r="left",i="right",a=this.elementRef.nativeElement;if("top"==t)return a.scrollTop;if("bottom"==t)return a.scrollHeight-a.clientHeight-a.scrollTop;const o=this.dir&&"rtl"==this.dir.value;return"start"==t?t=o?i:r:"end"==t&&(t=o?r:i),o&&2==wg()?t==r?a.scrollWidth-a.clientWidth-a.scrollLeft:a.scrollLeft:o&&1==wg()?t==r?a.scrollLeft+a.scrollWidth-a.clientWidth:-a.scrollLeft:t==r?a.scrollLeft:a.scrollWidth-a.clientWidth-a.scrollLeft}}return e.\u0275fac=function(t){return new(t||e)(D(He),D(Nu),D(it),D(Au,8))},e.\u0275dir=K({type:e,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),e})(),Sg=(()=>{class e{constructor(t,r,i){this._platform=t,this._change=new he,this._changeListener=a=>{this._change.next(a)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const a=this._getWindow();a.addEventListener("resize",this._changeListener),a.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,a=i.getBoundingClientRect();return{top:-a.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-a.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(iD(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return e.\u0275fac=function(t){return new(t||e)(G(wo),G(it),G(rn,8))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const dz=new te("VIRTUAL_SCROLLABLE");let Rge=(()=>{class e extends hz{constructor(t,r,i,a){super(t,r,i,a)}measureViewportSize(t){const r=this.elementRef.nativeElement;return"horizontal"===t?r.clientWidth:r.clientHeight}}return e.\u0275fac=function(t){return new(t||e)(D(He),D(Nu),D(it),D(Au,8))},e.\u0275dir=K({type:e,features:[ge]}),e})();const kge=typeof requestAnimationFrame<"u"?P8:Sge;let Fge=(()=>{class e extends Rge{constructor(t,r,i,a,o,s,l,c){super(t,s,i,o),this.elementRef=t,this._changeDetectorRef=r,this._scrollStrategy=a,this.scrollable=c,this._platform=Nt(wo),this._detachedSubject=new he,this._renderedRangeSubject=new he,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new mn(u=>this._scrollStrategy.scrolledIndexChange.subscribe(h=>Promise.resolve().then(()=>this.ngZone.run(()=>u.next(h))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=We.EMPTY,this._viewportChanges=l.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}get orientation(){return this._orientation}set orientation(t){this._orientation!==t&&(this._orientation=t,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(t){this._appendOnly=function lf(e){return null!=e&&"false"!=`${e}`}(t)}ngOnInit(){!this._platform.isBrowser||(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe(Ka(null),iD(0,kge)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(t){this.ngZone.runOutsideAngular(()=>{this._forOf=t,this._forOf.dataStream.pipe(ee(this._detachedSubject)).subscribe(r=>{const i=r.length;i!==this._dataLength&&(this._dataLength=i,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(t){return this.getElementRef().nativeElement.getBoundingClientRect()[t]}setTotalContentSize(t){this._totalContentSize!==t&&(this._totalContentSize=t,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(t){(function Lge(e,n){return e.start==n.start&&e.end==n.end})(this._renderedRange,t)||(this.appendOnly&&(t={start:0,end:Math.max(this._renderedRange.end,t.end)}),this._renderedRangeSubject.next(this._renderedRange=t),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(t,r="to-start"){t=this.appendOnly&&"to-start"===r?0:t;const a="horizontal"==this.orientation,o=a?"X":"Y";let l=`translate${o}(${Number((a&&this.dir&&"rtl"==this.dir.value?-1:1)*t)}px)`;this._renderedContentOffset=t,"to-end"===r&&(l+=` translate${o}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=l&&(this._renderedContentTransform=l,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(t,r="auto"){const i={behavior:r};"horizontal"===this.orientation?i.start=t:i.top=t,this.scrollable.scrollTo(i)}scrollToIndex(t,r="auto"){this._scrollStrategy.scrollToIndex(t,r)}measureScrollOffset(t){let r;return r=this.scrollable==this?i=>super.measureScrollOffset(i):i=>this.scrollable.measureScrollOffset(i),Math.max(0,r(t??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(t){let r;const i="left",a="right",o="rtl"==this.dir?.value;r="start"==t?o?a:i:"end"==t?o?i:a:t||("horizontal"===this.orientation?"left":"top");const s=this.scrollable.measureBoundingClientRectWithScrollOffset(r);return this.elementRef.nativeElement.getBoundingClientRect()[r]-s}measureRenderedContentSize(){const t=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?t.offsetWidth:t.offsetHeight}measureRangeSize(t){return this._forOf?this._forOf.measureRangeSize(t,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(t){t&&this._runAfterChangeDetection.push(t),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const t=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const r of t)r()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return e.\u0275fac=function(t){return new(t||e)(D(He),D(un),D(it),D(Ige,8),D(Au,8),D(Nu),D(Sg),D(dz,8))},e.\u0275cmp=J({type:e,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(t,r){if(1&t&&Br(Age,7),2&t){let i;nt(i=rt())&&(r._contentWrapper=i.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(t,r){2&t&&_e("cdk-virtual-scroll-orientation-horizontal","horizontal"===r.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==r.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[Me([{provide:hz,useFactory:(n,t)=>n||t,deps:[[new vd,new yv(dz)],e]}]),ge,mx],ngContentSelectors:Nge,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(t,r){1&t&&(Mt(),B(0,"div",0,1),Pe(2),H(),ie(3,"div",2)),2&t&&(k(3),pi("width",r._totalContentWidth)("height",r._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),e})(),fz=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=It({type:e}),e.\u0275inj=St({}),e})(),aD=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=It({type:e}),e.\u0275inj=St({imports:[wy,fz,Fge,wy,fz]}),e})();const pz=Z7();class gz{constructor(n,t){this._viewportRuler=n,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const n=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=n.style.left||"",this._previousHTMLStyles.top=n.style.top||"",n.style.left=Wr(-this._previousScrollPosition.left),n.style.top=Wr(-this._previousScrollPosition.top),n.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const n=this._document.documentElement,r=n.style,i=this._document.body.style,a=r.scrollBehavior||"",o=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,n.classList.remove("cdk-global-scrollblock"),pz&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),pz&&(r.scrollBehavior=a,i.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class zge{constructor(n,t,r,i){this._scrollDispatcher=n,this._ngZone=t,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(n){this._overlayRef=n}enable(){if(this._scrollSubscription)return;const n=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=n.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=n.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class mz{enable(){}disable(){}attach(){}}function oD(e,n){return n.some(t=>e.bottom<t.top||e.top>t.bottom||e.right<t.left||e.left>t.right)}function vz(e,n){return n.some(t=>e.top<t.top||e.bottom>t.bottom||e.left<t.left||e.right>t.right)}class Bge{constructor(n,t,r,i){this._scrollDispatcher=n,this._viewportRuler=t,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(n){this._overlayRef=n}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();oD(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let sD=(()=>{class e{constructor(t,r,i,a){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new mz,this.close=o=>new zge(this._scrollDispatcher,this._ngZone,this._viewportRuler,o),this.block=()=>new gz(this._viewportRuler,this._document),this.reposition=o=>new Bge(this._scrollDispatcher,this._viewportRuler,this._ngZone,o),this._document=a}}return e.\u0275fac=function(t){return new(t||e)(G(Nu),G(Sg),G(it),G(rn))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class Vge{constructor(n){if(this.scrollStrategy=new mz,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,n){const t=Object.keys(n);for(const r of t)void 0!==n[r]&&(this[r]=n[r])}}}class Hge{constructor(n,t){this.connectionPair=n,this.scrollableViewProperties=t}}let _z=(()=>{class e{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return e.\u0275fac=function(t){return new(t||e)(G(rn))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Uge=(()=>{class e extends _z{constructor(t,r){super(t),this._ngZone=r,this._keydownListener=i=>{const a=this._attachedOverlays;for(let o=a.length-1;o>-1;o--)if(a[o]._keydownEvents.observers.length>0){const s=a[o]._keydownEvents;this._ngZone?this._ngZone.run(()=>s.next(i)):s.next(i);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return e.\u0275fac=function(t){return new(t||e)(G(rn),G(it,8))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Gge=(()=>{class e extends _z{constructor(t,r,i){super(t),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=a=>{this._pointerDownEventTarget=Eu(a)},this._clickListener=a=>{const o=Eu(a),s="click"===a.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:o;this._pointerDownEventTarget=null;const l=this._attachedOverlays.slice();for(let c=l.length-1;c>-1;c--){const u=l[c];if(u._outsidePointerEvents.observers.length<1||!u.hasAttached())continue;if(u.overlayElement.contains(o)||u.overlayElement.contains(s))break;const h=u._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>h.next(a)):h.next(a)}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return e.\u0275fac=function(t){return new(t||e)(G(rn),G(wo),G(it,8))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Sy=(()=>{class e{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||K7()){const i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let a=0;a<i.length;a++)i[a].remove()}const r=this._document.createElement("div");r.classList.add(t),K7()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return e.\u0275fac=function(t){return new(t||e)(G(rn),G(wo))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class Wge{constructor(n,t,r,i,a,o,s,l,c,u=!1){this._portalOutlet=n,this._host=t,this._pane=r,this._config=i,this._ngZone=a,this._keyboardDispatcher=o,this._document=s,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=u,this._backdropElement=null,this._backdropClick=new he,this._attachments=new he,this._detachments=new he,this._locationChanges=We.EMPTY,this._backdropClickHandler=h=>this._backdropClick.next(h),this._backdropTransitionendHandler=h=>{this._disposeBackdrop(h.target)},this._keydownEvents=new he,this._outsidePointerEvents=new he,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(n){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(n);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Qi(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const n=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),n}dispose(){const n=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,n&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(n){n!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=n,this.hasAttached()&&(n.attach(this),this.updatePosition()))}updateSize(n){this._config={...this._config,...n},this._updateElementSize()}setDirection(n){this._config={...this._config,direction:n},this._updateElementDirection()}addPanelClass(n){this._pane&&this._toggleClasses(this._pane,n,!0)}removePanelClass(n){this._pane&&this._toggleClasses(this._pane,n,!1)}getDirection(){const n=this._config.direction;return n?"string"==typeof n?n:n.value:"ltr"}updateScrollStrategy(n){n!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=n,this.hasAttached()&&(n.attach(this),n.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const n=this._pane.style;n.width=Wr(this._config.width),n.height=Wr(this._config.height),n.minWidth=Wr(this._config.minWidth),n.minHeight=Wr(this._config.minHeight),n.maxWidth=Wr(this._config.maxWidth),n.maxHeight=Wr(this._config.maxHeight)}_togglePointerEvents(n){this._pane.style.pointerEvents=n?"":"none"}_attachBackdrop(){const n="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(n)})}):this._backdropElement.classList.add(n)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const n=this._backdropElement;if(n){if(this._animationsDisabled)return void this._disposeBackdrop(n);n.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{n.addEventListener("transitionend",this._backdropTransitionendHandler)}),n.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(n)},500))}}_toggleClasses(n,t,r){const i=J7(t||[]).filter(a=>!!a);i.length&&(r?n.classList.add(...i):n.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const n=this._ngZone.onStable.pipe(ee(fi(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),n.unsubscribe())})})}_disposeScrollStrategy(){const n=this._scrollStrategy;n&&(n.disable(),n.detach&&n.detach())}_disposeBackdrop(n){n&&(n.removeEventListener("click",this._backdropClickHandler),n.removeEventListener("transitionend",this._backdropTransitionendHandler),n.remove(),this._backdropElement===n&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const yz="cdk-overlay-connected-position-bounding-box",jge=/([A-Za-z%]+)$/;class bz{constructor(n,t,r,i,a){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=a,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new he,this._resizeSubscription=We.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(n)}get positions(){return this._preferredPositions}attach(n){this._validatePositions(),n.hostElement.classList.add(yz),this._overlayRef=n,this._boundingBox=n.hostElement,this._pane=n.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const n=this._originRect,t=this._overlayRect,r=this._viewportRect,i=this._containerRect,a=[];let o;for(let s of this._preferredPositions){let l=this._getOriginPoint(n,i,s),c=this._getOverlayPoint(l,t,s),u=this._getOverlayFit(c,t,r,s);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(s,l);this._canFitWithFlexibleDimensions(u,c,r)?a.push({position:s,origin:l,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(l,s)}):(!o||o.overlayFit.visibleArea<u.visibleArea)&&(o={overlayFit:u,overlayPoint:c,originPoint:l,position:s,overlayRect:t})}if(a.length){let s=null,l=-1;for(const c of a){const u=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);u>l&&(l=u,s=c)}return this._isPushed=!1,void this._applyPosition(s.position,s.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(o.position,o.originPoint);this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Iu(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(yz),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const n=this._lastPosition;if(n){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,n);this._applyPosition(n,t)}else this.apply()}withScrollableContainers(n){return this._scrollables=n,this}withPositions(n){return this._preferredPositions=n,-1===n.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(n){return this._viewportMargin=n,this}withFlexibleDimensions(n=!0){return this._hasFlexibleDimensions=n,this}withGrowAfterOpen(n=!0){return this._growAfterOpen=n,this}withPush(n=!0){return this._canPush=n,this}withLockedPosition(n=!0){return this._positionLocked=n,this}setOrigin(n){return this._origin=n,this}withDefaultOffsetX(n){return this._offsetX=n,this}withDefaultOffsetY(n){return this._offsetY=n,this}withTransformOriginOn(n){return this._transformOriginSelector=n,this}_getOriginPoint(n,t,r){let i,a;if("center"==r.originX)i=n.left+n.width/2;else{const o=this._isRtl()?n.right:n.left,s=this._isRtl()?n.left:n.right;i="start"==r.originX?o:s}return t.left<0&&(i-=t.left),a="center"==r.originY?n.top+n.height/2:"top"==r.originY?n.top:n.bottom,t.top<0&&(a-=t.top),{x:i,y:a}}_getOverlayPoint(n,t,r){let i,a;return i="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,a="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:n.x+i,y:n.y+a}}_getOverlayFit(n,t,r,i){const a=wz(t);let{x:o,y:s}=n,l=this._getOffset(i,"x"),c=this._getOffset(i,"y");l&&(o+=l),c&&(s+=c);let d=0-s,f=s+a.height-r.height,p=this._subtractOverflows(a.width,0-o,o+a.width-r.width),g=this._subtractOverflows(a.height,d,f),m=p*g;return{visibleArea:m,isCompletelyWithinViewport:a.width*a.height===m,fitsInViewportVertically:g===a.height,fitsInViewportHorizontally:p==a.width}}_canFitWithFlexibleDimensions(n,t,r){if(this._hasFlexibleDimensions){const i=r.bottom-t.y,a=r.right-t.x,o=Cz(this._overlayRef.getConfig().minHeight),s=Cz(this._overlayRef.getConfig().minWidth),c=n.fitsInViewportHorizontally||null!=s&&s<=a;return(n.fitsInViewportVertically||null!=o&&o<=i)&&c}return!1}_pushOverlayOnScreen(n,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:n.x+this._previousPushAmount.x,y:n.y+this._previousPushAmount.y};const i=wz(t),a=this._viewportRect,o=Math.max(n.x+i.width-a.width,0),s=Math.max(n.y+i.height-a.height,0),l=Math.max(a.top-r.top-n.y,0),c=Math.max(a.left-r.left-n.x,0);let u=0,h=0;return u=i.width<=a.width?c||-o:n.x<this._viewportMargin?a.left-r.left-n.x:0,h=i.height<=a.height?l||-s:n.y<this._viewportMargin?a.top-r.top-n.y:0,this._previousPushAmount={x:u,y:h},{x:n.x+u,y:n.y+h}}_applyPosition(n,t){if(this._setTransformOrigin(n),this._setOverlayElementStyles(t,n),this._setBoundingBoxStyles(t,n),n.panelClass&&this._addPanelClasses(n.panelClass),this._lastPosition=n,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new Hge(n,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(n){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=n.overlayY;r="center"===n.overlayX?"center":this._isRtl()?"start"===n.overlayX?"right":"left":"start"===n.overlayX?"left":"right";for(let a=0;a<t.length;a++)t[a].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(n,t){const r=this._viewportRect,i=this._isRtl();let a,o,s,u,h,d;if("top"===t.overlayY)o=n.y,a=r.height-o+this._viewportMargin;else if("bottom"===t.overlayY)s=r.height-n.y+2*this._viewportMargin,a=r.height-s+this._viewportMargin;else{const f=Math.min(r.bottom-n.y+r.top,n.y),p=this._lastBoundingBoxSize.height;a=2*f,o=n.y-f,a>p&&!this._isInitialRender&&!this._growAfterOpen&&(o=n.y-p/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)d=r.width-n.x+this._viewportMargin,u=n.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)h=n.x,u=r.right-n.x;else{const f=Math.min(r.right-n.x+r.left,n.x),p=this._lastBoundingBoxSize.width;u=2*f,h=n.x-f,u>p&&!this._isInitialRender&&!this._growAfterOpen&&(h=n.x-p/2)}return{top:o,left:h,bottom:s,right:d,width:u,height:a}}_setBoundingBoxStyles(n,t){const r=this._calculateBoundingBoxRect(n,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const a=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;i.height=Wr(r.height),i.top=Wr(r.top),i.bottom=Wr(r.bottom),i.width=Wr(r.width),i.left=Wr(r.left),i.right=Wr(r.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",a&&(i.maxHeight=Wr(a)),o&&(i.maxWidth=Wr(o))}this._lastBoundingBoxSize=r,Iu(this._boundingBox.style,i)}_resetBoundingBoxStyles(){Iu(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Iu(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(n,t){const r={},i=this._hasExactPosition(),a=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(i){const u=this._viewportRuler.getViewportScrollPosition();Iu(r,this._getExactOverlayY(t,n,u)),Iu(r,this._getExactOverlayX(t,n,u))}else r.position="static";let s="",l=this._getOffset(t,"x"),c=this._getOffset(t,"y");l&&(s+=`translateX(${l}px) `),c&&(s+=`translateY(${c}px)`),r.transform=s.trim(),o.maxHeight&&(i?r.maxHeight=Wr(o.maxHeight):a&&(r.maxHeight="")),o.maxWidth&&(i?r.maxWidth=Wr(o.maxWidth):a&&(r.maxWidth="")),Iu(this._pane.style,r)}_getExactOverlayY(n,t,r){let i={top:"",bottom:""},a=this._getOverlayPoint(t,this._overlayRect,n);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,r)),"bottom"===n.overlayY?i.bottom=this._document.documentElement.clientHeight-(a.y+this._overlayRect.height)+"px":i.top=Wr(a.y),i}_getExactOverlayX(n,t,r){let o,i={left:"",right:""},a=this._getOverlayPoint(t,this._overlayRect,n);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,r)),o=this._isRtl()?"end"===n.overlayX?"left":"right":"end"===n.overlayX?"right":"left","right"===o?i.right=this._document.documentElement.clientWidth-(a.x+this._overlayRect.width)+"px":i.left=Wr(a.x),i}_getScrollVisibility(){const n=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:vz(n,r),isOriginOutsideView:oD(n,r),isOverlayClipped:vz(t,r),isOverlayOutsideView:oD(t,r)}}_subtractOverflows(n,...t){return t.reduce((r,i)=>r-Math.max(i,0),n)}_getNarrowedViewportRect(){const n=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+n-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:n-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(n,t){return"x"===t?null==n.offsetX?this._offsetX:n.offsetX:null==n.offsetY?this._offsetY:n.offsetY}_validatePositions(){}_addPanelClasses(n){this._pane&&J7(n).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(n=>{this._pane.classList.remove(n)}),this._appliedPanelClasses=[])}_getOriginRect(){const n=this._origin;if(n instanceof He)return n.nativeElement.getBoundingClientRect();if(n instanceof Element)return n.getBoundingClientRect();const t=n.width||0,r=n.height||0;return{top:n.y,bottom:n.y+r,left:n.x,right:n.x+t,height:r,width:t}}}function Iu(e,n){for(let t in n)n.hasOwnProperty(t)&&(e[t]=n[t]);return e}function Cz(e){if("number"!=typeof e&&null!=e){const[n,t]=e.split(jge);return t&&"px"!==t?null:parseFloat(n)}return e||null}function wz(e){return{top:Math.floor(e.top),right:Math.floor(e.right),bottom:Math.floor(e.bottom),left:Math.floor(e.left),width:Math.floor(e.width),height:Math.floor(e.height)}}const Sz="cdk-global-overlay-wrapper";class xz{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(n){const t=n.getConfig();this._overlayRef=n,this._width&&!t.width&&n.updateSize({width:this._width}),this._height&&!t.height&&n.updateSize({height:this._height}),n.hostElement.classList.add(Sz),this._isDisposed=!1}top(n=""){return this._bottomOffset="",this._topOffset=n,this._alignItems="flex-start",this}left(n=""){return this._xOffset=n,this._xPosition="left",this}bottom(n=""){return this._topOffset="",this._bottomOffset=n,this._alignItems="flex-end",this}right(n=""){return this._xOffset=n,this._xPosition="right",this}start(n=""){return this._xOffset=n,this._xPosition="start",this}end(n=""){return this._xOffset=n,this._xPosition="end",this}width(n=""){return this._overlayRef?this._overlayRef.updateSize({width:n}):this._width=n,this}height(n=""){return this._overlayRef?this._overlayRef.updateSize({height:n}):this._height=n,this}centerHorizontally(n=""){return this.left(n),this._xPosition="center",this}centerVertically(n=""){return this.top(n),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const n=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:a,maxWidth:o,maxHeight:s}=r,l=!("100%"!==i&&"100vw"!==i||o&&"100%"!==o&&"100vw"!==o),c=!("100%"!==a&&"100vh"!==a||s&&"100%"!==s&&"100vh"!==s),u=this._xPosition,h=this._xOffset,d="rtl"===this._overlayRef.getConfig().direction;let f="",p="",g="";l?g="flex-start":"center"===u?(g="center",d?p=h:f=h):d?"left"===u||"end"===u?(g="flex-end",f=h):("right"===u||"start"===u)&&(g="flex-start",p=h):"left"===u||"start"===u?(g="flex-start",f=h):("right"===u||"end"===u)&&(g="flex-end",p=h),n.position=this._cssPosition,n.marginLeft=l?"0":f,n.marginTop=c?"0":this._topOffset,n.marginBottom=this._bottomOffset,n.marginRight=l?"0":p,t.justifyContent=g,t.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const n=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(Sz),r.justifyContent=r.alignItems=n.marginTop=n.marginBottom=n.marginLeft=n.marginRight=n.position="",this._overlayRef=null,this._isDisposed=!0}}let Mz=(()=>{class e{constructor(t,r,i,a){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=a}global(){return new xz}flexibleConnectedTo(t){return new bz(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return e.\u0275fac=function(t){return new(t||e)(G(Sg),G(rn),G(wo),G(Sy))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),$ge=0,lD=(()=>{class e{constructor(t,r,i,a,o,s,l,c,u,h,d,f){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=a,this._keyboardDispatcher=o,this._injector=s,this._ngZone=l,this._document=c,this._directionality=u,this._location=h,this._outsideClickDispatcher=d,this._animationsModuleType=f}create(t){const r=this._createHostElement(),i=this._createPaneElement(r),a=this._createPortalOutlet(i),o=new Vge(t);return o.direction=o.direction||this._directionality.value,new Wge(a,r,i,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+$ge++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(Ud)),new gge(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return e.\u0275fac=function(t){return new(t||e)(G(sD),G(Sy),G(au),G(Mz),G(Uge),G(ba),G(it),G(rn),G(Au),G(I0),G(Gge),G(Ox,8))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const qge={provide:new te("cdk-connected-overlay-scroll-strategy"),deps:[lD],useFactory:function Xge(e){return()=>e.scrollStrategies.reposition()}};let Tz=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=It({type:e}),e.\u0275inj=St({providers:[lD,qge],imports:[wy,nD,aD,aD]}),e})();class Zge{}let f1e=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=It({type:e}),e.\u0275inj=St({imports:[aD]}),e})();const ii=["*"],p1e=[[["nb-card-header"]],[["nb-card-body"]],"*",[["nb-card-footer"]]],g1e=["nb-card-header","nb-card-body","*","nb-card-footer"],y1e=["nbButton",""];function b1e(e,n){}function C1e(e,n){if(1&e){const t=br();B(0,"nb-calendar-picker-row",1),re("select",function(i){return kt(t),Ft(W().select.emit(i))}),H()}if(2&e){const t=n.$implicit,r=W();O("row",t)("visibleDate",r.visibleDate)("selectedValue",r.selectedValue)("component",r.cellComponent)("min",r.min)("max",r.max)("filter",r.filter)("size",r.size)}}function w1e(e,n){if(1&e&&(B(0,"div",1),ae(1),H()),2&e){const t=n.$implicit;_e("holiday",t.isHoliday),k(1),Ht(t.name)}}function S1e(e,n){if(1&e&&(B(0,"div",3),ae(1),H()),2&e){const t=n.$implicit;k(1),Ht(t)}}function x1e(e,n){if(1&e&&ie(0,"nb-calendar-week-numbers",4),2&e){const t=W();O("weeks",t.weeks)("size",t.size)("weekNumberSymbol",t.weekNumberSymbol)}}function M1e(e,n){if(1&e){const t=br();B(0,"nb-card-header",5)(1,"nb-calendar-view-mode",6),re("changeMode",function(){return kt(t),Ft(W().onChangeViewMode())}),H(),B(2,"nb-calendar-pageable-navigation",7),re("prev",function(){return kt(t),Ft(W().navigatePrev())})("next",function(){return kt(t),Ft(W().navigateNext())}),H()()}if(2&e){const t=W();k(1),O("date",t.visibleDate)("viewMode",t.activeViewMode)}}function T1e(e,n){if(1&e){const t=br();B(0,"nb-calendar-day-picker",8),re("dateChange",function(i){return kt(t),Ft(W().dateChange.emit(i))}),H()}if(2&e){const t=W();O("boundingMonths",t.boundingMonth)("cellComponent",t.dayCellComponent)("min",t.min)("max",t.max)("filter",t.filter)("visibleDate",t.visibleDate)("size",t.size)("date",t.date)("showWeekNumber",t.showWeekNumber)("weekNumberSymbol",t.weekNumberSymbol)}}function D1e(e,n){if(1&e){const t=br();B(0,"nb-calendar-year-picker",9),re("yearChange",function(i){kt(t);const a=W();return a.setVisibleDate(i),Ft(a.setViewMode(a.ViewMode.MONTH))}),H()}if(2&e){const t=W();O("cellComponent",t.yearCellComponent)("date",t.date)("min",t.min)("max",t.max)("filter",t.filter)("size",t.size)("year",t.visibleDate)}}function E1e(e,n){if(1&e){const t=br();B(0,"nb-calendar-month-picker",10),re("monthChange",function(i){kt(t);const a=W();return a.setVisibleDate(i),Ft(a.setViewMode(a.ViewMode.DATE))}),H()}if(2&e){const t=W();O("cellComponent",t.monthCellComponent)("min",t.min)("max",t.max)("filter",t.filter)("size",t.size)("month",t.visibleDate)("date",t.date)}}const Y1e=["layoutTopDynamicArea"],X1e=["scrollableContainer"],q1e=["layoutContainer"],Z1e=[[["nb-layout-header",3,"subheader",""]],[["nb-sidebar"]],[["nb-layout-header","subheader",""]],[["nb-layout-column"]],[["nb-layout-footer"]]],K1e=["nb-layout-header:not([subheader])","nb-sidebar","nb-layout-header[subheader]","nb-layout-column","nb-layout-footer"],Q1e=["nbMenuItem",""];function J1e(e,n){1&e&&ie(0,"nb-icon",7),2&e&&O("config",W(2).menuItem.icon)}function eme(e,n){if(1&e&&(B(0,"span"),$(1,J1e,1,1,"nb-icon",6),ae(2),H()),2&e){const t=W();k(1),O("ngIf",t.menuItem.icon),k(1),en(" ",t.menuItem.title,"\n")}}function tme(e,n){1&e&&ie(0,"nb-icon",7),2&e&&O("config",W(2).menuItem.icon)}function nme(e,n){1&e&&er(0,11),2&e&&(W(2),O("ngTemplateOutlet",zr(7)))}function rme(e,n){if(1&e){const t=br();B(0,"a",8),re("mouseenter",function(){kt(t);const i=W();return Ft(i.onHoverItem(i.menuItem))})("click",function(){kt(t);const i=W();return Ft(i.onItemClick(i.menuItem))}),$(1,tme,1,1,"nb-icon",6),B(2,"span",9),ae(3),H(),$(4,nme,1,1,"ng-container",10),H()}if(2&e){const t=W();_e("active",t.menuItem.selected),O("routerLink",t.menuItem.link)("queryParams",t.menuItem.queryParams)("fragment",t.menuItem.fragment)("queryParamsHandling",t.menuItem.queryParamsHandling)("preserveFragment",t.menuItem.preserveFragment)("skipLocationChange",t.menuItem.skipLocationChange),Wn("target",t.menuItem.target)("title",t.menuItem.title)("role",t.menuItem.ariaRole),k(1),O("ngIf",t.menuItem.icon),k(2),Ht(t.menuItem.title),k(1),O("ngIf",t.badge)}}function ime(e,n){1&e&&ie(0,"nb-icon",7),2&e&&O("config",W(2).menuItem.icon)}function ame(e,n){1&e&&er(0,11),2&e&&(W(2),O("ngTemplateOutlet",zr(7)))}function ome(e,n){if(1&e){const t=br();B(0,"a",12),re("mouseenter",function(){kt(t);const i=W();return Ft(i.onHoverItem(i.menuItem))})("click",function(){kt(t);const i=W();return Ft(i.onSelectItem(i.menuItem))}),$(1,ime,1,1,"nb-icon",6),B(2,"span",9),ae(3),H(),$(4,ame,1,1,"ng-container",10),H()}if(2&e){const t=W();_e("active",t.menuItem.selected),Wn("href",t.menuItem.url,bd)("target",t.menuItem.target)("title",t.menuItem.title)("role",t.menuItem.ariaRole),k(1),O("ngIf",t.menuItem.icon),k(2),Ht(t.menuItem.title),k(1),O("ngIf",t.badge)}}function sme(e,n){1&e&&ie(0,"nb-icon",7),2&e&&O("config",W(2).menuItem.icon)}function lme(e,n){1&e&&er(0,11),2&e&&(W(2),O("ngTemplateOutlet",zr(7)))}function cme(e,n){if(1&e){const t=br();B(0,"a",12),re("mouseenter",function(){kt(t);const i=W();return Ft(i.onHoverItem(i.menuItem))})("click",function(i){kt(t);const a=W();return i.preventDefault(),Ft(a.onItemClick(a.menuItem))}),$(1,sme,1,1,"nb-icon",6),B(2,"span",9),ae(3),H(),$(4,lme,1,1,"ng-container",10),H()}if(2&e){const t=W();_e("active",t.menuItem.selected),Wn("target",t.menuItem.target)("title",t.menuItem.title)("role",t.menuItem.ariaRole),k(1),O("ngIf",t.menuItem.icon),k(2),Ht(t.menuItem.title),k(1),O("ngIf",t.badge)}}function ume(e,n){1&e&&ie(0,"nb-icon",7),2&e&&O("config",W(2).menuItem.icon)}function hme(e,n){1&e&&er(0,11),2&e&&(W(2),O("ngTemplateOutlet",zr(7)))}function dme(e,n){if(1&e){const t=br();B(0,"a",13),re("click",function(i){kt(t);const a=W();return i.preventDefault(),Ft(a.onToggleSubMenu(a.menuItem))})("mouseenter",function(){kt(t);const i=W();return Ft(i.onHoverItem(i.menuItem))}),$(1,ume,1,1,"nb-icon",6),B(2,"span",9),ae(3),H(),$(4,hme,1,1,"ng-container",10),ie(5,"nb-icon",14),H()}if(2&e){const t=W();let r;_e("active",t.menuItem.selected),Wn("target",t.menuItem.target)("title",t.menuItem.title)("aria-expanded",null!==(r=t.menuItem.expanded)&&void 0!==r&&r)("role",t.menuItem.ariaRole),k(1),O("ngIf",t.menuItem.icon),k(2),Ht(t.menuItem.title),k(1),O("ngIf",t.badge),k(1),O("icon",t.getExpandStateIcon())}}function fme(e,n){if(1&e){const t=br();B(0,"li",18),re("hoverItem",function(i){return kt(t),Ft(W(3).onHoverItem(i))})("toggleSubMenu",function(i){return kt(t),Ft(W(3).onToggleSubMenu(i))})("selectItem",function(i){return kt(t),Ft(W(3).onSelectItem(i))})("itemClick",function(i){return kt(t),Ft(W(3).onItemClick(i))}),H()}if(2&e){const t=W().$implicit;_e("menu-group",t.group),O("menuItem",t)("badge",t.badge)}}function pme(e,n){if(1&e&&(sr(0),$(1,fme,1,4,"li",17),lr()),2&e){const t=n.$implicit;k(1),O("ngIf",!t.hidden)}}function gme(e,n){if(1&e&&(B(0,"ul",15),$(1,pme,2,1,"ng-container",16),H()),2&e){const t=W();_e("collapsed",!(t.menuItem.children&&t.menuItem.expanded))("expanded",t.menuItem.expanded),O("@toggle",t.toggleState),k(1),O("ngForOf",t.menuItem.children)}}function mme(e,n){if(1&e&&ie(0,"nb-badge",19),2&e){const t=W();O("text",t.badge.text)("dotMode",t.badge.dotMode)("status",t.badge.status)}}function vme(e,n){if(1&e){const t=br();B(0,"li",3),re("hoverItem",function(i){return kt(t),Ft(W(2).onHoverItem(i))})("toggleSubMenu",function(i){return kt(t),Ft(W(2).onToggleSubMenu(i))})("selectItem",function(i){return kt(t),Ft(W(2).onSelectItem(i))})("itemClick",function(i){return kt(t),Ft(W(2).onItemClick(i))}),H()}if(2&e){const t=W().$implicit;_e("menu-group",t.group),O("menuItem",t)("badge",t.badge)}}function _me(e,n){if(1&e&&(sr(0),$(1,vme,1,4,"li",2),lr()),2&e){const t=n.$implicit;k(1),O("ngIf",!t.hidden)}}const Mme=[[["nb-sidebar-header"]],"*",[["nb-sidebar-footer"]]],Tme=["nb-sidebar-header","*","nb-sidebar-footer"],Hz=new te("Nebular Theme Options"),Uz=new te("Nebular Media Breakpoints"),Gz=new te("Nebular Built-in JS Themes"),Wz=new te("Nebular JS Themes"),Pg=new te("Window"),xa=new te("Document"),D_e=[{name:"xs",width:0},{name:"is",width:400},{name:"sm",width:576},{name:"md",width:768},{name:"lg",width:992},{name:"xl",width:1200},{name:"xxl",width:1400},{name:"xxxl",width:1600}];let jz=(()=>{class e{constructor(t){this.breakpoints=t,this.breakpointsMap=this.breakpoints.reduce((r,i)=>(r[i.name]=i.width,r),{})}getByWidth(t){const r={name:"unknown",width:t},i=this.getBreakpoints();return i.find((a,o)=>{const s=i[o+1];return t>=a.width&&(!s||t<s.width)})||r}getByName(t){return this.getBreakpoints().find(a=>t===a.name)||{name:"unknown",width:NaN}}getBreakpoints(){return this.breakpoints}getBreakpointsMap(){return this.breakpointsMap}}return e.\u0275fac=function(t){return new(t||e)(G(Uz))},e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})();const P_e=[{name:"default",variables:{fontMain:"Open Sans, sans-serif",fontSecondary:"Raleway, sans-serif",bg:"#ffffff",bg2:"#f7f9fc",bg3:"#edf1f7",bg4:"#e4e9f2",border:"#ffffff",border2:"#f7f9fc",border3:"#edf1f7",border4:"#e4e9f2",border5:"#c5cee0",fg:"#8f9bb3",fgHeading:"#1a2138",fgText:"#1a2138",fgHighlight:"#3366ff",layoutBg:"#f7f9fc",separator:"#edf1f7",primary:"#3366ff",success:"#00d68f",info:"#0095ff",warning:"#ffaa00",danger:"#ff3d71",primaryLight:"#598bff",successLight:"#2ce69b",infoLight:"#42aaff",warningLight:"#ffc94d",dangerLight:"#ff708d"}},{name:"cosmic",variables:{fontMain:"Open Sans, sans-serif",fontSecondary:"Raleway, sans-serif",bg:"#323259",bg2:"#252547",bg3:"#1b1b38",bg4:"#13132b",border:"#323259",border2:"#252547",border3:"#1b1b38",border4:"#13132b",border5:"#13132b",fg:"#b4b4db",fgHeading:"#ffffff",fgText:"#ffffff",fgHighlight:"#a16eff",layoutBg:"#151a30",separator:"#151a30",primary:"#a16eff",success:"#00d68f",info:"#0095ff",warning:"#ffaa00",danger:"#ff3d71",primaryLight:"#b18aff",successLight:"#2ce69b",infoLight:"#42aaff",warningLight:"#ffc94d",dangerLight:"#ff708d"}},{name:"corporate",base:"default",variables:{fontMain:"Open Sans, sans-serif",fontSecondary:"Raleway, sans-serif",bg:"#ffffff",bg2:"#f7f9fc",bg3:"#edf1f7",bg4:"#e4e9f2",border:"#ffffff",border2:"#f7f9fc",border3:"#edf1f7",border4:"#e4e9f2",border5:"#c5cee0",fg:"#8f9bb3",fgHeading:"#1a2138",fgText:"#1a2138",fgHighlight:"#73a1ff",layoutBg:"#f7f9fc",separator:"#edf1f7",primary:"#73a1ff",success:"#5dcfe3",info:"#ba7fec",warning:"#ffa36b",danger:"#ff6b83",primaryLight:"#598bff",successLight:"#2ce69b",infoLight:"#42aaff",warningLight:"#ffc94d",dangerLight:"#ff708d"}},{name:"dark",variables:{fontMain:"Open Sans, sans-serif",fontSecondary:"Raleway, sans-serif",bg:"#222b45",bg2:"#1a2138",bg3:"#151a30",bg4:"#101426",border:"#222b45",border2:"#1a2138",border3:"#151a30",border4:"#101426",border5:"#101426",fg:"#8f9bb3",fgHeading:"#ffffff",fgText:"#ffffff",fgHighlight:"#3366ff",layoutBg:"#1b1b38",separator:"#1b1b38",primary:"#3366ff",success:"#00d68f",info:"#0095ff",warning:"#ffaa00",danger:"#ff3d71",primaryLight:"#598bff",successLight:"#2ce69b",infoLight:"#42aaff",warningLight:"#ffc94d",dangerLight:"#ff708d"}}];let $z=(()=>{class e{constructor(t,r=[]){this.themes={},this.combineByNames(r,t).forEach(a=>{this.register(a,a.name,a.base)})}register(t,r,i){const a=this.has(i)?this.get(i):{};this.themes[r]=this.mergeDeep({},a,t)}has(t){return!!this.themes[t]}get(t){if(!this.themes[t])throw Error(`NbThemeConfig: no theme '${t}' found registered.`);return JSON.parse(JSON.stringify(this.themes[t]))}combineByNames(t,r){if(t){const i=[];return t.forEach(a=>{const o=r.find(l=>l.name===a.name)||{},s=this.mergeDeep({},o,a);i.push(s)}),r.forEach(a=>{i.find(o=>o.name===a.name)||i.push(a)}),i}return r}isObject(t){return t&&"object"==typeof t&&!Array.isArray(t)}mergeDeep(t,...r){if(!r.length)return t;const i=r.shift();if(this.isObject(t)&&this.isObject(i))for(const a in i)this.isObject(i[a])?(t[a]||Object.assign(t,{[a]:{}}),this.mergeDeep(t[a],i[a])):Object.assign(t,{[a]:i[a]});return this.mergeDeep(t,...r)}}return e.\u0275fac=function(t){return new(t||e)(G(Gz),G(Wz))},e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})(),mD=(()=>{class e{constructor(t,r,i){this.options=t,this.breakpointService=r,this.jsThemesRegistry=i,this.themeChanges$=new Za(1),this.appendLayoutClass$=new he,this.removeLayoutClass$=new he,this.changeWindowWidth$=new Za(2),t&&t.name&&this.changeTheme(t.name)}changeTheme(t){this.themeChanges$.next({name:t,previous:this.currentTheme}),this.currentTheme=t}changeWindowWidth(t){this.changeWindowWidth$.next(t)}getJsTheme(){return this.onThemeChange().pipe(Ce(t=>this.jsThemesRegistry.get(t.name)))}onMediaQueryChange(){return this.changeWindowWidth$.pipe(Ka(void 0),O8(),Ce(([t,r])=>[this.breakpointService.getByWidth(t),this.breakpointService.getByWidth(r)]),Re(([t,r])=>t.name!==r.name),Z_(null,t=>t[0].name+t[1].name),_r())}onThemeChange(){return this.themeChanges$.pipe(_r())}appendLayoutClass(t){this.appendLayoutClass$.next(t)}onAppendLayoutClass(){return this.appendLayoutClass$.pipe(_r())}removeLayoutClass(t){this.removeLayoutClass$.next(t)}onRemoveLayoutClass(){return this.removeLayoutClass$.pipe(_r())}}return e.\u0275fac=function(t){return new(t||e)(G(Hz),G(jz),G($z))},e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})(),Yz=(()=>{class e{constructor(t){this.document=t,this.loaders=[],this.selector="nb-global-spinner"}registerLoader(t){this.loaders.push(t)}clear(){this.loaders=[]}load(){this.showSpinner(),this.executeAll()}executeAll(t=(r=>{})){Promise.all(this.loaders).then(r=>{this.hideSpinner(),t.call(null,r)}).catch(r=>{console.error(r)})}showSpinner(){const t=this.getSpinnerElement();t&&(t.style.display="block")}hideSpinner(){const t=this.getSpinnerElement();t&&(t.style.display="none")}getSpinnerElement(){return this.document.getElementById(this.selector)}}return e.\u0275fac=function(t){return new(t||e)(G(xa))},e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})();var Qa=(()=>{return(e=Qa||(Qa={})).LTR="ltr",e.RTL="rtl",Qa;var e})();const Xz=new te("Layout direction");let zs=(()=>{class e{constructor(t=Qa.LTR){this.direction=t,this.$directionChange=new Za(1),this.setDirection(t)}isLtr(){return this.direction===Qa.LTR}isRtl(){return this.direction===Qa.RTL}getDirection(){return this.direction}setDirection(t){this.direction=t,this.$directionChange.next(t)}onDirectionChange(){return this.$directionChange.pipe(_r())}}return e.\u0275fac=function(t){return new(t||e)(G(Xz,8))},e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})(),Ru=(()=>{class e{constructor(){this.scrollPositionReq$=new he,this.manualScroll$=new he,this.scroll$=new he,this.scrollable$=new he}getPosition(){return new mn(t=>{const r=new he;return r.subscribe(t),this.scrollPositionReq$.next({listener:r}),()=>r.complete()})}scrollTo(t=null,r=null){this.manualScroll$.next({x:t,y:r})}onScroll(){return this.scroll$.pipe(_r())}onManualScroll(){return this.manualScroll$.pipe(_r())}onGetPosition(){return this.scrollPositionReq$}onScrollableChange(){return this.scrollable$.pipe(_r())}fireScrollChange(t){this.scroll$.next(t)}scrollable(t){this.scrollable$.next(t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})(),Iy=(()=>{class e{constructor(){this.contentDimensionsReq$=new he}getDimensions(){return new mn(t=>{const r=new he;return r.subscribe(t),this.contentDimensionsReq$.next({listener:r}),()=>r.complete()})}onGetDimensions(){return this.contentDimensionsReq$}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})(),Tl=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=It({type:e}),e.\u0275inj=St({imports:[F0,A8,KT]}),e})();class O_e extends oz{constructor(n,t,r,i,a){super(n,t,r,i,a),this.element=n,this.checker=t,this.ngZone=r,this.document=i,this.savePreviouslyFocusedElement()}restoreFocus(){this.previouslyFocusedElement.focus(),this.destroy()}blurPreviouslyFocusedElement(){this.previouslyFocusedElement.blur()}savePreviouslyFocusedElement(){this.previouslyFocusedElement=this.document.activeElement}}let R_e=(()=>{class e extends ige{constructor(t,r,i){super(t,r,i),this.checker=t,this.ngZone=r,this.document=i}create(t,r){return new O_e(t,this.checker,this.ngZone,this.document,r)}}return e.\u0275fac=function(t){return new(t||e)(G(rz),G(it),G(xa))},e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})();class L_e extends Y0e{}class vD{create(n){return new L_e(n)}}class k_e extends $0e{}class _D{create(n){return new k_e(n)}}let Py=(()=>{class e extends lz{}return e.\u0275fac=function(){let n;return function(r){return(n||(n=ot(e)))(r||e)}}(),e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})(),F_e=(()=>{class e{static forRoot(){return{ngModule:e,providers:[R_e,vD,_D,{provide:Py,useClass:lz}]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=It({type:e}),e.\u0275inj=St({}),e})(),qz=(()=>{class e extends lD{}return e.\u0275fac=function(){let n;return function(r){return(n||(n=ot(e)))(r||e)}}(),e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})(),Zz=(()=>{class e extends Mz{}return e.\u0275fac=function(){let n;return function(r){return(n||(n=ot(e)))(r||e)}}(),e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})(),Kz=(()=>{class e extends Sy{}return e.\u0275fac=function(){let n;return function(r){return(n||(n=ot(e)))(r||e)}}(),e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})();class z_e extends bz{}const B_e=[Tz,nD];let bD=(()=>{class e{static forRoot(){return{ngModule:e,providers:[qz,Zz]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=It({type:e}),e.\u0275inj=St({imports:[B_e,Tz,nD]}),e})();var zn=(()=>{return(e=zn||(zn={})).TOP_START="top-start",e.TOP_END="top-end",e.BOTTOM_START="bottom-start",e.BOTTOM_END="bottom-end",zn;var e})(),Sr=(()=>{return(e=Sr||(Sr={})).TOP_RIGHT="top-right",e.TOP_LEFT="top-left",e.BOTTOM_RIGHT="bottom-right",e.BOTTOM_LEFT="bottom-left",Sr;var e})();let V_e=(()=>{class e{constructor(t){this.layoutDirection=t}toLogicalPosition(t){return Object.values(zn).includes(t)?t:this.layoutDirection.isLtr()?this.toLogicalPositionWhenLtr(t):this.toLogicalPositionWhenRtl(t)}toPhysicalPosition(t){return Object.values(Sr).includes(t)?t:this.layoutDirection.isLtr()?this.toPhysicalPositionWhenLtr(t):this.toPhysicalPositionWhenRtl(t)}isTopPosition(t){const r=this.toLogicalPosition(t);return r===zn.TOP_END||r===zn.TOP_START}isRightPosition(t){const r=this.toPhysicalPosition(t);return r===Sr.TOP_RIGHT||r===Sr.BOTTOM_RIGHT}toLogicalPositionWhenLtr(t){switch(t){case Sr.TOP_RIGHT:return zn.TOP_END;case Sr.TOP_LEFT:return zn.TOP_START;case Sr.BOTTOM_RIGHT:return zn.BOTTOM_END;case Sr.BOTTOM_LEFT:return zn.BOTTOM_START}}toLogicalPositionWhenRtl(t){switch(t){case Sr.TOP_RIGHT:return zn.TOP_START;case Sr.TOP_LEFT:return zn.TOP_END;case Sr.BOTTOM_RIGHT:return zn.BOTTOM_START;case Sr.BOTTOM_LEFT:return zn.BOTTOM_END}}toPhysicalPositionWhenLtr(t){switch(t){case zn.TOP_START:return Sr.TOP_LEFT;case zn.TOP_END:return Sr.TOP_RIGHT;case zn.BOTTOM_START:return Sr.BOTTOM_LEFT;case zn.BOTTOM_END:return Sr.BOTTOM_RIGHT}}toPhysicalPositionWhenRtl(t){switch(t){case zn.TOP_START:return Sr.TOP_RIGHT;case zn.TOP_END:return Sr.TOP_LEFT;case zn.BOTTOM_START:return Sr.BOTTOM_RIGHT;case zn.BOTTOM_END:return Sr.BOTTOM_LEFT}}}return e.\u0275fac=function(t){return new(t||e)(G(zs))},e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})(),Rg=(()=>{class e extends wo{}return e.\u0275fac=function(){let n;return function(r){return(n||(n=ot(e)))(r||e)}}(),e.\u0275prov=q({token:e,factory:function(n){return wo.\u0275fac(n)},providedIn:"root"}),e})(),vf=(()=>{class e extends Sg{constructor(t,r,i,a,o){super(t,r,o),this.ruler=i,this.scroll=a}getViewportSize(){let t;return this.ruler.getDimensions().pipe(Ce(r=>({width:r.clientWidth,height:r.clientHeight}))).subscribe(r=>t=r),t}getViewportScrollPosition(){let t;return this.scroll.getPosition().pipe(Ce(r=>({top:r.y,left:r.x}))).subscribe(r=>t=r),t}}return e.\u0275fac=function(t){return new(t||e)(G(Rg),G(it),G(Iy),G(Ru),G(xa))},e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})(),Lg=(()=>{class e extends Kz{setContainer(t){this.container=t}clearContainer(){this.container=null,this._containerElement=null}_createContainer(){this.checkContainer();const t=this._document.createElement("div");t.classList.add("cdk-overlay-container"),this.container.appendChild(t),this._containerElement=t}checkContainer(){this.container||function H_e(){throw new Error("[NbOverlayContainerAdapter]: Layout not found.\n  When using Nebular '<nb-layout>' is required and should wrap other nebular components.")}()}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=ot(e)))(r||e)}}(),e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})();var So=(()=>{return(e=So||(So={})).NOOP="noop",e.CLOCKWISE="clockwise",e.COUNTERCLOCKWISE="counterclockwise",e.VERTICAL="vertical",e.HORIZONTAL="horizontal",So;var e})(),Te=(()=>{return(e=Te||(Te={})).TOP="top",e.BOTTOM="bottom",e.LEFT="left",e.RIGHT="right",e.START="start",e.END="end",e.TOP_END="top-end",e.TOP_START="top-start",e.BOTTOM_END="bottom-end",e.BOTTOM_START="bottom-start",e.END_TOP="end-top",e.END_BOTTOM="end-bottom",e.START_TOP="start-top",e.START_BOTTOM="start-bottom",Te;var e})();const Qz={[Te.RIGHT]:e=>({originX:"end",originY:"center",overlayX:"start",overlayY:"center",offsetX:e}),[Te.BOTTOM]:e=>({originX:"center",originY:"bottom",overlayX:"center",overlayY:"top",offsetY:e}),[Te.LEFT]:e=>({originX:"start",originY:"center",overlayX:"end",overlayY:"center",offsetX:-e}),[Te.TOP]:e=>({originX:"center",originY:"top",overlayX:"center",overlayY:"bottom",offsetY:-e}),[Te.START](e){return this[Te.LEFT](e)},[Te.END](e){return this[Te.RIGHT](e)},[Te.END_TOP]:e=>({originX:"end",originY:"bottom",overlayX:"start",overlayY:"bottom",offsetX:e}),[Te.END_BOTTOM]:e=>({originX:"end",originY:"top",overlayX:"start",overlayY:"top",offsetX:e}),[Te.BOTTOM_START]:e=>({originX:"end",originY:"bottom",overlayX:"end",overlayY:"top",offsetY:e}),[Te.BOTTOM_END]:e=>({originX:"start",originY:"bottom",overlayX:"start",overlayY:"top",offsetY:e}),[Te.START_TOP]:e=>({originX:"start",originY:"bottom",overlayX:"end",overlayY:"bottom",offsetX:-e}),[Te.START_BOTTOM]:e=>({originX:"start",originY:"top",overlayX:"end",overlayY:"top",offsetX:-e}),[Te.TOP_START]:e=>({originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",offsetY:-e}),[Te.TOP_END]:e=>({originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",offsetY:-e})},U_e={...Qz,[Te.RIGHT]:e=>({originX:"start",originY:"center",overlayX:"end",overlayY:"center",offsetX:e}),[Te.LEFT]:e=>({originX:"end",originY:"center",overlayX:"start",overlayY:"center",offsetX:-e}),[Te.START](e){return this[Te.RIGHT](e)},[Te.END](e){return this[Te.LEFT](e)}},G_e=[Te.TOP,Te.TOP_END,Te.TOP_START,Te.START,Te.START_TOP,Te.START_BOTTOM,Te.BOTTOM,Te.BOTTOM_START,Te.BOTTOM_END,Te.END,Te.END_BOTTOM,Te.END_TOP],W_e=[Te.TOP,Te.TOP_START,Te.TOP_END,Te.END,Te.END_TOP,Te.END_BOTTOM,Te.BOTTOM,Te.BOTTOM_END,Te.BOTTOM_START,Te.START,Te.START_BOTTOM,Te.START_TOP],j_e=[Te.BOTTOM,Te.TOP],$_e=[Te.START,Te.END];class X_e extends z_e{constructor(){super(...arguments),this._offset=15,this.positionChange=this.positionChanges.pipe(Ce(n=>n.connectionPair),Ce(n=>this.appliedPositions.find(({connectedPosition:t})=>function Y_e(e,n){return e.originX===n.originX&&e.originY===n.originY&&e.overlayX===n.overlayX&&e.overlayY===n.overlayY}(t,n)).key))}attach(n){this.applyPositions(),super.attach(n)}direction(n){return this._direction=n,this}apply(){this.applyPositions(),super.apply()}position(n){return this._position=n,this}adjustment(n){return this._adjustment=n,this}offset(n){return this._offset=n,this}applyPositions(){const n=this.createPositions();this.persistChosenPositions(n),this.withPositions(this.appliedPositions.map(({connectedPosition:t})=>t))}createPositions(){switch(this._adjustment){case So.NOOP:return[this._position];case So.CLOCKWISE:return this.reorderPreferredPositions(W_e);case So.COUNTERCLOCKWISE:return this.reorderPreferredPositions(G_e);case So.HORIZONTAL:return this.reorderPreferredPositions($_e);case So.VERTICAL:return this.reorderPreferredPositions(j_e)}}mapToLogicalPosition(n){return n===Te.LEFT?this._direction===Qa.LTR?Te.START:Te.END:n===Te.RIGHT?this._direction===Qa.LTR?Te.END:Te.START:n}persistChosenPositions(n){const t=this._direction===Qa.RTL?U_e:Qz;this.appliedPositions=n.map(r=>({key:r,connectedPosition:t[r](this._offset)}))}reorderPreferredPositions(n){const t=this.mapToLogicalPosition(this._position),r=n.indexOf(t),i=n.slice(r),a=n.slice(0,r);return i.concat(a)}}class q_e extends xz{position(n){switch(n){case zn.TOP_START:return this.top().left();case zn.TOP_END:return this.top().right();case zn.BOTTOM_START:return this.bottom().left();case zn.BOTTOM_END:return this.bottom().right()}}}let Oy=(()=>{class e{constructor(t,r,i,a,o){this.document=t,this.viewportRuler=r,this.platform=i,this.positionBuilder=a,this.overlayContainer=o}global(){return new q_e}connectedTo(t){return new X_e(t,this.viewportRuler,this.document,this.platform,this.overlayContainer).withFlexibleDimensions(!1).withPush(!1)}}return e.\u0275fac=function(t){return new(t||e)(G(xa),G(vf),G(Rg),G(Zz),G(Lg))},e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})(),Ry=(()=>{class e{constructor(t,r){this.overlay=t,this.layoutDirection=r}get scrollStrategies(){return this.overlay.scrollStrategies}create(t){const r=this.overlay.create(t);return this.layoutDirection.onDirectionChange().subscribe(i=>r.setDirection(i)),r}}return e.\u0275fac=function(t){return new(t||e)(G(qz),G(zs))},e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})(),Jz=(()=>{class e extends Nu{constructor(t,r,i,a){super(t,r,a),this.scrollService=i}scrolled(t){return fi(super.scrolled(t),this.scrollService.onScroll())}}return e.\u0275fac=function(t){return new(t||e)(G(it),G(Rg),G(Ru),G(xa))},e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})(),eB=(()=>{class e extends gz{constructor(t,r,i){super(r,t),this.scrollService=i}enable(){super.enable(),this.scrollService.scrollable(!1)}disable(){super.disable(),this.scrollService.scrollable(!0)}}return e.\u0275fac=function(t){return new(t||e)(G(xa),G(vf),G(Ru))},e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})(),tB=(()=>{class e extends sD{constructor(t,r,i,a,o){super(r,i,a,o),this.scrollService=t,this.scrollDispatcher=r,this.viewportRuler=i,this.ngZone=a,this.document=o,this.block=()=>new eB(this.document,this.viewportRuler,this.scrollService)}}return e.\u0275fac=function(t){return new(t||e)(G(Ru),G(Nu),G(vf),G(it),G(xa))},e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})(),nB=(()=>{class e{static forRoot(){return{ngModule:e,providers:[vf,Lg,eB,Jz,tB,{provide:Sy,useExisting:Lg},{provide:Kz,useExisting:Lg},{provide:Nu,useExisting:Jz},{provide:sD,useExisting:tB}]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=It({type:e}),e.\u0275inj=St({}),e})();var xo=(()=>{return(e=xo||(xo={})).NOOP="noop",e.CLICK="click",e.HOVER="hover",e.HINT="hint",e.FOCUS="focus",xo;var e})();class kg{constructor(n,t,r){this.document=n,this.host=t,this.container=r,this.destroyed$=new he}destroy(){this.destroyed$.next()}isNotOnHostOrContainer(n){return!this.isOnHost(n)&&!this.isOnContainer(n)}isOnHostOrContainer(n){return this.isOnHost(n)||this.isOnContainer(n)}isOnHost(n){return this.host.contains(n)}isOnContainer(n){return this.container()&&this.container().location.nativeElement.contains(n)}}class Z_e extends kg{constructor(){super(...arguments),this.click$=Gr(this.document,"click").pipe(Ce(n=>[!this.container()&&this.isOnHost(n.target),n]),_r(),ee(this.destroyed$)),this.show$=this.click$.pipe(Re(([n])=>n),Ce(([,n])=>n),ee(this.destroyed$)),this.hide$=this.click$.pipe(Re(([n,t])=>!n&&!this.isOnContainer(t.target)),Ce(([,n])=>n),ee(this.destroyed$))}}class K_e extends kg{constructor(){super(...arguments),this.show$=Gr(this.host,"mouseenter").pipe(Re(()=>!this.container()),CT(100),ee(Gr(this.host,"mouseleave")),wT(),ee(this.destroyed$)),this.hide$=Gr(this.host,"mouseleave").pipe(tr(()=>Gr(this.document,"mousemove").pipe(qd(100),ST(()=>!!this.container()),Re(n=>this.isNotOnHostOrContainer(n.target)))),ee(this.destroyed$))}}class Q_e extends kg{constructor(){super(...arguments),this.show$=Gr(this.host,"mouseenter").pipe(CT(100),ee(Gr(this.host,"mouseleave")),wT(),ee(this.destroyed$)),this.hide$=Gr(this.host,"mouseleave").pipe(ee(this.destroyed$))}}class J_e extends kg{constructor(){super(...arguments),this.focusOut$=Gr(this.host,"focusout").pipe(tr(()=>Gr(this.document,"focusin").pipe(ST(()=>!!this.container()),Re(n=>this.isNotOnHostOrContainer(n.target)))),ee(this.destroyed$)),this.clickIn$=Gr(this.host,"click").pipe(Re(()=>!this.container()),ee(this.destroyed$)),this.clickOut$=Gr(this.document,"click").pipe(Re(()=>!!this.container()),Re(n=>!!this.isNotOnHostOrContainer(n.target)&&this.isNotOnHostOrContainer(this.document.activeElement)),ee(this.destroyed$)),this.tabKeyPress$=Gr(this.document,"keydown").pipe(Re(n=>9===n.keyCode),Re(()=>!!this.container()),ee(this.destroyed$)),this.show$=fi(Gr(this.host,"focusin"),this.clickIn$).pipe(Re(()=>!this.container()),qd(100),ee(Gr(this.host,"focusout")),wT(),ee(this.destroyed$)),this.hide$=fi(this.focusOut$,this.tabKeyPress$,this.clickOut$).pipe(ee(this.destroyed$))}}class eye extends kg{constructor(){super(...arguments),this.show$=ma,this.hide$=ma}}let Ly=(()=>{class e{constructor(t){this._document=t}trigger(t){return this._trigger=t,this}host(t){return this._host=t,this}container(t){return this._container=t,this}build(){switch(this._trigger){case xo.CLICK:return new Z_e(this._document,this._host,this._container);case xo.HINT:return new Q_e(this._document,this._host,this._container);case xo.HOVER:return new K_e(this._document,this._host,this._container);case xo.FOCUS:return new J_e(this._document,this._host,this._container);case xo.NOOP:return new eye(this._document,this._host,this._container);default:throw new Error("Trigger have to be provided")}}}return e.\u0275fac=function(t){return new(t||e)(G(xa))},e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})(),tye=(()=>{class e{static forRoot(){return{ngModule:e,providers:[Oy,Ly,Ry,V_e,...bD.forRoot().providers,...nB.forRoot().providers,...F_e.forRoot().providers]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=It({type:e}),e.\u0275inj=St({imports:[bD,Tl,bD,nB]}),e})(),Ja=(()=>{class e{constructor(){this.coreStatuses=["basic","primary","info","warning","danger","control"]}isCoreStatus(t){return this.coreStatuses.includes(t)}isCustomStatus(t){return!!this.isValidStatusString(t)&&!this.isCoreStatus(t)}getStatusClass(t){if(this.isValidStatusString(t))return`status-${t}`}isValidStatusString(t){return"string"==typeof t&&t.length>0}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})();function nye(e){if(du(e))return window}let rye=(()=>{class e{static forRoot(t={name:"default"},r,i,a){return{ngModule:e,providers:[{provide:Hz,useValue:t||{}},{provide:Gz,useValue:P_e},{provide:Wz,useValue:r||[]},{provide:Uz,useValue:i||D_e},{provide:xa,useExisting:rn},{provide:Pg,useFactory:nye,deps:[ec]},$z,mD,jz,Yz,{provide:Xz,useValue:a||Qa.LTR},zs,Ru,Iy,...tye.forRoot().providers,Ja]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=It({type:e}),e.\u0275inj=St({imports:[F0]}),e})();var Bs=(()=>{return(e=Bs||(Bs={})).SVG="svg",e.FONT="font",Bs;var e})();class rB{constructor(n,t,r={}){this.name=n,this.content=t,this.params=r}getClasses(n){const t=[];return this.params.packClass&&t.push(this.params.packClass),t.push(this.params.iconClassPrefix?`${this.params.iconClassPrefix}-${this.name}`:this.name),t}getContent(n){return this.content}}class SD{constructor(n,t,r={}){this.name=n,this.content=t,this.params=r}getClasses(n){const t=[];return this.params.packClass&&t.push(this.params.packClass),t}getContent(n){return this.content}}function iB(e){throw Error(`Icon Pack '${e}' is not registered`)}function aB(e,n,t){throw Error(`Pack '${e}' is not an '${t}' Pack and its type is '${n}'`)}let xD=(()=>{class e{constructor(){this.packs=new Map}registerSvgPack(t,r,i={}){this.packs.set(t,{name:t,icons:new Map(Object.entries(r)),params:i,type:Bs.SVG})}registerFontPack(t,r={}){this.packs.set(t,{name:t,params:r,icons:new Map,type:Bs.FONT})}getPack(t){return this.packs.get(t)}setDefaultPack(t){this.packs.has(t)||iB(t),this.defaultPack=this.packs.get(t)}getSvgIcon(t,r){const i=r?this.getPackOrThrow(r):this.getDefaultPackOrThrow();i.type!==Bs.SVG&&aB(i.name,i.type,"SVG");const a=this.getIconFromPack(t,i);return a?{name:t,pack:i.name,type:Bs.SVG,icon:this.createSvgIcon(t,a,i.params)}:null}getFontIcon(t,r){const i=r?this.getPackOrThrow(r):this.getDefaultPackOrThrow();i.type!==Bs.FONT&&aB(i.name,i.type,"Font");const a=this.getIconFromPack(t,i)??"";return{name:t,pack:i.name,type:Bs.FONT,icon:this.createFontIcon(t,i.params.ligature?t:a,i.params)}}getIcon(t,r){return(r?this.getPackOrThrow(r):this.getDefaultPackOrThrow()).type===Bs.SVG?this.getSvgIcon(t,r):this.getFontIcon(t,r)}createSvgIcon(t,r,i){return r instanceof SD?r:new SD(t,r,i)}createFontIcon(t,r,i){return r instanceof rB?r:new rB(t,r,i)}getPackOrThrow(t){const r=this.packs.get(t);return r||iB(t),r}getDefaultPackOrThrow(){return this.defaultPack||function iye(){throw Error("Default pack is not registered.")}(),this.defaultPack}getIconFromPack(t,r){return r.icons.has(t)?r.icons.get(t):null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),xr=(()=>{class e{constructor(t,r,i,a,o){this.sanitizer=t,this.iconLibrary=r,this.el=i,this.renderer=a,this.statusService=o,this.prevClasses=[],this.html=""}get primary(){return"primary"===this.status}get info(){return"info"===this.status}get success(){return"success"===this.status}get warning(){return"warning"===this.status}get danger(){return"danger"===this.status}get basic(){return"basic"===this.status}get control(){return"control"===this.status}get additionalClasses(){return this.statusService.isCustomStatus(this.status)?[this.statusService.getStatusClass(this.status)]:[]}get config(){return this._config}set config(t){!t||(this._config=t,"string"==typeof t?this.icon=t:(this.icon=t.icon,this.pack=t.pack,this.status=t.status,this.options=t.options))}ngOnInit(){this.iconDef=this.renderIcon(this.icon,this.pack,this.options)}ngOnChanges(){this.iconLibrary.getIcon(this.icon,this.pack)?this.renderIcon(this.icon,this.pack,this.options):this.clearIcon()}renderIcon(t,r,i){const a=this.iconLibrary.getIcon(t,r);if(!a)return;const o=a.icon.getContent(i);return o&&(this.html=this.sanitizer.bypassSecurityTrustHtml(o)),this.assignClasses(a.icon.getClasses(i)),a}clearIcon(){this.html="",this.assignClasses([])}assignClasses(t){this.prevClasses.forEach(r=>{this.renderer.removeClass(this.el.nativeElement,r)}),t.forEach(r=>{this.renderer.addClass(this.el.nativeElement,r)}),this.prevClasses=t}}return e.\u0275fac=function(t){return new(t||e)(D(fu),D(xD),D(He),D(Ir),D(Ja))},e.\u0275cmp=J({type:e,selectors:[["nb-icon"]],hostVars:17,hostBindings:function(t,r){2&t&&(Wv("innerHtml",r.html,LO),Ya(r.additionalClasses),_e("status-primary",r.primary)("status-info",r.info)("status-success",r.success)("status-warning",r.warning)("status-danger",r.danger)("status-basic",r.basic)("status-control",r.control))},inputs:{icon:"icon",pack:"pack",options:"options",status:"status",config:"config"},features:[on],decls:0,vars:0,template:function(t,r){},styles:["[_nghost-%COMP%]{display:inline-block}"],changeDetection:0}),e})(),Fg=(()=>{class e{constructor(t){this.iconsLibrary=t,this.essentialsPackName="nebular-essentials",!this.iconsLibrary.getPack(this.essentialsPackName)&&this.iconsLibrary.registerSvgPack(this.essentialsPackName,{"chevron-down-outline":'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" width="100%" height="100%" viewBox="0 0 24 24"><g data-name="Layer 2"><g data-name="chevron-down"><rect width="24" height="24" opacity="0"/><path d="M12 15.5a1 1 0 0 1-.71-.29l-4-4a1 1 0 1 1 1.42-1.42L12 13.1l3.3-3.18a1 1 0 1 1 1.38 1.44l-4 3.86a1 1 0 0 1-.68.28z"/></g></g></svg>',"chevron-up-outline":'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" width="100%" height="100%" viewBox="0 0 24 24"><g data-name="Layer 2"><g data-name="chevron-up"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M16 14.5a1 1 0 0 1-.71-.29L12 10.9l-3.3 3.18a1 1 0 0 1-1.41 0 1 1 0 0 1 0-1.42l4-3.86a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1 0 1.42 1 1 0 0 1-.69.28z"/></g></g></svg>',"chevron-left-outline":'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" width="100%" height="100%" viewBox="0 0 24 24"><g data-name="Layer 2"><g data-name="chevron-left"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M13.36 17a1 1 0 0 1-.72-.31l-3.86-4a1 1 0 0 1 0-1.4l4-4a1 1 0 1 1 1.42 1.42L10.9 12l3.18 3.3a1 1 0 0 1 0 1.41 1 1 0 0 1-.72.29z"/></g></g></svg>',"chevron-right-outline":'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" width="100%" height="100%" viewBox="0 0 24 24"><g data-name="Layer 2"><g data-name="chevron-right"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><path d="M10.5 17a1 1 0 0 1-.71-.29 1 1 0 0 1 0-1.42L13.1 12 9.92 8.69a1 1 0 0 1 0-1.41 1 1 0 0 1 1.42 0l3.86 4a1 1 0 0 1 0 1.4l-4 4a1 1 0 0 1-.7.32z"/></g></g></svg>',"checkmark-outline":'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" width="100%" height="100%" viewBox="0 0 24 24"><g data-name="Layer 2"><g data-name="checkmark"><rect width="24" height="24" opacity="0"/><path d="M9.86 18a1 1 0 0 1-.73-.32l-4.86-5.17a1 1 0 1 1 1.46-1.37l4.12 4.39 8.41-9.2a1 1 0 1 1 1.48 1.34l-9.14 10a1 1 0 0 1-.73.33z"/></g></g></svg>',"paper-plane-outline":'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" width="100%" height="100%" viewBox="0 0 24 24"><g data-name="Layer 2"><g data-name="paper-plane"><rect width="24" height="24" opacity="0"/><path d="M21 4a1.31 1.31 0 0 0-.06-.27v-.09a1 1 0 0 0-.2-.3 1 1 0 0 0-.29-.19h-.09a.86.86 0 0 0-.31-.15H20a1 1 0 0 0-.3 0l-18 6a1 1 0 0 0 0 1.9l8.53 2.84 2.84 8.53a1 1 0 0 0 1.9 0l6-18A1 1 0 0 0 21 4zm-4.7 2.29l-5.57 5.57L5.16 10zM14 18.84l-1.86-5.57 5.57-5.57z"/></g></g></svg>',"file-text-outline":'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" width="100%" height="100%" viewBox="0 0 24 24"><g data-name="Layer 2"><g data-name="file-text"><rect width="24" height="24" opacity="0"/><path d="M15 16H9a1 1 0 0 0 0 2h6a1 1 0 0 0 0-2z"/><path d="M9 14h3a1 1 0 0 0 0-2H9a1 1 0 0 0 0 2z"/><path d="M19.74 8.33l-5.44-6a1 1 0 0 0-.74-.33h-7A2.53 2.53 0 0 0 4 4.5v15A2.53 2.53 0 0 0 6.56 22h10.88A2.53 2.53 0 0 0 20 19.5V9a1 1 0 0 0-.26-.67zM14 5l2.74 3h-2a.79.79 0 0 1-.74-.85zm3.44 15H6.56a.53.53 0 0 1-.56-.5v-15a.53.53 0 0 1 .56-.5H12v3.15A2.79 2.79 0 0 0 14.71 10H18v9.5a.53.53 0 0 1-.56.5z"/></g></g></svg>',"alert-triangle-outline":'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" width="100%" height="100%" viewBox="0 0 24 24"><g data-name="Layer 2"><g data-name="alert-triangle"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M22.56 16.3L14.89 3.58a3.43 3.43 0 0 0-5.78 0L1.44 16.3a3 3 0 0 0-.05 3A3.37 3.37 0 0 0 4.33 21h15.34a3.37 3.37 0 0 0 2.94-1.66 3 3 0 0 0-.05-3.04zm-1.7 2.05a1.31 1.31 0 0 1-1.19.65H4.33a1.31 1.31 0 0 1-1.19-.65 1 1 0 0 1 0-1l7.68-12.73a1.48 1.48 0 0 1 2.36 0l7.67 12.72a1 1 0 0 1 .01 1.01z"/><circle cx="12" cy="16" r="1"/><path d="M12 8a1 1 0 0 0-1 1v4a1 1 0 0 0 2 0V9a1 1 0 0 0-1-1z"/></g></g></svg>',"question-mark-outline":'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" width="100%" height="100%" viewBox="0 0 24 24"><g data-name="Layer 2"><g data-name="question-mark"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M17 9A5 5 0 0 0 7 9a1 1 0 0 0 2 0 3 3 0 1 1 3 3 1 1 0 0 0-1 1v2a1 1 0 0 0 2 0v-1.1A5 5 0 0 0 17 9z"/><circle cx="12" cy="19" r="1"/></g></g></svg>',"email-outline":'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" width="100%" height="100%" viewBox="0 0 24 24"><g data-name="Layer 2"><g data-name="email"><rect width="24" height="24" opacity="0"/><path d="M19 4H5a3 3 0 0 0-3 3v10a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V7a3 3 0 0 0-3-3zm-.67 2L12 10.75 5.67 6zM19 18H5a1 1 0 0 1-1-1V7.25l7.4 5.55a1 1 0 0 0 .6.2 1 1 0 0 0 .6-.2L20 7.25V17a1 1 0 0 1-1 1z"/></g></g></svg>',"flash-outline":'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" width="100%" height="100%" viewBox="0 0 24 24"><g data-name="Layer 2"><g data-name="flash"><rect width="24" height="24" opacity="0"/><path d="M11.11 23a1 1 0 0 1-.34-.06 1 1 0 0 1-.65-1.05l.77-7.09H5a1 1 0 0 1-.83-1.56l7.89-11.8a1 1 0 0 1 1.17-.38 1 1 0 0 1 .65 1l-.77 7.14H19a1 1 0 0 1 .83 1.56l-7.89 11.8a1 1 0 0 1-.83.44zM6.87 12.8H12a1 1 0 0 1 .74.33 1 1 0 0 1 .25.78l-.45 4.15 4.59-6.86H12a1 1 0 0 1-1-1.11l.45-4.15z"/></g></g></svg>',"search-outline":'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" width="100%" height="100%" viewBox="0 0 24 24"><g data-name="Layer 2"><g data-name="search"><rect width="24" height="24" opacity="0"/><path d="M20.71 19.29l-3.4-3.39A7.92 7.92 0 0 0 19 11a8 8 0 1 0-8 8 7.92 7.92 0 0 0 4.9-1.69l3.39 3.4a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42zM5 11a6 6 0 1 1 6 6 6 6 0 0 1-6-6z"/></g></g></svg>',"close-outline":'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" width="100%" height="100%" viewBox="0 0 24 24"><g data-name="Layer 2"><g data-name="close"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M13.41 12l4.3-4.29a1 1 0 1 0-1.42-1.42L12 10.59l-4.29-4.3a1 1 0 0 0-1.42 1.42l4.3 4.29-4.3 4.29a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0l4.29-4.3 4.29 4.3a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"/></g></g></svg>',"collapse-outline":'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" width="100%" height="100%" viewBox="0 0 24 24"><g data-name="Layer 2"><g data-name="collapse"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M19 9h-2.58l3.29-3.29a1 1 0 1 0-1.42-1.42L15 7.57V5a1 1 0 0 0-1-1 1 1 0 0 0-1 1v5a1 1 0 0 0 1 1h5a1 1 0 0 0 0-2z"/><path d="M10 13H5a1 1 0 0 0 0 2h2.57l-3.28 3.29a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0L9 16.42V19a1 1 0 0 0 1 1 1 1 0 0 0 1-1v-5a1 1 0 0 0-1-1z"/></g></g></svg>',"expand-outline":'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" width="100%" height="100%" viewBox="0 0 24 24"><g data-name="Layer 2"><g data-name="expand"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M20 5a1 1 0 0 0-1-1h-5a1 1 0 0 0 0 2h2.57l-3.28 3.29a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0L18 7.42V10a1 1 0 0 0 1 1 1 1 0 0 0 1-1z"/><path d="M10.71 13.29a1 1 0 0 0-1.42 0L6 16.57V14a1 1 0 0 0-1-1 1 1 0 0 0-1 1v5a1 1 0 0 0 1 1h5a1 1 0 0 0 0-2H7.42l3.29-3.29a1 1 0 0 0 0-1.42z"/></g></g></svg>',"minus-outline":'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" width="100%" height="100%" viewBox="0 0 24 24"><g data-name="Layer 2"><g data-name="minus"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M19 13H5a1 1 0 0 1 0-2h14a1 1 0 0 1 0 2z"/></g></g></svg>',"minus-bold-outline":'<svg xmlns:xlink="http://www.w3.org/1999/xlink" fill="currentColor" viewBox="0 0 8 2" width="100%" height="100%"><defs><rect id="nb-mbo" y="3" width="8" height="2" rx="1"/></defs><use xlink:href="#nb-mbo" transform="translate(0 -3)" fill-rule="evenodd"/></svg>',"checkmark-bold-outline":'<svg xmlns:xlink="http://www.w3.org/1999/xlink" fill="currentColor" viewBox="0 0 8 7" width="100%" height="100%"><defs><path id="nb-cbo" d="M6.039 1.43a1.11 1.11 0 0 1 1.517-.228c.483.342.588.998.234 1.466L4.431 7.1a1 1 0 0 1-1.492.115L.317 4.677a1.023 1.023 0 0 1 .002-1.483 1.113 1.113 0 0 1 1.535.002l1.641 1.59L6.04 1.428z"/></defs><use xlink:href="#nb-cbo" transform="translate(0 -1)" fill-rule="evenodd"/></svg>',"arrow-back":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g data-name="Layer 2"><g data-name="arrow-back"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M19 11H7.14l3.63-4.36a1 1 0 1 0-1.54-1.28l-5 6a1.19 1.19 0 0 0-.09.15c0 .05 0 .08-.07.13A1 1 0 0 0 4 12a1 1 0 0 0 .07.36c0 .05 0 .08.07.13a1.19 1.19 0 0 0 .09.15l5 6A1 1 0 0 0 10 19a1 1 0 0 0 .64-.23 1 1 0 0 0 .13-1.41L7.14 13H19a1 1 0 0 0 0-2z"/></g></g></svg>'})}}return e.\u0275fac=function(t){return new(t||e)(G(xD))},e.\u0275mod=It({type:e}),e.\u0275inj=St({imports:[F0]}),e})(),oB=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=J({type:e,selectors:[["nb-card-header"]],ngContentSelectors:ii,decls:1,vars:0,template:function(t,r){1&t&&(Mt(),Pe(0))},encapsulation:2}),e})(),sB=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=J({type:e,selectors:[["nb-card-body"]],ngContentSelectors:ii,decls:1,vars:0,template:function(t,r){1&t&&(Mt(),Pe(0))},encapsulation:2}),e})(),lB=(()=>{class e{constructor(t){this.statusService=t,this._size="",this.status="",this.accent=""}get size(){return this._size}set size(t){this._size=t}get tiny(){return"tiny"===this.size}get small(){return"small"===this.size}get medium(){return"medium"===this.size}get large(){return"large"===this.size}get giant(){return"giant"===this.size}get primary(){return"primary"===this.status}get info(){return"info"===this.status}get success(){return"success"===this.status}get warning(){return"warning"===this.status}get danger(){return"danger"===this.status}get basic(){return"basic"===this.status}get control(){return"control"===this.status}get hasAccent(){return this.accent}get primaryAccent(){return"primary"===this.accent}get infoAccent(){return"info"===this.accent}get successAccent(){return"success"===this.accent}get warningAccent(){return"warning"===this.accent}get dangerAccent(){return"danger"===this.accent}get basicAccent(){return"basic"===this.accent}get controlAccent(){return"control"===this.accent}get additionalClasses(){return this.statusService.isCustomStatus(this.status)?[this.statusService.getStatusClass(this.status)]:[]}}return e.\u0275fac=function(t){return new(t||e)(D(Ja))},e.\u0275cmp=J({type:e,selectors:[["nb-card"]],hostVars:42,hostBindings:function(t,r){2&t&&(Ya(r.additionalClasses),_e("size-tiny",r.tiny)("size-small",r.small)("size-medium",r.medium)("size-large",r.large)("size-giant",r.giant)("status-primary",r.primary)("status-info",r.info)("status-success",r.success)("status-warning",r.warning)("status-danger",r.danger)("status-basic",r.basic)("status-control",r.control)("accent",r.hasAccent)("accent-primary",r.primaryAccent)("accent-info",r.infoAccent)("accent-success",r.successAccent)("accent-warning",r.warningAccent)("accent-danger",r.dangerAccent)("accent-basic",r.basicAccent)("accent-control",r.controlAccent))},inputs:{size:"size",status:"status",accent:"accent"},ngContentSelectors:g1e,decls:4,vars:0,template:function(t,r){1&t&&(Mt(p1e),Pe(0),Pe(1,1),Pe(2,2),Pe(3,3))},styles:["[_nghost-%COMP%]{display:flex;flex-direction:column}"]}),e})(),uye=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=It({type:e}),e.\u0275inj=St({imports:[Tl,Fg]}),e})();var jr=(()=>{return(e=jr||(jr={})).YEAR="year",e.MONTH="month",e.DATE="date",jr;var e})(),gr=(()=>{return(e=gr||(gr={})).MEDIUM="medium",e.LARGE="large",gr;var e})();function me(e){return"string"==typeof e?"true"===(e=e.toLowerCase().trim())||""===e:!!e}class Ma{constructor(){this.DAYS_IN_WEEK=7,this.HOURS_IN_DAY_PERIOD=12}setLocale(n){this.locale=n}isBetween(n,t,r){return this.compareDates(n,t)>0&&this.compareDates(n,r)<0}isSameDaySafe(n,t){return n&&t&&this.isSameDay(n,t)}isSameMonthSafe(n,t){return n&&t&&this.isSameMonth(n,t)}isSameYearSafe(n,t){return n&&t&&this.isSameYear(n,t)}isSameHourAndMinute(n,t){return this.isSameHour(n,t)&&this.isSameMinute(n,t)}isSameHour(n,t){return this.getHours(n)===this.getHours(t)}isSameMinute(n,t){return this.getMinutes(n)===this.getMinutes(t)}getTwentyFourHoursFormat(){return"HH:mm"}getTwentyFourHoursFormatWithSeconds(){return"HH:mm:ss"}getTwelveHoursFormatWithSeconds(){return"hh:mm:ss a"}getDayPeriod(n){return this.getHours(n)<this.HOURS_IN_DAY_PERIOD?"AM":"PM"}}const MD=(e,n,t=0)=>e.reduce((r,i,a)=>{const o=Math.floor((a+t)/n);return r[o]||(r[o]=[]),r[o].push(i),r},[]),cB=(e,n=(t=>t))=>((e,n=0,t=(r=>r))=>{const r=[];for(let i=0;i<n;i++)r.push(t(i));return r})(0,e,n);let ky=(()=>{class e{constructor(t){this.dateService=t,this.yearsInView=12,this.yearsInRow=4}getYearsInView(){return this.yearsInView}getYearsInRow(){return this.yearsInRow}getViewYears(t){const r=this.dateService.getYear(t);let i;i=r>=0?r-r%this.yearsInView:r-(r%this.yearsInView+this.yearsInView);const a=cB(this.yearsInView).map(o=>this.copyWithYear(i+o,t));return MD(a,this.yearsInRow)}copyWithYear(t,r){return this.dateService.createDate(t,this.dateService.getMonth(r),this.dateService.getDate(r))}}return e.\u0275fac=function(t){return new(t||e)(G(Ma))},e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})(),zg=(()=>{class e{constructor(t,r,i,a,o){this.renderer=t,this.hostElement=r,this.cd=i,this.zone=a,this.statusService=o,this.size="medium",this.status="basic",this.shape="rectangle",this.appearance="filled",this._fullWidth=!1,this._disabled=!1,this.iconLeft=!1,this.iconRight=!1}get filled(){return"filled"===this.appearance}set filled(t){me(t)&&(this.appearance="filled")}get outline(){return"outline"===this.appearance}set outline(t){me(t)&&(this.appearance="outline")}get ghost(){return"ghost"===this.appearance}set ghost(t){me(t)&&(this.appearance="ghost")}get fullWidth(){return this._fullWidth}set fullWidth(t){this._fullWidth=me(t)}get disabled(){return this._disabled}set disabled(t){this.disabled!==me(t)&&(this._disabled=!this.disabled,this.renderer.setProperty(this.hostElement.nativeElement,"disabled",this.disabled))}get tabbable(){return this.disabled?"-1":null==this.tabIndex?"0":this.tabIndex.toString()}get tiny(){return"tiny"===this.size}get small(){return"small"===this.size}get medium(){return"medium"===this.size}get large(){return"large"===this.size}get giant(){return"giant"===this.size}get rectangle(){return"rectangle"===this.shape}get round(){return"round"===this.shape}get semiRound(){return"semi-round"===this.shape}get additionalClasses(){return this.statusService.isCustomStatus(this.status)?[this.statusService.getStatusClass(this.status)]:[]}ngAfterContentChecked(){const r=this.nodes[this.nodes.length-1];this.iconLeft=this.isIconExist(this.nodes[0]),this.iconRight=this.isIconExist(r)}ngAfterViewInit(){this.zone.runOutsideAngular(()=>setTimeout(()=>{this.renderer.addClass(this.hostElement.nativeElement,"nb-transition")}))}updateProperties(t){let r=!1;for(const i in t)t.hasOwnProperty(i)&&this[i]!==t[i]&&(this[i]=t[i],r=!0);r&&this.cd.markForCheck()}get iconElement(){return this.hostElement.nativeElement.querySelector("nb-icon")}get nodes(){return this.cd.rootNodes.filter(t=>t.nodeType!==Node.COMMENT_NODE)}isIconExist(t){return this.icons.some(r=>r.nativeElement===t)}}return e.\u0275fac=function(t){return new(t||e)(D(Ir),D(He),D(un),D(it),D(Ja))},e.\u0275dir=K({type:e,contentQueries:function(t,r,i){if(1&t&&fn(i,xr,4,He),2&t){let a;nt(a=rt())&&(r.icons=a)}},hostVars:34,hostBindings:function(t,r){2&t&&(Wn("aria-disabled",r.disabled)("tabindex",r.tabbable),Ya(r.additionalClasses),_e("appearance-filled",r.filled)("appearance-outline",r.outline)("appearance-ghost",r.ghost)("full-width",r.fullWidth)("btn-disabled",r.disabled)("size-tiny",r.tiny)("size-small",r.small)("size-medium",r.medium)("size-large",r.large)("size-giant",r.giant)("shape-rectangle",r.rectangle)("shape-round",r.round)("shape-semi-round",r.semiRound)("icon-start",r.iconLeft)("icon-end",r.iconRight))},inputs:{size:"size",status:"status",shape:"shape",appearance:"appearance",filled:"filled",outline:"outline",ghost:"ghost",fullWidth:"fullWidth",disabled:"disabled",tabIndex:"tabIndex"}}),e})(),Lu=(()=>{class e extends zg{constructor(t,r,i,a,o){super(t,r,i,a,o),this.renderer=t,this.hostElement=r,this.cd=i,this.zone=a,this.statusService=o}get hero(){return"hero"===this.appearance}set hero(t){me(t)&&(this.appearance="hero")}get primary(){return"primary"===this.status}get info(){return"info"===this.status}get success(){return"success"===this.status}get warning(){return"warning"===this.status}get danger(){return"danger"===this.status}get basic(){return"basic"===this.status}get control(){return"control"===this.status}onClick(t){this.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}}return e.\u0275fac=function(t){return new(t||e)(D(Ir),D(He),D(un),D(it),D(Ja))},e.\u0275cmp=J({type:e,selectors:[["button","nbButton",""],["a","nbButton",""],["input","type","button","nbButton",""],["input","type","submit","nbButton",""]],hostVars:16,hostBindings:function(t,r){1&t&&re("click",function(a){return r.onClick(a)}),2&t&&_e("appearance-hero",r.hero)("status-primary",r.primary)("status-info",r.info)("status-success",r.success)("status-warning",r.warning)("status-danger",r.danger)("status-basic",r.basic)("status-control",r.control)},inputs:{hero:"hero"},features:[Me([{provide:zg,useExisting:e}]),ge],attrs:y1e,ngContentSelectors:ii,decls:1,vars:0,template:function(t,r){1&t&&(Mt(),Pe(0))},encapsulation:2,changeDetection:0}),e})(),uB=(()=>{class e{constructor(t,r){this.dateService=t,this.yearModelService=r,this.viewMode=jr.DATE,this.changeMode=new Ae(!0)}getText(){if(!this.date)return"";switch(this.viewMode){case jr.DATE:return`${this.dateService.getMonthName(this.date,Tt.Wide)} ${this.dateService.getYear(this.date)}`;case jr.MONTH:return`${this.dateService.getYear(this.date)}`;case jr.YEAR:return`${this.getFirstYear()} - ${this.getLastYear()}`}}getIcon(){return this.viewMode===jr.DATE?"chevron-down-outline":"chevron-up-outline"}getFirstYear(){const t=this.yearModelService.getViewYears(this.date);return this.dateService.getYear(t[0][0]).toString()}getLastYear(){const t=this.yearModelService.getViewYears(this.date),r=t[t.length-1];return this.dateService.getYear(r[r.length-1]).toString()}}return e.\u0275fac=function(t){return new(t||e)(D(Ma),D(ky))},e.\u0275cmp=J({type:e,selectors:[["nb-calendar-view-mode"]],inputs:{date:"date",viewMode:"viewMode"},outputs:{changeMode:"changeMode"},decls:3,vars:2,consts:[["nbButton","","ghost","","status","basic",3,"click"],["pack","nebular-essentials",3,"icon"]],template:function(t,r){1&t&&(B(0,"button",0),re("click",function(){return r.changeMode.emit()}),ae(1),ie(2,"nb-icon",1),H()),2&t&&(k(1),en(" ",r.getText()," "),k(1),O("icon",r.getIcon()))},dependencies:[Lu,xr],encapsulation:2,changeDetection:0}),e})(),hB=(()=>{class e{constructor(t){this.directionService=t,this.next=new Ae,this.prev=new Ae}get isLtr(){return this.directionService.isLtr()}}return e.\u0275fac=function(t){return new(t||e)(D(zs))},e.\u0275cmp=J({type:e,selectors:[["nb-calendar-pageable-navigation"]],outputs:{next:"next",prev:"prev"},decls:4,vars:2,consts:[["nbButton","","ghost","","status","basic",1,"prev-month",3,"click"],["pack","nebular-essentials",3,"icon"],["nbButton","","ghost","","status","basic",1,"next-month",3,"click"]],template:function(t,r){1&t&&(B(0,"button",0),re("click",function(){return r.prev.emit()}),ie(1,"nb-icon",1),H(),B(2,"button",2),re("click",function(){return r.next.emit()}),ie(3,"nb-icon",1),H()),2&t&&(k(1),O("icon",r.isLtr?"chevron-left-outline":"chevron-right-outline"),k(2),O("icon",r.isLtr?"chevron-right-outline":"chevron-left-outline"))},dependencies:[Lu,xr],styles:["[_nghost-%COMP%]{display:flex;align-items:center;justify-content:flex-start}"]}),e})(),dB=(()=>{class e{constructor(t){this.dateService=t,this.size=gr.MEDIUM,this.select=new Ae(!0),this.yearCellClass=!0}get selected(){return this.dateService.isSameYearSafe(this.date,this.selectedValue)}get today(){return this.dateService.isSameYearSafe(this.date,this.dateService.today())}get disabled(){return this.smallerThanMin()||this.greaterThanMax()}get isLarge(){return this.size===gr.LARGE}get year(){return this.dateService.getYear(this.date)}onClick(){this.disabled||this.select.emit(this.date)}smallerThanMin(){return this.date&&this.min&&this.dateService.compareDates(this.yearEnd(),this.min)<0}greaterThanMax(){return this.date&&this.max&&this.dateService.compareDates(this.yearStart(),this.max)>0}yearStart(){return this.dateService.getYearStart(this.date)}yearEnd(){return this.dateService.getYearEnd(this.date)}}return e.\u0275fac=function(t){return new(t||e)(D(Ma))},e.\u0275cmp=J({type:e,selectors:[["nb-calendar-year-cell"]],hostVars:10,hostBindings:function(t,r){1&t&&re("click",function(){return r.onClick()}),2&t&&_e("selected",r.selected)("today",r.today)("disabled",r.disabled)("size-large",r.isLarge)("year-cell",r.yearCellClass)},inputs:{date:"date",min:"min",max:"max",selectedValue:"selectedValue",size:"size"},outputs:{select:"select"},decls:2,vars:1,consts:[[1,"cell-content"]],template:function(t,r){1&t&&(B(0,"div",0),ae(1),H()),2&t&&(k(1),en(" ",r.year," "))},encapsulation:2,changeDetection:0}),e})(),fB=(()=>{class e{constructor(t){this.cfr=t,this.size=gr.MEDIUM,this.select=new Ae}ngOnChanges(){const t=this.cfr.resolveComponentFactory(this.component);this.containerRef.clear(),this.row.forEach(r=>{const i=this.containerRef.createComponent(t,this.containerRef.length);this.patchWithContext(i.instance,r),i.changeDetectorRef.detectChanges()})}patchWithContext(t,r){t.visibleDate=this.visibleDate,t.selectedValue=this.selectedValue,t.date=r,t.min=this.min,t.max=this.max,t.filter=this.filter,t.size=this.size,t.select.subscribe(this.select.emit.bind(this.select))}}return e.\u0275fac=function(t){return new(t||e)(D(au))},e.\u0275cmp=J({type:e,selectors:[["nb-calendar-picker-row"]],viewQuery:function(t,r){if(1&t&&Br(wn,7,wr),2&t){let i;nt(i=rt())&&(r.containerRef=i.first)}},inputs:{row:"row",selectedValue:"selectedValue",visibleDate:"visibleDate",component:"component",min:"min",max:"max",filter:"filter",size:"size"},outputs:{select:"select"},features:[on],decls:1,vars:0,template:function(t,r){1&t&&$(0,b1e,0,0,"ng-template")},styles:["[_nghost-%COMP%]{display:flex;justify-content:space-between}"],changeDetection:0}),e})(),Fy=(()=>{class e{constructor(){this.size=gr.MEDIUM,this.select=new Ae}get isLarge(){return this.size===gr.LARGE}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=J({type:e,selectors:[["nb-calendar-picker"]],hostVars:2,hostBindings:function(t,r){2&t&&_e("size-large",r.isLarge)},inputs:{data:"data",visibleDate:"visibleDate",selectedValue:"selectedValue",cellComponent:"cellComponent",min:"min",max:"max",filter:"filter",size:"size"},outputs:{select:"select"},decls:1,vars:1,consts:[[3,"row","visibleDate","selectedValue","component","min","max","filter","size","select",4,"ngFor","ngForOf"],[3,"row","visibleDate","selectedValue","component","min","max","filter","size","select"]],template:function(t,r){1&t&&$(0,C1e,1,8,"nb-calendar-picker-row",0),2&t&&O("ngForOf",r.data)},dependencies:[Li,fB],encapsulation:2,changeDetection:0}),e})(),pB=(()=>{class e{constructor(t,r){this.dateService=t,this.yearModelService=r,this.cellComponent=dB,this.size=gr.MEDIUM,this.yearChange=new Ae}set _cellComponent(t){t&&(this.cellComponent=t)}get large(){return this.size===gr.LARGE}ngOnChanges(){this.years=this.yearModelService.getViewYears(this.year)}onSelect(t){this.yearChange.emit(t)}}return e.\u0275fac=function(t){return new(t||e)(D(Ma),D(ky))},e.\u0275cmp=J({type:e,selectors:[["nb-calendar-year-picker"]],hostVars:2,hostBindings:function(t,r){2&t&&_e("size-large",r.large)},inputs:{date:"date",min:"min",max:"max",filter:"filter",_cellComponent:["cellComponent","_cellComponent"],size:"size",year:"year"},outputs:{yearChange:"yearChange"},features:[on],decls:1,vars:8,consts:[[3,"data","min","max","filter","selectedValue","visibleDate","cellComponent","size","select"]],template:function(t,r){1&t&&(B(0,"nb-calendar-picker",0),re("select",function(a){return r.onSelect(a)}),H()),2&t&&O("data",r.years)("min",r.min)("max",r.max)("filter",r.filter)("selectedValue",r.date)("visibleDate",r.year)("cellComponent",r.cellComponent)("size",r.size)},dependencies:[Fy],encapsulation:2,changeDetection:0}),e})(),gB=(()=>{class e{constructor(t){this.dateService=t,this.size=gr.MEDIUM,this.select=new Ae(!0),this.monthCellClass=!0}get selected(){return this.dateService.isSameMonthSafe(this.date,this.selectedValue)}get today(){return this.dateService.isSameMonthSafe(this.date,this.dateService.today())}get disabled(){return this.smallerThanMin()||this.greaterThanMax()}get isLarge(){return this.size===gr.LARGE}get month(){return this.dateService.getMonthName(this.date)}onClick(){this.disabled||this.select.emit(this.date)}smallerThanMin(){return this.date&&this.min&&this.dateService.compareDates(this.monthEnd(),this.min)<0}greaterThanMax(){return this.date&&this.max&&this.dateService.compareDates(this.monthStart(),this.max)>0}monthStart(){return this.dateService.getMonthStart(this.date)}monthEnd(){return this.dateService.getMonthEnd(this.date)}}return e.\u0275fac=function(t){return new(t||e)(D(Ma))},e.\u0275cmp=J({type:e,selectors:[["nb-calendar-month-cell"]],hostVars:10,hostBindings:function(t,r){1&t&&re("click",function(){return r.onClick()}),2&t&&_e("selected",r.selected)("today",r.today)("disabled",r.disabled)("size-large",r.isLarge)("month-cell",r.monthCellClass)},inputs:{date:"date",selectedValue:"selectedValue",min:"min",max:"max",size:"size"},outputs:{select:"select"},decls:2,vars:1,consts:[[1,"cell-content"]],template:function(t,r){1&t&&(B(0,"div",0),ae(1),H()),2&t&&(k(1),en(" ",r.month," "))},encapsulation:2,changeDetection:0}),e})(),mB=(()=>{class e{constructor(t){this.dateService=t,this.size=gr.MEDIUM,this.monthChange=new Ae,this.cellComponent=gB}set _cellComponent(t){t&&(this.cellComponent=t)}get large(){return this.size===gr.LARGE}ngOnChanges(t){t.month&&this.initMonths()}initMonths(){const t=this.dateService.getDate(this.month),r=this.dateService.getYear(this.month),i=this.dateService.createDate(r,0,t),a=[i];for(let o=1;o<12;o++)a.push(this.dateService.addMonth(i,o));this.months=MD(a,4)}onSelect(t){this.monthChange.emit(t)}}return e.\u0275fac=function(t){return new(t||e)(D(Ma))},e.\u0275cmp=J({type:e,selectors:[["nb-calendar-month-picker"]],hostVars:2,hostBindings:function(t,r){2&t&&_e("size-large",r.large)},inputs:{min:"min",max:"max",filter:"filter",size:"size",month:"month",date:"date",_cellComponent:["cellComponent","_cellComponent"]},outputs:{monthChange:"monthChange"},features:[on],decls:1,vars:8,consts:[[3,"data","min","max","filter","selectedValue","visibleDate","cellComponent","size","select"]],template:function(t,r){1&t&&(B(0,"nb-calendar-picker",0),re("select",function(a){return r.onSelect(a)}),H()),2&t&&O("data",r.months)("min",r.min)("max",r.max)("filter",r.filter)("selectedValue",r.date)("visibleDate",r.month)("cellComponent",r.cellComponent)("size",r.size)},dependencies:[Fy],encapsulation:2,changeDetection:0}),e})(),vB=(()=>{class e{constructor(t){this.dateService=t,this.size=gr.MEDIUM,this.select=new Ae(!0),this.dayCellClass=!0}get today(){return this.dateService.isSameDaySafe(this.date,this.dateService.today())}get boundingMonth(){return!this.dateService.isSameMonthSafe(this.date,this.visibleDate)}get selected(){return this.dateService.isSameDaySafe(this.date,this.selectedValue)}get empty(){return!this.date}get disabled(){return this.smallerThanMin()||this.greaterThanMax()||this.dontFitFilter()}get isLarge(){return this.size===gr.LARGE}get day(){return this.date&&this.dateService.getDate(this.date)}onClick(){this.disabled||this.empty||this.select.emit(this.date)}smallerThanMin(){return this.date&&this.min&&this.dateService.compareDates(this.date,this.min)<0}greaterThanMax(){return this.date&&this.max&&this.dateService.compareDates(this.date,this.max)>0}dontFitFilter(){return this.date&&this.filter&&!this.filter(this.date)}}return e.\u0275fac=function(t){return new(t||e)(D(Ma))},e.\u0275cmp=J({type:e,selectors:[["nb-calendar-day-cell"]],hostVars:14,hostBindings:function(t,r){1&t&&re("click",function(){return r.onClick()}),2&t&&_e("today",r.today)("bounding-month",r.boundingMonth)("selected",r.selected)("empty",r.empty)("disabled",r.disabled)("size-large",r.isLarge)("day-cell",r.dayCellClass)},inputs:{date:"date",selectedValue:"selectedValue",visibleDate:"visibleDate",min:"min",max:"max",filter:"filter",size:"size"},outputs:{select:"select"},decls:2,vars:1,consts:[[1,"cell-content"]],template:function(t,r){1&t&&(B(0,"div",0),ae(1),H()),2&t&&(k(1),en(" ",r.day," "))},encapsulation:2,changeDetection:0}),e})(),_B=(()=>{class e{constructor(t){this.dateService=t}createDaysGrid(t,r=!0){const i=this.createDates(t);return this.withBoundingMonths(i,t,r)}createDates(t){const r=this.createDateRangeForMonth(t),i=this.getStartOfWeekDayDiff(t);return MD(r,this.dateService.DAYS_IN_WEEK,i)}withBoundingMonths(t,r,i){let a=t;return this.isShouldAddPrevBoundingMonth(a)&&(a=this.addPrevBoundingMonth(a,r,i)),this.isShouldAddNextBoundingMonth(a)&&(a=this.addNextBoundingMonth(a,r,i)),a}addPrevBoundingMonth(t,r,i){const a=t.shift();return a.unshift(...this.createPrevBoundingDays(r,i,this.dateService.DAYS_IN_WEEK-a.length)),[a,...t]}addNextBoundingMonth(t,r,i){const a=t.pop();return a.push(...this.createNextBoundingDays(r,i,this.dateService.DAYS_IN_WEEK-a.length)),[...t,a]}createPrevBoundingDays(t,r,i){const a=this.dateService.addMonth(t,-1),o=this.dateService.getNumberOfDaysInMonth(a);return this.createDateRangeForMonth(a).slice(o-i).map(s=>r?s:null)}createNextBoundingDays(t,r,i){const a=this.dateService.addMonth(t,1);return this.createDateRangeForMonth(a).slice(0,i).map(o=>r?o:null)}getStartOfWeekDayDiff(t){const r=this.dateService.getMonthStart(t);return this.getWeekStartDiff(r)}getWeekStartDiff(t){return(7-this.dateService.getFirstDayOfWeek()+this.dateService.getDayOfWeek(t))%7}isShouldAddPrevBoundingMonth(t){return t[0].length<this.dateService.DAYS_IN_WEEK}isShouldAddNextBoundingMonth(t){return t[t.length-1].length<this.dateService.DAYS_IN_WEEK}createDateRangeForMonth(t){const r=this.dateService.getNumberOfDaysInMonth(t);return cB(r,i=>{const a=this.dateService.getYear(t),o=this.dateService.getMonth(t);return this.dateService.createDate(a,o,i+1)})}}return e.\u0275fac=function(t){return new(t||e)(G(Ma))},e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})(),yB=(()=>{class e{constructor(t){this.dateService=t}get isLarge(){return this.size===gr.LARGE}ngOnInit(){const t=this.createDaysNames();this.days=this.shiftStartOfWeek(t)}createDaysNames(){return this.dateService.getDayOfWeekNames().map(this.markIfHoliday)}shiftStartOfWeek(t){for(let r=0;r<this.dateService.getFirstDayOfWeek();r++)t.push(t.shift());return t}markIfHoliday(t,r){return{name:t,isHoliday:r%6==0}}}return e.\u0275fac=function(t){return new(t||e)(D(Ma))},e.\u0275cmp=J({type:e,selectors:[["nb-calendar-days-names"]],hostVars:2,hostBindings:function(t,r){2&t&&_e("size-large",r.isLarge)},inputs:{size:"size"},decls:1,vars:1,consts:[["class","day",3,"holiday",4,"ngFor","ngForOf"],[1,"day"]],template:function(t,r){1&t&&$(0,w1e,2,3,"div",0),2&t&&O("ngForOf",r.days)},dependencies:[Li],styles:["[_nghost-%COMP%]{display:flex;justify-content:space-between}[_nghost-%COMP%]   .day[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}"],changeDetection:0}),e})(),bB=(()=>{class e{constructor(t){this.dateService=t}get isLarge(){return this.size===gr.LARGE}ngOnChanges(t){t.weeks&&(this.weekNumbers=this.getWeeks())}getWeeks(){return this.weeks.map(t=>{const r=[...t].reverse().find(i=>!!i);return this.dateService.getWeekNumber(r)})}}return e.\u0275fac=function(t){return new(t||e)(D(Ma))},e.\u0275cmp=J({type:e,selectors:[["nb-calendar-week-numbers"]],hostVars:2,hostBindings:function(t,r){2&t&&_e("size-large",r.isLarge)},inputs:{weeks:"weeks",size:"size",weekNumberSymbol:"weekNumberSymbol"},features:[on],decls:4,vars:2,consts:[[1,"sign-container"],[1,"sign"],["class","week-number",4,"ngFor","ngForOf"],[1,"week-number"]],template:function(t,r){1&t&&(B(0,"div",0)(1,"div",1),ae(2),H()(),$(3,S1e,2,1,"div",2)),2&t&&(k(2),Ht(r.weekNumberSymbol),k(1),O("ngForOf",r.weekNumbers))},dependencies:[Li],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column}"],changeDetection:0}),e})(),CB=(()=>{class e{constructor(t){this.monthModel=t,this.boundingMonths=!0,this.cellComponent=vB,this.size=gr.MEDIUM,this._showWeekNumber=!1,this.dateChange=new Ae}set setCellComponent(t){t&&(this.cellComponent=t)}get showWeekNumber(){return this._showWeekNumber}set showWeekNumber(t){this._showWeekNumber=me(t)}get large(){return this.size===gr.LARGE}ngOnChanges({visibleDate:t,boundingMonths:r}){(t||r)&&(this.weeks=this.monthModel.createDaysGrid(this.visibleDate,this.boundingMonths))}onSelect(t){this.dateChange.emit(t)}}return e.\u0275fac=function(t){return new(t||e)(D(_B))},e.\u0275cmp=J({type:e,selectors:[["nb-calendar-day-picker"]],hostVars:2,hostBindings:function(t,r){2&t&&_e("size-large",r.large)},inputs:{visibleDate:"visibleDate",boundingMonths:"boundingMonths",min:"min",max:"max",filter:"filter",setCellComponent:["cellComponent","setCellComponent"],size:"size",date:"date",showWeekNumber:"showWeekNumber",weekNumberSymbol:"weekNumberSymbol"},outputs:{dateChange:"dateChange"},features:[on],decls:4,vars:10,consts:[[3,"weeks","size","weekNumberSymbol",4,"ngIf"],[1,"days-container"],[3,"size"],[3,"data","visibleDate","selectedValue","cellComponent","min","max","filter","size","select"],[3,"weeks","size","weekNumberSymbol"]],template:function(t,r){1&t&&($(0,x1e,1,3,"nb-calendar-week-numbers",0),B(1,"div",1),ie(2,"nb-calendar-days-names",2),B(3,"nb-calendar-picker",3),re("select",function(a){return r.onSelect(a)}),H()()),2&t&&(O("ngIf",r.showWeekNumber),k(2),O("size",r.size),k(1),O("data",r.weeks)("visibleDate",r.visibleDate)("selectedValue",r.date)("cellComponent",r.cellComponent)("min",r.min)("max",r.max)("filter",r.filter)("size",r.size))},dependencies:[Ut,yB,Fy,bB],styles:["[_nghost-%COMP%]{display:flex}.days-container[_ngcontent-%COMP%]{width:100%}"],changeDetection:0}),e})(),pye=(()=>{class e{constructor(t,r){this.dateService=t,this.yearModelService=r,this.boundingMonth=!0,this.activeViewMode=jr.DATE,this.size=gr.MEDIUM,this.showNavigation=!0,this._showWeekNumber=!1,this.dateChange=new Ae,this.ViewMode=jr}get showWeekNumber(){return this._showWeekNumber}set showWeekNumber(t){this._showWeekNumber=me(t)}ngOnInit(){this.visibleDate||(this.visibleDate=this.dateService.today())}get large(){return this.size===gr.LARGE}setViewMode(t){this.activeViewMode=t}setVisibleDate(t){this.visibleDate=t}prevMonth(){this.changeVisibleMonth(-1)}nextMonth(){this.changeVisibleMonth(1)}prevYear(){this.changeVisibleYear(-1)}nextYear(){this.changeVisibleYear(1)}prevYears(){this.changeVisibleYears(-1)}nextYears(){this.changeVisibleYears(1)}navigatePrev(){switch(this.activeViewMode){case jr.DATE:return this.prevMonth();case jr.MONTH:return this.prevYear();case jr.YEAR:return this.prevYears()}}navigateNext(){switch(this.activeViewMode){case jr.DATE:return this.nextMonth();case jr.MONTH:return this.nextYear();case jr.YEAR:return this.nextYears()}}onChangeViewMode(){if(this.activeViewMode===jr.DATE)return this.setViewMode(jr.YEAR);this.setViewMode(jr.DATE)}changeVisibleMonth(t){this.visibleDate=this.dateService.addMonth(this.visibleDate,t)}changeVisibleYear(t){this.visibleDate=this.dateService.addYear(this.visibleDate,t)}changeVisibleYears(t){this.visibleDate=this.dateService.addYear(this.visibleDate,t*this.yearModelService.getYearsInView())}}return e.\u0275fac=function(t){return new(t||e)(D(Ma),D(ky))},e.\u0275cmp=J({type:e,selectors:[["nb-base-calendar"]],hostVars:6,hostBindings:function(t,r){2&t&&_e("has-navigation",r.showNavigation)("has-week-number",r.showWeekNumber)("size-large",r.large)},inputs:{boundingMonth:"boundingMonth",activeViewMode:["startView","activeViewMode"],min:"min",max:"max",filter:"filter",dayCellComponent:"dayCellComponent",monthCellComponent:"monthCellComponent",yearCellComponent:"yearCellComponent",size:"size",visibleDate:"visibleDate",showNavigation:"showNavigation",date:"date",showWeekNumber:"showWeekNumber",weekNumberSymbol:"weekNumberSymbol"},outputs:{dateChange:"dateChange"},decls:6,vars:5,consts:[["class","calendar-navigation",4,"ngIf"],[3,"ngSwitch"],[3,"boundingMonths","cellComponent","min","max","filter","visibleDate","size","date","showWeekNumber","weekNumberSymbol","dateChange",4,"ngSwitchCase"],[3,"cellComponent","date","min","max","filter","size","year","yearChange",4,"ngSwitchCase"],[3,"cellComponent","min","max","filter","size","month","date","monthChange",4,"ngSwitchCase"],[1,"calendar-navigation"],[3,"date","viewMode","changeMode"],[3,"prev","next"],[3,"boundingMonths","cellComponent","min","max","filter","visibleDate","size","date","showWeekNumber","weekNumberSymbol","dateChange"],[3,"cellComponent","date","min","max","filter","size","year","yearChange"],[3,"cellComponent","min","max","filter","size","month","date","monthChange"]],template:function(t,r){1&t&&(B(0,"nb-card"),$(1,M1e,3,2,"nb-card-header",0),B(2,"nb-card-body",1),$(3,T1e,1,10,"nb-calendar-day-picker",2),$(4,D1e,1,7,"nb-calendar-year-picker",3),$(5,E1e,1,7,"nb-calendar-month-picker",4),H()()),2&t&&(k(1),O("ngIf",r.showNavigation),k(1),O("ngSwitch",r.activeViewMode),k(1),O("ngSwitchCase",r.ViewMode.DATE),k(1),O("ngSwitchCase",r.ViewMode.YEAR),k(1),O("ngSwitchCase",r.ViewMode.MONTH))},dependencies:[uB,hB,pB,mB,CB,Ut,L0,aM,lB,sB,oB],encapsulation:2}),e})(),gye=(()=>{class e{constructor(){this.boundingMonth=!0,this.startView=jr.DATE,this.size=gr.MEDIUM,this.showNavigation=!0,this._showWeekNumber=!1,this.weekNumberSymbol="#",this.dateChange=new Ae}get showWeekNumber(){return this._showWeekNumber}set showWeekNumber(t){this._showWeekNumber=me(t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=J({type:e,selectors:[["nb-calendar"]],inputs:{boundingMonth:"boundingMonth",startView:"startView",min:"min",max:"max",filter:"filter",dayCellComponent:"dayCellComponent",monthCellComponent:"monthCellComponent",yearCellComponent:"yearCellComponent",size:"size",visibleDate:"visibleDate",showNavigation:"showNavigation",date:"date",showWeekNumber:"showWeekNumber",weekNumberSymbol:"weekNumberSymbol"},outputs:{dateChange:"dateChange"},decls:1,vars:14,consts:[[3,"boundingMonth","startView","date","min","max","filter","dayCellComponent","monthCellComponent","yearCellComponent","size","visibleDate","showNavigation","showWeekNumber","weekNumberSymbol","dateChange"]],template:function(t,r){1&t&&(B(0,"nb-base-calendar",0),re("dateChange",function(a){return r.dateChange.emit(a)}),H()),2&t&&O("boundingMonth",r.boundingMonth)("startView",r.startView)("date",r.date)("min",r.min)("max",r.max)("filter",r.filter)("dayCellComponent",r.dayCellComponent)("monthCellComponent",r.monthCellComponent)("yearCellComponent",r.yearCellComponent)("size",r.size)("visibleDate",r.visibleDate)("showNavigation",r.showNavigation)("showWeekNumber",r.showWeekNumber)("weekNumberSymbol",r.weekNumberSymbol)},dependencies:[pye],encapsulation:2}),e})(),wB=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=It({type:e}),e.\u0275inj=St({imports:[Tl]}),e})(),mye=(()=>{class e extends Ma{constructor(t){super(),this.setLocale(t)}setLocale(t){super.setLocale(t),this.datePipe=new k0(t)}setHours(t,r){const i=this.clone(t);return i.setHours(r),i}setMinutes(t,r){const i=this.clone(t);return i.setMinutes(r),i}setSeconds(t,r){const i=this.clone(t);return i.setSeconds(r),i}setMilliseconds(t,r){const i=this.clone(t);return i.setMilliseconds(r),i}isValidDateString(t,r){return!isNaN(this.parse(t,r).getTime())}isValidTimeString(t,r){return this.isValidDateString(t,r)}today(){return new Date}getLocaleTimeFormat(){return P0(this.locale,cr.Short)}getDate(t){return t.getDate()}getMonth(t){return t.getMonth()}getYear(t){return t.getFullYear()}getDayOfWeek(t){return t.getDay()}getFirstDayOfWeek(){return function Goe(e){return Ri(e)[ye.FirstDayOfWeek]}(this.locale)}getMonthName(t,r=Tt.Abbreviated){const i=t.getMonth();return this.getMonthNameByIndex(i,r)}getMonthNameByIndex(t,r=Tt.Abbreviated){return Ak(this.locale,pr.Format,r)[t]}getDayOfWeekNames(){return[...Ek(this.locale,pr.Format,Tt.Short)]}format(t,r){return this.datePipe.transform(t,r)}parse(t,r){return new Date(Date.parse(t))}addDay(t,r){return this.createDate(t.getFullYear(),t.getMonth(),t.getDate()+r)}addMonth(t,r){const i=this.createDate(t.getFullYear(),t.getMonth()+r,1);return i.setDate(Math.min(t.getDate(),this.getMonthEnd(i).getDate())),i}addMinutes(t,r){const i=new Date(t);return i.setMinutes(t.getMinutes()+r),i}addHours(t,r){const i=new Date(t);return i.setHours(t.getHours()+r),i}getHours(t){return t.getHours()}getMinutes(t){return t.getMinutes()}getSeconds(t){return t.getSeconds()}getMilliseconds(t){return t.getMilliseconds()}addYear(t,r){return this.createDate(t.getFullYear()+r,t.getMonth(),t.getDate())}clone(t){return new Date(t.getTime())}compareDates(t,r){return t.getTime()-r.getTime()}createDate(t,r,i){const a=new Date(t,r,i);return t>=0&&t<100&&a.setFullYear(a.getFullYear()-1900),a}getMonthEnd(t){return this.createDate(t.getFullYear(),t.getMonth()+1,0)}getMonthStart(t){return this.createDate(t.getFullYear(),t.getMonth(),1)}getNumberOfDaysInMonth(t){return this.getMonthEnd(t).getDate()}getYearEnd(t){return this.createDate(t.getFullYear(),11,31)}getYearStart(t){return this.createDate(t.getFullYear(),0,1)}valueOf(t){return t.valueOf()}isSameDay(t,r){return this.isSameMonth(t,r)&&t.getDate()===r.getDate()}isSameMonth(t,r){return this.isSameYear(t,r)&&t.getMonth()===r.getMonth()}isSameYear(t,r){return t.getFullYear()===r.getFullYear()}getId(){return"native"}getWeekNumber(t){return parseInt(this.datePipe.transform(t,"w"),10)}getDateFormat(){return"yyyy-MM-dd"}getTwelveHoursFormat(){return"hh:mm a"}}return e.\u0275fac=function(t){return new(t||e)(G(Os))},e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})(),vye=(()=>{class e{constructor(t){this.dateService=t,this.MINUTES_AND_SECONDS=60}getHoursRange(t=this.MINUTES_AND_SECONDS){let r=this.getResetTime();const i=this.dateService.addDay(r,1),a=[];for(;this.dateService.compareDates(r,i)<0;)a.push(r),r=this.dateService.addMinutes(r,t);return a}getResetTime(){let t=this.dateService.today();return t=this.dateService.setHours(t,0),t=this.dateService.setMinutes(t,0),t=this.dateService.setSeconds(t,0),t=this.dateService.setMilliseconds(t,0),t}paddToTwoSymbols(t){return t<10?"0"+t:t.toString()}buildDateFormat(t,r=!1){return t?`${this.dateService.getDateFormat()} ${this.dateService.getTwelveHoursFormat()}`:r?`${this.dateService.getDateFormat()} ${this.dateService.getTwentyFourHoursFormatWithSeconds()}`:`${this.dateService.getDateFormat()} ${this.dateService.getTwentyFourHoursFormat()}`}}return e.\u0275fac=function(t){return new(t||e)(G(Ma))},e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})();const yye=[{provide:Ma,useClass:mye},k0,_B,ky,vye];let bye=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=It({type:e}),e.\u0275inj=St({providers:[...yye],imports:[Tl,wB,Fg]}),e})(),Cye=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=It({type:e}),e.\u0275inj=St({imports:[bye,Tl,uye]}),e})(),wye=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=It({type:e}),e.\u0275inj=St({imports:[Cye]}),e})();function zy(e){return e.match(/.*?(?=[?;#]|$)/)[0]}function SB(e){const n=e.match(/#(.+)/);return n?n[1]:""}new te("NB_TIME_PICKER_CONFIG"),new te("Datepicker Adapter"),new te("Date service options");let xB=(()=>{class e{constructor(t){this.router=t}shouldRestore(){return this.router.events.pipe(Ka(null),Re(t=>null===t||t instanceof xl),O8(),Ce(([t,r])=>this.pageChanged(t,r)),Re(t=>!!t))}pageChanged(t,r){return!t||zy(t.url)!==zy(r.url)}}return e.\u0275fac=function(t){return new(t||e)(G(Fi))},e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})(),DD=(()=>{class e{constructor(t,r,i,a,o,s,l,c,u,h,d,f){this.themeService=t,this.spinnerService=r,this.elementRef=i,this.renderer=a,this.window=o,this.document=s,this.platformId=l,this.layoutDirectionService=c,this.scrollService=u,this.rulerService=h,this.scrollTop=d,this.overlayContainer=f,this.scrollBlockClass="nb-global-scrollblock",this.isScrollBlocked=!1,this.centerValue=!1,this.restoreScrollTopValue=!0,this.windowModeValue=!1,this.withScrollValue=!1,this.withSubheader=!1,this.afterViewInit$=new Xt(null),this.destroy$=new he,this.registerAsOverlayContainer(),this.themeService.onThemeChange().pipe(ee(this.destroy$)).subscribe(p=>{const g=this.document.getElementsByTagName("body")[0];p.previous&&this.renderer.removeClass(g,`nb-theme-${p.previous}`),this.renderer.addClass(g,`nb-theme-${p.name}`)}),this.themeService.onAppendLayoutClass().pipe(ee(this.destroy$)).subscribe(p=>{this.renderer.addClass(this.elementRef.nativeElement,p)}),this.themeService.onRemoveLayoutClass().pipe(ee(this.destroy$)).subscribe(p=>{this.renderer.removeClass(this.elementRef.nativeElement,p)}),this.spinnerService.registerLoader(new Promise(p=>{this.afterViewInit$.pipe(ee(this.destroy$)).subscribe(g=>p())})),this.spinnerService.load(),this.rulerService.onGetDimensions().pipe(ee(this.destroy$)).subscribe(({listener:p})=>{p.next(this.getDimensions()),p.complete()}),this.scrollService.onGetPosition().pipe(ee(this.destroy$)).subscribe(({listener:p})=>{p.next(this.getScrollPosition()),p.complete()}),this.scrollTop.shouldRestore().pipe(Re(()=>this.restoreScrollTopValue),ee(this.destroy$)).subscribe(()=>{this.scroll(0,0)}),this.scrollService.onScrollableChange().pipe(Re(()=>this.withScrollValue),ee(this.destroy$)).subscribe(p=>{p?this.enableScroll():this.blockScroll()}),du(this.platformId)&&this.themeService.changeWindowWidth(this.window.innerWidth)}set center(t){this.centerValue=me(t)}set windowMode(t){this.windowModeValue=me(t),this.withScroll=this.windowModeValue}set withScroll(t){this.withScrollValue=me(t);const r=this.document.getElementsByTagName("body")[0];this.renderer.setStyle(r,"overflow",this.withScrollValue?"hidden":"initial")}set restoreScrollTop(t){this.restoreScrollTopValue=me(t)}ngAfterViewInit(){this.layoutDirectionService.onDirectionChange().pipe(ee(this.destroy$)).subscribe(t=>this.document.dir=t),this.scrollService.onManualScroll().pipe(ee(this.destroy$)).subscribe(({x:t,y:r})=>this.scroll(t,r)),this.afterViewInit$.next(!0)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.unregisterAsOverlayContainer()}onScroll(t){this.scrollService.fireScrollChange(t)}onResize(t){this.themeService.changeWindowWidth(t.target.innerWidth)}getDimensions(){let t,r,i,a=0;if(this.withScrollValue){const o=this.scrollableContainerRef.nativeElement;t=o.clientWidth,r=o.clientHeight,i=o.scrollWidth,a=o.scrollHeight}else{const{documentElement:o,body:s}=this.document;t=o.clientWidth||s.clientWidth,r=o.clientHeight||s.clientHeight,i=o.scrollWidth||s.scrollWidth,a=o.scrollHeight||s.scrollHeight}return{clientWidth:t,clientHeight:r,scrollWidth:i,scrollHeight:a}}getScrollPosition(){if(!du(this.platformId))return{x:0,y:0};if(this.withScrollValue){const a=this.scrollableContainerRef.nativeElement;return{x:a.scrollLeft,y:a.scrollTop}}const t=this.document.documentElement.getBoundingClientRect();return{x:-t.left||this.document.body.scrollLeft||this.window.scrollX||this.document.documentElement.scrollLeft||0,y:-t.top||this.document.body.scrollTop||this.window.scrollY||this.document.documentElement.scrollTop||0}}registerAsOverlayContainer(){this.overlayContainer.setContainer&&this.overlayContainer.setContainer(this.elementRef.nativeElement)}unregisterAsOverlayContainer(){this.overlayContainer.clearContainer&&this.overlayContainer.clearContainer()}scroll(t=null,r=null){const{x:i,y:a}=this.getScrollPosition();if(t=t??i,r=r??a,du(this.platformId))if(this.withScrollValue){const o=this.scrollableContainerRef.nativeElement;o.scrollTo?o.scrollTo(t,r):(o.scrollLeft=t,o.scrollTop=r)}else this.window.scrollTo(t,r)}blockScroll(){if(this.isScrollBlocked)return;this.isScrollBlocked=!0,this.renderer.addClass(this.document.documentElement,this.scrollBlockClass);const t=this.scrollableContainerRef.nativeElement,r=this.layoutContainerRef.nativeElement,i=r.clientWidth;this.scrollableContainerOverflowOldValue=t.style.overflow,t.style.overflow="hidden";const o=r.clientWidth-i;!o||(this.layoutPaddingOldValue={left:r.style.paddingLeft,right:r.style.paddingRight},this.layoutDirectionService.isLtr()?r.style.paddingRight=`${o}px`:r.style.paddingLeft=`${o}px`)}enableScroll(){if(this.isScrollBlocked&&(this.isScrollBlocked=!1,this.renderer.removeClass(this.document.documentElement,this.scrollBlockClass),this.scrollableContainerRef.nativeElement.style.overflow=this.scrollableContainerOverflowOldValue,this.layoutPaddingOldValue)){const t=this.layoutContainerRef.nativeElement;t.style.paddingLeft=this.layoutPaddingOldValue.left,t.style.paddingRight=this.layoutPaddingOldValue.right,this.layoutPaddingOldValue=null}}}return e.\u0275fac=function(t){return new(t||e)(D(mD),D(Yz),D(He),D(Ir),D(Pg),D(xa),D(ec),D(zs),D(Ru),D(Iy),D(xB),D(Lg))},e.\u0275cmp=J({type:e,selectors:[["nb-layout"]],viewQuery:function(t,r){if(1&t&&(Br(Y1e,5,wr),Br(X1e,7,He),Br(q1e,5,He)),2&t){let i;nt(i=rt())&&(r.veryTopRef=i.first),nt(i=rt())&&(r.scrollableContainerRef=i.first),nt(i=rt())&&(r.layoutContainerRef=i.first)}},hostVars:6,hostBindings:function(t,r){1&t&&re("scroll",function(a){return r.onScroll(a)},0,OS)("resize",function(a){return r.onResize(a)},!1,OS),2&t&&_e("window-mode",r.windowModeValue)("with-scroll",r.withScrollValue)("with-subheader",r.withSubheader)},inputs:{center:"center",windowMode:"windowMode",withScroll:"withScroll",restoreScrollTop:"restoreScrollTop"},ngContentSelectors:K1e,decls:12,vars:2,consts:[[1,"scrollable-container",3,"scroll"],["scrollableContainer",""],[1,"layout"],["layoutContainer",""],[1,"layout-container"],[1,"content"],[1,"columns"]],template:function(t,r){1&t&&(Mt(Z1e),B(0,"div",0,1),re("scroll",function(a){return r.onScroll(a)}),B(2,"div",2,3),Pe(4),B(5,"div",4),Pe(6,1),B(7,"div",5),Pe(8,2),B(9,"div",6),Pe(10,3),H(),Pe(11,4),H()()()()),2&t&&(k(7),_e("center",r.centerValue))},styles:["[_nghost-%COMP%]{-webkit-font-smoothing:antialiased}[dir=ltr]   [_nghost-%COMP%]{text-align:left}[dir=rtl]   [_nghost-%COMP%]{text-align:right}[_nghost-%COMP%]   .layout[_ngcontent-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%]     nb-layout-header{display:block}[_nghost-%COMP%]     nb-layout-header nav{align-items:center;justify-content:flex-start;display:flex}[_nghost-%COMP%]     nb-layout-header.fixed{position:fixed;top:0;left:0;right:0;z-index:1040}[_nghost-%COMP%]   .layout-container[_ngcontent-%COMP%]{display:flex;flex:1;-ms-flex:1 1 auto;flex-direction:row}[dir=ltr]   [_nghost-%COMP%]   .layout-container[_ngcontent-%COMP%]     nb-sidebar.left{order:0}[dir=rtl]   [_nghost-%COMP%]   .layout-container[_ngcontent-%COMP%]     nb-sidebar.left{order:2}[dir=ltr]   [_nghost-%COMP%]   .layout-container[_ngcontent-%COMP%]     nb-sidebar.right{order:2}[dir=rtl]   [_nghost-%COMP%]   .layout-container[_ngcontent-%COMP%]     nb-sidebar.right{order:0}[_nghost-%COMP%]   .layout-container[_ngcontent-%COMP%]     nb-sidebar.end{order:2}[_nghost-%COMP%]   .layout-container[_ngcontent-%COMP%]     nb-sidebar .fixed{position:fixed;width:100%;overflow-y:auto;height:100%}[_nghost-%COMP%]   .layout-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;flex:1;-ms-flex:1 1 auto;flex-direction:column;min-width:0}[_nghost-%COMP%]   .layout-container[_ngcontent-%COMP%]   .content.center[_ngcontent-%COMP%]{max-width:100%;position:relative;margin-left:auto;margin-right:auto}[_nghost-%COMP%]   .layout-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .columns[_ngcontent-%COMP%]{display:flex;flex:1;-ms-flex:1 1 auto;flex-direction:row;width:100%}[_nghost-%COMP%]   .layout-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .columns[_ngcontent-%COMP%]     nb-layout-column{order:1;flex:1 0;min-width:0}[dir=ltr]   [_nghost-%COMP%]   .layout-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .columns[_ngcontent-%COMP%]     nb-layout-column.left{order:0}[dir=rtl]   [_nghost-%COMP%]   .layout-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .columns[_ngcontent-%COMP%]     nb-layout-column.left{order:2}[_nghost-%COMP%]   .layout-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .columns[_ngcontent-%COMP%]     nb-layout-column.start{order:0}[_nghost-%COMP%]   .layout-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]     nb-layout-footer{display:block;margin-top:auto}[_nghost-%COMP%]   .layout-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]     nb-layout-footer nav{justify-content:center;display:flex}"]}),e})(),MB=(()=>{class e{set left(t){this.leftValue=me(t),this.startValue=!1}set start(t){this.startValue=me(t),this.leftValue=!1}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=J({type:e,selectors:[["nb-layout-column"]],hostVars:4,hostBindings:function(t,r){2&t&&_e("left",r.leftValue)("start",r.startValue)},inputs:{left:"left",start:"start"},ngContentSelectors:ii,decls:1,vars:0,template:function(t,r){1&t&&(Mt(),Pe(0))},encapsulation:2}),e})(),TB=(()=>{class e{constructor(t){this.layout=t}set fixed(t){this.fixedValue=me(t)}set subheader(t){this.subheaderValue=me(t),this.fixedValue=!1,this.layout.withSubheader=this.subheaderValue}}return e.\u0275fac=function(t){return new(t||e)(D(DD))},e.\u0275cmp=J({type:e,selectors:[["nb-layout-header"]],hostVars:4,hostBindings:function(t,r){2&t&&_e("fixed",r.fixedValue)("subheader",r.subheaderValue)},inputs:{fixed:"fixed",subheader:"subheader"},ngContentSelectors:ii,decls:2,vars:2,template:function(t,r){1&t&&(Mt(),B(0,"nav"),Pe(1),H()),2&t&&_e("fixed",r.fixedValue)},encapsulation:2}),e})(),Pye=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=It({type:e}),e.\u0275inj=St({providers:[xB],imports:[Tl]}),e})();const EB=new he,AB=new Za(1),NB=new Za(1),IB=new Za(1),PB=new Za(1),OB=new Za(1),RB=new Za(1),LB=new Za(1);class ED{constructor(){this.pathMatch="full"}static getParents(n){const t=[];let r=n.parent;for(;r;)t.unshift(r),r=r.parent;return t}static isParent(n,t){return!!t.parent&&(t.parent===n||this.isParent(n,t.parent))}}let kB=(()=>{class e{addItems(t,r){AB.next({tag:r,items:t})}collapseAll(t){LB.next({tag:t})}navigateHome(t){NB.next({tag:t})}getSelectedItem(t){const r=new Xt(null);return IB.next({tag:t,listener:r}),r.asObservable()}onItemClick(){return EB.pipe(_r())}onItemSelect(){return PB.pipe(_r())}onItemHover(){return OB.pipe(_r())}onSubmenuToggle(){return RB.pipe(_r())}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})(),FB=(()=>{class e{constructor(t){this.location=t}prepareItems(t){const r=new ED;t.forEach(i=>{this.applyDefaults(i,r),this.setParent(i)})}selectFromUrl(t,r,i=!1){const a=this.findItemByUrl(t);a&&this.selectItem(a,t,i,r)}selectItem(t,r,i=!1,a){const o=this.resetSelection(r),s=i?this.collapseItems(r):[];for(const l of ED.getParents(t)){l.selected=!0,o.includes(l)||this.itemSelect(l,a);const c=!l.expanded;l.expanded=!0;const u=s.indexOf(l);-1===u&&c?this.submenuToggle(l,a):s.splice(u,1)}t.selected=!0,o.includes(t)||this.itemSelect(t,a);for(const l of s)this.submenuToggle(l,a)}collapseAll(t,r,i){const a=this.collapseItems(t,i);for(const o of a)this.submenuToggle(o,r)}onAddItem(){return AB.pipe(_r())}onNavigateHome(){return NB.pipe(_r())}onCollapseAll(){return LB.pipe(_r())}onGetSelectedItem(){return IB.pipe(_r())}itemHover(t,r){OB.next({tag:r,item:t})}submenuToggle(t,r){RB.next({tag:r,item:t})}itemSelect(t,r){PB.next({tag:r,item:t})}itemClick(t,r){EB.next({tag:r,item:t})}resetSelection(t){const r=[];for(const i of t)i.selected&&r.push(i),i.selected=!1,i.children&&r.push(...this.resetSelection(i.children));return r}collapseItems(t,r){const i=[];for(const a of t)r&&(a===r||ED.isParent(a,r))||(a.expanded&&i.push(a),a.expanded=!1,a.children&&i.push(...this.collapseItems(a.children)));return i}applyDefaults(t,r){const i={...t};Object.assign(t,r,i),t.children&&t.children.forEach(a=>{this.applyDefaults(a,r)})}setParent(t){t.children&&t.children.forEach(r=>{r.parent=t,this.setParent(r)})}findItemByUrl(t){let r;return t.some(i=>(i.children&&(r=this.findItemByUrl(i.children)),!r&&this.isSelectedInUrl(i)&&(r=i),r)),r}isSelectedInUrl(t){const r="full"===t.pathMatch,i=t.link,a=r?function Mye(e,n){return n===zy(e)}(this.location.path(),i):function Tye(e,n){const t=zy(e);return t.startsWith(n)&&-1!==t.slice(n.length).charAt(0).search(/\/|^$/)}(this.location.path(),i);return a&&null!=t.fragment?r?function Dye(e,n){return SB(e)===n}(this.location.path(!0),t.fragment):function Eye(e,n){return SB(e).includes(n)}(this.location.path(!0),t.fragment):a}}return e.\u0275fac=function(t){return new(t||e)(G(I0))},e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})(),By=(()=>{class e{constructor(t){this.statusService=t,this.text="",this._defaultPosition="top right",this._position=this._defaultPosition,this.status="basic"}get position(){return this._position}set position(t){this._position=t||this._defaultPosition}get dotMode(){return this._dotMode}set dotMode(t){this._dotMode=me(t)}get additionalClasses(){return this.statusService.isCustomStatus(this.status)?[this.statusService.getStatusClass(this.status)]:[]}get primary(){return"primary"===this.status}get success(){return"success"===this.status}get info(){return"info"===this.status}get warning(){return"warning"===this.status}get danger(){return"danger"===this.status}get basic(){return"basic"===this.status}get control(){return"control"===this.status}get top(){return this.position.includes("top")}get right(){return this.position.includes("right")}get bottom(){return this.position.includes("bottom")}get left(){return this.position.includes("left")}get start(){return this.position.includes("start")}get end(){return this.position.includes("end")}get center(){return this.position.includes("center")}}return e.\u0275fac=function(t){return new(t||e)(D(Ja))},e.\u0275cmp=J({type:e,selectors:[["nb-badge"]],hostVars:32,hostBindings:function(t,r){2&t&&(Ya(r.additionalClasses),_e("dot-mode",r.dotMode)("status-primary",r.primary)("status-success",r.success)("status-info",r.info)("status-warning",r.warning)("status-danger",r.danger)("status-basic",r.basic)("status-control",r.control)("position-top",r.top)("position-right",r.right)("position-bottom",r.bottom)("position-left",r.left)("position-start",r.start)("position-end",r.end)("position-center",r.center))},inputs:{text:"text",position:"position",dotMode:"dotMode",status:"status"},decls:1,vars:1,template:function(t,r){1&t&&ae(0),2&t&&Ht(r.dotMode?"":r.text)},styles:["[_nghost-%COMP%]{position:absolute;text-align:center;white-space:nowrap;vertical-align:baseline}.position-top[_nghost-%COMP%]{top:0}.position-right[_nghost-%COMP%]{right:0}.position-bottom[_nghost-%COMP%]{bottom:0}.position-left[_nghost-%COMP%]{left:0}.position-center[_nghost-%COMP%]{top:50%;transform:translateY(-50%)}[dir=ltr]   .position-start[_nghost-%COMP%]{left:0}[dir=rtl]   .position-start[_nghost-%COMP%]{right:0}[dir=ltr]   .position-end[_nghost-%COMP%]{right:0}[dir=rtl]   .position-end[_nghost-%COMP%]{left:0}"]}),e})();var ts=(()=>{return(e=ts||(ts={})).Expanded="expanded",e.Collapsed="collapsed",ts;var e})();let zB=(()=>{class e{constructor(t,r){this.menuService=t,this.directionService=r,this.menuItem=null,this.hoverItem=new Ae,this.toggleSubMenu=new Ae,this.selectItem=new Ae,this.itemClick=new Ae,this.destroy$=new he}ngDoCheck(){this.toggleState=this.menuItem.expanded?ts.Expanded:ts.Collapsed}ngAfterViewInit(){this.menuService.onSubmenuToggle().pipe(Re(({item:t})=>t===this.menuItem),Ce(({item:t})=>t.expanded),ee(this.destroy$)).subscribe(t=>this.toggleState=t?ts.Expanded:ts.Collapsed)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onToggleSubMenu(t){this.toggleSubMenu.emit(t)}onHoverItem(t){this.hoverItem.emit(t)}onSelectItem(t){this.selectItem.emit(t)}onItemClick(t){this.itemClick.emit(t)}getExpandStateIcon(){return this.menuItem.expanded?"chevron-down-outline":this.directionService.isLtr()?"chevron-left-outline":"chevron-right-outline"}}return e.\u0275fac=function(t){return new(t||e)(D(kB),D(zs))},e.\u0275cmp=J({type:e,selectors:[["","nbMenuItem",""]],inputs:{menuItem:"menuItem",badge:"badge"},outputs:{hoverItem:"hoverItem",toggleSubMenu:"toggleSubMenu",selectItem:"selectItem",itemClick:"itemClick"},attrs:Q1e,decls:8,vars:6,consts:[[4,"ngIf"],[3,"routerLink","queryParams","fragment","queryParamsHandling","preserveFragment","skipLocationChange","active","mouseenter","click",4,"ngIf"],[3,"active","mouseenter","click",4,"ngIf"],["href","#",3,"active","click","mouseenter",4,"ngIf"],["class","menu-items",3,"collapsed","expanded",4,"ngIf"],["badgeTemplate",""],["class","menu-icon",3,"config",4,"ngIf"],[1,"menu-icon",3,"config"],[3,"routerLink","queryParams","fragment","queryParamsHandling","preserveFragment","skipLocationChange","mouseenter","click"],[1,"menu-title"],[3,"ngTemplateOutlet",4,"ngIf"],[3,"ngTemplateOutlet"],[3,"mouseenter","click"],["href","#",3,"click","mouseenter"],["pack","nebular-essentials",1,"expand-state",3,"icon"],[1,"menu-items"],[4,"ngFor","ngForOf"],["nbMenuItem","","class","menu-item",3,"menuItem","badge","menu-group","hoverItem","toggleSubMenu","selectItem","itemClick",4,"ngIf"],["nbMenuItem","",1,"menu-item",3,"menuItem","badge","hoverItem","toggleSubMenu","selectItem","itemClick"],[3,"text","dotMode","status"]],template:function(t,r){1&t&&($(0,eme,3,2,"span",0),$(1,rme,5,14,"a",1),$(2,ome,5,9,"a",2),$(3,cme,5,8,"a",2),$(4,dme,6,10,"a",3),$(5,gme,2,6,"ul",4),$(6,mme,1,3,"ng-template",null,5,Ca)),2&t&&(O("ngIf",r.menuItem.group),k(1),O("ngIf",r.menuItem.link&&!r.menuItem.url&&!r.menuItem.children&&!r.menuItem.group),k(1),O("ngIf",r.menuItem.url&&!r.menuItem.children&&!r.menuItem.link&&!r.menuItem.group),k(1),O("ngIf",!(r.menuItem.children||r.menuItem.link||r.menuItem.url||r.menuItem.group)),k(1),O("ngIf",r.menuItem.children),k(1),O("ngIf",r.menuItem.children))},dependencies:[Li,Ut,nc,yg,xr,By,e],encapsulation:2,data:{animation:[__("toggle",[Wd(ts.Collapsed,es({height:"0",margin:"0"})),Wd(ts.Expanded,es({height:"*"})),gu(`${ts.Collapsed} <=> ${ts.Expanded}`,pu(300))])]}}),e})(),BB=(()=>{class e{constructor(t,r,i,a){this.window=t,this.platformId=r,this.menuInternalService=i,this.router=a,this._autoCollapse=!1,this.destroy$=new he}get autoCollapse(){return this._autoCollapse}set autoCollapse(t){this._autoCollapse=me(t)}ngOnInit(){this.menuInternalService.prepareItems(this.items),this.menuInternalService.onAddItem().pipe(Re(t=>this.compareTag(t.tag)),ee(this.destroy$)).subscribe(t=>this.onAddItem(t)),this.menuInternalService.onNavigateHome().pipe(Re(t=>this.compareTag(t.tag)),ee(this.destroy$)).subscribe(()=>this.navigateHome()),this.menuInternalService.onGetSelectedItem().pipe(Re(t=>this.compareTag(t.tag)),ee(this.destroy$)).subscribe(t=>{t.listener.next({tag:this.tag,item:this.getSelectedItem(this.items)})}),this.menuInternalService.onCollapseAll().pipe(Re(t=>this.compareTag(t.tag)),ee(this.destroy$)).subscribe(()=>this.collapseAll()),this.router.events.pipe(Re(t=>t instanceof xl),ee(this.destroy$)).subscribe(()=>{this.menuInternalService.selectFromUrl(this.items,this.tag,this.autoCollapse)})}ngAfterViewInit(){setTimeout(()=>this.menuInternalService.selectFromUrl(this.items,this.tag,this.autoCollapse))}onAddItem(t){this.items.push(...t.items),this.menuInternalService.prepareItems(this.items),this.menuInternalService.selectFromUrl(this.items,this.tag,this.autoCollapse)}onHoverItem(t){this.menuInternalService.itemHover(t,this.tag)}onToggleSubMenu(t){this.autoCollapse&&this.menuInternalService.collapseAll(this.items,this.tag,t),t.expanded=!t.expanded,this.menuInternalService.submenuToggle(t,this.tag)}onSelectItem(t){this.menuInternalService.selectItem(t,this.items,this.autoCollapse,this.tag)}onItemClick(t){this.menuInternalService.itemClick(t,this.tag)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}navigateHome(){const t=this.getHomeItem(this.items);t&&(t.link&&this.router.navigate([t.link],{queryParams:t.queryParams,queryParamsHandling:t.queryParamsHandling,fragment:t.fragment,preserveFragment:t.preserveFragment}),t.url&&du(this.platformId)&&(this.window.location.href=t.url))}collapseAll(){this.menuInternalService.collapseAll(this.items,this.tag)}getHomeItem(t){for(const r of t){if(r.home)return r;const i=r.children&&this.getHomeItem(r.children);if(i)return i}}compareTag(t){return!t||t===this.tag}getSelectedItem(t){let r=null;return t.forEach(i=>{i.selected&&(r=i),i.selected&&i.children&&i.children.length>0&&(r=this.getSelectedItem(i.children))}),r}}return e.\u0275fac=function(t){return new(t||e)(D(Pg),D(ec),D(FB),D(Fi))},e.\u0275cmp=J({type:e,selectors:[["nb-menu"]],inputs:{tag:"tag",items:"items",autoCollapse:"autoCollapse"},decls:2,vars:1,consts:[[1,"menu-items"],[4,"ngFor","ngForOf"],["nbMenuItem","","class","menu-item",3,"menuItem","badge","menu-group","hoverItem","toggleSubMenu","selectItem","itemClick",4,"ngIf"],["nbMenuItem","",1,"menu-item",3,"menuItem","badge","hoverItem","toggleSubMenu","selectItem","itemClick"]],template:function(t,r){1&t&&(B(0,"ul",0),$(1,_me,2,1,"ng-container",1),H()),2&t&&(k(1),O("ngForOf",r.items))},dependencies:[Li,Ut,zB],styles:["[_nghost-%COMP%]    {display:block}[_nghost-%COMP%]     .menu-items, [_nghost-%COMP%]     .menu-item>.menu-items{list-style-type:none;overflow:hidden}[_nghost-%COMP%]     .menu-item a{display:flex;text-decoration:none;align-items:center}[_nghost-%COMP%]     .menu-item a .menu-title{flex:1 0 auto;pointer-events:none}[dir=rtl]   [_nghost-%COMP%]     .menu-item a .menu-title{text-align:right}[_nghost-%COMP%]     .menu-item nb-badge{position:static}[_nghost-%COMP%]     .menu-group span{display:flex}"]}),e})(),Oye=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=It({type:e}),e.\u0275inj=St({}),e})();const Rye=[kB,FB];let Lye=(()=>{class e{static forRoot(){return{ngModule:e,providers:[...Rye]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=It({type:e}),e.\u0275inj=St({imports:[Tl,Fg,Oye]}),e})();const VB=new he,HB=new he;let UB=(()=>{class e{constructor(){this.toggle$=new he,this.expand$=new he,this.collapse$=new he,this.compact$=new he}onToggle(){return this.toggle$.pipe(_r())}onExpand(){return this.expand$.pipe(_r())}onCollapse(){return this.collapse$.pipe(_r())}onCompact(){return this.compact$.pipe(_r())}toggle(t=!1,r){this.toggle$.next({compact:t,tag:r})}expand(t){this.expand$.next({tag:t})}collapse(t){this.collapse$.next({tag:t})}compact(t){this.compact$.next({tag:t})}getSidebarState(t){const r=new Za(1);return VB.next({observer:r,tag:t}),r.pipe(F8(),rg())}getSidebarResponsiveState(t){const r=new Za;return HB.next({observer:r,tag:t}),r.pipe(F8(),rg())}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})(),GB=(()=>{class e{constructor(t,r,i,a){this.sidebarService=t,this.themeService=r,this.element=i,this.cd=a,this.responsiveValueChange$=new he,this.responsiveState="pc",this.destroy$=new he,this.containerFixedValue=!0,this.fixedValue=!1,this.rightValue=!1,this.leftValue=!0,this.startValue=!1,this.endValue=!1,this._state="expanded",this._responsive=!1,this.compactedBreakpoints=["xs","is","sm","md","lg"],this.collapsedBreakpoints=["xs","is"],this.stateChange=new Ae,this.responsiveStateChange=new Ae}get expanded(){return"expanded"===this.state}get collapsed(){return"collapsed"===this.state}get compacted(){return"compacted"===this.state}set right(t){this.rightValue=me(t),this.leftValue=!this.rightValue,this.startValue=!1,this.endValue=!1}set left(t){this.leftValue=me(t),this.rightValue=!this.leftValue,this.startValue=!1,this.endValue=!1}set start(t){this.startValue=me(t),this.endValue=!this.startValue,this.leftValue=!1,this.rightValue=!1}set end(t){this.endValue=me(t),this.startValue=!this.endValue,this.leftValue=!1,this.rightValue=!1}set fixed(t){this.fixedValue=me(t)}set containerFixed(t){this.containerFixedValue=me(t)}get state(){return this._state}set state(t){this._state=t}get responsive(){return this._responsive}set responsive(t){this.responsive!==me(t)&&(this._responsive=!this.responsive,this.responsiveValueChange$.next(this.responsive))}ngOnInit(){this.sidebarService.onToggle().pipe(Re(({tag:t})=>!this.tag||this.tag===t),ee(this.destroy$)).subscribe(({compact:t})=>this.toggle(t)),this.sidebarService.onExpand().pipe(Re(({tag:t})=>!this.tag||this.tag===t),ee(this.destroy$)).subscribe(()=>this.expand()),this.sidebarService.onCollapse().pipe(Re(({tag:t})=>!this.tag||this.tag===t),ee(this.destroy$)).subscribe(()=>this.collapse()),this.sidebarService.onCompact().pipe(Re(({tag:t})=>!this.tag||this.tag===t),ee(this.destroy$)).subscribe(()=>this.compact()),VB.pipe(Re(({tag:t})=>!this.tag||this.tag===t),ee(this.destroy$)).subscribe(({observer:t})=>t.next(this.state)),HB.pipe(Re(({tag:t})=>!this.tag||this.tag===t),ee(this.destroy$)).subscribe(({observer:t})=>t.next(this.responsiveState)),this.responsiveValueChange$.pipe(Re(t=>!t),ee(this.destroy$)).subscribe(()=>this.expand()),this.subscribeToMediaQueryChange()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onClick(t){const r=this.element.nativeElement.querySelector("nb-menu");if(r&&r.contains(t.target)){const i=this.getMenuLink(t.target);i&&i.nextElementSibling&&i.nextElementSibling.classList.contains("menu-items")&&this.sidebarService.expand(this.tag)}}collapse(){this.updateState("collapsed")}expand(){this.updateState("expanded")}compact(){this.updateState("compacted")}toggle(t=!1){this.responsive&&"mobile"===this.responsiveState&&(t=!1),this.updateState("compacted"===this.state||"collapsed"===this.state?"expanded":t?"compacted":"collapsed")}subscribeToMediaQueryChange(){Cu([this.responsiveValueChange$.pipe(Ka(this.responsive)),this.themeService.onMediaQueryChange()]).pipe(Re(([t])=>t),Ce(([,t])=>t),ee(this.destroy$)).subscribe(([t,r])=>{const i=this.collapsedBreakpoints.includes(r.name),a=this.compactedBreakpoints.includes(r.name);let o;a&&(this.fixed=this.containerFixedValue,this.compact(),o="tablet"),i&&(this.fixed=!0,this.collapse(),o="mobile"),!i&&!a&&(!t.width||t.width<r.width)&&(this.expand(),this.fixed=!1,o="pc"),o&&o!==this.responsiveState&&(this.responsiveState=o,this.responsiveStateChange.emit(this.responsiveState),this.cd.markForCheck())})}getMenuLink(t){if(t&&"nb-menu"!==t.tagName.toLowerCase())return"a"===t.tagName.toLowerCase()?t:this.getMenuLink(t.parentElement)}updateState(t){this.state!==t&&(this.state=t,this.stateChange.emit(this.state),this.cd.markForCheck())}}return e.\u0275fac=function(t){return new(t||e)(D(UB),D(mD),D(He),D(un))},e.\u0275cmp=J({type:e,selectors:[["nb-sidebar"]],hostVars:16,hostBindings:function(t,r){2&t&&_e("fixed",r.fixedValue)("right",r.rightValue)("left",r.leftValue)("start",r.startValue)("end",r.endValue)("expanded",r.expanded)("collapsed",r.collapsed)("compacted",r.compacted)},inputs:{right:"right",left:"left",start:"start",end:"end",fixed:"fixed",containerFixed:"containerFixed",state:"state",responsive:"responsive",tag:"tag",compactedBreakpoints:"compactedBreakpoints",collapsedBreakpoints:"collapsedBreakpoints"},outputs:{stateChange:"stateChange",responsiveStateChange:"responsiveStateChange"},ngContentSelectors:Tme,decls:5,vars:2,consts:[[1,"main-container"],[1,"scrollable",3,"click"]],template:function(t,r){1&t&&(Mt(Mme),B(0,"div",0),Pe(1),B(2,"div",1),re("click",function(a){return r.onClick(a)}),Pe(3,1),H(),Pe(4,2),H()),2&t&&_e("main-container-fixed",r.containerFixedValue)},styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;overflow:hidden;z-index:auto;order:0}[_nghost-%COMP%]   .scrollable[_ngcontent-%COMP%]{overflow-y:auto;overflow-x:hidden;flex:1}[_nghost-%COMP%]   .main-container[_ngcontent-%COMP%]{transform:translateZ(0);display:flex;flex-direction:column}[_nghost-%COMP%]   .main-container-fixed[_ngcontent-%COMP%]{position:fixed}.right[_nghost-%COMP%]{margin-right:0;margin-left:auto}[dir=ltr]   .right[_nghost-%COMP%]{order:4}[dir=rtl]   .right[_nghost-%COMP%]{order:0}.end[_nghost-%COMP%]{order:4}[dir=ltr]   .end[_nghost-%COMP%]{margin-right:0;margin-left:auto}[dir=rtl]   .end[_nghost-%COMP%]{margin-left:0;margin-right:auto}.fixed[_nghost-%COMP%]{position:fixed;height:100%;z-index:999;top:0;bottom:0;left:0}.fixed.right[_nghost-%COMP%]{right:0}[dir=ltr]   .fixed.start[_nghost-%COMP%]{left:0}[dir=rtl]   .fixed.start[_nghost-%COMP%]{right:0}[dir=ltr]   .fixed.end[_nghost-%COMP%]{right:0}[dir=rtl]   .fixed.end[_nghost-%COMP%]{left:0}[_nghost-%COMP%]     nb-sidebar-footer{margin-top:auto;display:block}[_nghost-%COMP%]     nb-sidebar-header{display:block}"],changeDetection:0}),e})();const zye=[UB];let Bye=(()=>{class e{static forRoot(){return{ngModule:e,providers:[...zye]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=It({type:e}),e.\u0275inj=St({imports:[Tl]}),e})(),Vy=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})(),Hy=(()=>{class e{constructor(t,r,i,a,o){this.elementRef=t,this.focusMonitor=r,this.renderer=i,this.zone=a,this.statusService=o,this.destroy$=new he,this.fieldSize="medium",this.status="basic",this.shape="rectangle",this._fullWidth=!1,this.status$=new Xt(this.status),this.size$=new Xt(this.fieldSize),this.focused$=new Xt(!1),this.disabled$=new Xt(!1),this.fullWidth$=new Xt(this.fullWidth)}get fullWidth(){return this._fullWidth}set fullWidth(t){this._fullWidth=me(t)}get additionalClasses(){return this.statusService.isCustomStatus(this.status)?[this.statusService.getStatusClass(this.status)]:[]}ngDoCheck(){const t=this.elementRef.nativeElement.disabled;t!==this.disabled$.value&&this.disabled$.next(t)}ngOnChanges({status:t,fieldSize:r,fullWidth:i}){t&&this.status$.next(this.status),r&&this.size$.next(this.fieldSize),i&&this.fullWidth$.next(this.fullWidth)}ngOnInit(){this.focusMonitor.monitor(this.elementRef).pipe(Ce(t=>!!t),wu(()=>this.focusMonitor.stopMonitoring(this.elementRef)),ee(this.destroy$)).subscribe(this.focused$)}ngAfterViewInit(){this.zone.runOutsideAngular(()=>setTimeout(()=>{this.renderer.addClass(this.elementRef.nativeElement,"nb-transition")}))}ngOnDestroy(){this.destroy$.next()}get tiny(){return"tiny"===this.fieldSize}get small(){return"small"===this.fieldSize}get medium(){return"medium"===this.fieldSize}get large(){return"large"===this.fieldSize}get giant(){return"giant"===this.fieldSize}get primary(){return"primary"===this.status}get info(){return"info"===this.status}get success(){return"success"===this.status}get warning(){return"warning"===this.status}get danger(){return"danger"===this.status}get basic(){return"basic"===this.status}get control(){return"control"===this.status}get rectangle(){return"rectangle"===this.shape}get semiRound(){return"semi-round"===this.shape}get round(){return"round"===this.shape}}return e.\u0275fac=function(t){return new(t||e)(D(He),D(Py),D(Ir),D(it),D(Ja))},e.\u0275dir=K({type:e,selectors:[["input","nbInput",""],["textarea","nbInput",""]],hostVars:34,hostBindings:function(t,r){2&t&&(Ya(r.additionalClasses),_e("input-full-width",r.fullWidth)("size-tiny",r.tiny)("size-small",r.small)("size-medium",r.medium)("size-large",r.large)("size-giant",r.giant)("status-primary",r.primary)("status-info",r.info)("status-success",r.success)("status-warning",r.warning)("status-danger",r.danger)("status-basic",r.basic)("status-control",r.control)("shape-rectangle",r.rectangle)("shape-semi-round",r.semiRound)("shape-round",r.round))},inputs:{fieldSize:"fieldSize",status:"status",shape:"shape",fullWidth:"fullWidth"},features:[Me([{provide:Vy,useExisting:e}]),on]}),e})(),Yye=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=It({type:e}),e.\u0275inj=St({imports:[Tl]}),e})();new te("Nebular Stepper Component"),__("accordionItemBody",[Wd("collapsed",es({overflow:"hidden",visibility:"hidden",height:0})),Wd("expanded",es({overflow:"hidden",visibility:"visible"})),gu("collapsed => expanded",pu("100ms ease-in")),gu("expanded => collapsed",pu("100ms ease-out"))]);const e9=new te("NB_BUTTON_GROUP");let t9=(()=>{class e extends zg{constructor(t,r,i,a,o,s){super(t,r,i,a,o),this.renderer=t,this.hostElement=r,this.cd=i,this.zone=a,this.statusService=o,this.buttonGroup=s,this._pressedChange$=new he,this.appearance="filled",this._pressed=!1,this.pressedChange=new Ae}get pressedChange$(){return this._pressedChange$.asObservable()}get pressed(){return this._pressed}set pressed(t){this.pressed!==me(t)&&(this._pressed=!this.pressed,this.pressedChange.emit(this.pressed),this._pressedChange$.next({source:this,pressed:this.pressed}))}get basic(){return!this.pressed}get primary(){return this.pressed&&("basic"===this.status||"primary"===this.status)}get success(){return this.pressed&&"success"===this.status}get info(){return this.pressed&&"info"===this.status}get warning(){return this.pressed&&"warning"===this.status}get danger(){return this.pressed&&"danger"===this.status}get control(){return this.pressed&&"control"===this.status}get additionalClasses(){return this.statusService.isCustomStatus(this.status)?[this.statusService.getStatusClass(this.status)]:[]}onClick(){(this.buttonGroup?.multiple||!this.pressed)&&(this.pressed=!this.pressed)}_updatePressed(t){this.pressed=t,this.cd.markForCheck()}}return e.\u0275fac=function(t){return new(t||e)(D(Ir),D(He),D(un),D(it),D(Ja),D(e9,8))},e.\u0275dir=K({type:e,selectors:[["button","nbButtonToggle",""]],hostVars:17,hostBindings:function(t,r){1&t&&re("click",function(){return r.onClick()}),2&t&&(Wn("aria-pressed",r.pressed),Ya(r.additionalClasses),_e("status-basic",r.basic)("status-primary",r.primary)("status-success",r.success)("status-info",r.info)("status-warning",r.warning)("status-danger",r.danger)("status-control",r.control))},inputs:{appearance:"appearance",value:"value",pressed:"pressed"},outputs:{pressedChange:"pressedChange"},exportAs:["nbButtonToggle"],features:[Me([{provide:zg,useExisting:e}]),ge]}),e})(),Jye=(()=>{class e{constructor(t,r){this.cd=t,this.statusService=r,this.lastEmittedValue=[],this.destroy$=new he,this.buttonsChange$=new he,this.size="medium",this.status="basic",this.shape="rectangle",this.appearance="filled",this._disabled=!1,this._multiple=!1,this.valueChange=new Ae,this.role="group"}get disabled(){return this._disabled}set disabled(t){this.disabled!==me(t)&&(this._disabled=!this.disabled)}get multiple(){return this._multiple}set multiple(t){this._multiple=me(t)}get filled(){return"filled"===this.appearance}set filled(t){me(t)&&(this.appearance="filled")}get outline(){return"outline"===this.appearance}set outline(t){me(t)&&(this.appearance="outline")}get ghost(){return"ghost"===this.appearance}set ghost(t){me(t)&&(this.appearance="ghost")}get additionalClasses(){return this.statusService.isCustomStatus(this.status)?[this.statusService.getStatusClass(this.status)]:[]}ngOnChanges({size:t,status:r,shape:i,multiple:a,filled:o,outline:s,ghost:l,disabled:c}){(t||r||i||a||o||s||l||c)&&this.syncButtonsProperties(this.buttons?.toArray()||[])}ngAfterContentInit(){this.buttonsChange$.pipe(ee(this.destroy$)).subscribe(t=>{this.listenButtonPressedState(t),this.syncButtonsProperties(t)}),this.buttons.changes.pipe(tr(t=>Qn(Promise.resolve(t.toArray()))),ee(this.destroy$)).subscribe(this.buttonsChange$),this.buttonsChange$.next(this.buttons.toArray())}listenButtonPressedState(t){const r=t.filter(a=>a instanceof t9);if(!r.length)return;const i=r.map(a=>a.pressedChange$);fi(...i).pipe(Re(({pressed:a})=>!this.multiple&&a),ee(fi(this.buttonsChange$,this.destroy$))).subscribe(({source:a})=>{r.filter(o=>o!==a).forEach(o=>o._updatePressed(!1))}),fi(...i).pipe(Ka(""),qd(0),ee(fi(this.buttonsChange$,this.destroy$))).subscribe(()=>this.emitCurrentValue(r))}syncButtonsProperties(t){t.forEach(r=>{r.updateProperties({appearance:this.appearance,size:this.size,status:this.status,shape:this.shape,disabled:this.disabled})})}emitCurrentValue(t){const r=t.filter(i=>i.pressed&&typeof i.value<"u").map(i=>i.value);0===r.length&&0===this.lastEmittedValue.length||(this.valueChange.emit(r),this.lastEmittedValue=r)}}return e.\u0275fac=function(t){return new(t||e)(D(un),D(Ja))},e.\u0275cmp=J({type:e,selectors:[["nb-button-group"]],contentQueries:function(t,r,i){if(1&t&&fn(i,zg,4),2&t){let a;nt(a=rt())&&(r.buttons=a)}},hostVars:3,hostBindings:function(t,r){2&t&&(Wn("role",r.role),Ya(r.additionalClasses))},inputs:{size:"size",status:"status",shape:"shape",appearance:"appearance",disabled:"disabled",multiple:"multiple",filled:"filled",outline:"outline",ghost:"ghost"},outputs:{valueChange:"valueChange"},features:[Me([{provide:e9,useExisting:e}]),on],ngContentSelectors:ii,decls:1,vars:0,template:function(t,r){1&t&&(Mt(),Pe(0))},encapsulation:2,changeDetection:0}),e})(),e2e=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=It({type:e}),e.\u0275inj=St({}),e})(),PD=(()=>{class e extends Au{}return e.\u0275fac=function(){let n;return function(r){return(n||(n=ot(e)))(r||e)}}(),e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})(),n2e=(()=>{class e extends wy{}return e.\u0275fac=function(){let n;return function(r){return(n||(n=ot(e)))(r||e)}}(),e.\u0275mod=It({type:e}),e.\u0275inj=St({providers:[{provide:PD,useExisting:Au}]}),e})();new te("NB_SORT_HEADER_COLUMN_DEF");class r2e extends Zge{}let S9=(()=>{class e extends f1e{}return e.\u0275fac=function(){let n;return function(r){return(n||(n=ot(e)))(r||e)}}(),e.\u0275mod=It({type:e}),e.\u0275inj=St({imports:[n2e]}),e})();new te("Default dialog options"),es({transform:"translateX({{ direction }}110%)",height:0,marginLeft:"0",marginRight:"0",marginTop:"0",marginBottom:"0"}),new te("Default toastr options"),new te("NB_SELECT_INJECTION_TOKEN"),new te("Nebular Window Content"),new te("Nebular Window Config"),new te("Nebular Window Context");class D9{constructor(n,t,r,i){this.data=n,this.children=t,this.expanded=r,this.level=i}hasChildren(){return!!this.children&&!!this.children.length}}let E9=(()=>{class e{filter(t,r){return t?r.reduce((i,a)=>{let o;return a.children&&(o=this.filter(t,a.children),a.children=o),a.expanded=!1,o&&o.length?(a.expanded=!0,i.push(a)):this.filterPredicate(a.data,t)&&i.push(a),i},[]):r}filterPredicate(t,r){const i=r.trim().toLocaleLowerCase();for(const a of Object.values(t))if(`${a}`.trim().toLocaleLowerCase().includes(i))return!0;return!1}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})();var Mo=(()=>{return(e=Mo||(Mo={})).ASCENDING="asc",e.DESCENDING="desc",e.NONE="",Mo;var e})();let P9=(()=>{class e{sort(t,r){if(!t)return r;const i=r.sort((a,o)=>this.comparator(t,a,o));for(const a of r)a.children&&(a.children=this.sort(t,a.children));return i}comparator(t,r,i){const a=t.column,s=r.data[a],l=i.data[a];let c=0;return s>l&&(c=1),s<l&&(c=-1),t.direction===Mo.ASCENDING?c:-1*c}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})(),O9=(()=>{class e{expand(t,r,i={}){const a=this.find(t,r);a.expanded=!0,i.deep&&a.hasChildren()&&a.children.forEach(o=>this.expand(t,o.data,i))}collapse(t,r,i={}){const a=this.find(t,r);a.expanded=!1,i.deep&&a.hasChildren()&&a.children.forEach(o=>this.collapse(t,o.data,i))}toggle(t,r,i={}){this.find(t,r).expanded?this.collapse(t,r,i):this.expand(t,r,i)}find(t,r){const i=[...t];for(const a of i){if(a.data===r)return a;a.hasChildren()&&i.push(...a.children)}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})(),R9=(()=>{class e{constructor(){this.defaultGetters={dataGetter:t=>t.data,childrenGetter:t=>t.children||void 0,expandedGetter:t=>!!t.expanded}}toPresentationNodes(t,r,i=0){const a={...this.defaultGetters,...r};return this.mapNodes(t,a,i)}mapNodes(t,r,i){const{dataGetter:a,childrenGetter:o,expandedGetter:s}=r;return t.map(l=>{const c=o(l);let u;return c&&(u=this.toPresentationNodes(c,r,i+1)),new D9(a(l),u,s(l),i)})}flattenExpanded(t){return t.reduce((r,i)=>(r.push(i),i.expanded&&i.hasChildren()&&r.push(...this.flattenExpanded(i.children)),r),[])}copy(t){return t.map(r=>{let i;return r.hasChildren()&&(i=this.copy(r.children)),new D9(r.data,i,r.expanded,r.level)})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})();class L9 extends r2e{constructor(n,t,r,i){super(),this.sortService=n,this.filterService=t,this.treeGridService=r,this.treeGridDataService=i,this.renderData=new Xt([]),this.filterRequest=new Xt(""),this.sortRequest=new Xt(null)}setData(n,t){let r=[];n&&(r=this.treeGridDataService.toPresentationNodes(n,t)),this.data=new Xt(r),this.updateChangeSubscription()}connect(n){return this.renderData}disconnect(n){}expand(n){this.treeGridService.expand(this.data.value,n),this.data.next(this.data.value)}collapse(n){this.treeGridService.collapse(this.data.value,n),this.data.next(this.data.value)}toggle(n,t){this.treeGridService.toggle(this.data.value,n,t),this.data.next(this.data.value)}toggleByIndex(n,t){const r=this.renderData.value&&this.renderData.value[n];r&&this.toggle(r.data,t)}getLevel(n){const t=this.renderData.value[n];return t?t.level:0}sort(n){this.sortRequest.next(n)}filter(n){this.filterRequest.next(n)}updateChangeSubscription(){const t=Cu([this.data,this.filterRequest]).pipe(Ce(([i])=>this.treeGridDataService.copy(i)),Ce(i=>this.filterData(i)));Cu([t,this.sortRequest]).pipe(Ce(([i])=>this.sortData(i))).pipe(Ce(i=>this.treeGridDataService.flattenExpanded(i))).subscribe(i=>this.renderData.next(i))}filterData(n){return this.filterService.filter(this.filterRequest.value,n)}sortData(n){return this.sortService.sort(this.sortRequest.value,n)}}let k9=(()=>{class e{constructor(t,r,i,a){this.filterService=t,this.sortService=r,this.treeGridService=i,this.treeGridDataService=a}create(t,r){const i=new L9(this.sortService,this.filterService,this.treeGridService,this.treeGridDataService);return i.setData(t,r),i}}return e.\u0275fac=function(t){return new(t||e)(G(E9),G(P9),G(O9),G(R9))},e.\u0275prov=q({token:e,factory:e.\u0275fac}),e})();new te("NB_TREE_GRID");let G2e=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=It({type:e}),e.\u0275inj=St({providers:[P9,E9,O9,R9,k9],imports:[F0,S9,Fg,S9]}),e})();var W2e=Jt(773);class j2e extends SD{constructor(n,t){super(n,""),this.name=n,this.content=t}getContent(n){return this.content.toSvg({width:"100%",height:"100%",fill:"currentColor",...n})}}let $2e=(()=>{class e{constructor(t){this.NAME="eva",t.registerSvgPack(this.NAME,this.createIcons()),t.setDefaultPack(this.NAME)}createIcons(){return Object.entries(W2e.icons).map(([t,r])=>[t,new j2e(t,r)]).reduce((t,[r,i])=>(t[r]=i,t),{})}}return e.\u0275fac=function(t){return new(t||e)(G(xD))},e.\u0275mod=It({type:e}),e.\u0275inj=St({}),e})();var BD=function(e,n){return(BD=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])})(e,n)};function ke(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function t(){this.constructor=e}BD(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}var q2e=function e(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1},zu=new function e(){this.browser=new q2e,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"};"object"==typeof wx&&"function"==typeof wx.getSystemInfoSync?(zu.wxa=!0,zu.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?zu.worker=!0:typeof navigator>"u"?(zu.node=!0,zu.svgSupported=!0):function K2e(e,n){var t=n.browser,r=e.match(/Firefox\/([\d.]+)/),i=e.match(/MSIE\s([\d.]+)/)||e.match(/Trident\/.+?rv:(([\d.]+))/),a=e.match(/Edge?\/([\d.]+)/),o=/micromessenger/i.test(e);r&&(t.firefox=!0,t.version=r[1]),i&&(t.ie=!0,t.version=i[1]),a&&(t.edge=!0,t.version=a[1],t.newEdge=+a[1].split(".")[0]>18),o&&(t.weChat=!0),n.svgSupported=typeof SVGRect<"u",n.touchEventsSupported="ontouchstart"in window&&!t.ie&&!t.edge,n.pointerEventsSupported="onpointerdown"in window&&(t.edge||t.ie&&+t.version>=11),n.domSupported=typeof document<"u";var s=document.documentElement.style;n.transform3dSupported=(t.ie&&"transition"in s||t.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in s)&&!("OTransition"in s),n.transformSupported=n.transform3dSupported||t.ie&&+t.version>=9}(navigator.userAgent,zu);const Bt=zu;var e,n,Bu="12px sans-serif",rbe=function nbe(e){var n={};if(typeof JSON>"u")return n;for(var t=0;t<e.length;t++){var r=String.fromCharCode(t+32),i=(e.charCodeAt(t)-20)/100;n[r]=i}return n}("007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N"),ns={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:function(t,r){if(!e){var i=ns.createCanvas();e=i&&i.getContext("2d")}if(e)return n!==r&&(n=e.font=r||Bu),e.measureText(t);t=t||"";var a=/(\d+)px/.exec(r=r||Bu),o=a&&+a[1]||12,s=0;if(r.indexOf("mono")>=0)s=o*t.length;else for(var l=0;l<t.length;l++){var c=rbe[t[l]];s+=null==c?o:c*o}return{width:s}},loadImage:function(e,n,t){var r=new Image;return r.onload=n,r.onerror=t,r.src=e,r}},H9=Dl(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(e,n){return e["[object "+n+"]"]=!0,e},{}),U9=Dl(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(e,n){return e["[object "+n+"Array]"]=!0,e},{}),_f=Object.prototype.toString,Xy=Array.prototype,ibe=Xy.forEach,abe=Xy.filter,HD=Xy.slice,obe=Xy.map,G9=function(){}.constructor,qy=G9?G9.prototype:null,UD="__proto__",sbe=2311;function W9(){return sbe++}function GD(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];typeof console<"u"&&console.error.apply(console,e)}function ht(e){if(null==e||"object"!=typeof e)return e;var n=e,t=_f.call(e);if("[object Array]"===t){if(!Gg(e)){n=[];for(var r=0,i=e.length;r<i;r++)n[r]=ht(e[r])}}else if(U9[t]){if(!Gg(e)){var a=e.constructor;if(a.from)n=a.from(e);else for(n=new a(e.length),r=0,i=e.length;r<i;r++)n[r]=e[r]}}else if(!H9[t]&&!Gg(e)&&!Zy(e))for(var o in n={},e)e.hasOwnProperty(o)&&o!==UD&&(n[o]=ht(e[o]));return n}function Ee(e,n,t){if(!ze(n)||!ze(e))return t?ht(n):e;for(var r in n)if(n.hasOwnProperty(r)&&r!==UD){var i=e[r],a=n[r];!ze(a)||!ze(i)||ne(a)||ne(i)||Zy(a)||Zy(i)||j9(a)||j9(i)||Gg(a)||Gg(i)?(t||!(r in e))&&(e[r]=ht(n[r])):Ee(i,a,t)}return e}function oe(e,n){if(Object.assign)Object.assign(e,n);else for(var t in n)n.hasOwnProperty(t)&&t!==UD&&(e[t]=n[t]);return e}function ut(e,n,t){for(var r=Bn(n),i=0;i<r.length;i++){var a=r[i];(t?null!=n[a]:null==e[a])&&(e[a]=n[a])}return e}function sn(e,n){if(e){if(e.indexOf)return e.indexOf(n);for(var t=0,r=e.length;t<r;t++)if(e[t]===n)return t}return-1}function WD(e,n){var t=e.prototype;function r(){}for(var i in r.prototype=n.prototype,e.prototype=new r,t)t.hasOwnProperty(i)&&(e.prototype[i]=t[i]);e.prototype.constructor=e,e.superClass=n}function Ta(e,n,t){if(e="prototype"in e?e.prototype:e,n="prototype"in n?n.prototype:n,Object.getOwnPropertyNames)for(var r=Object.getOwnPropertyNames(n),i=0;i<r.length;i++){var a=r[i];"constructor"!==a&&(t?null!=n[a]:null==e[a])&&(e[a]=n[a])}else ut(e,n,t)}function Ji(e){return!(!e||"string"==typeof e)&&"number"==typeof e.length}function I(e,n,t){if(e&&n)if(e.forEach&&e.forEach===ibe)e.forEach(n,t);else if(e.length===+e.length)for(var r=0,i=e.length;r<i;r++)n.call(t,e[r],r,e);else for(var a in e)e.hasOwnProperty(a)&&n.call(t,e[a],a,e)}function De(e,n,t){if(!e)return[];if(!n)return $D(e);if(e.map&&e.map===obe)return e.map(n,t);for(var r=[],i=0,a=e.length;i<a;i++)r.push(n.call(t,e[i],i,e));return r}function Dl(e,n,t,r){if(e&&n){for(var i=0,a=e.length;i<a;i++)t=n.call(r,t,e[i],i,e);return t}}function Mr(e,n,t){if(!e)return[];if(!n)return $D(e);if(e.filter&&e.filter===abe)return e.filter(n,t);for(var r=[],i=0,a=e.length;i<a;i++)n.call(t,e[i],i,e)&&r.push(e[i]);return r}function Bn(e){if(!e)return[];if(Object.keys)return Object.keys(e);var n=[];for(var t in e)e.hasOwnProperty(t)&&n.push(t);return n}var ln=qy&&Ze(qy.bind)?qy.call.bind(qy.bind):function lbe(e,n){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];return function(){return e.apply(n,t.concat(HD.call(arguments)))}};function An(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];return function(){return e.apply(this,n.concat(HD.call(arguments)))}}function ne(e){return Array.isArray?Array.isArray(e):"[object Array]"===_f.call(e)}function Ze(e){return"function"==typeof e}function Fe(e){return"string"==typeof e}function jD(e){return"[object String]"===_f.call(e)}function Sn(e){return"number"==typeof e}function ze(e){var n=typeof e;return"function"===n||!!e&&"object"===n}function j9(e){return!!H9[_f.call(e)]}function eo(e){return!!U9[_f.call(e)]}function Zy(e){return"object"==typeof e&&"number"==typeof e.nodeType&&"object"==typeof e.ownerDocument}function Ky(e){return null!=e.colorStops}function Qy(e){return e!=e}function yf(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var t=0,r=e.length;t<r;t++)if(null!=e[t])return e[t]}function qt(e,n){return e??n}function Jy(e,n,t){return e??n??t}function $D(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];return HD.apply(e,n)}function $9(e){if("number"==typeof e)return[e,e,e,e];var n=e.length;return 2===n?[e[0],e[1],e[0],e[1]]:3===n?[e[0],e[1],e[2],e[1]]:e}function rs(e,n){if(!e)throw new Error(n)}function Vs(e){return null==e?null:"function"==typeof e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var Y9="__ec_primitive__";function e2(e){e[Y9]=!0}function Gg(e){return e[Y9]}var hbe=function(){function e(){this.data={}}return e.prototype.delete=function(n){var t=this.has(n);return t&&delete this.data[n],t},e.prototype.has=function(n){return this.data.hasOwnProperty(n)},e.prototype.get=function(n){return this.data[n]},e.prototype.set=function(n,t){return this.data[n]=t,this},e.prototype.keys=function(){return Bn(this.data)},e.prototype.forEach=function(n){var t=this.data;for(var r in t)t.hasOwnProperty(r)&&n(t[r],r)},e}(),X9="function"==typeof Map,fbe=function(){function e(n){var t=ne(n);this.data=function dbe(){return X9?new Map:new hbe}();var r=this;function i(a,o){t?r.set(a,o):r.set(o,a)}n instanceof e?n.each(i):n&&I(n,i)}return e.prototype.hasKey=function(n){return this.data.has(n)},e.prototype.get=function(n){return this.data.get(n)},e.prototype.set=function(n,t){return this.data.set(n,t),t},e.prototype.each=function(n,t){this.data.forEach(function(r,i){n.call(t,r,i)})},e.prototype.keys=function(){var n=this.data.keys();return X9?Array.from(n):n},e.prototype.removeKey=function(n){this.data.delete(n)},e}();function bt(e){return new fbe(e)}function YD(e,n){for(var t=new e.constructor(e.length+n.length),r=0;r<e.length;r++)t[r]=e[r];var i=e.length;for(r=0;r<n.length;r++)t[r+i]=n[r];return t}function t2(e,n){var t;if(Object.create)t=Object.create(e);else{var r=function(){};r.prototype=e,t=new r}return n&&oe(t,n),t}function q9(e){var n=e.style;n.webkitUserSelect="none",n.userSelect="none",n.webkitTapHighlightColor="rgba(0,0,0,0)",n["-webkit-touch-callout"]="none"}function El(e,n){return e.hasOwnProperty(n)}function ea(){}var pbe=180/Math.PI,XD=function(e,n){return(XD=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])})(e,n)};function On(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function t(){this.constructor=e}XD(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}function bf(e,n){return null==e&&(e=0),null==n&&(n=0),[e,n]}function vbe(e){return[e[0],e[1]]}function J9(e,n,t){return e[0]=n[0]+t[0],e[1]=n[1]+t[1],e}function _be(e,n,t){return e[0]=n[0]-t[0],e[1]=n[1]-t[1],e}function qD(e,n,t){return e[0]=n[0]*t,e[1]=n[1]*t,e}function ZD(e,n){return Math.sqrt((e[0]-n[0])*(e[0]-n[0])+(e[1]-n[1])*(e[1]-n[1]))}var KD=ZD,Cf=function wbe(e,n){return(e[0]-n[0])*(e[0]-n[0])+(e[1]-n[1])*(e[1]-n[1])};function r2(e,n,t,r){return e[0]=n[0]+r*(t[0]-n[0]),e[1]=n[1]+r*(t[1]-n[1]),e}function zi(e,n,t){var r=n[0],i=n[1];return e[0]=t[0]*r+t[2]*i+t[4],e[1]=t[1]*r+t[3]*i+t[5],e}function Vu(e,n,t){return e[0]=Math.min(n[0],t[0]),e[1]=Math.min(n[1],t[1]),e}function Hu(e,n,t){return e[0]=Math.max(n[0],t[0]),e[1]=Math.max(n[1],t[1]),e}var wf=function e(n,t){this.target=n,this.topTarget=t&&t.topTarget},Sbe=function(){function e(n){this.handler=n,n.on("mousedown",this._dragStart,this),n.on("mousemove",this._drag,this),n.on("mouseup",this._dragEnd,this)}return e.prototype._dragStart=function(n){for(var t=n.target;t&&!t.draggable;)t=t.parent||t.__hostTarget;t&&(this._draggingTarget=t,t.dragging=!0,this._x=n.offsetX,this._y=n.offsetY,this.handler.dispatchToElement(new wf(t,n),"dragstart",n.event))},e.prototype._drag=function(n){var t=this._draggingTarget;if(t){var r=n.offsetX,i=n.offsetY,a=r-this._x,o=i-this._y;this._x=r,this._y=i,t.drift(a,o,n),this.handler.dispatchToElement(new wf(t,n),"drag",n.event);var s=this.handler.findHover(r,i,t).target,l=this._dropTarget;this._dropTarget=s,t!==s&&(l&&s!==l&&this.handler.dispatchToElement(new wf(l,n),"dragleave",n.event),s&&s!==l&&this.handler.dispatchToElement(new wf(s,n),"dragenter",n.event))}},e.prototype._dragEnd=function(n){var t=this._draggingTarget;t&&(t.dragging=!1),this.handler.dispatchToElement(new wf(t,n),"dragend",n.event),this._dropTarget&&this.handler.dispatchToElement(new wf(this._dropTarget,n),"drop",n.event),this._draggingTarget=null,this._dropTarget=null},e}();const xbe=Sbe;var Mbe=function(){function e(n){n&&(this._$eventProcessor=n)}return e.prototype.on=function(n,t,r,i){this._$handlers||(this._$handlers={});var a=this._$handlers;if("function"==typeof t&&(i=r,r=t,t=null),!r||!n)return this;var o=this._$eventProcessor;null!=t&&o&&o.normalizeQuery&&(t=o.normalizeQuery(t)),a[n]||(a[n]=[]);for(var s=0;s<a[n].length;s++)if(a[n][s].h===r)return this;var l={h:r,query:t,ctx:i||this,callAtLast:r.zrEventfulCallAtLast},c=a[n].length-1,u=a[n][c];return u&&u.callAtLast?a[n].splice(c,0,l):a[n].push(l),this},e.prototype.isSilent=function(n){var t=this._$handlers;return!t||!t[n]||!t[n].length},e.prototype.off=function(n,t){var r=this._$handlers;if(!r)return this;if(!n)return this._$handlers={},this;if(t){if(r[n]){for(var i=[],a=0,o=r[n].length;a<o;a++)r[n][a].h!==t&&i.push(r[n][a]);r[n]=i}r[n]&&0===r[n].length&&delete r[n]}else delete r[n];return this},e.prototype.trigger=function(n){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(!this._$handlers)return this;var i=this._$handlers[n],a=this._$eventProcessor;if(i)for(var o=t.length,s=i.length,l=0;l<s;l++){var c=i[l];if(!a||!a.filter||null==c.query||a.filter(n,c.query))switch(o){case 0:c.h.call(c.ctx);break;case 1:c.h.call(c.ctx,t[0]);break;case 2:c.h.call(c.ctx,t[0],t[1]);break;default:c.h.apply(c.ctx,t)}}return a&&a.afterTrigger&&a.afterTrigger(n),this},e.prototype.triggerWithContext=function(n){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(!this._$handlers)return this;var i=this._$handlers[n],a=this._$eventProcessor;if(i)for(var o=t.length,s=t[o-1],l=i.length,c=0;c<l;c++){var u=i[c];if(!a||!a.filter||null==u.query||a.filter(n,u.query))switch(o){case 0:u.h.call(s);break;case 1:u.h.call(s,t[0]);break;case 2:u.h.call(s,t[0],t[1]);break;default:u.h.apply(s,t.slice(1,o-1))}}return a&&a.afterTrigger&&a.afterTrigger(n),this},e}();const Hs=Mbe;var Tbe=Math.log(2);function QD(e,n,t,r,i,a){var o=r+"-"+i,s=e.length;if(a.hasOwnProperty(o))return a[o];if(1===n){var l=Math.round(Math.log((1<<s)-1&~i)/Tbe);return e[t][l]}for(var c=r|1<<t,u=t+1;r&1<<u;)u++;for(var h=0,d=0,f=0;d<s;d++){var p=1<<d;p&i||(h+=(f%2?-1:1)*e[t][d]*QD(e,n-1,u,c,i|p,a),f++)}return a[o]=h,h}function eV(e,n){var t=[[e[0],e[1],1,0,0,0,-n[0]*e[0],-n[0]*e[1]],[0,0,0,e[0],e[1],1,-n[1]*e[0],-n[1]*e[1]],[e[2],e[3],1,0,0,0,-n[2]*e[2],-n[2]*e[3]],[0,0,0,e[2],e[3],1,-n[3]*e[2],-n[3]*e[3]],[e[4],e[5],1,0,0,0,-n[4]*e[4],-n[4]*e[5]],[0,0,0,e[4],e[5],1,-n[5]*e[4],-n[5]*e[5]],[e[6],e[7],1,0,0,0,-n[6]*e[6],-n[6]*e[7]],[0,0,0,e[6],e[7],1,-n[7]*e[6],-n[7]*e[7]]],r={},i=QD(t,8,0,0,0,r);if(0!==i){for(var a=[],o=0;o<8;o++)for(var s=0;s<8;s++)null==a[s]&&(a[s]=0),a[s]+=((o+s)%2?-1:1)*QD(t,7,0===o?1:0,1<<o,1<<s,r)/i*n[o];return function(l,c,u){var h=c*a[6]+u*a[7]+1;l[0]=(c*a[0]+u*a[1]+a[2])/h,l[1]=(c*a[3]+u*a[4]+a[5])/h}}}var tV="___zrEVENTSAVED",JD=[];function e3(e,n,t,r,i){if(n.getBoundingClientRect&&Bt.domSupported&&!nV(n)){var a=n[tV]||(n[tV]={}),o=function Ebe(e,n){var t=n.markers;if(t)return t;t=n.markers=[];for(var r=["left","right"],i=["top","bottom"],a=0;a<4;a++){var o=document.createElement("div"),l=a%2,c=(a>>1)%2;o.style.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",r[l]+":0",i[c]+":0",r[1-l]+":auto",i[1-c]+":auto",""].join("!important;"),e.appendChild(o),t.push(o)}return t}(n,a),s=function Abe(e,n,t){for(var r=t?"invTrans":"trans",i=n[r],a=n.srcCoords,o=[],s=[],l=!0,c=0;c<4;c++){var u=e[c].getBoundingClientRect(),h=2*c,d=u.left,f=u.top;o.push(d,f),l=l&&a&&d===a[h]&&f===a[h+1],s.push(e[c].offsetLeft,e[c].offsetTop)}return l&&i?i:(n.srcCoords=o,n[r]=t?eV(s,o):eV(o,s))}(o,a,i);if(s)return s(e,t,r),!0}return!1}function nV(e){return"CANVAS"===e.nodeName.toUpperCase()}var Nbe=/([&<>"'])/g,Ibe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function gi(e){return null==e?"":(e+"").replace(Nbe,function(n,t){return Ibe[t]})}var Pbe=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,t3=[],Obe=Bt.browser.firefox&&+Bt.browser.version.split(".")[0]<39;function n3(e,n,t,r){return t=t||{},r?rV(e,n,t):Obe&&null!=n.layerX&&n.layerX!==n.offsetX?(t.zrX=n.layerX,t.zrY=n.layerY):null!=n.offsetX?(t.zrX=n.offsetX,t.zrY=n.offsetY):rV(e,n,t),t}function rV(e,n,t){if(Bt.domSupported&&e.getBoundingClientRect){var r=n.clientX,i=n.clientY;if(nV(e)){var a=e.getBoundingClientRect();return t.zrX=r-a.left,void(t.zrY=i-a.top)}if(e3(t3,e,r,i))return t.zrX=t3[0],void(t.zrY=t3[1])}t.zrX=t.zrY=0}function r3(e){return e||window.event}function To(e,n,t){if(null!=(n=r3(n)).zrX)return n;var r=n.type;if(r&&r.indexOf("touch")>=0){var o="touchend"!==r?n.targetTouches[0]:n.changedTouches[0];o&&n3(e,o,n,t)}else{n3(e,n,n,t);var a=function Rbe(e){var n=e.wheelDelta;if(n)return n;var t=e.deltaX,r=e.deltaY;return null==t||null==r?n:3*Math.abs(0!==r?r:t)*(r>0?-1:r<0?1:t>0?-1:1)}(n);n.zrDelta=a?a/120:-(n.detail||0)/3}var s=n.button;return null==n.which&&void 0!==s&&Pbe.test(n.type)&&(n.which=1&s?1:2&s?3:4&s?2:0),n}function kbe(e,n,t,r){e.removeEventListener(n,t,r)}var Wg=function(e){e.preventDefault(),e.stopPropagation(),e.cancelBubble=!0},Fbe=function(){function e(){this._track=[]}return e.prototype.recognize=function(n,t,r){return this._doTrack(n,t,r),this._recognize(n)},e.prototype.clear=function(){return this._track.length=0,this},e.prototype._doTrack=function(n,t,r){var i=n.touches;if(i){for(var a={points:[],touches:[],target:t,event:n},o=0,s=i.length;o<s;o++){var l=i[o],c=n3(r,l,{});a.points.push([c.zrX,c.zrY]),a.touches.push(l)}this._track.push(a)}},e.prototype._recognize=function(n){for(var t in i3)if(i3.hasOwnProperty(t)){var r=i3[t](this._track,n);if(r)return r}},e}();function iV(e){var n=e[1][0]-e[0][0],t=e[1][1]-e[0][1];return Math.sqrt(n*n+t*t)}var i3={pinch:function(e,n){var t=e.length;if(t){var r=(e[t-1]||{}).points,i=(e[t-2]||{}).points||r;if(i&&i.length>1&&r&&r.length>1){var a=iV(r)/iV(i);!isFinite(a)&&(a=1),n.pinchScale=a;var o=function zbe(e){return[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]}(r);return n.pinchX=o[0],n.pinchY=o[1],{type:"pinch",target:e[0].target,event:n}}}}};function a2(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function Gu(e,n,t){var i=n[1]*t[0]+n[3]*t[1],a=n[0]*t[2]+n[2]*t[3],o=n[1]*t[2]+n[3]*t[3],s=n[0]*t[4]+n[2]*t[5]+n[4],l=n[1]*t[4]+n[3]*t[5]+n[5];return e[0]=n[0]*t[0]+n[2]*t[1],e[1]=i,e[2]=a,e[3]=o,e[4]=s,e[5]=l,e}function a3(e,n,t){return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4]+t[0],e[5]=n[5]+t[1],e}function o3(e,n,t){var r=n[0],i=n[2],a=n[4],o=n[1],s=n[3],l=n[5],c=Math.sin(t),u=Math.cos(t);return e[0]=r*u+o*c,e[1]=-r*c+o*u,e[2]=i*u+s*c,e[3]=-i*c+u*s,e[4]=u*a+c*l,e[5]=u*l-c*a,e}function Sf(e,n){var t=n[0],r=n[2],i=n[4],a=n[1],o=n[3],s=n[5],l=t*o-a*r;return l?(e[0]=o*(l=1/l),e[1]=-a*l,e[2]=-r*l,e[3]=t*l,e[4]=(r*s-o*i)*l,e[5]=(a*i-t*s)*l,e):null}var Vbe=function(){function e(n,t){this.x=n||0,this.y=t||0}return e.prototype.copy=function(n){return this.x=n.x,this.y=n.y,this},e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.set=function(n,t){return this.x=n,this.y=t,this},e.prototype.equal=function(n){return n.x===this.x&&n.y===this.y},e.prototype.add=function(n){return this.x+=n.x,this.y+=n.y,this},e.prototype.scale=function(n){this.x*=n,this.y*=n},e.prototype.scaleAndAdd=function(n,t){this.x+=n.x*t,this.y+=n.y*t},e.prototype.sub=function(n){return this.x-=n.x,this.y-=n.y,this},e.prototype.dot=function(n){return this.x*n.x+this.y*n.y},e.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},e.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},e.prototype.normalize=function(){var n=this.len();return this.x/=n,this.y/=n,this},e.prototype.distance=function(n){var t=this.x-n.x,r=this.y-n.y;return Math.sqrt(t*t+r*r)},e.prototype.distanceSquare=function(n){var t=this.x-n.x,r=this.y-n.y;return t*t+r*r},e.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},e.prototype.transform=function(n){if(n){var t=this.x,r=this.y;return this.x=n[0]*t+n[2]*r+n[4],this.y=n[1]*t+n[3]*r+n[5],this}},e.prototype.toArray=function(n){return n[0]=this.x,n[1]=this.y,n},e.prototype.fromArray=function(n){this.x=n[0],this.y=n[1]},e.set=function(n,t,r){n.x=t,n.y=r},e.copy=function(n,t){n.x=t.x,n.y=t.y},e.len=function(n){return Math.sqrt(n.x*n.x+n.y*n.y)},e.lenSquare=function(n){return n.x*n.x+n.y*n.y},e.dot=function(n,t){return n.x*t.x+n.y*t.y},e.add=function(n,t,r){n.x=t.x+r.x,n.y=t.y+r.y},e.sub=function(n,t,r){n.x=t.x-r.x,n.y=t.y-r.y},e.scale=function(n,t,r){n.x=t.x*r,n.y=t.y*r},e.scaleAndAdd=function(n,t,r,i){n.x=t.x+r.x*i,n.y=t.y+r.y*i},e.lerp=function(n,t,r,i){var a=1-i;n.x=a*t.x+i*r.x,n.y=a*t.y+i*r.y},e}();const dt=Vbe;var o2=Math.min,s2=Math.max,Wu=new dt,ju=new dt,$u=new dt,Yu=new dt,jg=new dt,$g=new dt,Hbe=function(){function e(n,t,r,i){r<0&&(n+=r,r=-r),i<0&&(t+=i,i=-i),this.x=n,this.y=t,this.width=r,this.height=i}return e.prototype.union=function(n){var t=o2(n.x,this.x),r=o2(n.y,this.y);this.width=isFinite(this.x)&&isFinite(this.width)?s2(n.x+n.width,this.x+this.width)-t:n.width,this.height=isFinite(this.y)&&isFinite(this.height)?s2(n.y+n.height,this.y+this.height)-r:n.height,this.x=t,this.y=r},e.prototype.applyTransform=function(n){e.applyTransform(this,this,n)},e.prototype.calculateTransform=function(n){var t=this,r=n.width/t.width,i=n.height/t.height,a=[1,0,0,1,0,0];return a3(a,a,[-t.x,-t.y]),function Bbe(e,n,t){var r=t[0],i=t[1];e[0]=n[0]*r,e[1]=n[1]*i,e[2]=n[2]*r,e[3]=n[3]*i,e[4]=n[4]*r,e[5]=n[5]*i}(a,a,[r,i]),a3(a,a,[n.x,n.y]),a},e.prototype.intersect=function(n,t){if(!n)return!1;n instanceof e||(n=e.create(n));var r=this,i=r.x,a=r.x+r.width,o=r.y,s=r.y+r.height,l=n.x,c=n.x+n.width,u=n.y,h=n.y+n.height,d=!(a<l||c<i||s<u||h<o);if(t){var f=1/0,p=0,g=Math.abs(a-l),m=Math.abs(c-i),v=Math.abs(s-u),_=Math.abs(h-o),y=Math.min(g,m),b=Math.min(v,_);a<l||c<i?y>p&&(p=y,dt.set($g,g<m?-g:m,0)):y<f&&(f=y,dt.set(jg,g<m?g:-m,0)),s<u||h<o?b>p&&(p=b,dt.set($g,0,v<_?-v:_)):y<f&&(f=y,dt.set(jg,0,v<_?v:-_))}return t&&dt.copy(t,d?jg:$g),d},e.prototype.contain=function(n,t){var r=this;return n>=r.x&&n<=r.x+r.width&&t>=r.y&&t<=r.y+r.height},e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.copy=function(n){e.copy(this,n)},e.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},e.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},e.prototype.isZero=function(){return 0===this.width||0===this.height},e.create=function(n){return new e(n.x,n.y,n.width,n.height)},e.copy=function(n,t){n.x=t.x,n.y=t.y,n.width=t.width,n.height=t.height},e.applyTransform=function(n,t,r){if(r){if(r[1]<1e-5&&r[1]>-1e-5&&r[2]<1e-5&&r[2]>-1e-5){var i=r[0],a=r[3],s=r[5];return n.x=t.x*i+r[4],n.y=t.y*a+s,n.width=t.width*i,n.height=t.height*a,n.width<0&&(n.x+=n.width,n.width=-n.width),void(n.height<0&&(n.y+=n.height,n.height=-n.height))}Wu.x=$u.x=t.x,Wu.y=Yu.y=t.y,ju.x=Yu.x=t.x+t.width,ju.y=$u.y=t.y+t.height,Wu.transform(r),Yu.transform(r),ju.transform(r),$u.transform(r),n.x=o2(Wu.x,ju.x,$u.x,Yu.x),n.y=o2(Wu.y,ju.y,$u.y,Yu.y);var l=s2(Wu.x,ju.x,$u.x,Yu.x),c=s2(Wu.y,ju.y,$u.y,Yu.y);n.width=l-n.x,n.height=c-n.y}else n!==t&&e.copy(n,t)},e}();const Yt=Hbe;function Gbe(){Wg(this.event)}var Wbe=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.handler=null,t}return On(n,e),n.prototype.dispose=function(){},n.prototype.setCursor=function(){},n}(Hs),Yg=function e(n,t){this.x=n,this.y=t},jbe=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],s3=new Yt(0,0,0,0),sV=function(e){function n(t,r,i,a,o){var s=e.call(this)||this;return s._hovered=new Yg(0,0),s.storage=t,s.painter=r,s.painterRoot=a,s._pointerSize=o,i=i||new Wbe,s.proxy=null,s.setHandlerProxy(i),s._draggingMgr=new xbe(s),s}return On(n,e),n.prototype.setHandlerProxy=function(t){this.proxy&&this.proxy.dispose(),t&&(I(jbe,function(r){t.on&&t.on(r,this[r],this)},this),t.handler=this),this.proxy=t},n.prototype.mousemove=function(t){var r=t.zrX,i=t.zrY,a=cV(this,r,i),o=this._hovered,s=o.target;s&&!s.__zr&&(s=(o=this.findHover(o.x,o.y)).target);var l=this._hovered=a?new Yg(r,i):this.findHover(r,i),c=l.target,u=this.proxy;u.setCursor&&u.setCursor(c?c.cursor:"default"),s&&c!==s&&this.dispatchToElement(o,"mouseout",t),this.dispatchToElement(l,"mousemove",t),c&&c!==s&&this.dispatchToElement(l,"mouseover",t)},n.prototype.mouseout=function(t){var r=t.zrEventControl;"only_globalout"!==r&&this.dispatchToElement(this._hovered,"mouseout",t),"no_globalout"!==r&&this.trigger("globalout",{type:"globalout",event:t})},n.prototype.resize=function(){this._hovered=new Yg(0,0)},n.prototype.dispatch=function(t,r){var i=this[t];i&&i.call(this,r)},n.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},n.prototype.setCursorStyle=function(t){var r=this.proxy;r.setCursor&&r.setCursor(t)},n.prototype.dispatchToElement=function(t,r,i){var a=(t=t||{}).target;if(!a||!a.silent){for(var o="on"+r,s=function Ube(e,n,t){return{type:e,event:t,target:n.target,topTarget:n.topTarget,cancelBubble:!1,offsetX:t.zrX,offsetY:t.zrY,gestureEvent:t.gestureEvent,pinchX:t.pinchX,pinchY:t.pinchY,pinchScale:t.pinchScale,wheelDelta:t.zrDelta,zrByTouch:t.zrByTouch,which:t.which,stop:Gbe}}(r,t,i);a&&(a[o]&&(s.cancelBubble=!!a[o].call(a,s)),a.trigger(r,s),a=a.__hostTarget?a.__hostTarget:a.parent,!s.cancelBubble););s.cancelBubble||(this.trigger(r,s),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(l){"function"==typeof l[o]&&l[o].call(l,s),l.trigger&&l.trigger(r,s)}))}},n.prototype.findHover=function(t,r,i){var a=this.storage.getDisplayList(),o=new Yg(t,r);if(lV(a,o,t,r,i),this._pointerSize&&!o.target){for(var s=[],l=this._pointerSize,c=l/2,u=new Yt(t-c,r-c,l,l),h=a.length-1;h>=0;h--){var d=a[h];d!==i&&!d.ignore&&!d.ignoreCoarsePointer&&(!d.parent||!d.parent.ignoreCoarsePointer)&&(s3.copy(d.getBoundingRect()),d.transform&&s3.applyTransform(d.transform),s3.intersect(u)&&s.push(d))}if(s.length)for(var p=Math.PI/12,g=2*Math.PI,m=0;m<c;m+=4)for(var v=0;v<g;v+=p)if(lV(s,o,t+m*Math.cos(v),r+m*Math.sin(v),i),o.target)return o}return o},n.prototype.processGesture=function(t,r){this._gestureMgr||(this._gestureMgr=new Fbe);var i=this._gestureMgr;"start"===r&&i.clear();var a=i.recognize(t,this.findHover(t.zrX,t.zrY,null).target,this.proxy.dom);if("end"===r&&i.clear(),a){var o=a.type;t.gestureEvent=o;var s=new Yg;s.target=a.target,this.dispatchToElement(s,o,a.event)}},n}(Hs);function $be(e,n,t){if(e[e.rectHover?"rectContain":"contain"](n,t)){for(var r=e,i=void 0,a=!1;r;){if(r.ignoreClip&&(a=!0),!a){var o=r.getClipPath();if(o&&!o.contain(n,t))return!1;r.silent&&(i=!0)}r=r.__hostTarget||r.parent}return!i||"silent"}return!1}function lV(e,n,t,r,i){for(var a=e.length-1;a>=0;a--){var o=e[a],s=void 0;if(o!==i&&!o.ignore&&(s=$be(o,t,r))&&(!n.topTarget&&(n.topTarget=o),"silent"!==s)){n.target=o;break}}}function cV(e,n,t){var r=e.painter;return n<0||n>r.getWidth()||t<0||t>r.getHeight()}I(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(e){sV.prototype[e]=function(n){var a,o,t=n.zrX,r=n.zrY,i=cV(this,t,r);if(("mouseup"!==e||!i)&&(o=(a=this.findHover(t,r)).target),"mousedown"===e)this._downEl=o,this._downPoint=[n.zrX,n.zrY],this._upEl=o;else if("mouseup"===e)this._upEl=o;else if("click"===e){if(this._downEl!==this._upEl||!this._downPoint||KD(this._downPoint,[n.zrX,n.zrY])>4)return;this._downPoint=null}this.dispatchToElement(a,e,n)}});const Ybe=sV;function dV(e,n,t,r){var i=n+1;if(i===t)return 1;if(r(e[i++],e[n])<0){for(;i<t&&r(e[i],e[i-1])<0;)i++;!function qbe(e,n,t){for(t--;n<t;){var r=e[n];e[n++]=e[t],e[t--]=r}}(e,n,i)}else for(;i<t&&r(e[i],e[i-1])>=0;)i++;return i-n}function fV(e,n,t,r,i){for(r===n&&r++;r<t;r++){for(var l,a=e[r],o=n,s=r;o<s;)i(a,e[l=o+s>>>1])<0?s=l:o=l+1;var c=r-o;switch(c){case 3:e[o+3]=e[o+2];case 2:e[o+2]=e[o+1];case 1:e[o+1]=e[o];break;default:for(;c>0;)e[o+c]=e[o+c-1],c--}e[o]=a}}function l3(e,n,t,r,i,a){var o=0,s=0,l=1;if(a(e,n[t+i])>0){for(s=r-i;l<s&&a(e,n[t+i+l])>0;)o=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s),o+=i,l+=i}else{for(s=i+1;l<s&&a(e,n[t+i-l])<=0;)o=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s);var c=o;o=i-l,l=i-c}for(o++;o<l;){var u=o+(l-o>>>1);a(e,n[t+u])>0?o=u+1:l=u}return l}function c3(e,n,t,r,i,a){var o=0,s=0,l=1;if(a(e,n[t+i])<0){for(s=i+1;l<s&&a(e,n[t+i-l])<0;)o=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s);var c=o;o=i-l,l=i-c}else{for(s=r-i;l<s&&a(e,n[t+i+l])>=0;)o=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s),o+=i,l+=i}for(o++;o<l;){var u=o+(l-o>>>1);a(e,n[t+u])<0?l=u:o=u+1}return l}function l2(e,n,t,r){t||(t=0),r||(r=e.length);var i=r-t;if(!(i<2)){var a=0;if(i<32)return void fV(e,t,r,t+(a=dV(e,t,r,n)),n);var o=function Zbe(e,n){var o,s,t=7,l=0,c=[];function f(m){var v=o[m],_=s[m],y=o[m+1],b=s[m+1];s[m]=_+b,m===l-3&&(o[m+1]=o[m+2],s[m+1]=s[m+2]),l--;var w=c3(e[y],e,v,_,0,n);v+=w,0!=(_-=w)&&0!==(b=l3(e[v+_-1],e,y,b,b-1,n))&&(_<=b?function p(m,v,_,y){var b=0;for(b=0;b<v;b++)c[b]=e[m+b];var w=0,C=_,S=m;if(e[S++]=e[C++],0!=--y)if(1!==v){for(var M,E,T,x=t;;){M=0,E=0,T=!1;do{if(n(e[C],c[w])<0){if(e[S++]=e[C++],E++,M=0,0==--y){T=!0;break}}else if(e[S++]=c[w++],M++,E=0,1==--v){T=!0;break}}while((M|E)<x);if(T)break;do{if(0!==(M=c3(e[C],c,w,v,0,n))){for(b=0;b<M;b++)e[S+b]=c[w+b];if(S+=M,w+=M,(v-=M)<=1){T=!0;break}}if(e[S++]=e[C++],0==--y){T=!0;break}if(0!==(E=l3(c[w],e,C,y,0,n))){for(b=0;b<E;b++)e[S+b]=e[C+b];if(S+=E,C+=E,0==(y-=E)){T=!0;break}}if(e[S++]=c[w++],1==--v){T=!0;break}x--}while(M>=7||E>=7);if(T)break;x<0&&(x=0),x+=2}if((t=x)<1&&(t=1),1===v){for(b=0;b<y;b++)e[S+b]=e[C+b];e[S+y]=c[w]}else{if(0===v)throw new Error;for(b=0;b<v;b++)e[S+b]=c[w+b]}}else{for(b=0;b<y;b++)e[S+b]=e[C+b];e[S+y]=c[w]}else for(b=0;b<v;b++)e[S+b]=c[w+b]}(v,_,y,b):function g(m,v,_,y){var b=0;for(b=0;b<y;b++)c[b]=e[_+b];var w=m+v-1,C=y-1,S=_+y-1,x=0,M=0;if(e[S--]=e[w--],0!=--v)if(1!==y){for(var E=t;;){var T=0,A=0,N=!1;do{if(n(c[C],e[w])<0){if(e[S--]=e[w--],T++,A=0,0==--v){N=!0;break}}else if(e[S--]=c[C--],A++,T=0,1==--y){N=!0;break}}while((T|A)<E);if(N)break;do{if(0!=(T=v-c3(c[C],e,m,v,v-1,n))){for(v-=T,M=1+(S-=T),x=1+(w-=T),b=T-1;b>=0;b--)e[M+b]=e[x+b];if(0===v){N=!0;break}}if(e[S--]=c[C--],1==--y){N=!0;break}if(0!=(A=y-l3(e[w],c,0,y,y-1,n))){for(y-=A,M=1+(S-=A),x=1+(C-=A),b=0;b<A;b++)e[M+b]=c[x+b];if(y<=1){N=!0;break}}if(e[S--]=e[w--],0==--v){N=!0;break}E--}while(T>=7||A>=7);if(N)break;E<0&&(E=0),E+=2}if((t=E)<1&&(t=1),1===y){for(M=1+(S-=v),x=1+(w-=v),b=v-1;b>=0;b--)e[M+b]=e[x+b];e[S]=c[C]}else{if(0===y)throw new Error;for(x=S-(y-1),b=0;b<y;b++)e[x+b]=c[b]}}else{for(M=1+(S-=v),x=1+(w-=v),b=v-1;b>=0;b--)e[M+b]=e[x+b];e[S]=c[C]}else for(x=S-(y-1),b=0;b<y;b++)e[x+b]=c[b]}(v,_,y,b))}return o=[],s=[],{mergeRuns:function h(){for(;l>1;){var m=l-2;if(m>=1&&s[m-1]<=s[m]+s[m+1]||m>=2&&s[m-2]<=s[m]+s[m-1])s[m-1]<s[m+1]&&m--;else if(s[m]>s[m+1])break;f(m)}},forceMergeRuns:function d(){for(;l>1;){var m=l-2;m>0&&s[m-1]<s[m+1]&&m--,f(m)}},pushRun:function u(m,v){o[l]=m,s[l]=v,l+=1}}}(e,n),s=function Xbe(e){for(var n=0;e>=32;)n|=1&e,e>>=1;return e+n}(i);do{if((a=dV(e,t,r,n))<s){var l=i;l>s&&(l=s),fV(e,t,t+l,t+a,n),a=l}o.pushRun(t,a),o.mergeRuns(),i-=a,t+=a}while(0!==i);o.forceMergeRuns()}}var pV=!1;function u3(){pV||(pV=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function gV(e,n){return e.zlevel===n.zlevel?e.z===n.z?e.z2-n.z2:e.z-n.z:e.zlevel-n.zlevel}var Kbe=function(){function e(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=gV}return e.prototype.traverse=function(n,t){for(var r=0;r<this._roots.length;r++)this._roots[r].traverse(n,t)},e.prototype.getDisplayList=function(n,t){t=t||!1;var r=this._displayList;return(n||!r.length)&&this.updateDisplayList(t),r},e.prototype.updateDisplayList=function(n){this._displayListLen=0;for(var t=this._roots,r=this._displayList,i=0,a=t.length;i<a;i++)this._updateAndAddDisplayable(t[i],null,n);r.length=this._displayListLen,l2(r,gV)},e.prototype._updateAndAddDisplayable=function(n,t,r){if(!n.ignore||r){n.beforeUpdate(),n.update(),n.afterUpdate();var i=n.getClipPath();if(n.ignoreClip)t=null;else if(i){t=t?t.slice():[];for(var a=i,o=n;a;)a.parent=o,a.updateTransform(),t.push(a),o=a,a=a.getClipPath()}if(n.childrenRef){for(var s=n.childrenRef(),l=0;l<s.length;l++){var c=s[l];n.__dirty&&(c.__dirty|=1),this._updateAndAddDisplayable(c,t,r)}n.__dirty=0}else{var u=n;t&&t.length?u.__clipPaths=t:u.__clipPaths&&u.__clipPaths.length>0&&(u.__clipPaths=[]),isNaN(u.z)&&(u3(),u.z=0),isNaN(u.z2)&&(u3(),u.z2=0),isNaN(u.zlevel)&&(u3(),u.zlevel=0),this._displayList[this._displayListLen++]=u}var h=n.getDecalElement&&n.getDecalElement();h&&this._updateAndAddDisplayable(h,t,r);var d=n.getTextGuideLine();d&&this._updateAndAddDisplayable(d,t,r);var f=n.getTextContent();f&&this._updateAndAddDisplayable(f,t,r)}},e.prototype.addRoot=function(n){n.__zr&&n.__zr.storage===this||this._roots.push(n)},e.prototype.delRoot=function(n){if(n instanceof Array)for(var t=0,r=n.length;t<r;t++)this.delRoot(n[t]);else{var i=sn(this._roots,n);i>=0&&this._roots.splice(i,1)}},e.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},e.prototype.getRoots=function(){return this._roots},e.prototype.dispose=function(){this._displayList=null,this._roots=null},e}();const Qbe=Kbe;var mV;mV=Bt.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(e){return setTimeout(e,16)};const Mf=mV;var c2={linear:function(e){return e},quadraticIn:function(e){return e*e},quadraticOut:function(e){return e*(2-e)},quadraticInOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)},cubicIn:function(e){return e*e*e},cubicOut:function(e){return--e*e*e+1},cubicInOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},quarticIn:function(e){return e*e*e*e},quarticOut:function(e){return 1- --e*e*e*e},quarticInOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},quinticIn:function(e){return e*e*e*e*e},quinticOut:function(e){return--e*e*e*e*e+1},quinticInOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},sinusoidalIn:function(e){return 1-Math.cos(e*Math.PI/2)},sinusoidalOut:function(e){return Math.sin(e*Math.PI/2)},sinusoidalInOut:function(e){return.5*(1-Math.cos(Math.PI*e))},exponentialIn:function(e){return 0===e?0:Math.pow(1024,e-1)},exponentialOut:function(e){return 1===e?1:1-Math.pow(2,-10*e)},exponentialInOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))},circularIn:function(e){return 1-Math.sqrt(1-e*e)},circularOut:function(e){return Math.sqrt(1- --e*e)},circularInOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},elasticIn:function(e){var n,t=.1;return 0===e?0:1===e?1:(!t||t<1?(t=1,n=.1):n=.4*Math.asin(1/t)/(2*Math.PI),-t*Math.pow(2,10*(e-=1))*Math.sin((e-n)*(2*Math.PI)/.4))},elasticOut:function(e){var n,t=.1;return 0===e?0:1===e?1:(!t||t<1?(t=1,n=.1):n=.4*Math.asin(1/t)/(2*Math.PI),t*Math.pow(2,-10*e)*Math.sin((e-n)*(2*Math.PI)/.4)+1)},elasticInOut:function(e){var n,t=.1;return 0===e?0:1===e?1:(!t||t<1?(t=1,n=.1):n=.4*Math.asin(1/t)/(2*Math.PI),(e*=2)<1?t*Math.pow(2,10*(e-=1))*Math.sin((e-n)*(2*Math.PI)/.4)*-.5:t*Math.pow(2,-10*(e-=1))*Math.sin((e-n)*(2*Math.PI)/.4)*.5+1)},backIn:function(e){var n=1.70158;return e*e*((n+1)*e-n)},backOut:function(e){var n=1.70158;return--e*e*((n+1)*e+n)+1},backInOut:function(e){var n=2.5949095;return(e*=2)<1?e*e*((n+1)*e-n)*.5:.5*((e-=2)*e*((n+1)*e+n)+2)},bounceIn:function(e){return 1-c2.bounceOut(1-e)},bounceOut:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},bounceInOut:function(e){return e<.5?.5*c2.bounceIn(2*e):.5*c2.bounceOut(2*e-1)+.5}};const vV=c2;var u2=Math.pow,gc=Math.sqrt,yV=gc(3),d2=1/3,Us=bf(),Do=bf(),Tf=bf();function mc(e){return e>-1e-8&&e<1e-8}function bV(e){return e>1e-8||e<-1e-8}function ai(e,n,t,r,i){var a=1-i;return a*a*(a*e+3*i*n)+i*i*(i*r+3*a*t)}function CV(e,n,t,r,i){var a=1-i;return 3*(((n-e)*a+2*(t-n)*i)*a+(r-t)*i*i)}function f2(e,n,t,r,i,a){var o=r+3*(n-t)-e,s=3*(t-2*n+e),l=3*(n-e),c=e-i,u=s*s-3*o*l,h=s*l-9*o*c,d=l*l-3*s*c,f=0;if(mc(u)&&mc(h))mc(s)?a[0]=0:(p=-l/s)>=0&&p<=1&&(a[f++]=p);else{var g=h*h-4*u*d;if(mc(g)){var m=h/u,v=-m/2;(p=-s/o+m)>=0&&p<=1&&(a[f++]=p),v>=0&&v<=1&&(a[f++]=v)}else if(g>0){var _=gc(g),y=u*s+1.5*o*(-h+_),b=u*s+1.5*o*(-h-_);(p=(-s-((y=y<0?-u2(-y,d2):u2(y,d2))+(b=b<0?-u2(-b,d2):u2(b,d2))))/(3*o))>=0&&p<=1&&(a[f++]=p)}else{var w=(2*u*s-3*o*h)/(2*gc(u*u*u)),C=Math.acos(w)/3,S=gc(u),x=Math.cos(C),p=(-s-2*S*x)/(3*o),M=(v=(-s+S*(x+yV*Math.sin(C)))/(3*o),(-s+S*(x-yV*Math.sin(C)))/(3*o));p>=0&&p<=1&&(a[f++]=p),v>=0&&v<=1&&(a[f++]=v),M>=0&&M<=1&&(a[f++]=M)}}return f}function wV(e,n,t,r,i){var a=6*t-12*n+6*e,o=9*n+3*r-3*e-9*t,s=3*n-3*e,l=0;if(mc(o))bV(a)&&(c=-s/a)>=0&&c<=1&&(i[l++]=c);else{var u=a*a-4*o*s;if(mc(u))i[0]=-a/(2*o);else if(u>0){var c,h=gc(u),d=(-a-h)/(2*o);(c=(-a+h)/(2*o))>=0&&c<=1&&(i[l++]=c),d>=0&&d<=1&&(i[l++]=d)}}return l}function vc(e,n,t,r,i,a){var o=(n-e)*i+e,s=(t-n)*i+n,l=(r-t)*i+t,c=(s-o)*i+o,u=(l-s)*i+s,h=(u-c)*i+c;a[0]=e,a[1]=o,a[2]=c,a[3]=h,a[4]=h,a[5]=u,a[6]=l,a[7]=r}function SV(e,n,t,r,i,a,o,s,l,c,u){var h,p,g,m,v,d=.005,f=1/0;Us[0]=l,Us[1]=c;for(var _=0;_<1;_+=.05)Do[0]=ai(e,t,i,o,_),Do[1]=ai(n,r,a,s,_),(m=Cf(Us,Do))<f&&(h=_,f=m);f=1/0;for(var y=0;y<32&&!(d<1e-4);y++)g=h+d,Do[0]=ai(e,t,i,o,p=h-d),Do[1]=ai(n,r,a,s,p),m=Cf(Do,Us),p>=0&&m<f?(h=p,f=m):(Tf[0]=ai(e,t,i,o,g),Tf[1]=ai(n,r,a,s,g),v=Cf(Tf,Us),g<=1&&v<f?(h=g,f=v):d*=.5);return u&&(u[0]=ai(e,t,i,o,h),u[1]=ai(n,r,a,s,h)),gc(f)}function Jbe(e,n,t,r,i,a,o,s,l){for(var c=e,u=n,h=0,d=1/l,f=1;f<=l;f++){var p=f*d,g=ai(e,t,i,o,p),m=ai(n,r,a,s,p),v=g-c,_=m-u;h+=Math.sqrt(v*v+_*_),c=g,u=m}return h}function Bi(e,n,t,r){var i=1-r;return i*(i*e+2*r*n)+r*r*t}function xV(e,n,t,r){return 2*((1-r)*(n-e)+r*(t-n))}function MV(e,n,t){var r=e+t-2*n;return 0===r?.5:(e-n)/r}function p2(e,n,t,r,i){var a=(n-e)*r+e,o=(t-n)*r+n,s=(o-a)*r+a;i[0]=e,i[1]=a,i[2]=s,i[3]=s,i[4]=o,i[5]=t}function TV(e,n,t,r,i,a,o,s,l){var c,u=.005,h=1/0;Us[0]=o,Us[1]=s;for(var d=0;d<1;d+=.05)Do[0]=Bi(e,t,i,d),Do[1]=Bi(n,r,a,d),(f=Cf(Us,Do))<h&&(c=d,h=f);h=1/0;for(var p=0;p<32&&!(u<1e-4);p++){var g=c-u,m=c+u;Do[0]=Bi(e,t,i,g),Do[1]=Bi(n,r,a,g);var f=Cf(Do,Us);if(g>=0&&f<h)c=g,h=f;else{Tf[0]=Bi(e,t,i,m),Tf[1]=Bi(n,r,a,m);var v=Cf(Tf,Us);m<=1&&v<h?(c=m,h=v):u*=.5}}return l&&(l[0]=Bi(e,t,i,c),l[1]=Bi(n,r,a,c)),gc(h)}function tCe(e,n,t,r,i,a,o){for(var s=e,l=n,c=0,u=1/o,h=1;h<=o;h++){var d=h*u,f=Bi(e,t,i,d),p=Bi(n,r,a,d),g=f-s,m=p-l;c+=Math.sqrt(g*g+m*m),s=f,l=p}return c}var nCe=/cubic-bezier\(([0-9,\.e ]+)\)/;function DV(e){var n=e&&nCe.exec(e);if(n){var t=n[1].split(","),r=+Vs(t[0]),i=+Vs(t[1]),a=+Vs(t[2]),o=+Vs(t[3]);if(isNaN(r+i+a+o))return;var s=[];return function(l){return l<=0?0:l>=1?1:f2(0,r,a,1,l,s)&&ai(0,i,o,1,s[0])}}}var rCe=function(){function e(n){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=n.life||1e3,this._delay=n.delay||0,this.loop=n.loop||!1,this.onframe=n.onframe||ea,this.ondestroy=n.ondestroy||ea,this.onrestart=n.onrestart||ea,n.easing&&this.setEasing(n.easing)}return e.prototype.step=function(n,t){if(this._inited||(this._startTime=n+this._delay,this._inited=!0),!this._paused){var r=this._life,i=n-this._startTime-this._pausedTime,a=i/r;a<0&&(a=0),a=Math.min(a,1);var o=this.easingFunc,s=o?o(a):a;if(this.onframe(s),1===a){if(!this.loop)return!0;this._startTime=n-i%r,this._pausedTime=0,this.onrestart()}return!1}this._pausedTime+=t},e.prototype.pause=function(){this._paused=!0},e.prototype.resume=function(){this._paused=!1},e.prototype.setEasing=function(n){this.easing=n,this.easingFunc=Ze(n)?n:vV[n]||DV(n)},e}();const iCe=rCe;var EV=function e(n){this.value=n},aCe=function(){function e(){this._len=0}return e.prototype.insert=function(n){var t=new EV(n);return this.insertEntry(t),t},e.prototype.insertEntry=function(n){this.head?(this.tail.next=n,n.prev=this.tail,n.next=null,this.tail=n):this.head=this.tail=n,this._len++},e.prototype.remove=function(n){var t=n.prev,r=n.next;t?t.next=r:this.head=r,r?r.prev=t:this.tail=t,n.next=n.prev=null,this._len--},e.prototype.len=function(){return this._len},e.prototype.clear=function(){this.head=this.tail=null,this._len=0},e}(),oCe=function(){function e(n){this._list=new aCe,this._maxSize=10,this._map={},this._maxSize=n}return e.prototype.put=function(n,t){var r=this._list,i=this._map,a=null;if(null==i[n]){var o=r.len(),s=this._lastRemovedEntry;if(o>=this._maxSize&&o>0){var l=r.head;r.remove(l),delete i[l.key],a=l.value,this._lastRemovedEntry=l}s?s.value=t:s=new EV(t),s.key=n,r.insertEntry(s),i[n]=s}return a},e.prototype.get=function(n){var t=this._map[n],r=this._list;if(null!=t)return t!==r.tail&&(r.remove(t),r.insertEntry(t)),t.value},e.prototype.clear=function(){this._list.clear(),this._map={}},e.prototype.len=function(){return this._list.len()},e}();const Df=oCe;var AV={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function is(e){return(e=Math.round(e))<0?0:e>255?255:e}function Zg(e){return e<0?0:e>1?1:e}function h3(e){var n=e;return n.length&&"%"===n.charAt(n.length-1)?is(parseFloat(n)/100*255):is(parseInt(n,10))}function Xu(e){var n=e;return n.length&&"%"===n.charAt(n.length-1)?Zg(parseFloat(n)/100):Zg(parseFloat(n))}function d3(e,n,t){return t<0?t+=1:t>1&&(t-=1),6*t<1?e+(n-e)*t*6:2*t<1?n:3*t<2?e+(n-e)*(2/3-t)*6:e}function _c(e,n,t){return e+(n-e)*t}function Eo(e,n,t,r,i){return e[0]=n,e[1]=t,e[2]=r,e[3]=i,e}function f3(e,n){return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e}var NV=new Df(20),g2=null;function Ef(e,n){g2&&f3(g2,n),g2=NV.put(e,g2||n.slice())}function ta(e,n){if(e){n=n||[];var t=NV.get(e);if(t)return f3(n,t);var r=(e+="").replace(/ /g,"").toLowerCase();if(r in AV)return f3(n,AV[r]),Ef(e,n),n;var a,i=r.length;if("#"===r.charAt(0))return 4===i||5===i?(a=parseInt(r.slice(1,4),16))>=0&&a<=4095?(Eo(n,(3840&a)>>4|(3840&a)>>8,240&a|(240&a)>>4,15&a|(15&a)<<4,5===i?parseInt(r.slice(4),16)/15:1),Ef(e,n),n):void Eo(n,0,0,0,1):7===i||9===i?(a=parseInt(r.slice(1,7),16))>=0&&a<=16777215?(Eo(n,(16711680&a)>>16,(65280&a)>>8,255&a,9===i?parseInt(r.slice(7),16)/255:1),Ef(e,n),n):void Eo(n,0,0,0,1):void 0;var o=r.indexOf("("),s=r.indexOf(")");if(-1!==o&&s+1===i){var l=r.substr(0,o),c=r.substr(o+1,s-(o+1)).split(","),u=1;switch(l){case"rgba":if(4!==c.length)return 3===c.length?Eo(n,+c[0],+c[1],+c[2],1):Eo(n,0,0,0,1);u=Xu(c.pop());case"rgb":return c.length>=3?(Eo(n,h3(c[0]),h3(c[1]),h3(c[2]),3===c.length?u:Xu(c[3])),Ef(e,n),n):void Eo(n,0,0,0,1);case"hsla":return 4!==c.length?void Eo(n,0,0,0,1):(c[3]=Xu(c[3]),p3(c,n),Ef(e,n),n);case"hsl":return 3!==c.length?void Eo(n,0,0,0,1):(p3(c,n),Ef(e,n),n);default:return}}Eo(n,0,0,0,1)}}function p3(e,n){var t=(parseFloat(e[0])%360+360)%360/360,r=Xu(e[1]),i=Xu(e[2]),a=i<=.5?i*(r+1):i+r-i*r,o=2*i-a;return Eo(n=n||[],is(255*d3(o,a,t+1/3)),is(255*d3(o,a,t)),is(255*d3(o,a,t-1/3)),1),4===e.length&&(n[3]=e[3]),n}function Kg(e,n){var t=ta(e);if(t){for(var r=0;r<3;r++)t[r]=n<0?t[r]*(1-n)|0:(255-t[r])*n+t[r]|0,t[r]>255?t[r]=255:t[r]<0&&(t[r]=0);return Gs(t,4===t.length?"rgba":"rgb")}}function m2(e,n,t){if(n&&n.length&&e>=0&&e<=1){t=t||[];var r=e*(n.length-1),i=Math.floor(r),a=Math.ceil(r),o=n[i],s=n[a],l=r-i;return t[0]=is(_c(o[0],s[0],l)),t[1]=is(_c(o[1],s[1],l)),t[2]=is(_c(o[2],s[2],l)),t[3]=Zg(_c(o[3],s[3],l)),t}}function IV(e,n,t){if(n&&n.length&&e>=0&&e<=1){var r=e*(n.length-1),i=Math.floor(r),a=Math.ceil(r),o=ta(n[i]),s=ta(n[a]),l=r-i,c=Gs([is(_c(o[0],s[0],l)),is(_c(o[1],s[1],l)),is(_c(o[2],s[2],l)),Zg(_c(o[3],s[3],l))],"rgba");return t?{color:c,leftIndex:i,rightIndex:a,value:r}:c}}function g3(e,n,t,r){var i=ta(e);if(e)return i=function lCe(e){if(e){var l,c,n=e[0]/255,t=e[1]/255,r=e[2]/255,i=Math.min(n,t,r),a=Math.max(n,t,r),o=a-i,s=(a+i)/2;if(0===o)l=0,c=0;else{c=s<.5?o/(a+i):o/(2-a-i);var u=((a-n)/6+o/2)/o,h=((a-t)/6+o/2)/o,d=((a-r)/6+o/2)/o;n===a?l=d-h:t===a?l=1/3+u-d:r===a&&(l=2/3+h-u),l<0&&(l+=1),l>1&&(l-=1)}var f=[360*l,c,s];return null!=e[3]&&f.push(e[3]),f}}(i),null!=n&&(i[0]=function sCe(e){return(e=Math.round(e))<0?0:e>360?360:e}(n)),null!=t&&(i[1]=Xu(t)),null!=r&&(i[2]=Xu(r)),Gs(p3(i),"rgba")}function Gs(e,n){if(e&&e.length){var t=e[0]+","+e[1]+","+e[2];return("rgba"===n||"hsva"===n||"hsla"===n)&&(t+=","+e[3]),n+"("+t+")"}}function v2(e,n){var t=ta(e);return t?(.299*t[0]+.587*t[1]+.114*t[2])*t[3]/255+(1-t[3])*n:0}Math,Bt.hasGlobalWindow&&Ze(window.btoa);var m3=Array.prototype.slice;function Al(e,n,t){return(n-e)*t+e}function v3(e,n,t,r){for(var i=n.length,a=0;a<i;a++)e[a]=Al(n[a],t[a],r);return e}function y2(e,n,t,r){for(var i=n.length,a=0;a<i;a++)e[a]=n[a]+t[a]*r;return e}function RV(e,n,t,r){for(var i=n.length,a=i&&n[0].length,o=0;o<i;o++){e[o]||(e[o]=[]);for(var s=0;s<a;s++)e[o][s]=n[o][s]+t[o][s]*r}return e}function gCe(e,n){for(var t=e.length,r=n.length,i=t>r?n:e,a=Math.min(t,r),o=i[a-1]||{color:[0,0,0,0],offset:0},s=a;s<Math.max(t,r);s++)i.push({offset:o.offset,color:o.color.slice()})}function mCe(e,n,t){var r=e,i=n;if(r.push&&i.push){var a=r.length,o=i.length;if(a!==o)if(a>o)r.length=o;else for(var l=a;l<o;l++)r.push(1===t?i[l]:m3.call(i[l]));var c=r[0]&&r[0].length;for(l=0;l<r.length;l++)if(1===t)isNaN(r[l])&&(r[l]=i[l]);else for(var u=0;u<c;u++)isNaN(r[l][u])&&(r[l][u]=i[l][u])}}function b2(e){if(Ji(e)){var n=e.length;if(Ji(e[0])){for(var t=[],r=0;r<n;r++)t.push(m3.call(e[r]));return t}return m3.call(e)}return e}function C2(e){return e[0]=Math.floor(e[0])||0,e[1]=Math.floor(e[1])||0,e[2]=Math.floor(e[2])||0,e[3]=null==e[3]?1:e[3],"rgba("+e.join(",")+")"}function FV(e){return 4===e||5===e}function x2(e){return 1===e||2===e}var e1=[0,0,0,0],_Ce=function(){function e(n){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=n}return e.prototype.isFinished=function(){return this._finished},e.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},e.prototype.needsAnimate=function(){return this.keyframes.length>=1},e.prototype.getAdditiveTrack=function(){return this._additiveTrack},e.prototype.addKeyframe=function(n,t,r){this._needsSort=!0;var i=this.keyframes,a=i.length,o=!1,s=6,l=t;if(Ji(t)){var c=function vCe(e){return Ji(e&&e[0])?2:1}(t);s=c,(1===c&&!Sn(t[0])||2===c&&!Sn(t[0][0]))&&(o=!0)}else if(Sn(t)&&!Qy(t))s=0;else if(Fe(t))if(isNaN(+t)){var u=ta(t);u&&(l=u,s=3)}else s=0;else if(Ky(t)){var h=oe({},l);h.colorStops=De(t.colorStops,function(f){return{offset:f.offset,color:ta(f.color)}}),function dCe(e){return"linear"===e.type}(t)?s=4:function fCe(e){return"radial"===e.type}(t)&&(s=5),l=h}0===a?this.valType=s:(s!==this.valType||6===s)&&(o=!0),this.discrete=this.discrete||o;var d={time:n,value:l,rawValue:t,percent:0};return r&&(d.easing=r,d.easingFunc=Ze(r)?r:vV[r]||DV(r)),i.push(d),d},e.prototype.prepare=function(n,t){var r=this.keyframes;this._needsSort&&r.sort(function(g,m){return g.time-m.time});for(var i=this.valType,a=r.length,o=r[a-1],s=this.discrete,l=x2(i),c=FV(i),u=0;u<a;u++){var h=r[u],d=h.value,f=o.value;h.percent=h.time/n,s||(l&&u!==a-1?mCe(d,f,i):c&&gCe(d.colorStops,f.colorStops))}if(!s&&5!==i&&t&&this.needsAnimate()&&t.needsAnimate()&&i===t.valType&&!t._finished){this._additiveTrack=t;var p=r[0].value;for(u=0;u<a;u++)0===i?r[u].additiveValue=r[u].value-p:3===i?r[u].additiveValue=y2([],r[u].value,p,-1):x2(i)&&(r[u].additiveValue=1===i?y2([],r[u].value,p,-1):RV([],r[u].value,p,-1))}},e.prototype.step=function(n,t){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var u,f,p,r=null!=this._additiveTrack,i=r?"additiveValue":"value",a=this.valType,o=this.keyframes,s=o.length,l=this.propName,c=3===a,h=this._lastFr,d=Math.min;if(1===s)f=p=o[0];else{if(t<0)u=0;else if(t<this._lastFrP){for(u=d(h+1,s-1);u>=0&&!(o[u].percent<=t);u--);u=d(u,s-2)}else{for(u=h;u<s&&!(o[u].percent>t);u++);u=d(u-1,s-2)}p=o[u+1],f=o[u]}if(f&&p){this._lastFr=u,this._lastFrP=t;var m=p.percent-f.percent,v=0===m?1:d((t-f.percent)/m,1);p.easingFunc&&(v=p.easingFunc(v));var _=r?this._additiveValue:c?e1:n[l];if((x2(a)||c)&&!_&&(_=this._additiveValue=[]),this.discrete)n[l]=v<1?f.rawValue:p.rawValue;else if(x2(a))1===a?v3(_,f[i],p[i],v):function pCe(e,n,t,r){for(var i=n.length,a=i&&n[0].length,o=0;o<i;o++){e[o]||(e[o]=[]);for(var s=0;s<a;s++)e[o][s]=Al(n[o][s],t[o][s],r)}}(_,f[i],p[i],v);else if(FV(a)){var y=f[i],b=p[i],w=4===a;n[l]={type:w?"linear":"radial",x:Al(y.x,b.x,v),y:Al(y.y,b.y,v),colorStops:De(y.colorStops,function(S,x){var M=b.colorStops[x];return{offset:Al(S.offset,M.offset,v),color:C2(v3([],S.color,M.color,v))}}),global:b.global},w?(n[l].x2=Al(y.x2,b.x2,v),n[l].y2=Al(y.y2,b.y2,v)):n[l].r=Al(y.r,b.r,v)}else if(c)v3(_,f[i],p[i],v),r||(n[l]=C2(_));else{var C=Al(f[i],p[i],v);r?this._additiveValue=C:n[l]=C}r&&this._addToTarget(n)}}},e.prototype._addToTarget=function(n){var t=this.valType,r=this.propName,i=this._additiveValue;0===t?n[r]=n[r]+i:3===t?(ta(n[r],e1),y2(e1,e1,i,1),n[r]=C2(e1)):1===t?y2(n[r],n[r],i,1):2===t&&RV(n[r],n[r],i,1)},e}(),yCe=function(){function e(n,t,r,i){this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=n,this._loop=t,t&&i?GD("Can' use additive animation on looped animation."):(this._additiveAnimators=i,this._allowDiscrete=r)}return e.prototype.getMaxTime=function(){return this._maxTime},e.prototype.getDelay=function(){return this._delay},e.prototype.getLoop=function(){return this._loop},e.prototype.getTarget=function(){return this._target},e.prototype.changeTarget=function(n){this._target=n},e.prototype.when=function(n,t,r){return this.whenWithKeys(n,t,Bn(t),r)},e.prototype.whenWithKeys=function(n,t,r,i){for(var a=this._tracks,o=0;o<r.length;o++){var s=r[o],l=a[s];if(!l){l=a[s]=new _Ce(s);var c=void 0,u=this._getAdditiveTrack(s);if(u){var h=u.keyframes,d=h[h.length-1];c=d&&d.value,3===u.valType&&c&&(c=C2(c))}else c=this._target[s];if(null==c)continue;n>0&&l.addKeyframe(0,b2(c),i),this._trackKeys.push(s)}l.addKeyframe(n,b2(t[s]),i)}return this._maxTime=Math.max(this._maxTime,n),this},e.prototype.pause=function(){this._clip.pause(),this._paused=!0},e.prototype.resume=function(){this._clip.resume(),this._paused=!1},e.prototype.isPaused=function(){return!!this._paused},e.prototype.duration=function(n){return this._maxTime=n,this._force=!0,this},e.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var n=this._doneCbs;if(n)for(var t=n.length,r=0;r<t;r++)n[r].call(this)},e.prototype._abortedCallback=function(){this._setTracksFinished();var n=this.animation,t=this._abortedCbs;if(n&&n.removeClip(this._clip),this._clip=null,t)for(var r=0;r<t.length;r++)t[r].call(this)},e.prototype._setTracksFinished=function(){for(var n=this._tracks,t=this._trackKeys,r=0;r<t.length;r++)n[t[r]].setFinished()},e.prototype._getAdditiveTrack=function(n){var t,r=this._additiveAnimators;if(r)for(var i=0;i<r.length;i++){var a=r[i].getTrack(n);a&&(t=a)}return t},e.prototype.start=function(n){if(!(this._started>0)){this._started=1;for(var t=this,r=[],i=this._maxTime||0,a=0;a<this._trackKeys.length;a++){var o=this._trackKeys[a],s=this._tracks[o],l=this._getAdditiveTrack(o),c=s.keyframes,u=c.length;if(s.prepare(i,l),s.needsAnimate())if(!this._allowDiscrete&&s.discrete){var h=c[u-1];h&&(t._target[s.propName]=h.rawValue),s.setFinished()}else r.push(s)}if(r.length||this._force){var d=new iCe({life:i,loop:this._loop,delay:this._delay||0,onframe:function(f){t._started=2;var p=t._additiveAnimators;if(p){for(var g=!1,m=0;m<p.length;m++)if(p[m]._clip){g=!0;break}g||(t._additiveAnimators=null)}for(m=0;m<r.length;m++)r[m].step(t._target,f);var v=t._onframeCbs;if(v)for(m=0;m<v.length;m++)v[m](t._target,f)},ondestroy:function(){t._doneCallback()}});this._clip=d,this.animation&&this.animation.addClip(d),n&&d.setEasing(n)}else this._doneCallback();return this}},e.prototype.stop=function(n){this._clip&&(n&&this._clip.onframe(1),this._abortedCallback())},e.prototype.delay=function(n){return this._delay=n,this},e.prototype.during=function(n){return n&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(n)),this},e.prototype.done=function(n){return n&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(n)),this},e.prototype.aborted=function(n){return n&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(n)),this},e.prototype.getClip=function(){return this._clip},e.prototype.getTrack=function(n){return this._tracks[n]},e.prototype.getTracks=function(){var n=this;return De(this._trackKeys,function(t){return n._tracks[t]})},e.prototype.stopTracks=function(n,t){if(!n.length||!this._clip)return!0;for(var r=this._tracks,i=this._trackKeys,a=0;a<n.length;a++){var o=r[n[a]];o&&!o.isFinished()&&(t?o.step(this._target,1):1===this._started&&o.step(this._target,0),o.setFinished())}var s=!0;for(a=0;a<i.length;a++)if(!r[i[a]].isFinished()){s=!1;break}return s&&this._abortedCallback(),s},e.prototype.saveTo=function(n,t,r){if(n){t=t||this._trackKeys;for(var i=0;i<t.length;i++){var a=t[i],o=this._tracks[a];if(o&&!o.isFinished()){var s=o.keyframes,l=s[r?0:s.length-1];l&&(n[a]=b2(l.rawValue))}}}},e.prototype.__changeFinalValue=function(n,t){t=t||Bn(n);for(var r=0;r<t.length;r++){var i=t[r],a=this._tracks[i];if(a){var o=a.keyframes;if(o.length>1){var s=o.pop();a.addKeyframe(s.time,n[i]),a.prepare(this._maxTime,a.getAdditiveTrack())}}}},e}();const M2=yCe;function Af(){return(new Date).getTime()}var bCe=function(e){function n(t){var r=e.call(this)||this;return r._running=!1,r._time=0,r._pausedTime=0,r._pauseStart=0,r._paused=!1,r.stage=(t=t||{}).stage||{},r}return On(n,e),n.prototype.addClip=function(t){t.animation&&this.removeClip(t),this._head?(this._tail.next=t,t.prev=this._tail,t.next=null,this._tail=t):this._head=this._tail=t,t.animation=this},n.prototype.addAnimator=function(t){t.animation=this;var r=t.getClip();r&&this.addClip(r)},n.prototype.removeClip=function(t){if(t.animation){var r=t.prev,i=t.next;r?r.next=i:this._head=i,i?i.prev=r:this._tail=r,t.next=t.prev=t.animation=null}},n.prototype.removeAnimator=function(t){var r=t.getClip();r&&this.removeClip(r),t.animation=null},n.prototype.update=function(t){for(var r=Af()-this._pausedTime,i=r-this._time,a=this._head;a;){var o=a.next;a.step(r,i)&&(a.ondestroy(),this.removeClip(a)),a=o}this._time=r,t||(this.trigger("frame",i),this.stage.update&&this.stage.update())},n.prototype._startLoop=function(){var t=this;this._running=!0,Mf(function r(){t._running&&(Mf(r),!t._paused&&t.update())})},n.prototype.start=function(){this._running||(this._time=Af(),this._pausedTime=0,this._startLoop())},n.prototype.stop=function(){this._running=!1},n.prototype.pause=function(){this._paused||(this._pauseStart=Af(),this._paused=!0)},n.prototype.resume=function(){this._paused&&(this._pausedTime+=Af()-this._pauseStart,this._paused=!1)},n.prototype.clear=function(){for(var t=this._head;t;){var r=t.next;t.prev=t.next=t.animation=null,t=r}this._head=this._tail=null},n.prototype.isFinished=function(){return null==this._head},n.prototype.animate=function(t,r){r=r||{},this.start();var i=new M2(t,r.loop);return this.addAnimator(i),i},n}(Hs);const CCe=bCe;var b3=Bt.domSupported,C3=function(){var e=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],t={pointerdown:1,pointerup:1,pointermove:1,pointerout:1};return{mouse:e,touch:["touchstart","touchend","touchmove"],pointer:De(e,function(i){var a=i.replace("mouse","pointer");return t.hasOwnProperty(a)?a:i})}}(),zV_mouse=["mousemove","mouseup"],zV_pointer=["pointermove","pointerup"],BV=!1;function w3(e){var n=e.pointerType;return"pen"===n||"touch"===n}function S3(e){e&&(e.zrByTouch=!0)}function VV(e,n){for(var t=n,r=!1;t&&9!==t.nodeType&&!(r=t.domBelongToZr||t!==n&&t===e.painterRoot);)t=t.parentNode;return r}var MCe=function e(n,t){this.stopPropagation=ea,this.stopImmediatePropagation=ea,this.preventDefault=ea,this.type=t.type,this.target=this.currentTarget=n.dom,this.pointerType=t.pointerType,this.clientX=t.clientX,this.clientY=t.clientY},as={mousedown:function(e){e=To(this.dom,e),this.__mayPointerCapture=[e.zrX,e.zrY],this.trigger("mousedown",e)},mousemove:function(e){e=To(this.dom,e);var n=this.__mayPointerCapture;n&&(e.zrX!==n[0]||e.zrY!==n[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",e)},mouseup:function(e){e=To(this.dom,e),this.__togglePointerCapture(!1),this.trigger("mouseup",e)},mouseout:function(e){VV(this,(e=To(this.dom,e)).toElement||e.relatedTarget)||(this.__pointerCapturing&&(e.zrEventControl="no_globalout"),this.trigger("mouseout",e))},wheel:function(e){BV=!0,e=To(this.dom,e),this.trigger("mousewheel",e)},mousewheel:function(e){BV||(e=To(this.dom,e),this.trigger("mousewheel",e))},touchstart:function(e){S3(e=To(this.dom,e)),this.__lastTouchMoment=new Date,this.handler.processGesture(e,"start"),as.mousemove.call(this,e),as.mousedown.call(this,e)},touchmove:function(e){S3(e=To(this.dom,e)),this.handler.processGesture(e,"change"),as.mousemove.call(this,e)},touchend:function(e){S3(e=To(this.dom,e)),this.handler.processGesture(e,"end"),as.mouseup.call(this,e),+new Date-+this.__lastTouchMoment<300&&as.click.call(this,e)},pointerdown:function(e){as.mousedown.call(this,e)},pointermove:function(e){w3(e)||as.mousemove.call(this,e)},pointerup:function(e){as.mouseup.call(this,e)},pointerout:function(e){w3(e)||as.mouseout.call(this,e)}};I(["click","dblclick","contextmenu"],function(e){as[e]=function(n){n=To(this.dom,n),this.trigger(e,n)}});var x3={pointermove:function(e){w3(e)||x3.mousemove.call(this,e)},pointerup:function(e){x3.mouseup.call(this,e)},mousemove:function(e){this.trigger("mousemove",e)},mouseup:function(e){var n=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",e),n&&(e.zrEventControl="only_globalout",this.trigger("mouseout",e))}};function T2(e,n,t,r){e.mounted[n]=t,e.listenerOpts[n]=r,function Lbe(e,n,t,r){e.addEventListener(n,t,r)}(e.domTarget,n,t,r)}function M3(e){var n=e.mounted;for(var t in n)n.hasOwnProperty(t)&&kbe(e.domTarget,t,n[t],e.listenerOpts[t]);e.mounted={}}var HV=function e(n,t){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=n,this.domHandlers=t},ECe=function(e){function n(t,r){var i=e.call(this)||this;return i.__pointerCapturing=!1,i.dom=t,i.painterRoot=r,i._localHandlerScope=new HV(t,as),b3&&(i._globalHandlerScope=new HV(document,x3)),function TCe(e,n){var t=n.domHandlers;Bt.pointerEventsSupported?I(C3.pointer,function(r){T2(n,r,function(i){t[r].call(e,i)})}):(Bt.touchEventsSupported&&I(C3.touch,function(r){T2(n,r,function(i){t[r].call(e,i),function SCe(e){e.touching=!0,null!=e.touchTimer&&(clearTimeout(e.touchTimer),e.touchTimer=null),e.touchTimer=setTimeout(function(){e.touching=!1,e.touchTimer=null},700)}(n)})}),I(C3.mouse,function(r){T2(n,r,function(i){i=r3(i),n.touching||t[r].call(e,i)})}))}(i,i._localHandlerScope),i}return On(n,e),n.prototype.dispose=function(){M3(this._localHandlerScope),b3&&M3(this._globalHandlerScope)},n.prototype.setCursor=function(t){this.dom.style&&(this.dom.style.cursor=t||"default")},n.prototype.__togglePointerCapture=function(t){if(this.__mayPointerCapture=null,b3&&+this.__pointerCapturing^+t){this.__pointerCapturing=t;var r=this._globalHandlerScope;t?function DCe(e,n){function t(r){T2(n,r,function i(a){a=r3(a),VV(e,a.target)||(a=function xCe(e,n){return To(e.dom,new MCe(e,n),!0)}(e,a),n.domHandlers[r].call(e,a))},{capture:!0})}Bt.pointerEventsSupported?I(zV_pointer,t):Bt.touchEventsSupported||I(zV_mouse,t)}(this,r):M3(r)}},n}(Hs);const ACe=ECe;var UV=1;Bt.hasGlobalWindow&&(UV=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var D2=UV,D3="#333",E3="#ccc",GV=a2;function qu(e){return e>5e-5||e<-5e-5}var Zu=[],Nf=[],A3=[1,0,0,1,0,0],N3=Math.abs,ICe=function(){function e(){}return e.prototype.getLocalTransform=function(n){return e.getLocalTransform(this,n)},e.prototype.setPosition=function(n){this.x=n[0],this.y=n[1]},e.prototype.setScale=function(n){this.scaleX=n[0],this.scaleY=n[1]},e.prototype.setSkew=function(n){this.skewX=n[0],this.skewY=n[1]},e.prototype.setOrigin=function(n){this.originX=n[0],this.originY=n[1]},e.prototype.needLocalTransform=function(){return qu(this.rotation)||qu(this.x)||qu(this.y)||qu(this.scaleX-1)||qu(this.scaleY-1)||qu(this.skewX)||qu(this.skewY)},e.prototype.updateTransform=function(){var n=this.parent&&this.parent.transform,t=this.needLocalTransform(),r=this.transform;t||n?(r=r||[1,0,0,1,0,0],t?this.getLocalTransform(r):GV(r),n&&(t?Gu(r,n,r):function aV(e,n){return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e}(r,n)),this.transform=r,this._resolveGlobalScaleRatio(r)):r&&GV(r)},e.prototype._resolveGlobalScaleRatio=function(n){var t=this.globalScaleRatio;if(null!=t&&1!==t){this.getGlobalScale(Zu);var r=Zu[0]<0?-1:1,i=Zu[1]<0?-1:1,a=((Zu[0]-r)*t+r)/Zu[0]||0,o=((Zu[1]-i)*t+i)/Zu[1]||0;n[0]*=a,n[1]*=a,n[2]*=o,n[3]*=o}this.invTransform=this.invTransform||[1,0,0,1,0,0],Sf(this.invTransform,n)},e.prototype.getComputedTransform=function(){for(var n=this,t=[];n;)t.push(n),n=n.parent;for(;n=t.pop();)n.updateTransform();return this.transform},e.prototype.setLocalTransform=function(n){if(n){var t=n[0]*n[0]+n[1]*n[1],r=n[2]*n[2]+n[3]*n[3],i=Math.atan2(n[1],n[0]),a=Math.PI/2+i-Math.atan2(n[3],n[2]);r=Math.sqrt(r)*Math.cos(a),t=Math.sqrt(t),this.skewX=a,this.skewY=0,this.rotation=-i,this.x=+n[4],this.y=+n[5],this.scaleX=t,this.scaleY=r,this.originX=0,this.originY=0}},e.prototype.decomposeTransform=function(){if(this.transform){var n=this.parent,t=this.transform;n&&n.transform&&(Gu(Nf,n.invTransform,t),t=Nf);var r=this.originX,i=this.originY;(r||i)&&(A3[4]=r,A3[5]=i,Gu(Nf,t,A3),Nf[4]-=r,Nf[5]-=i,t=Nf),this.setLocalTransform(t)}},e.prototype.getGlobalScale=function(n){var t=this.transform;return n=n||[],t?(n[0]=Math.sqrt(t[0]*t[0]+t[1]*t[1]),n[1]=Math.sqrt(t[2]*t[2]+t[3]*t[3]),t[0]<0&&(n[0]=-n[0]),t[3]<0&&(n[1]=-n[1]),n):(n[0]=1,n[1]=1,n)},e.prototype.transformCoordToLocal=function(n,t){var r=[n,t],i=this.invTransform;return i&&zi(r,r,i),r},e.prototype.transformCoordToGlobal=function(n,t){var r=[n,t],i=this.transform;return i&&zi(r,r,i),r},e.prototype.getLineScale=function(){var n=this.transform;return n&&N3(n[0]-1)>1e-10&&N3(n[3]-1)>1e-10?Math.sqrt(N3(n[0]*n[3]-n[2]*n[1])):1},e.prototype.copyTransform=function(n){!function PCe(e,n){for(var t=0;t<t1.length;t++){var r=t1[t];e[r]=n[r]}}(this,n)},e.getLocalTransform=function(n,t){t=t||[];var r=n.originX||0,i=n.originY||0,a=n.scaleX,o=n.scaleY,s=n.anchorX,l=n.anchorY,c=n.rotation||0,u=n.x,h=n.y,d=n.skewX?Math.tan(n.skewX):0,f=n.skewY?Math.tan(-n.skewY):0;if(r||i||s||l){var p=r+s,g=i+l;t[4]=-p*a-d*g*o,t[5]=-g*o-f*p*a}else t[4]=t[5]=0;return t[0]=a,t[3]=o,t[1]=f*a,t[2]=d*o,c&&o3(t,t,c),t[4]+=r+u,t[5]+=i+h,t},e.initDefaultProps=function(){var n=e.prototype;n.scaleX=n.scaleY=n.globalScaleRatio=1,n.x=n.y=n.originX=n.originY=n.skewX=n.skewY=n.rotation=n.anchorX=n.anchorY=0}(),e}(),t1=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];const n1=ICe;var jV={};function no(e,n){var t=jV[n=n||Bu];t||(t=jV[n]=new Df(500));var r=t.get(e);return null==r&&(r=ns.measureText(e,n).width,t.put(e,r)),r}function $V(e,n,t,r){var i=no(e,n),a=P3(n),o=r1(0,i,t),s=If(0,a,r);return new Yt(o,s,i,a)}function I3(e,n,t,r){var i=((e||"")+"").split("\n");if(1===i.length)return $V(i[0],n,t,r);for(var o=new Yt(0,0,0,0),s=0;s<i.length;s++){var l=$V(i[s],n,t,r);0===s?o.copy(l):o.union(l)}return o}function r1(e,n,t){return"right"===t?e-=n:"center"===t&&(e-=n/2),e}function If(e,n,t){return"middle"===t?e-=n/2:"bottom"===t&&(e-=n),e}function P3(e){return no("\u56fd",e)}function Nl(e,n){return"string"==typeof e?e.lastIndexOf("%")>=0?parseFloat(e)/100*n:parseFloat(e):e}function E2(e,n,t){var r=n.position||"inside",i=null!=n.distance?n.distance:5,a=t.height,o=t.width,s=a/2,l=t.x,c=t.y,u="left",h="top";if(r instanceof Array)l+=Nl(r[0],t.width),c+=Nl(r[1],t.height),u=null,h=null;else switch(r){case"left":l-=i,c+=s,u="right",h="middle";break;case"right":l+=i+o,c+=s,h="middle";break;case"top":l+=o/2,c-=i,u="center",h="bottom";break;case"bottom":l+=o/2,c+=a+i,u="center";break;case"inside":l+=o/2,c+=s,u="center",h="middle";break;case"insideLeft":l+=i,c+=s,h="middle";break;case"insideRight":l+=o-i,c+=s,u="right",h="middle";break;case"insideTop":l+=o/2,c+=i,u="center";break;case"insideBottom":l+=o/2,c+=a-i,u="center",h="bottom";break;case"insideTopLeft":l+=i,c+=i;break;case"insideTopRight":l+=o-i,c+=i,u="right";break;case"insideBottomLeft":l+=i,c+=a-i,h="bottom";break;case"insideBottomRight":l+=o-i,c+=a-i,u="right",h="bottom"}return(e=e||{}).x=l,e.y=c,e.align=u,e.verticalAlign=h,e}var O3="__zr_normal__",R3=t1.concat(["ignore"]),OCe=Dl(t1,function(e,n){return e[n]=!0,e},{ignore:!1}),Pf={},RCe=new Yt(0,0,0,0),L3=function(){function e(n){this.id=W9(),this.animators=[],this.currentStates=[],this.states={},this._init(n)}return e.prototype._init=function(n){this.attr(n)},e.prototype.drift=function(n,t,r){switch(this.draggable){case"horizontal":t=0;break;case"vertical":n=0}var i=this.transform;i||(i=this.transform=[1,0,0,1,0,0]),i[4]+=n,i[5]+=t,this.decomposeTransform(),this.markRedraw()},e.prototype.beforeUpdate=function(){},e.prototype.afterUpdate=function(){},e.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},e.prototype.updateInnerText=function(n){var t=this._textContent;if(t&&(!t.ignore||n)){this.textConfig||(this.textConfig={});var r=this.textConfig,i=r.local,a=t.innerTransformable,o=void 0,s=void 0,l=!1;a.parent=i?this:null;var c=!1;if(a.copyTransform(t),null!=r.position){var u=RCe;u.copy(r.layoutRect?r.layoutRect:this.getBoundingRect()),i||u.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(Pf,r,u):E2(Pf,r,u),a.x=Pf.x,a.y=Pf.y,o=Pf.align,s=Pf.verticalAlign;var h=r.origin;if(h&&null!=r.rotation){var d=void 0,f=void 0;"center"===h?(d=.5*u.width,f=.5*u.height):(d=Nl(h[0],u.width),f=Nl(h[1],u.height)),c=!0,a.originX=-a.x+d+(i?0:u.x),a.originY=-a.y+f+(i?0:u.y)}}null!=r.rotation&&(a.rotation=r.rotation);var p=r.offset;p&&(a.x+=p[0],a.y+=p[1],c||(a.originX=-p[0],a.originY=-p[1]));var g=null==r.inside?"string"==typeof r.position&&r.position.indexOf("inside")>=0:r.inside,m=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),v=void 0,_=void 0,y=void 0;g&&this.canBeInsideText()?(_=r.insideStroke,(null==(v=r.insideFill)||"auto"===v)&&(v=this.getInsideTextFill()),(null==_||"auto"===_)&&(_=this.getInsideTextStroke(v),y=!0)):(_=r.outsideStroke,(null==(v=r.outsideFill)||"auto"===v)&&(v=this.getOutsideFill()),(null==_||"auto"===_)&&(_=this.getOutsideStroke(v),y=!0)),((v=v||"#000")!==m.fill||_!==m.stroke||y!==m.autoStroke||o!==m.align||s!==m.verticalAlign)&&(l=!0,m.fill=v,m.stroke=_,m.autoStroke=y,m.align=o,m.verticalAlign=s,t.setDefaultTextStyle(m)),t.__dirty|=1,l&&t.dirtyStyle(!0)}},e.prototype.canBeInsideText=function(){return!0},e.prototype.getInsideTextFill=function(){return"#fff"},e.prototype.getInsideTextStroke=function(n){return"#000"},e.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?E3:D3},e.prototype.getOutsideStroke=function(n){var t=this.__zr&&this.__zr.getBackgroundColor(),r="string"==typeof t&&ta(t);r||(r=[255,255,255,1]);for(var i=r[3],a=this.__zr.isDarkMode(),o=0;o<3;o++)r[o]=r[o]*i+(a?0:255)*(1-i);return r[3]=1,Gs(r,"rgba")},e.prototype.traverse=function(n,t){},e.prototype.attrKV=function(n,t){"textConfig"===n?this.setTextConfig(t):"textContent"===n?this.setTextContent(t):"clipPath"===n?this.setClipPath(t):"extra"===n?(this.extra=this.extra||{},oe(this.extra,t)):this[n]=t},e.prototype.hide=function(){this.ignore=!0,this.markRedraw()},e.prototype.show=function(){this.ignore=!1,this.markRedraw()},e.prototype.attr=function(n,t){if("string"==typeof n)this.attrKV(n,t);else if(ze(n))for(var i=Bn(n),a=0;a<i.length;a++){var o=i[a];this.attrKV(o,n[o])}return this.markRedraw(),this},e.prototype.saveCurrentToNormalState=function(n){this._innerSaveToNormal(n);for(var t=this._normalState,r=0;r<this.animators.length;r++){var i=this.animators[r],a=i.__fromStateTransition;if(!(i.getLoop()||a&&a!==O3)){var o=i.targetName;i.saveTo(o?t[o]:t)}}},e.prototype._innerSaveToNormal=function(n){var t=this._normalState;t||(t=this._normalState={}),n.textConfig&&!t.textConfig&&(t.textConfig=this.textConfig),this._savePrimaryToNormal(n,t,R3)},e.prototype._savePrimaryToNormal=function(n,t,r){for(var i=0;i<r.length;i++){var a=r[i];null!=n[a]&&!(a in t)&&(t[a]=this[a])}},e.prototype.hasState=function(){return this.currentStates.length>0},e.prototype.getState=function(n){return this.states[n]},e.prototype.ensureState=function(n){var t=this.states;return t[n]||(t[n]={}),t[n]},e.prototype.clearStates=function(n){this.useState(O3,!1,n)},e.prototype.useState=function(n,t,r,i){var a=n===O3;if(this.hasState()||!a){var s=this.currentStates,l=this.stateTransition;if(!(sn(s,n)>=0)||!t&&1!==s.length){var c;if(this.stateProxy&&!a&&(c=this.stateProxy(n)),c||(c=this.states&&this.states[n]),!c&&!a)return void GD("State "+n+" not exists.");a||this.saveCurrentToNormalState(c);var u=!!(c&&c.hoverLayer||i);u&&this._toggleHoverLayerFlag(!0),this._applyStateObj(n,c,this._normalState,t,!r&&!this.__inHover&&l&&l.duration>0,l);var h=this._textContent,d=this._textGuide;return h&&h.useState(n,t,r,u),d&&d.useState(n,t,r,u),a?(this.currentStates=[],this._normalState={}):t?this.currentStates.push(n):this.currentStates=[n],this._updateAnimationTargets(),this.markRedraw(),!u&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=-2),c}}},e.prototype.useStates=function(n,t,r){if(n.length){var i=[],a=this.currentStates,o=n.length,s=o===a.length;if(s)for(var l=0;l<o;l++)if(n[l]!==a[l]){s=!1;break}if(s)return;for(l=0;l<o;l++){var c=n[l],u=void 0;this.stateProxy&&(u=this.stateProxy(c,n)),u||(u=this.states[c]),u&&i.push(u)}var h=i[o-1],d=!!(h&&h.hoverLayer||r);d&&this._toggleHoverLayerFlag(!0);var f=this._mergeStates(i),p=this.stateTransition;this.saveCurrentToNormalState(f),this._applyStateObj(n.join(","),f,this._normalState,!1,!t&&!this.__inHover&&p&&p.duration>0,p);var g=this._textContent,m=this._textGuide;g&&g.useStates(n,t,d),m&&m.useStates(n,t,d),this._updateAnimationTargets(),this.currentStates=n.slice(),this.markRedraw(),!d&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=-2)}else this.clearStates()},e.prototype._updateAnimationTargets=function(){for(var n=0;n<this.animators.length;n++){var t=this.animators[n];t.targetName&&t.changeTarget(this[t.targetName])}},e.prototype.removeState=function(n){var t=sn(this.currentStates,n);if(t>=0){var r=this.currentStates.slice();r.splice(t,1),this.useStates(r)}},e.prototype.replaceState=function(n,t,r){var i=this.currentStates.slice(),a=sn(i,n),o=sn(i,t)>=0;a>=0?o?i.splice(a,1):i[a]=t:r&&!o&&i.push(t),this.useStates(i)},e.prototype.toggleState=function(n,t){t?this.useState(n,!0):this.removeState(n)},e.prototype._mergeStates=function(n){for(var r,t={},i=0;i<n.length;i++){var a=n[i];oe(t,a),a.textConfig&&oe(r=r||{},a.textConfig)}return r&&(t.textConfig=r),t},e.prototype._applyStateObj=function(n,t,r,i,a,o){var s=!(t&&i);t&&t.textConfig?(this.textConfig=oe({},i?this.textConfig:r.textConfig),oe(this.textConfig,t.textConfig)):s&&r.textConfig&&(this.textConfig=r.textConfig);for(var l={},c=!1,u=0;u<R3.length;u++){var h=R3[u],d=a&&OCe[h];t&&null!=t[h]?d?(c=!0,l[h]=t[h]):this[h]=t[h]:s&&null!=r[h]&&(d?(c=!0,l[h]=r[h]):this[h]=r[h])}if(!a)for(u=0;u<this.animators.length;u++){var f=this.animators[u],p=f.targetName;f.getLoop()||f.__changeFinalValue(p?(t||r)[p]:t||r)}c&&this._transitionState(n,l,o)},e.prototype._attachComponent=function(n){if((!n.__zr||n.__hostTarget)&&n!==this){var t=this.__zr;t&&n.addSelfToZr(t),n.__zr=t,n.__hostTarget=this}},e.prototype._detachComponent=function(n){n.__zr&&n.removeSelfFromZr(n.__zr),n.__zr=null,n.__hostTarget=null},e.prototype.getClipPath=function(){return this._clipPath},e.prototype.setClipPath=function(n){this._clipPath&&this._clipPath!==n&&this.removeClipPath(),this._attachComponent(n),this._clipPath=n,this.markRedraw()},e.prototype.removeClipPath=function(){var n=this._clipPath;n&&(this._detachComponent(n),this._clipPath=null,this.markRedraw())},e.prototype.getTextContent=function(){return this._textContent},e.prototype.setTextContent=function(n){var t=this._textContent;t!==n&&(t&&t!==n&&this.removeTextContent(),n.innerTransformable=new n1,this._attachComponent(n),this._textContent=n,this.markRedraw())},e.prototype.setTextConfig=function(n){this.textConfig||(this.textConfig={}),oe(this.textConfig,n),this.markRedraw()},e.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},e.prototype.removeTextContent=function(){var n=this._textContent;n&&(n.innerTransformable=null,this._detachComponent(n),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},e.prototype.getTextGuideLine=function(){return this._textGuide},e.prototype.setTextGuideLine=function(n){this._textGuide&&this._textGuide!==n&&this.removeTextGuideLine(),this._attachComponent(n),this._textGuide=n,this.markRedraw()},e.prototype.removeTextGuideLine=function(){var n=this._textGuide;n&&(this._detachComponent(n),this._textGuide=null,this.markRedraw())},e.prototype.markRedraw=function(){this.__dirty|=1;var n=this.__zr;n&&(this.__inHover?n.refreshHover():n.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},e.prototype.dirty=function(){this.markRedraw()},e.prototype._toggleHoverLayerFlag=function(n){this.__inHover=n;var t=this._textContent,r=this._textGuide;t&&(t.__inHover=n),r&&(r.__inHover=n)},e.prototype.addSelfToZr=function(n){if(this.__zr!==n){this.__zr=n;var t=this.animators;if(t)for(var r=0;r<t.length;r++)n.animation.addAnimator(t[r]);this._clipPath&&this._clipPath.addSelfToZr(n),this._textContent&&this._textContent.addSelfToZr(n),this._textGuide&&this._textGuide.addSelfToZr(n)}},e.prototype.removeSelfFromZr=function(n){if(this.__zr){this.__zr=null;var t=this.animators;if(t)for(var r=0;r<t.length;r++)n.animation.removeAnimator(t[r]);this._clipPath&&this._clipPath.removeSelfFromZr(n),this._textContent&&this._textContent.removeSelfFromZr(n),this._textGuide&&this._textGuide.removeSelfFromZr(n)}},e.prototype.animate=function(n,t,r){var a=new M2(n?this[n]:this,t,r);return n&&(a.targetName=n),this.addAnimator(a,n),a},e.prototype.addAnimator=function(n,t){var r=this.__zr,i=this;n.during(function(){i.updateDuringAnimation(t)}).done(function(){var a=i.animators,o=sn(a,n);o>=0&&a.splice(o,1)}),this.animators.push(n),r&&r.animation.addAnimator(n),r&&r.wakeUp()},e.prototype.updateDuringAnimation=function(n){this.markRedraw()},e.prototype.stopAnimation=function(n,t){for(var r=this.animators,i=r.length,a=[],o=0;o<i;o++){var s=r[o];n&&n!==s.scope?a.push(s):s.stop(t)}return this.animators=a,this},e.prototype.animateTo=function(n,t,r){k3(this,n,t,r)},e.prototype.animateFrom=function(n,t,r){k3(this,n,t,r,!0)},e.prototype._transitionState=function(n,t,r,i){for(var a=k3(this,t,r,i),o=0;o<a.length;o++)a[o].__fromStateTransition=n},e.prototype.getBoundingRect=function(){return null},e.prototype.getPaintRect=function(){return null},e.initDefaultProps=function(){var n=e.prototype;function i(a,o,s,l){function c(u,h){Object.defineProperty(h,0,{get:function(){return u[s]},set:function(d){u[s]=d}}),Object.defineProperty(h,1,{get:function(){return u[l]},set:function(d){u[l]=d}})}Object.defineProperty(n,a,{get:function(){return this[o]||c(this,this[o]=[]),this[o]},set:function(u){this[s]=u[0],this[l]=u[1],this[o]=u,c(this,u)}})}n.type="element",n.name="",n.ignore=n.silent=n.isGroup=n.draggable=n.dragging=n.ignoreClip=n.__inHover=!1,n.__dirty=1,Object.defineProperty&&(i("position","_legacyPos","x","y"),i("scale","_legacyScale","scaleX","scaleY"),i("origin","_legacyOrigin","originX","originY"))}(),e}();function k3(e,n,t,r,i){var a=[];YV(e,"",e,n,t=t||{},r,a,i);var o=a.length,s=!1,l=t.done,c=t.aborted,u=function(){s=!0,--o<=0&&(s?l&&l():c&&c())},h=function(){--o<=0&&(s?l&&l():c&&c())};o||l&&l(),a.length>0&&t.during&&a[0].during(function(p,g){t.during(g)});for(var d=0;d<a.length;d++){var f=a[d];u&&f.done(u),h&&f.aborted(h),t.force&&f.duration(t.duration),f.start(t.easing)}return a}function F3(e,n,t){for(var r=0;r<t;r++)e[r]=n[r]}function kCe(e,n,t){if(Ji(n[t]))if(Ji(e[t])||(e[t]=[]),eo(n[t])){var r=n[t].length;e[t].length!==r&&(e[t]=new n[t].constructor(r),F3(e[t],n[t],r))}else{var i=n[t],a=e[t],o=i.length;if(function LCe(e){return Ji(e[0])}(i))for(var s=i[0].length,l=0;l<o;l++)a[l]?F3(a[l],i[l],s):a[l]=Array.prototype.slice.call(i[l]);else F3(a,i,o);a.length=i.length}else e[t]=n[t]}function YV(e,n,t,r,i,a,o,s){for(var l=Bn(r),c=i.duration,u=i.delay,h=i.additive,d=i.setToFinal,f=!ze(a),p=e.animators,g=[],m=0;m<l.length;m++){var _=r[v=l[m]];if(null!=_&&null!=t[v]&&(f||a[v]))if(!ze(_)||Ji(_)||Ky(_))g.push(v);else{if(n){s||(t[v]=_,e.updateDuringAnimation(n));continue}YV(e,v,t[v],_,i,a&&a[v],o,s)}else s||(t[v]=_,e.updateDuringAnimation(n),g.push(v))}var y=g.length;if(!h&&y)for(var b=0;b<p.length;b++)if((w=p[b]).targetName===n&&w.stopTracks(g)){var S=sn(p,w);p.splice(S,1)}if(i.force||(g=Mr(g,function(T){return!function FCe(e,n){return e===n||Ji(e)&&Ji(n)&&function zCe(e,n){var t=e.length;if(t!==n.length)return!1;for(var r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}(e,n)}(r[T],t[T])}),y=g.length),y>0||i.force&&!o.length){var w,x=void 0,M=void 0,E=void 0;if(s)for(M={},d&&(x={}),b=0;b<y;b++)M[v=g[b]]=t[v],d?x[v]=r[v]:t[v]=r[v];else if(d)for(E={},b=0;b<y;b++){var v;E[v=g[b]]=b2(t[v]),kCe(t,r,v)}(w=new M2(t,!1,!1,h?Mr(p,function(A){return A.targetName===n}):null)).targetName=n,i.scope&&(w.scope=i.scope),d&&x&&w.whenWithKeys(0,x,g),E&&w.whenWithKeys(0,E,g),w.whenWithKeys(c??500,s?M:r,g).delay(u||0),e.addAnimator(w,n),o.push(w)}}Ta(L3,Hs),Ta(L3,n1);const XV=L3;var qV=function(e){function n(t){var r=e.call(this)||this;return r.isGroup=!0,r._children=[],r.attr(t),r}return On(n,e),n.prototype.childrenRef=function(){return this._children},n.prototype.children=function(){return this._children.slice()},n.prototype.childAt=function(t){return this._children[t]},n.prototype.childOfName=function(t){for(var r=this._children,i=0;i<r.length;i++)if(r[i].name===t)return r[i]},n.prototype.childCount=function(){return this._children.length},n.prototype.add=function(t){return t&&t!==this&&t.parent!==this&&(this._children.push(t),this._doAdd(t)),this},n.prototype.addBefore=function(t,r){if(t&&t!==this&&t.parent!==this&&r&&r.parent===this){var i=this._children,a=i.indexOf(r);a>=0&&(i.splice(a,0,t),this._doAdd(t))}return this},n.prototype.replace=function(t,r){var i=sn(this._children,t);return i>=0&&this.replaceAt(r,i),this},n.prototype.replaceAt=function(t,r){var i=this._children,a=i[r];if(t&&t!==this&&t.parent!==this&&t!==a){i[r]=t,a.parent=null;var o=this.__zr;o&&a.removeSelfFromZr(o),this._doAdd(t)}return this},n.prototype._doAdd=function(t){t.parent&&t.parent.remove(t),t.parent=this;var r=this.__zr;r&&r!==t.__zr&&t.addSelfToZr(r),r&&r.refresh()},n.prototype.remove=function(t){var r=this.__zr,i=this._children,a=sn(i,t);return a<0||(i.splice(a,1),t.parent=null,r&&t.removeSelfFromZr(r),r&&r.refresh()),this},n.prototype.removeAll=function(){for(var t=this._children,r=this.__zr,i=0;i<t.length;i++){var a=t[i];r&&a.removeSelfFromZr(r),a.parent=null}return t.length=0,this},n.prototype.eachChild=function(t,r){for(var i=this._children,a=0;a<i.length;a++)t.call(r,i[a],a);return this},n.prototype.traverse=function(t,r){for(var i=0;i<this._children.length;i++){var a=this._children[i],o=t.call(r,a);a.isGroup&&!o&&a.traverse(t,r)}return this},n.prototype.addSelfToZr=function(t){e.prototype.addSelfToZr.call(this,t);for(var r=0;r<this._children.length;r++)this._children[r].addSelfToZr(t)},n.prototype.removeSelfFromZr=function(t){e.prototype.removeSelfFromZr.call(this,t);for(var r=0;r<this._children.length;r++)this._children[r].removeSelfFromZr(t)},n.prototype.getBoundingRect=function(t){for(var r=new Yt(0,0,0,0),i=t||this._children,a=[],o=null,s=0;s<i.length;s++){var l=i[s];if(!l.ignore&&!l.invisible){var c=l.getBoundingRect(),u=l.getLocalTransform(a);u?(Yt.applyTransform(r,c,u),(o=o||r.clone()).union(r)):(o=o||c.clone()).union(c)}}return o||r},n}(XV);qV.prototype.type="group";const $r=qV;var A2={},Ku={},HCe=function(){function e(n,t,r){var i=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,r=r||{},this.dom=t,this.id=n;var a=new Qbe,o=r.renderer||"canvas";A2[o]||(o=Bn(A2)[0]),r.useDirtyRect=null!=r.useDirtyRect&&r.useDirtyRect;var s=new A2[o](t,a,r,n),l=r.ssr||s.ssrOnly;this.storage=a,this.painter=s;var f,c=Bt.node||Bt.worker||l?null:new ACe(s.getViewportRoot(),s.root),u=r.useCoarsePointer;(null==u||"auto"===u?Bt.touchEventsSupported:!!u)&&(f=qt(r.pointerSize,44)),this.handler=new Ybe(a,s,c,s.root,f),this.animation=new CCe({stage:{update:l?null:function(){return i._flush(!0)}}}),l||this.animation.start()}return e.prototype.add=function(n){!n||(this.storage.addRoot(n),n.addSelfToZr(this),this.refresh())},e.prototype.remove=function(n){!n||(this.storage.delRoot(n),n.removeSelfFromZr(this),this.refresh())},e.prototype.configLayer=function(n,t){this.painter.configLayer&&this.painter.configLayer(n,t),this.refresh()},e.prototype.setBackgroundColor=function(n){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(n),this.refresh(),this._backgroundColor=n,this._darkMode=function VCe(e){if(!e)return!1;if("string"==typeof e)return v2(e,1)<.4;if(e.colorStops){for(var n=e.colorStops,t=0,r=n.length,i=0;i<r;i++)t+=v2(n[i].color,1);return(t/=r)<.4}return!1}(n)},e.prototype.getBackgroundColor=function(){return this._backgroundColor},e.prototype.setDarkMode=function(n){this._darkMode=n},e.prototype.isDarkMode=function(){return this._darkMode},e.prototype.refreshImmediately=function(n){n||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},e.prototype.refresh=function(){this._needsRefresh=!0,this.animation.start()},e.prototype.flush=function(){this._flush(!1)},e.prototype._flush=function(n){var t,r=Af();this._needsRefresh&&(t=!0,this.refreshImmediately(n)),this._needsRefreshHover&&(t=!0,this.refreshHoverImmediately());var i=Af();t?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:i-r})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},e.prototype.setSleepAfterStill=function(n){this._sleepAfterStill=n},e.prototype.wakeUp=function(){this.animation.start(),this._stillFrameAccum=0},e.prototype.refreshHover=function(){this._needsRefreshHover=!0},e.prototype.refreshHoverImmediately=function(){this._needsRefreshHover=!1,this.painter.refreshHover&&"canvas"===this.painter.getType()&&this.painter.refreshHover()},e.prototype.resize=function(n){this.painter.resize((n=n||{}).width,n.height),this.handler.resize()},e.prototype.clearAnimation=function(){this.animation.clear()},e.prototype.getWidth=function(){return this.painter.getWidth()},e.prototype.getHeight=function(){return this.painter.getHeight()},e.prototype.setCursorStyle=function(n){this.handler.setCursorStyle(n)},e.prototype.findHover=function(n,t){return this.handler.findHover(n,t)},e.prototype.on=function(n,t,r){return this.handler.on(n,t,r),this},e.prototype.off=function(n,t){this.handler.off(n,t)},e.prototype.trigger=function(n,t){this.handler.trigger(n,t)},e.prototype.clear=function(){for(var n=this.storage.getRoots(),t=0;t<n.length;t++)n[t]instanceof $r&&n[t].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()},e.prototype.dispose=function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,function BCe(e){delete Ku[e]}(this.id)},e}();function z3(e,n){var t=new HCe(W9(),e,n);return Ku[t.id]=t,t}function os(e,n,t,r){var i=n[0],a=n[1],o=t[0],s=t[1],l=a-i,c=s-o;if(0===l)return 0===c?o:(o+s)/2;if(r)if(l>0){if(e<=i)return o;if(e>=a)return s}else{if(e>=i)return o;if(e<=a)return s}else{if(e===i)return o;if(e===a)return s}return(e-i)/l*c+o}function oi(e,n){switch(e){case"center":case"middle":e="50%";break;case"left":case"top":e="0%";break;case"right":case"bottom":e="100%"}return Fe(e)?function GCe(e){return e.replace(/^\s+|\s+$/g,"")}(e).match(/%$/)?parseFloat(e)/100*n:parseFloat(e):null==e?NaN:+e}function ur(e,n,t){return null==n&&(n=10),n=Math.min(Math.max(0,n),20),e=(+e).toFixed(n),t?e:+e}function QV(e){return e.sort(function(n,t){return n-t}),e}function Ws(e){if(e=+e,isNaN(e))return 0;if(e>1e-14)for(var n=1,t=0;t<15;t++,n*=10)if(Math.round(e*n)/n===e)return t;return B3(e)}function B3(e){var n=e.toString().toLowerCase(),t=n.indexOf("e"),r=t>0?+n.slice(t+1):0,i=t>0?t:n.length,a=n.indexOf(".");return Math.max(0,(a<0?0:i-1-a)-r)}function $Ce(e,n){var t=Math.max(Ws(e),Ws(n)),r=e+n;return t>20?r:ur(r,t)}function JV(e){var n=2*Math.PI;return(e%n+n)%n}function N2(e){return e>-1e-4&&e<1e-4}var YCe=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function ss(e){if(e instanceof Date)return e;if(Fe(e)){var n=YCe.exec(e);if(!n)return new Date(NaN);if(n[8]){var t=+n[4]||0;return"Z"!==n[8].toUpperCase()&&(t-=+n[8].slice(0,3)),new Date(Date.UTC(+n[1],+(n[2]||1)-1,+n[3]||1,t,+(n[5]||0),+n[6]||0,n[7]?+n[7].substring(0,3):0))}return new Date(+n[1],+(n[2]||1)-1,+n[3]||1,+n[4]||0,+(n[5]||0),+n[6]||0,n[7]?+n[7].substring(0,3):0)}return null==e?new Date(NaN):new Date(Math.round(e))}function V3(e){if(0===e)return 0;var n=Math.floor(Math.log(e)/Math.LN10);return e/Math.pow(10,n)>=10&&n++,n}function eH(e,n){var t=V3(e),r=Math.pow(10,t),i=e/r;return e=(n?i<1.5?1:i<2.5?2:i<4?3:i<7?5:10:i<1?1:i<2?2:i<3?3:i<5?5:10)*r,t>=-20?+e.toFixed(t<0?-t:0):e}function tH(e){e.sort(function(l,c){return s(l,c,0)?-1:1});for(var n=-1/0,t=1,r=0;r<e.length;){for(var i=e[r].interval,a=e[r].close,o=0;o<2;o++)i[o]<=n&&(i[o]=n,a[o]=o?1:1-t),n=i[o],t=a[o];i[0]===i[1]&&a[0]*a[1]!=1?e.splice(r,1):r++}return e;function s(l,c,u){return l.interval[u]<c.interval[u]||l.interval[u]===c.interval[u]&&(l.close[u]-c.close[u]==(u?-1:1)||!u&&s(l,c,1))}}function yc(e){var n=parseFloat(e);return n==e&&(0!==n||!Fe(e)||e.indexOf("x")<=0)?n:NaN}function nH(){return Math.round(9*Math.random())}function rH(e,n){return 0===n?e:rH(n,e%n)}function iH(e,n){return null==e?n:null==n?e:e*n/rH(e,n)}function aH(e,n,t){return(n-e)*t+e}var oH="series\0";function mr(e){return e instanceof Array?e:null==e?[]:[e]}function H3(e,n,t){if(e){e[n]=e[n]||{},e.emphasis=e.emphasis||{},e.emphasis[n]=e.emphasis[n]||{};for(var r=0,i=t.length;r<i;r++){var a=t[r];!e.emphasis[n].hasOwnProperty(a)&&e[n].hasOwnProperty(a)&&(e.emphasis[n][a]=e[n][a])}}}var lH=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function a1(e){return!ze(e)||ne(e)||e instanceof Date?e:e.value}function ZCe(e){return ze(e)&&!(e instanceof Array)}function cH(e,n,t){var r=ls(n[e],null),i=ls(t[e],null);return null!=r&&null!=i&&r===i}function o1(e){return ls(e,"")}function ls(e,n){return null==e?n:Fe(e)?e:Sn(e)||jD(e)?e+"":n}function U3(e){var n=e.name;return!(!n||!n.indexOf(oH))}function s1(e){return e&&null!=e.id&&0===o1(e.id).indexOf("\0_ec_\0")}function Qu(e,n){return null!=n.dataIndexInside?n.dataIndexInside:null!=n.dataIndex?ne(n.dataIndex)?De(n.dataIndex,function(t){return e.indexOfRawIndex(t)}):e.indexOfRawIndex(n.dataIndex):null!=n.name?ne(n.name)?De(n.name,function(t){return e.indexOfName(t)}):e.indexOfName(n.name):void 0}function $n(){var e="__ec_inner_"+swe++;return function(n){return n[e]||(n[e]={})}}var swe=nH();function G3(e,n,t){var r=W3(n,t),a=r.queryOptionMap,s=r.others,l=t?t.defaultMainType:null;return!r.mainTypeSpecified&&l&&a.set(l,{}),a.each(function(c,u){var h=l1(e,u,c,{useDefault:l===u,enableAll:!t||null==t.enableAll||t.enableAll,enableNone:!t||null==t.enableNone||t.enableNone});s[u+"Models"]=h.models,s[u+"Model"]=h.models[0]}),s}function W3(e,n){var t;if(Fe(e)){var r={};r[e+"Index"]=0,t=r}else t=e;var i=bt(),a={},o=!1;return I(t,function(s,l){if("dataIndex"!==l&&"dataIndexInside"!==l){var c=l.match(/^(\w+)(Index|Id|Name)$/)||[],u=c[1],h=(c[2]||"").toLowerCase();!u||!h||n&&n.includeMainTypes&&sn(n.includeMainTypes,u)<0||(o=o||!!u,(i.get(u)||i.set(u,{}))[h]=s)}else a[l]=s}),{mainTypeSpecified:o,queryOptionMap:i,others:a}}var cs={useDefault:!0,enableAll:!1,enableNone:!1};function l1(e,n,t,r){r=r||cs;var i=t.index,a=t.id,o=t.name,s={models:null,specified:null!=i||null!=a||null!=o};if(!s.specified){var l=void 0;return s.models=r.useDefault&&(l=e.getComponent(n))?[l]:[],s}return"none"===i||!1===i?(rs(r.enableNone,'`"none"` or `false` is not a valid value on index option.'),s.models=[],s):("all"===i&&(rs(r.enableAll,'`"all"` is not a valid value on index option.'),i=a=o=null),s.models=e.queryComponents({mainType:n,index:i,id:a,name:o}),s)}function uH(e,n,t){e.setAttribute?e.setAttribute(n,t):e[n]=t}function hH(e,n,t,r,i){var a=null==n||"auto"===n;if(null==r)return r;if(Sn(r))return ur(o=aH(t||0,r,i),a?Math.max(Ws(t||0),Ws(r)):n);if(Fe(r))return i<1?t:r;for(var s=[],l=t,c=r,u=Math.max(l?l.length:0,c.length),h=0;h<u;++h){var d=e.getDimensionInfo(h);if(d&&"ordinal"===d.type)s[h]=(i<1&&l?l:c)[h];else{var f=l&&l[h]?l[h]:0,p=c[h],o=aH(f,p,i);s[h]=ur(o,a?Math.max(Ws(f),Ws(p)):n)}}return s}var Ju="___EC__COMPONENT__CONTAINER___",dH="___EC__EXTENDED_CLASS___";function js(e){var n={main:"",sub:""};if(e){var t=e.split(".");n.main=t[0]||"",n.sub=t[1]||""}return n}function j3(e,n){e.$constructor=e,e.extend=function(t){var i,r=this;return function fwe(e){return Ze(e)&&/^class\s/.test(Function.prototype.toString.call(e))}(r)?i=function(a){function o(){return a.apply(this,arguments)||this}return ke(o,a),o}(r):(i=function(){(t.$constructor||r).apply(this,arguments)},WD(i,this)),oe(i.prototype,t),i[dH]=!0,i.extend=this.extend,i.superCall=mwe,i.superApply=vwe,i.superClass=r,i}}function fH(e,n){e.extend=n.extend}var pwe=Math.round(10*Math.random());function mwe(e,n){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];return this.superClass.prototype[n].apply(e,t)}function vwe(e,n,t){return this.superClass.prototype[n].apply(e,t)}function I2(e){var n={};e.registerClass=function(r){var i=r.type||r.prototype.type;if(i){(function hwe(e){rs(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(e),'componentType "'+e+'" illegal')})(i),r.prototype.type=i;var a=js(i);if(a.sub){if(a.sub!==Ju){var o=function t(r){var i=n[r.main];return(!i||!i[Ju])&&((i=n[r.main]={})[Ju]=!0),i}(a);o[a.sub]=r}}else n[a.main]=r}return r},e.getClass=function(r,i,a){var o=n[r];if(o&&o[Ju]&&(o=i?o[i]:null),a&&!o)throw new Error(i?"Component "+r+"."+(i||"")+" is used but not imported.":r+".type should be specified.");return o},e.getClassesByMainType=function(r){var i=js(r),a=[],o=n[i.main];return o&&o[Ju]?I(o,function(s,l){l!==Ju&&a.push(s)}):a.push(o),a},e.hasClass=function(r){var i=js(r);return!!n[i.main]},e.getAllClassMainTypes=function(){var r=[];return I(n,function(i,a){r.push(a)}),r},e.hasSubTypes=function(r){var i=js(r),a=n[i.main];return a&&a[Ju]}}function c1(e,n){for(var t=0;t<e.length;t++)e[t][1]||(e[t][1]=e[t][0]);return n=n||!1,function(r,i,a){for(var o={},s=0;s<e.length;s++){var l=e[s][1];if(!(i&&sn(i,l)>=0||a&&sn(a,l)<0)){var c=r.getShallow(l,n);null!=c&&(o[e[s][0]]=c)}}return o}}var ywe=c1([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),bwe=function(){function e(){}return e.prototype.getAreaStyle=function(n,t){return ywe(this,n,t)},e}(),$3=new Df(50);function Cwe(e){if("string"==typeof e){var n=$3.get(e);return n&&n.image}return e}function pH(e,n,t,r,i){if(e){if("string"==typeof e){if(n&&n.__zrImageSrc===e||!t)return n;var a=$3.get(e),o={hostEl:t,cb:r,cbPayload:i};return a?!P2(n=a.image)&&a.pending.push(o):((n=ns.loadImage(e,gH,gH)).__zrImageSrc=e,$3.put(e,n.__cachedImgObj={image:n,pending:[o]})),n}return e}return n}function gH(){var e=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var n=0;n<e.pending.length;n++){var t=e.pending[n],r=t.cb;r&&r(this,t.cbPayload),t.hostEl.dirty()}e.pending.length=0}function P2(e){return e&&e.width&&e.height}var Y3=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function wwe(e,n,t,r,i){if(!n)return"";var a=(e+"").split("\n");i=mH(n,t,r,i);for(var o=0,s=a.length;o<s;o++)a[o]=vH(a[o],i);return a.join("\n")}function mH(e,n,t,r){var i=oe({},r=r||{});i.font=n,t=qt(t,"..."),i.maxIterations=qt(r.maxIterations,2);var a=i.minChar=qt(r.minChar,0);i.cnCharWidth=no("\u56fd",n);var o=i.ascCharWidth=no("a",n);i.placeholder=qt(r.placeholder,"");for(var s=e=Math.max(0,e-1),l=0;l<a&&s>=o;l++)s-=o;var c=no(t,n);return c>s&&(t="",c=0),s=e-c,i.ellipsis=t,i.ellipsisWidth=c,i.contentWidth=s,i.containerWidth=e,i}function vH(e,n){var t=n.containerWidth,r=n.font,i=n.contentWidth;if(!t)return"";var a=no(e,r);if(a<=t)return e;for(var o=0;;o++){if(a<=i||o>=n.maxIterations){e+=n.ellipsis;break}var s=0===o?Swe(e,i,n.ascCharWidth,n.cnCharWidth):a>0?Math.floor(e.length*i/a):0;a=no(e=e.substr(0,s),r)}return""===e&&(e=n.placeholder),e}function Swe(e,n,t,r){for(var i=0,a=0,o=e.length;a<o&&i<n;a++){var s=e.charCodeAt(a);i+=0<=s&&s<=127?t:r}return a}var Mwe=function e(){},_H=function e(n){this.tokens=[],n&&(this.tokens=n)},Twe=function e(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]};function X3(e,n,t,r,i){var u,h,a=""===n,o=i&&t.rich[i]||{},s=e.lines,l=o.font||t.font,c=!1;if(r){var d=o.padding,f=d?d[1]+d[3]:0;if(null!=o.width&&"auto"!==o.width){var p=Nl(o.width,r.width)+f;s.length>0&&p+r.accumWidth>r.width&&(u=n.split("\n"),c=!0),r.accumWidth=p}else{var g=yH(n,l,r.width,r.breakAll,r.accumWidth);r.accumWidth=g.accumWidth+f,h=g.linesWidths,u=g.lines}}else u=n.split("\n");for(var m=0;m<u.length;m++){var v=u[m],_=new Mwe;if(_.styleName=i,_.text=v,_.isLineHolder=!v&&!a,_.width="number"==typeof o.width?o.width:h?h[m]:no(v,l),m||c)s.push(new _H([_]));else{var y=(s[s.length-1]||(s[0]=new _H)).tokens,b=y.length;1===b&&y[0].isLineHolder?y[0]=_:(v||!b||a)&&y.push(_)}}}var Awe=Dl(",&?/;] ".split(""),function(e,n){return e[n]=!0,e},{});function Nwe(e){return!function Ewe(e){var n=e.charCodeAt(0);return n>=33&&n<=383}(e)||!!Awe[e]}function yH(e,n,t,r,i){for(var a=[],o=[],s="",l="",c=0,u=0,h=0;h<e.length;h++){var d=e.charAt(h);if("\n"!==d){var f=no(d,n),p=!r&&!Nwe(d);(a.length?u+f>t:i+u+f>t)?u?(s||l)&&(p?(s||(s=l,l="",u=c=0),a.push(s),o.push(u-c),l+=d,s="",u=c+=f):(l&&(s+=l,l="",c=0),a.push(s),o.push(u),s=d,u=f)):p?(a.push(l),o.push(c),l=d,c=f):(a.push(d),o.push(f)):(u+=f,p?(l+=d,c+=f):(l&&(s+=l,l="",c=0),s+=d))}else l&&(s+=l,u+=c),a.push(s),o.push(u),s="",l="",c=0,u=0}return!a.length&&!s&&(s=e,l="",c=0),l&&(s+=l),s&&(a.push(s),o.push(u)),1===a.length&&(u+=i),{accumWidth:u,lines:a,linesWidths:o}}var q3="__zr_style_"+Math.round(10*Math.random()),eh={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},O2={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};eh[q3]=!0;var bH=["z","z2","invisible"],Iwe=["invisible"],Pwe=function(e){function n(t){return e.call(this,t)||this}return On(n,e),n.prototype._init=function(t){for(var r=Bn(t),i=0;i<r.length;i++){var a=r[i];"style"===a?this.useStyle(t[a]):e.prototype.attrKV.call(this,a,t[a])}this.style||this.useStyle({})},n.prototype.beforeBrush=function(){},n.prototype.afterBrush=function(){},n.prototype.innerBeforeBrush=function(){},n.prototype.innerAfterBrush=function(){},n.prototype.shouldBePainted=function(t,r,i,a){var o=this.transform;if(this.ignore||this.invisible||0===this.style.opacity||this.culling&&function Owe(e,n,t){return Z3.copy(e.getBoundingRect()),e.transform&&Z3.applyTransform(e.transform),K3.width=n,K3.height=t,!Z3.intersect(K3)}(this,t,r)||o&&!o[0]&&!o[3])return!1;if(i&&this.__clipPaths)for(var s=0;s<this.__clipPaths.length;++s)if(this.__clipPaths[s].isZeroArea())return!1;if(a&&this.parent)for(var l=this.parent;l;){if(l.ignore)return!1;l=l.parent}return!0},n.prototype.contain=function(t,r){return this.rectContain(t,r)},n.prototype.traverse=function(t,r){t.call(r,this)},n.prototype.rectContain=function(t,r){var i=this.transformCoordToLocal(t,r);return this.getBoundingRect().contain(i[0],i[1])},n.prototype.getPaintRect=function(){var t=this._paintRect;if(!this._paintRect||this.__dirty){var r=this.transform,i=this.getBoundingRect(),a=this.style,o=a.shadowBlur||0,s=a.shadowOffsetX||0,l=a.shadowOffsetY||0;t=this._paintRect||(this._paintRect=new Yt(0,0,0,0)),r?Yt.applyTransform(t,i,r):t.copy(i),(o||s||l)&&(t.width+=2*o+Math.abs(s),t.height+=2*o+Math.abs(l),t.x=Math.min(t.x,t.x+s-o),t.y=Math.min(t.y,t.y+l-o));var c=this.dirtyRectTolerance;t.isZero()||(t.x=Math.floor(t.x-c),t.y=Math.floor(t.y-c),t.width=Math.ceil(t.width+1+2*c),t.height=Math.ceil(t.height+1+2*c))}return t},n.prototype.setPrevPaintRect=function(t){t?(this._prevPaintRect=this._prevPaintRect||new Yt(0,0,0,0),this._prevPaintRect.copy(t)):this._prevPaintRect=null},n.prototype.getPrevPaintRect=function(){return this._prevPaintRect},n.prototype.animateStyle=function(t){return this.animate("style",t)},n.prototype.updateDuringAnimation=function(t){"style"===t?this.dirtyStyle():this.markRedraw()},n.prototype.attrKV=function(t,r){"style"!==t?e.prototype.attrKV.call(this,t,r):this.style?this.setStyle(r):this.useStyle(r)},n.prototype.setStyle=function(t,r){return"string"==typeof t?this.style[t]=r:oe(this.style,t),this.dirtyStyle(),this},n.prototype.dirtyStyle=function(t){t||this.markRedraw(),this.__dirty|=2,this._rect&&(this._rect=null)},n.prototype.dirty=function(){this.dirtyStyle()},n.prototype.styleChanged=function(){return!!(2&this.__dirty)},n.prototype.styleUpdated=function(){this.__dirty&=-3},n.prototype.createStyle=function(t){return t2(eh,t)},n.prototype.useStyle=function(t){t[q3]||(t=this.createStyle(t)),this.__inHover?this.__hoverStyle=t:this.style=t,this.dirtyStyle()},n.prototype.isStyleObject=function(t){return t[q3]},n.prototype._innerSaveToNormal=function(t){e.prototype._innerSaveToNormal.call(this,t);var r=this._normalState;t.style&&!r.style&&(r.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(t,r,bH)},n.prototype._applyStateObj=function(t,r,i,a,o,s){e.prototype._applyStateObj.call(this,t,r,i,a,o,s);var c,l=!(r&&a);if(r&&r.style?o?a?c=r.style:(c=this._mergeStyle(this.createStyle(),i.style),this._mergeStyle(c,r.style)):(c=this._mergeStyle(this.createStyle(),a?this.style:i.style),this._mergeStyle(c,r.style)):l&&(c=i.style),c)if(o){var u=this.style;if(this.style=this.createStyle(l?{}:u),l)for(var h=Bn(u),d=0;d<h.length;d++)(f=h[d])in c&&(c[f]=c[f],this.style[f]=u[f]);var p=Bn(c);for(d=0;d<p.length;d++)this.style[f=p[d]]=this.style[f];this._transitionState(t,{style:c},s,this.getAnimationStyleProps())}else this.useStyle(c);var g=this.__inHover?Iwe:bH;for(d=0;d<g.length;d++){var f=g[d];r&&null!=r[f]?this[f]=r[f]:l&&null!=i[f]&&(this[f]=i[f])}},n.prototype._mergeStates=function(t){for(var i,r=e.prototype._mergeStates.call(this,t),a=0;a<t.length;a++){var o=t[a];o.style&&this._mergeStyle(i=i||{},o.style)}return i&&(r.style=i),r},n.prototype._mergeStyle=function(t,r){return oe(t,r),t},n.prototype.getAnimationStyleProps=function(){return O2},n.initDefaultProps=((t=n.prototype).type="displayable",t.invisible=!1,t.z=0,t.z2=0,t.zlevel=0,t.culling=!1,t.cursor="pointer",t.rectHover=!1,t.incremental=!1,t._rect=null,t.dirtyRectTolerance=0,void(t.__dirty=3)),n;var t}(XV),Z3=new Yt(0,0,0,0),K3=new Yt(0,0,0,0);const Of=Pwe;var Da=Math.min,Ea=Math.max,Q3=Math.sin,J3=Math.cos,th=2*Math.PI,R2=bf(),L2=bf(),k2=bf();function CH(e,n,t){if(0!==e.length){for(var r=e[0],i=r[0],a=r[0],o=r[1],s=r[1],l=1;l<e.length;l++)i=Da(i,(r=e[l])[0]),a=Ea(a,r[0]),o=Da(o,r[1]),s=Ea(s,r[1]);n[0]=i,n[1]=o,t[0]=a,t[1]=s}}function wH(e,n,t,r,i,a){i[0]=Da(e,t),i[1]=Da(n,r),a[0]=Ea(e,t),a[1]=Ea(n,r)}var SH=[],xH=[];function Rwe(e,n,t,r,i,a,o,s,l,c){var u=wV,h=ai,d=u(e,t,i,o,SH);l[0]=1/0,l[1]=1/0,c[0]=-1/0,c[1]=-1/0;for(var f=0;f<d;f++){var p=h(e,t,i,o,SH[f]);l[0]=Da(p,l[0]),c[0]=Ea(p,c[0])}for(d=u(n,r,a,s,xH),f=0;f<d;f++){var g=h(n,r,a,s,xH[f]);l[1]=Da(g,l[1]),c[1]=Ea(g,c[1])}l[0]=Da(e,l[0]),c[0]=Ea(e,c[0]),l[0]=Da(o,l[0]),c[0]=Ea(o,c[0]),l[1]=Da(n,l[1]),c[1]=Ea(n,c[1]),l[1]=Da(s,l[1]),c[1]=Ea(s,c[1])}function Lwe(e,n,t,r,i,a,o,s){var l=MV,c=Bi,u=Ea(Da(l(e,t,i),1),0),h=Ea(Da(l(n,r,a),1),0),d=c(e,t,i,u),f=c(n,r,a,h);o[0]=Da(e,i,d),o[1]=Da(n,a,f),s[0]=Ea(e,i,d),s[1]=Ea(n,a,f)}function kwe(e,n,t,r,i,a,o,s,l){var c=Vu,u=Hu,h=Math.abs(i-a);if(h%th<1e-4&&h>1e-4)return s[0]=e-t,s[1]=n-r,l[0]=e+t,void(l[1]=n+r);if(R2[0]=J3(i)*t+e,R2[1]=Q3(i)*r+n,L2[0]=J3(a)*t+e,L2[1]=Q3(a)*r+n,c(s,R2,L2),u(l,R2,L2),(i%=th)<0&&(i+=th),(a%=th)<0&&(a+=th),i>a&&!o?a+=th:i<a&&o&&(i+=th),o){var d=a;a=i,i=d}for(var f=0;f<a;f+=Math.PI/2)f>i&&(k2[0]=J3(f)*t+e,k2[1]=Q3(f)*r+n,c(s,k2,s),u(l,k2,l))}var xn={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},nh=[],rh=[],$s=[],bc=[],Ys=[],Xs=[],eE=Math.min,tE=Math.max,ih=Math.cos,ah=Math.sin,Il=Math.abs,nE=Math.PI,Cc=2*nE,rE=typeof Float32Array<"u",u1=[];function iE(e){return Math.round(e/nE*1e8)/1e8%2*nE}var zwe=function(){function e(n){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,n&&(this._saveData=!1),this._saveData&&(this.data=[])}return e.prototype.increaseVersion=function(){this._version++},e.prototype.getVersion=function(){return this._version},e.prototype.setScale=function(n,t,r){(r=r||0)>0&&(this._ux=Il(r/D2/n)||0,this._uy=Il(r/D2/t)||0)},e.prototype.setDPR=function(n){this.dpr=n},e.prototype.setContext=function(n){this._ctx=n},e.prototype.getContext=function(){return this._ctx},e.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},e.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},e.prototype.moveTo=function(n,t){return this._drawPendingPt(),this.addData(xn.M,n,t),this._ctx&&this._ctx.moveTo(n,t),this._x0=n,this._y0=t,this._xi=n,this._yi=t,this},e.prototype.lineTo=function(n,t){var r=Il(n-this._xi),i=Il(t-this._yi),a=r>this._ux||i>this._uy;if(this.addData(xn.L,n,t),this._ctx&&a&&this._ctx.lineTo(n,t),a)this._xi=n,this._yi=t,this._pendingPtDist=0;else{var o=r*r+i*i;o>this._pendingPtDist&&(this._pendingPtX=n,this._pendingPtY=t,this._pendingPtDist=o)}return this},e.prototype.bezierCurveTo=function(n,t,r,i,a,o){return this._drawPendingPt(),this.addData(xn.C,n,t,r,i,a,o),this._ctx&&this._ctx.bezierCurveTo(n,t,r,i,a,o),this._xi=a,this._yi=o,this},e.prototype.quadraticCurveTo=function(n,t,r,i){return this._drawPendingPt(),this.addData(xn.Q,n,t,r,i),this._ctx&&this._ctx.quadraticCurveTo(n,t,r,i),this._xi=r,this._yi=i,this},e.prototype.arc=function(n,t,r,i,a,o){return this._drawPendingPt(),u1[0]=i,u1[1]=a,function Fwe(e,n){var t=iE(e[0]);t<0&&(t+=Cc);var i=e[1];i+=t-e[0],!n&&i-t>=Cc?i=t+Cc:n&&t-i>=Cc?i=t-Cc:!n&&t>i?i=t+(Cc-iE(t-i)):n&&t<i&&(i=t-(Cc-iE(i-t))),e[0]=t,e[1]=i}(u1,o),this.addData(xn.A,n,t,r,r,i=u1[0],(a=u1[1])-i,0,o?0:1),this._ctx&&this._ctx.arc(n,t,r,i,a,o),this._xi=ih(a)*r+n,this._yi=ah(a)*r+t,this},e.prototype.arcTo=function(n,t,r,i,a){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(n,t,r,i,a),this},e.prototype.rect=function(n,t,r,i){return this._drawPendingPt(),this._ctx&&this._ctx.rect(n,t,r,i),this.addData(xn.R,n,t,r,i),this},e.prototype.closePath=function(){this._drawPendingPt(),this.addData(xn.Z);var n=this._ctx,t=this._x0,r=this._y0;return n&&n.closePath(),this._xi=t,this._yi=r,this},e.prototype.fill=function(n){n&&n.fill(),this.toStatic()},e.prototype.stroke=function(n){n&&n.stroke(),this.toStatic()},e.prototype.len=function(){return this._len},e.prototype.setData=function(n){var t=n.length;(!this.data||this.data.length!==t)&&rE&&(this.data=new Float32Array(t));for(var r=0;r<t;r++)this.data[r]=n[r];this._len=t},e.prototype.appendPath=function(n){n instanceof Array||(n=[n]);for(var t=n.length,r=0,i=this._len,a=0;a<t;a++)r+=n[a].len();for(rE&&this.data instanceof Float32Array&&(this.data=new Float32Array(i+r)),a=0;a<t;a++)for(var o=n[a].data,s=0;s<o.length;s++)this.data[i++]=o[s];this._len=i},e.prototype.addData=function(n,t,r,i,a,o,s,l,c){if(this._saveData){var u=this.data;this._len+arguments.length>u.length&&(this._expandData(),u=this.data);for(var h=0;h<arguments.length;h++)u[this._len++]=arguments[h]}},e.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},e.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var n=[],t=0;t<this._len;t++)n[t]=this.data[t];this.data=n}},e.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var n=this.data;n instanceof Array&&(n.length=this._len,rE&&this._len>11&&(this.data=new Float32Array(n)))}},e.prototype.getBoundingRect=function(){$s[0]=$s[1]=Ys[0]=Ys[1]=Number.MAX_VALUE,bc[0]=bc[1]=Xs[0]=Xs[1]=-Number.MAX_VALUE;var o,n=this.data,t=0,r=0,i=0,a=0;for(o=0;o<this._len;){var s=n[o++],l=1===o;switch(l&&(i=t=n[o],a=r=n[o+1]),s){case xn.M:t=i=n[o++],r=a=n[o++],Ys[0]=i,Ys[1]=a,Xs[0]=i,Xs[1]=a;break;case xn.L:wH(t,r,n[o],n[o+1],Ys,Xs),t=n[o++],r=n[o++];break;case xn.C:Rwe(t,r,n[o++],n[o++],n[o++],n[o++],n[o],n[o+1],Ys,Xs),t=n[o++],r=n[o++];break;case xn.Q:Lwe(t,r,n[o++],n[o++],n[o],n[o+1],Ys,Xs),t=n[o++],r=n[o++];break;case xn.A:var c=n[o++],u=n[o++],h=n[o++],d=n[o++],f=n[o++],p=n[o++]+f;o+=1;var g=!n[o++];l&&(i=ih(f)*h+c,a=ah(f)*d+u),kwe(c,u,h,d,f,p,g,Ys,Xs),t=ih(p)*h+c,r=ah(p)*d+u;break;case xn.R:wH(i=t=n[o++],a=r=n[o++],i+n[o++],a+n[o++],Ys,Xs);break;case xn.Z:t=i,r=a}Vu($s,$s,Ys),Hu(bc,bc,Xs)}return 0===o&&($s[0]=$s[1]=bc[0]=bc[1]=0),new Yt($s[0],$s[1],bc[0]-$s[0],bc[1]-$s[1])},e.prototype._calculateLength=function(){var n=this.data,t=this._len,r=this._ux,i=this._uy,a=0,o=0,s=0,l=0;this._pathSegLen||(this._pathSegLen=[]);for(var c=this._pathSegLen,u=0,h=0,d=0;d<t;){var f=n[d++],p=1===d;p&&(s=a=n[d],l=o=n[d+1]);var g=-1;switch(f){case xn.M:a=s=n[d++],o=l=n[d++];break;case xn.L:var m=n[d++],y=(v=n[d++])-o;(Il(_=m-a)>r||Il(y)>i||d===t-1)&&(g=Math.sqrt(_*_+y*y),a=m,o=v);break;case xn.C:var b=n[d++],w=n[d++],v=(m=n[d++],n[d++]),C=n[d++],S=n[d++];g=Jbe(a,o,b,w,m,v,C,S,10),a=C,o=S;break;case xn.Q:g=tCe(a,o,b=n[d++],w=n[d++],m=n[d++],v=n[d++],10),a=m,o=v;break;case xn.A:var x=n[d++],M=n[d++],E=n[d++],T=n[d++],A=n[d++],N=n[d++],R=N+A;d+=1,d++,p&&(s=ih(A)*E+x,l=ah(A)*T+M),g=tE(E,T)*eE(Cc,Math.abs(N)),a=ih(R)*E+x,o=ah(R)*T+M;break;case xn.R:s=a=n[d++],l=o=n[d++],g=2*n[d++]+2*n[d++];break;case xn.Z:var _=s-a;y=l-o,g=Math.sqrt(_*_+y*y),a=s,o=l}g>=0&&(c[h++]=g,u+=g)}return this._pathLen=u,u},e.prototype.rebuildPath=function(n,t){var s,l,c,u,h,d,p,_,b,w,r=this.data,i=this._ux,a=this._uy,o=this._len,f=t<1,m=0,v=0,y=0;if(!f||(this._pathSegLen||this._calculateLength(),p=this._pathSegLen,_=t*this._pathLen))e:for(var C=0;C<o;){var S=r[C++],x=1===C;switch(x&&(s=c=r[C],l=u=r[C+1]),S!==xn.L&&y>0&&(n.lineTo(b,w),y=0),S){case xn.M:s=c=r[C++],l=u=r[C++],n.moveTo(c,u);break;case xn.L:h=r[C++],d=r[C++];var M=Il(h-c),E=Il(d-u);if(M>i||E>a){if(f){if(m+(T=p[v++])>_){n.lineTo(c*(1-(A=(_-m)/T))+h*A,u*(1-A)+d*A);break e}m+=T}n.lineTo(h,d),c=h,u=d,y=0}else{var N=M*M+E*E;N>y&&(b=h,w=d,y=N)}break;case xn.C:var R=r[C++],z=r[C++],L=r[C++],V=r[C++],F=r[C++],j=r[C++];if(f){if(m+(T=p[v++])>_){vc(c,R,L,F,A=(_-m)/T,nh),vc(u,z,V,j,A,rh),n.bezierCurveTo(nh[1],rh[1],nh[2],rh[2],nh[3],rh[3]);break e}m+=T}n.bezierCurveTo(R,z,L,V,F,j),c=F,u=j;break;case xn.Q:if(R=r[C++],z=r[C++],L=r[C++],V=r[C++],f){if(m+(T=p[v++])>_){p2(c,R,L,A=(_-m)/T,nh),p2(u,z,V,A,rh),n.quadraticCurveTo(nh[1],rh[1],nh[2],rh[2]);break e}m+=T}n.quadraticCurveTo(R,z,L,V),c=L,u=V;break;case xn.A:var Y=r[C++],se=r[C++],de=r[C++],we=r[C++],pe=r[C++],Le=r[C++],lt=r[C++],Ye=!r[C++],Rt=de>we?de:we,ct=Il(de-we)>.001,pt=pe+Le,Se=!1;if(f&&(m+(T=p[v++])>_&&(pt=pe+Le*(_-m)/T,Se=!0),m+=T),ct&&n.ellipse?n.ellipse(Y,se,de,we,lt,pe,pt,Ye):n.arc(Y,se,Rt,pe,pt,Ye),Se)break e;x&&(s=ih(pe)*de+Y,l=ah(pe)*we+se),c=ih(pt)*de+Y,u=ah(pt)*we+se;break;case xn.R:s=c=r[C],l=u=r[C+1],h=r[C++],d=r[C++];var Lt=r[C++],Rn=r[C++];if(f){if(m+(T=p[v++])>_){var Zn=_-m;n.moveTo(h,d),n.lineTo(h+eE(Zn,Lt),d),(Zn-=Lt)>0&&n.lineTo(h+Lt,d+eE(Zn,Rn)),(Zn-=Rn)>0&&n.lineTo(h+tE(Lt-Zn,0),d+Rn),(Zn-=Lt)>0&&n.lineTo(h,d+tE(Rn-Zn,0));break e}m+=T}n.rect(h,d,Lt,Rn);break;case xn.Z:if(f){var T;if(m+(T=p[v++])>_){var A;n.lineTo(c*(1-(A=(_-m)/T))+s*A,u*(1-A)+l*A);break e}m+=T}n.closePath(),c=s,u=l}}},e.prototype.clone=function(){var n=new e,t=this.data;return n.data=t.slice?t.slice():Array.prototype.slice.call(t),n._len=this._len,n},e.CMD=xn,e.initDefaultProps=function(){var n=e.prototype;n._saveData=!0,n._ux=0,n._uy=0,n._pendingPtDist=0,n._version=0}(),e}();const Pl=zwe;function oh(e,n,t,r,i,a,o){if(0===i)return!1;var l,s=i;if(o>n+s&&o>r+s||o<n-s&&o<r-s||a>e+s&&a>t+s||a<e-s&&a<t-s)return!1;if(e===t)return Math.abs(a-e)<=s/2;var u=(l=(n-r)/(e-t))*a-o+(e*r-t*n)/(e-t);return u*u/(l*l+1)<=s/2*s/2}function Bwe(e,n,t,r,i,a,o,s,l,c,u){if(0===l)return!1;var h=l;return!(u>n+h&&u>r+h&&u>a+h&&u>s+h||u<n-h&&u<r-h&&u<a-h&&u<s-h||c>e+h&&c>t+h&&c>i+h&&c>o+h||c<e-h&&c<t-h&&c<i-h&&c<o-h)&&SV(e,n,t,r,i,a,o,s,c,u,null)<=h/2}function Vwe(e,n,t,r,i,a,o,s,l){if(0===o)return!1;var c=o;return!(l>n+c&&l>r+c&&l>a+c||l<n-c&&l<r-c&&l<a-c||s>e+c&&s>t+c&&s>i+c||s<e-c&&s<t-c&&s<i-c)&&TV(e,n,t,r,i,a,s,l,null)<=c/2}var MH=2*Math.PI;function wc(e){return(e%=MH)<0&&(e+=MH),e}var h1=2*Math.PI;function Hwe(e,n,t,r,i,a,o,s,l){if(0===o)return!1;var c=o;s-=e,l-=n;var u=Math.sqrt(s*s+l*l);if(u-c>t||u+c<t)return!1;if(Math.abs(r-i)%h1<1e-4)return!0;if(a){var h=r;r=wc(i),i=wc(h)}else r=wc(r),i=wc(i);r>i&&(i+=h1);var d=Math.atan2(l,s);return d<0&&(d+=h1),d>=r&&d<=i||d+h1>=r&&d+h1<=i}function Ol(e,n,t,r,i,a){if(a>n&&a>r||a<n&&a<r||r===n)return 0;var o=(a-n)/(r-n),s=r<n?1:-1;(1===o||0===o)&&(s=r<n?.5:-.5);var l=o*(t-e)+e;return l===i?1/0:l>i?s:0}var Sc=Pl.CMD,sh=2*Math.PI,na=[-1,-1,-1],Ao=[-1,-1];function Wwe(){var e=Ao[0];Ao[0]=Ao[1],Ao[1]=e}function jwe(e,n,t,r,i,a,o,s,l,c){if(c>n&&c>r&&c>a&&c>s||c<n&&c<r&&c<a&&c<s)return 0;var u=f2(n,r,a,s,c,na);if(0===u)return 0;for(var h=0,d=-1,f=void 0,p=void 0,g=0;g<u;g++){var m=na[g],v=0===m||1===m?.5:1;ai(e,t,i,o,m)<l||(d<0&&(d=wV(n,r,a,s,Ao),Ao[1]<Ao[0]&&d>1&&Wwe(),f=ai(n,r,a,s,Ao[0]),d>1&&(p=ai(n,r,a,s,Ao[1]))),h+=2===d?m<Ao[0]?f<n?v:-v:m<Ao[1]?p<f?v:-v:s<p?v:-v:m<Ao[0]?f<n?v:-v:s<f?v:-v)}return h}function $we(e,n,t,r,i,a,o,s){if(s>n&&s>r&&s>a||s<n&&s<r&&s<a)return 0;var l=function eCe(e,n,t,r,i){var a=e-2*n+t,o=2*(n-e),s=e-r,l=0;if(mc(a))bV(o)&&(c=-s/o)>=0&&c<=1&&(i[l++]=c);else{var u=o*o-4*a*s;if(mc(u))(c=-o/(2*a))>=0&&c<=1&&(i[l++]=c);else if(u>0){var c,h=gc(u),d=(-o-h)/(2*a);(c=(-o+h)/(2*a))>=0&&c<=1&&(i[l++]=c),d>=0&&d<=1&&(i[l++]=d)}}return l}(n,r,a,s,na);if(0===l)return 0;var c=MV(n,r,a);if(c>=0&&c<=1){for(var u=0,h=Bi(n,r,a,c),d=0;d<l;d++){var f=0===na[d]||1===na[d]?.5:1;Bi(e,t,i,na[d])<o||(u+=na[d]<c?h<n?f:-f:a<h?f:-f)}return u}return f=0===na[0]||1===na[0]?.5:1,Bi(e,t,i,na[0])<o?0:a<n?f:-f}function Ywe(e,n,t,r,i,a,o,s){if((s-=n)>t||s<-t)return 0;var l=Math.sqrt(t*t-s*s);na[0]=-l,na[1]=l;var c=Math.abs(r-i);if(c<1e-4)return 0;if(c>=sh-1e-4){r=0,i=sh;var u=a?1:-1;return o>=na[0]+e&&o<=na[1]+e?u:0}if(r>i){var h=r;r=i,i=h}r<0&&(r+=sh,i+=sh);for(var d=0,f=0;f<2;f++){var p=na[f];if(p+e>o){var g=Math.atan2(s,p);u=a?1:-1,g<0&&(g=sh+g),(g>=r&&g<=i||g+sh>=r&&g+sh<=i)&&(g>Math.PI/2&&g<1.5*Math.PI&&(u=-u),d+=u)}}return d}function TH(e,n,t,r,i){for(var d,f,a=e.data,o=e.len(),s=0,l=0,c=0,u=0,h=0,p=0;p<o;){var g=a[p++],m=1===p;switch(g===Sc.M&&p>1&&(t||(s+=Ol(l,c,u,h,r,i))),m&&(u=l=a[p],h=c=a[p+1]),g){case Sc.M:l=u=a[p++],c=h=a[p++];break;case Sc.L:if(t){if(oh(l,c,a[p],a[p+1],n,r,i))return!0}else s+=Ol(l,c,a[p],a[p+1],r,i)||0;l=a[p++],c=a[p++];break;case Sc.C:if(t){if(Bwe(l,c,a[p++],a[p++],a[p++],a[p++],a[p],a[p+1],n,r,i))return!0}else s+=jwe(l,c,a[p++],a[p++],a[p++],a[p++],a[p],a[p+1],r,i)||0;l=a[p++],c=a[p++];break;case Sc.Q:if(t){if(Vwe(l,c,a[p++],a[p++],a[p],a[p+1],n,r,i))return!0}else s+=$we(l,c,a[p++],a[p++],a[p],a[p+1],r,i)||0;l=a[p++],c=a[p++];break;case Sc.A:var v=a[p++],_=a[p++],y=a[p++],b=a[p++],w=a[p++],C=a[p++];p+=1;var S=!!(1-a[p++]);d=Math.cos(w)*y+v,f=Math.sin(w)*b+_,m?(u=d,h=f):s+=Ol(l,c,d,f,r,i);var x=(r-v)*b/y+v;if(t){if(Hwe(v,_,b,w,w+C,S,n,x,i))return!0}else s+=Ywe(v,_,b,w,w+C,S,x,i);l=Math.cos(w+C)*y+v,c=Math.sin(w+C)*b+_;break;case Sc.R:if(u=l=a[p++],h=c=a[p++],d=u+a[p++],f=h+a[p++],t){if(oh(u,h,d,h,n,r,i)||oh(d,h,d,f,n,r,i)||oh(d,f,u,f,n,r,i)||oh(u,f,u,h,n,r,i))return!0}else s+=Ol(d,h,d,f,r,i),s+=Ol(u,f,u,h,r,i);break;case Sc.Z:if(t){if(oh(l,c,u,h,n,r,i))return!0}else s+=Ol(l,c,u,h,r,i);l=u,c=h}}return!t&&!function Gwe(e,n){return Math.abs(e-n)<1e-4}(c,h)&&(s+=Ol(l,c,u,h,r,i)||0),0!==s}var DH=ut({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},eh),Zwe={style:ut({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},O2.style)},aE=t1.concat(["invisible","culling","z","z2","zlevel","parent"]),Kwe=function(e){function n(t){return e.call(this,t)||this}return On(n,e),n.prototype.update=function(){var t=this;e.prototype.update.call(this);var r=this.style;if(r.decal){var i=this._decalEl=this._decalEl||new n;i.buildPath===n.prototype.buildPath&&(i.buildPath=function(l){t.buildPath(l,t.shape)}),i.silent=!0;var a=i.style;for(var o in r)a[o]!==r[o]&&(a[o]=r[o]);a.fill=r.fill?r.decal:null,a.decal=null,a.shadowColor=null,r.strokeFirst&&(a.stroke=null);for(var s=0;s<aE.length;++s)i[aE[s]]=this[aE[s]];i.__dirty|=1}else this._decalEl&&(this._decalEl=null)},n.prototype.getDecalElement=function(){return this._decalEl},n.prototype._init=function(t){var r=Bn(t);this.shape=this.getDefaultShape();var i=this.getDefaultStyle();i&&this.useStyle(i);for(var a=0;a<r.length;a++){var o=r[a],s=t[o];"style"===o?this.style?oe(this.style,s):this.useStyle(s):"shape"===o?oe(this.shape,s):e.prototype.attrKV.call(this,o,s)}this.style||this.useStyle({})},n.prototype.getDefaultStyle=function(){return null},n.prototype.getDefaultShape=function(){return{}},n.prototype.canBeInsideText=function(){return this.hasFill()},n.prototype.getInsideTextFill=function(){var t=this.style.fill;if("none"!==t){if(Fe(t)){var r=v2(t,0);return r>.5?D3:r>.2?"#eee":E3}if(t)return E3}return D3},n.prototype.getInsideTextStroke=function(t){var r=this.style.fill;if(Fe(r)){var i=this.__zr;if(!(!i||!i.isDarkMode())==v2(t,0)<.4)return r}},n.prototype.buildPath=function(t,r,i){},n.prototype.pathUpdated=function(){this.__dirty&=-5},n.prototype.getUpdatedPathProxy=function(t){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,t),this.path},n.prototype.createPathProxy=function(){this.path=new Pl(!1)},n.prototype.hasStroke=function(){var t=this.style,r=t.stroke;return!(null==r||"none"===r||!(t.lineWidth>0))},n.prototype.hasFill=function(){var r=this.style.fill;return null!=r&&"none"!==r},n.prototype.getBoundingRect=function(){var t=this._rect,r=this.style,i=!t;if(i){var a=!1;this.path||(a=!0,this.createPathProxy());var o=this.path;(a||4&this.__dirty)&&(o.beginPath(),this.buildPath(o,this.shape,!1),this.pathUpdated()),t=o.getBoundingRect()}if(this._rect=t,this.hasStroke()&&this.path&&this.path.len()>0){var s=this._rectStroke||(this._rectStroke=t.clone());if(this.__dirty||i){s.copy(t);var l=r.strokeNoScale?this.getLineScale():1,c=r.lineWidth;this.hasFill()||(c=Math.max(c,this.strokeContainThreshold??4)),l>1e-10&&(s.width+=c/l,s.height+=c/l,s.x-=c/l/2,s.y-=c/l/2)}return s}return t},n.prototype.contain=function(t,r){var i=this.transformCoordToLocal(t,r),a=this.getBoundingRect(),o=this.style;if(a.contain(t=i[0],r=i[1])){var s=this.path;if(this.hasStroke()){var l=o.lineWidth,c=o.strokeNoScale?this.getLineScale():1;if(c>1e-10&&(this.hasFill()||(l=Math.max(l,this.strokeContainThreshold)),function qwe(e,n,t,r){return TH(e,n,!0,t,r)}(s,l/c,t,r)))return!0}if(this.hasFill())return function Xwe(e,n,t){return TH(e,0,!1,n,t)}(s,t,r)}return!1},n.prototype.dirtyShape=function(){this.__dirty|=4,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},n.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},n.prototype.animateShape=function(t){return this.animate("shape",t)},n.prototype.updateDuringAnimation=function(t){"style"===t?this.dirtyStyle():"shape"===t?this.dirtyShape():this.markRedraw()},n.prototype.attrKV=function(t,r){"shape"===t?this.setShape(r):e.prototype.attrKV.call(this,t,r)},n.prototype.setShape=function(t,r){var i=this.shape;return i||(i=this.shape={}),"string"==typeof t?i[t]=r:oe(i,t),this.dirtyShape(),this},n.prototype.shapeChanged=function(){return!!(4&this.__dirty)},n.prototype.createStyle=function(t){return t2(DH,t)},n.prototype._innerSaveToNormal=function(t){e.prototype._innerSaveToNormal.call(this,t);var r=this._normalState;t.shape&&!r.shape&&(r.shape=oe({},this.shape))},n.prototype._applyStateObj=function(t,r,i,a,o,s){e.prototype._applyStateObj.call(this,t,r,i,a,o,s);var c,l=!(r&&a);if(r&&r.shape?o?a?c=r.shape:(c=oe({},i.shape),oe(c,r.shape)):(c=oe({},a?this.shape:i.shape),oe(c,r.shape)):l&&(c=i.shape),c)if(o){this.shape=oe({},this.shape);for(var u={},h=Bn(c),d=0;d<h.length;d++){var f=h[d];"object"==typeof c[f]?this.shape[f]=c[f]:u[f]=c[f]}this._transitionState(t,{shape:u},s)}else this.shape=c,this.dirtyShape()},n.prototype._mergeStates=function(t){for(var i,r=e.prototype._mergeStates.call(this,t),a=0;a<t.length;a++){var o=t[a];o.shape&&this._mergeStyle(i=i||{},o.shape)}return i&&(r.shape=i),r},n.prototype.getAnimationStyleProps=function(){return Zwe},n.prototype.isZeroArea=function(){return!1},n.extend=function(t){var r=function(a){function o(s){var l=a.call(this,s)||this;return t.init&&t.init.call(l,s),l}return On(o,a),o.prototype.getDefaultStyle=function(){return ht(t.style)},o.prototype.getDefaultShape=function(){return ht(t.shape)},o}(n);for(var i in t)"function"==typeof t[i]&&(r.prototype[i]=t[i]);return r},n.initDefaultProps=((t=n.prototype).type="path",t.strokeContainThreshold=5,t.segmentIgnoreThreshold=0,t.subPixelOptimize=!1,t.autoBatch=!1,void(t.__dirty=7)),n;var t}(Of);const Zt=Kwe;var Qwe=ut({strokeFirst:!0,font:Bu,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},DH),EH=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return On(n,e),n.prototype.hasStroke=function(){var t=this.style,r=t.stroke;return null!=r&&"none"!==r&&t.lineWidth>0},n.prototype.hasFill=function(){var r=this.style.fill;return null!=r&&"none"!==r},n.prototype.createStyle=function(t){return t2(Qwe,t)},n.prototype.setBoundingRect=function(t){this._rect=t},n.prototype.getBoundingRect=function(){var t=this.style;if(!this._rect){var r=t.text;null!=r?r+="":r="";var i=I3(r,t.font,t.textAlign,t.textBaseline);if(i.x+=t.x||0,i.y+=t.y||0,this.hasStroke()){var a=t.lineWidth;i.x-=a/2,i.y-=a/2,i.width+=a,i.height+=a}this._rect=i}return this._rect},n.initDefaultProps=void(n.prototype.dirtyRectTolerance=10),n}(Of);EH.prototype.type="tspan";const oE=EH;var Jwe=ut({x:0,y:0},eh),eSe={style:ut({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},O2.style)},AH=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return On(n,e),n.prototype.createStyle=function(t){return t2(Jwe,t)},n.prototype._getSize=function(t){var r=this.style,i=r[t];if(null!=i)return i;var a=function tSe(e){return!!(e&&"string"!=typeof e&&e.width&&e.height)}(r.image)?r.image:this.__image;if(!a)return 0;var o="width"===t?"height":"width",s=r[o];return null==s?a[t]:a[t]/a[o]*s},n.prototype.getWidth=function(){return this._getSize("width")},n.prototype.getHeight=function(){return this._getSize("height")},n.prototype.getAnimationStyleProps=function(){return eSe},n.prototype.getBoundingRect=function(){var t=this.style;return this._rect||(this._rect=new Yt(t.x||0,t.y||0,this.getWidth(),this.getHeight())),this._rect},n}(Of);AH.prototype.type="image";const qs=AH;var Rf=Math.round;function NH(e,n,t){if(n){var r=n.x1,i=n.x2,a=n.y1,o=n.y2;e.x1=r,e.x2=i,e.y1=a,e.y2=o;var s=t&&t.lineWidth;return s&&(Rf(2*r)===Rf(2*i)&&(e.x1=e.x2=lh(r,s,!0)),Rf(2*a)===Rf(2*o)&&(e.y1=e.y2=lh(a,s,!0))),e}}function IH(e,n,t){if(n){var r=n.x,i=n.y,a=n.width,o=n.height;e.x=r,e.y=i,e.width=a,e.height=o;var s=t&&t.lineWidth;return s&&(e.x=lh(r,s,!0),e.y=lh(i,s,!0),e.width=Math.max(lh(r+a,s,!1)-e.x,0===a?0:1),e.height=Math.max(lh(i+o,s,!1)-e.y,0===o?0:1)),e}}function lh(e,n,t){if(!n)return e;var r=Rf(2*e);return(r+Rf(n))%2==0?r/2:(r+(t?1:-1))/2}var rSe=function e(){this.x=0,this.y=0,this.width=0,this.height=0},iSe={},PH=function(e){function n(t){return e.call(this,t)||this}return On(n,e),n.prototype.getDefaultShape=function(){return new rSe},n.prototype.buildPath=function(t,r){var i,a,o,s;if(this.subPixelOptimize){var l=IH(iSe,r,this.style);i=l.x,a=l.y,o=l.width,s=l.height,l.r=r.r,r=l}else i=r.x,a=r.y,o=r.width,s=r.height;r.r?function nSe(e,n){var s,l,c,u,h,t=n.x,r=n.y,i=n.width,a=n.height,o=n.r;i<0&&(t+=i,i=-i),a<0&&(r+=a,a=-a),"number"==typeof o?s=l=c=u=o:o instanceof Array?1===o.length?s=l=c=u=o[0]:2===o.length?(s=c=o[0],l=u=o[1]):3===o.length?(s=o[0],l=u=o[1],c=o[2]):(s=o[0],l=o[1],c=o[2],u=o[3]):s=l=c=u=0,s+l>i&&(s*=i/(h=s+l),l*=i/h),c+u>i&&(c*=i/(h=c+u),u*=i/h),l+c>a&&(l*=a/(h=l+c),c*=a/h),s+u>a&&(s*=a/(h=s+u),u*=a/h),e.moveTo(t+s,r),e.lineTo(t+i-l,r),0!==l&&e.arc(t+i-l,r+l,l,-Math.PI/2,0),e.lineTo(t+i,r+a-c),0!==c&&e.arc(t+i-c,r+a-c,c,0,Math.PI/2),e.lineTo(t+u,r+a),0!==u&&e.arc(t+u,r+a-u,u,Math.PI/2,Math.PI),e.lineTo(t,r+s),0!==s&&e.arc(t+s,r+s,s,Math.PI,1.5*Math.PI)}(t,r):t.rect(i,a,o,s)},n.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},n}(Zt);PH.prototype.type="rect";const Yn=PH;var OH={fill:"#000"},aSe={style:ut({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},O2.style)},LH=function(e){function n(t){var r=e.call(this)||this;return r.type="text",r._children=[],r._defaultStyle=OH,r.attr(t),r}return On(n,e),n.prototype.childrenRef=function(){return this._children},n.prototype.update=function(){e.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var t=0;t<this._children.length;t++){var r=this._children[t];r.zlevel=this.zlevel,r.z=this.z,r.z2=this.z2,r.culling=this.culling,r.cursor=this.cursor,r.invisible=this.invisible}},n.prototype.updateTransform=function(){var t=this.innerTransformable;t?(t.updateTransform(),t.transform&&(this.transform=t.transform)):e.prototype.updateTransform.call(this)},n.prototype.getLocalTransform=function(t){var r=this.innerTransformable;return r?r.getLocalTransform(t):e.prototype.getLocalTransform.call(this,t)},n.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),e.prototype.getComputedTransform.call(this)},n.prototype._updateSubTexts=function(){this._childCursor=0,function uSe(e){zH(e),I(e.rich,zH)}(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},n.prototype.addSelfToZr=function(t){e.prototype.addSelfToZr.call(this,t);for(var r=0;r<this._children.length;r++)this._children[r].__zr=t},n.prototype.removeSelfFromZr=function(t){e.prototype.removeSelfFromZr.call(this,t);for(var r=0;r<this._children.length;r++)this._children[r].__zr=null},n.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var t=new Yt(0,0,0,0),r=this._children,i=[],a=null,o=0;o<r.length;o++){var s=r[o],l=s.getBoundingRect(),c=s.getLocalTransform(i);c?(t.copy(l),t.applyTransform(c),(a=a||t.clone()).union(t)):(a=a||l.clone()).union(l)}this._rect=a||t}return this._rect},n.prototype.setDefaultTextStyle=function(t){this._defaultStyle=t||OH},n.prototype.setTextContent=function(t){},n.prototype._mergeStyle=function(t,r){if(!r)return t;var i=r.rich,a=t.rich||i&&{};return oe(t,r),i&&a?(this._mergeRich(a,i),t.rich=a):a&&(t.rich=a),t},n.prototype._mergeRich=function(t,r){for(var i=Bn(r),a=0;a<i.length;a++){var o=i[a];t[o]=t[o]||{},oe(t[o],r[o])}},n.prototype.getAnimationStyleProps=function(){return aSe},n.prototype._getOrCreateChild=function(t){var r=this._children[this._childCursor];return(!r||!(r instanceof t))&&(r=new t),this._children[this._childCursor++]=r,r.__zr=this.__zr,r.parent=this,r},n.prototype._updatePlainTexts=function(){var t=this.style,r=t.font||Bu,i=t.padding,o=function xwe(e,n){null!=e&&(e+="");var h,t=n.overflow,r=n.padding,i=n.font,a="truncate"===t,o=P3(i),s=qt(n.lineHeight,o),l=!!n.backgroundColor,c="truncate"===n.lineOverflow,u=n.width,d=(h=null==u||"break"!==t&&"breakAll"!==t?e?e.split("\n"):[]:e?yH(e,n.font,u,"breakAll"===t,0).lines:[]).length*s,f=qt(n.height,d);if(d>f&&c){var p=Math.floor(f/s);h=h.slice(0,p)}if(e&&a&&null!=u)for(var g=mH(u,i,n.ellipsis,{minChar:n.truncateMinChar,placeholder:n.placeholder}),m=0;m<h.length;m++)h[m]=vH(h[m],g);var v=f,_=0;for(m=0;m<h.length;m++)_=Math.max(no(h[m],i),_);null==u&&(u=_);var y=_;return r&&(v+=r[0]+r[2],y+=r[1]+r[3],u+=r[1]+r[3]),l&&(y=u),{lines:h,height:f,outerWidth:y,outerHeight:v,lineHeight:s,calculatedLineHeight:o,contentWidth:_,contentHeight:d,width:u}}(UH(t),t),s=sE(t),l=!!t.backgroundColor,c=o.outerHeight,u=o.outerWidth,h=o.contentWidth,d=o.lines,f=o.lineHeight,p=this._defaultStyle,g=t.x||0,m=t.y||0,v=t.align||p.align||"left",_=t.verticalAlign||p.verticalAlign||"top",y=g,b=If(m,o.contentHeight,_);if(s||i){var w=r1(g,u,v),C=If(m,c,_);s&&this._renderBackground(t,t,w,C,u,c)}b+=f/2,i&&(y=HH(g,v,i),"top"===_?b+=i[0]:"bottom"===_&&(b-=i[2]));for(var S=0,x=!1,M=(VH("fill"in t?t.fill:(x=!0,p.fill))),E=(BH("stroke"in t?t.stroke:l||p.autoStroke&&!x?null:(S=2,p.stroke))),T=t.textShadowBlur>0,A=null!=t.width&&("truncate"===t.overflow||"break"===t.overflow||"breakAll"===t.overflow),N=o.calculatedLineHeight,R=0;R<d.length;R++){var z=this._getOrCreateChild(oE),L=z.createStyle();z.useStyle(L),L.text=d[R],L.x=y,L.y=b,v&&(L.textAlign=v),L.textBaseline="middle",L.opacity=t.opacity,L.strokeFirst=!0,T&&(L.shadowBlur=t.textShadowBlur||0,L.shadowColor=t.textShadowColor||"transparent",L.shadowOffsetX=t.textShadowOffsetX||0,L.shadowOffsetY=t.textShadowOffsetY||0),L.stroke=E,L.fill=M,E&&(L.lineWidth=t.lineWidth||S,L.lineDash=t.lineDash,L.lineDashOffset=t.lineDashOffset||0),L.font=r,FH(L,t),b+=f,A&&z.setBoundingRect(new Yt(r1(L.x,t.width,L.textAlign),If(L.y,N,L.textBaseline),h,N))}},n.prototype._updateRichTexts=function(){var t=this.style,i=function Dwe(e,n){var t=new Twe;if(null!=e&&(e+=""),!e)return t;for(var l,r=n.width,i=n.height,a=n.overflow,o="break"!==a&&"breakAll"!==a||null==r?null:{width:r,accumWidth:0,breakAll:"breakAll"===a},s=Y3.lastIndex=0;null!=(l=Y3.exec(e));){var c=l.index;c>s&&X3(t,e.substring(s,c),n,o),X3(t,l[2],n,o,l[1]),s=Y3.lastIndex}s<e.length&&X3(t,e.substring(s,e.length),n,o);var u=[],h=0,d=0,f=n.padding,p="truncate"===a,g="truncate"===n.lineOverflow;function m(F,j,Y){F.width=j,F.lineHeight=Y,h+=Y,d=Math.max(d,j)}e:for(var v=0;v<t.lines.length;v++){for(var _=t.lines[v],y=0,b=0,w=0;w<_.tokens.length;w++){var S=(C=_.tokens[w]).styleName&&n.rich[C.styleName]||{},x=C.textPadding=S.padding,M=x?x[1]+x[3]:0,E=C.font=S.font||n.font;C.contentHeight=P3(E);var T=qt(S.height,C.contentHeight);if(C.innerHeight=T,x&&(T+=x[0]+x[2]),C.height=T,C.lineHeight=Jy(S.lineHeight,n.lineHeight,T),C.align=S&&S.align||n.align,C.verticalAlign=S&&S.verticalAlign||"middle",g&&null!=i&&h+C.lineHeight>i){w>0?(_.tokens=_.tokens.slice(0,w),m(_,b,y),t.lines=t.lines.slice(0,v+1)):t.lines=t.lines.slice(0,v);break e}var A=S.width,N=null==A||"auto"===A;if("string"==typeof A&&"%"===A.charAt(A.length-1))C.percentWidth=A,u.push(C),C.contentWidth=no(C.text,E);else{if(N){var R=S.backgroundColor,z=R&&R.image;z&&P2(z=Cwe(z))&&(C.width=Math.max(C.width,z.width*T/z.height))}var L=p&&null!=r?r-b:null;null!=L&&L<C.width?!N||L<M?(C.text="",C.width=C.contentWidth=0):(C.text=wwe(C.text,L-M,E,n.ellipsis,{minChar:n.truncateMinChar}),C.width=C.contentWidth=no(C.text,E)):C.contentWidth=no(C.text,E)}C.width+=M,b+=C.width,S&&(y=Math.max(y,C.lineHeight))}m(_,b,y)}for(t.outerWidth=t.width=qt(r,d),t.outerHeight=t.height=qt(i,h),t.contentHeight=h,t.contentWidth=d,f&&(t.outerWidth+=f[1]+f[3],t.outerHeight+=f[0]+f[2]),v=0;v<u.length;v++){var C;(C=u[v]).width=parseInt(C.percentWidth,10)/100*t.width}return t}(UH(t),t),a=i.width,o=i.outerWidth,s=i.outerHeight,l=t.padding,u=t.y||0,h=this._defaultStyle,f=t.verticalAlign||h.verticalAlign,p=r1(t.x||0,o,t.align||h.align),g=If(u,s,f),m=p,v=g;l&&(m+=l[3],v+=l[0]);var _=m+a;sE(t)&&this._renderBackground(t,t,p,g,o,s);for(var y=!!t.backgroundColor,b=0;b<i.lines.length;b++){for(var w=i.lines[b],C=w.tokens,S=C.length,x=w.lineHeight,M=w.width,E=0,T=m,A=_,N=S-1,R=void 0;E<S&&(!(R=C[E]).align||"left"===R.align);)this._placeToken(R,t,x,v,T,"left",y),M-=R.width,T+=R.width,E++;for(;N>=0&&"right"===(R=C[N]).align;)this._placeToken(R,t,x,v,A,"right",y),M-=R.width,A-=R.width,N--;for(T+=(a-(T-m)-(_-A)-M)/2;E<=N;)this._placeToken(R=C[E],t,x,v,T+R.width/2,"center",y),T+=R.width,E++;v+=x}},n.prototype._placeToken=function(t,r,i,a,o,s,l){var c=r.rich[t.styleName]||{};c.text=t.text;var u=t.verticalAlign,h=a+i/2;"top"===u?h=a+t.height/2:"bottom"===u&&(h=a+i-t.height/2),!t.isLineHolder&&sE(c)&&this._renderBackground(c,r,"right"===s?o-t.width:"center"===s?o-t.width/2:o,h-t.height/2,t.width,t.height);var f=!!c.backgroundColor,p=t.textPadding;p&&(o=HH(o,s,p),h-=t.height/2-p[0]-t.innerHeight/2);var g=this._getOrCreateChild(oE),m=g.createStyle();g.useStyle(m);var v=this._defaultStyle,_=!1,y=0,b=VH("fill"in c?c.fill:"fill"in r?r.fill:(_=!0,v.fill)),w=BH("stroke"in c?c.stroke:"stroke"in r?r.stroke:f||l||v.autoStroke&&!_?null:(y=2,v.stroke)),C=c.textShadowBlur>0||r.textShadowBlur>0;m.text=t.text,m.x=o,m.y=h,C&&(m.shadowBlur=c.textShadowBlur||r.textShadowBlur||0,m.shadowColor=c.textShadowColor||r.textShadowColor||"transparent",m.shadowOffsetX=c.textShadowOffsetX||r.textShadowOffsetX||0,m.shadowOffsetY=c.textShadowOffsetY||r.textShadowOffsetY||0),m.textAlign=s,m.textBaseline="middle",m.font=t.font||Bu,m.opacity=Jy(c.opacity,r.opacity,1),FH(m,c),w&&(m.lineWidth=Jy(c.lineWidth,r.lineWidth,y),m.lineDash=qt(c.lineDash,r.lineDash),m.lineDashOffset=r.lineDashOffset||0,m.stroke=w),b&&(m.fill=b);var S=t.contentWidth,x=t.contentHeight;g.setBoundingRect(new Yt(r1(m.x,S,m.textAlign),If(m.y,x,m.textBaseline),S,x))},n.prototype._renderBackground=function(t,r,i,a,o,s){var g,m,_,l=t.backgroundColor,c=t.borderWidth,u=t.borderColor,h=l&&l.image,d=l&&!h,f=t.borderRadius,p=this;if(d||t.lineHeight||c&&u){(g=this._getOrCreateChild(Yn)).useStyle(g.createStyle()),g.style.fill=null;var v=g.shape;v.x=i,v.y=a,v.width=o,v.height=s,v.r=f,g.dirtyShape()}if(d)(_=g.style).fill=l||null,_.fillOpacity=qt(t.fillOpacity,1);else if(h){(m=this._getOrCreateChild(qs)).onload=function(){p.dirtyStyle()};var y=m.style;y.image=l.image,y.x=i,y.y=a,y.width=o,y.height=s}c&&u&&((_=g.style).lineWidth=c,_.stroke=u,_.strokeOpacity=qt(t.strokeOpacity,1),_.lineDash=t.borderDash,_.lineDashOffset=t.borderDashOffset||0,g.strokeContainThreshold=0,g.hasFill()&&g.hasStroke()&&(_.strokeFirst=!0,_.lineWidth*=2));var b=(g||m).style;b.shadowBlur=t.shadowBlur||0,b.shadowColor=t.shadowColor||"transparent",b.shadowOffsetX=t.shadowOffsetX||0,b.shadowOffsetY=t.shadowOffsetY||0,b.opacity=Jy(t.opacity,r.opacity,1)},n.makeFont=function(t){var r="";return function cSe(e){return null!=e.fontSize||e.fontFamily||e.fontWeight}(t)&&(r=[t.fontStyle,t.fontWeight,lSe(t.fontSize),t.fontFamily||"sans-serif"].join(" ")),r&&Vs(r)||t.textFont||t.font},n}(Of),oSe={left:!0,right:1,center:1},sSe={top:1,bottom:1,middle:1},kH=["fontStyle","fontWeight","fontSize","fontFamily"];function lSe(e){return"string"!=typeof e||-1===e.indexOf("px")&&-1===e.indexOf("rem")&&-1===e.indexOf("em")?isNaN(+e)?"12px":e+"px":e}function FH(e,n){for(var t=0;t<kH.length;t++){var r=kH[t],i=n[r];null!=i&&(e[r]=i)}}function zH(e){if(e){e.font=LH.makeFont(e);var n=e.align;"middle"===n&&(n="center"),e.align=null==n||oSe[n]?n:"left";var t=e.verticalAlign;"center"===t&&(t="middle"),e.verticalAlign=null==t||sSe[t]?t:"top",e.padding&&(e.padding=$9(e.padding))}}function BH(e,n){return null==e||n<=0||"transparent"===e||"none"===e?null:e.image||e.colorStops?"#000":e}function VH(e){return null==e||"none"===e?null:e.image||e.colorStops?"#000":e}function HH(e,n,t){return"right"===n?e-t[1]:"center"===n?e+t[3]/2-t[1]/2:e+t[3]}function UH(e){var n=e.text;return null!=n&&(n+=""),n}function sE(e){return!!(e.backgroundColor||e.lineHeight||e.borderWidth&&e.borderColor)}const nr=LH;var tn=$n(),GH=1,WH={},jH=$n(),lE=$n(),No=["emphasis","blur","select"],B2=["normal","emphasis","blur","select"],ch="highlight",V2="downplay",d1="select",H2="unselect",f1="toggleSelect";function Lf(e){return null!=e&&"none"!==e}var $H=new Df(100);function YH(e){if(Fe(e)){var n=$H.get(e);return n||(n=Kg(e,-.1),$H.put(e,n)),n}if(Ky(e)){var t=oe({},e);return t.colorStops=De(e.colorStops,function(r){return{offset:r.offset,color:Kg(r.color,-.1)}}),t}return e}function U2(e,n,t){e.onHoverStateChange&&(e.hoverState||0)!==t&&e.onHoverStateChange(n),e.hoverState=t}function XH(e){U2(e,"emphasis",2)}function qH(e){2===e.hoverState&&U2(e,"normal",0)}function uE(e){U2(e,"blur",1)}function ZH(e){1===e.hoverState&&U2(e,"normal",0)}function pSe(e){e.selected=!0}function gSe(e){e.selected=!1}function KH(e,n,t){n(e,t)}function Rl(e,n,t){KH(e,n,t),e.isGroup&&e.traverse(function(r){KH(r,n,t)})}function QH(e,n){switch(n){case"emphasis":e.hoverState=2;break;case"normal":e.hoverState=0;break;case"blur":e.hoverState=1;break;case"select":e.selected=!0}}function hE(e,n){var t=this.states[e];if(this.style){if("emphasis"===e)return function vSe(e,n,t,r){var i=t&&sn(t,"select")>=0,a=!1;if(e instanceof Zt){var o=jH(e),s=i&&o.selectFill||o.normalFill,l=i&&o.selectStroke||o.normalStroke;if(Lf(s)||Lf(l)){var c=(r=r||{}).style||{};"inherit"===c.fill?(a=!0,r=oe({},r),(c=oe({},c)).fill=s):!Lf(c.fill)&&Lf(s)?(a=!0,r=oe({},r),(c=oe({},c)).fill=YH(s)):!Lf(c.stroke)&&Lf(l)&&(a||(r=oe({},r),c=oe({},c)),c.stroke=YH(l)),r.style=c}}return r&&null==r.z2&&(a||(r=oe({},r)),r.z2=e.z2+(e.z2EmphasisLift??10)),r}(this,0,n,t);if("blur"===e)return function ySe(e,n,t){var r=sn(e.currentStates,n)>=0,i=e.style.opacity,a=r?null:function mSe(e,n,t,r){for(var i=e.style,a={},o=0;o<n.length;o++){var s=n[o];a[s]=i[s]??(r&&r[s])}for(o=0;o<e.animators.length;o++){var c=e.animators[o];c.__fromStateTransition&&c.__fromStateTransition.indexOf(t)<0&&"style"===c.targetName&&c.saveTo(a,n)}return a}(e,["opacity"],n,{opacity:1}),o=(t=t||{}).style||{};return null==o.opacity&&(t=oe({},t),o=oe({opacity:r?i:.1*a.opacity},o),t.style=o),t}(this,e,t);if("select"===e)return function _Se(e,n,t){return t&&null==t.z2&&((t=oe({},t)).z2=e.z2+(e.z2SelectLift??9)),t}(this,0,t)}return t}function bSe(e){e.stateProxy=hE;var n=e.getTextContent(),t=e.getTextGuideLine();n&&(n.stateProxy=hE),t&&(t.stateProxy=hE)}function JH(e,n){!iU(e,n)&&!e.__highByOuter&&Rl(e,XH)}function eU(e,n){!iU(e,n)&&!e.__highByOuter&&Rl(e,qH)}function G2(e,n){e.__highByOuter|=1<<(n||0),Rl(e,XH)}function W2(e,n){!(e.__highByOuter&=~(1<<(n||0)))&&Rl(e,qH)}function tU(e){Rl(e,uE)}function dE(e){Rl(e,ZH)}function nU(e){Rl(e,pSe)}function rU(e){Rl(e,gSe)}function iU(e,n){return e.__highDownSilentOnTouch&&n.zrByTouch}function aU(e){var n=e.getModel(),t=[],r=[];n.eachComponent(function(i,a){var o=lE(a),s="series"===i,l=s?e.getViewOfSeriesModel(a):e.getViewOfComponentModel(a);!s&&r.push(l),o.isBlured&&(l.group.traverse(function(c){ZH(c)}),s&&t.push(a)),o.isBlured=!1}),I(r,function(i){i&&i.toggleBlurSeries&&i.toggleBlurSeries(t,!1,n)})}function fE(e,n,t,r){var i=r.getModel();function a(c,u){for(var h=0;h<u.length;h++){var d=c.getItemGraphicEl(u[h]);d&&dE(d)}}if(t=t||"coordinateSystem",null!=e&&n&&"none"!==n){var o=i.getSeriesByIndex(e),s=o.coordinateSystem;s&&s.master&&(s=s.master);var l=[];i.eachSeries(function(c){var u=o===c,h=c.coordinateSystem;if(h&&h.master&&(h=h.master),!("series"===t&&!u||"coordinateSystem"===t&&!(h&&s?h===s:u)||"series"===n&&u)){if(r.getViewOfSeriesModel(c).group.traverse(function(m){uE(m)}),Ji(n))a(c.getData(),n);else if(ze(n))for(var p=Bn(n),g=0;g<p.length;g++)a(c.getData(p[g]),n[p[g]]);l.push(c),lE(c).isBlured=!0}}),i.eachComponent(function(c,u){if("series"!==c){var h=r.getViewOfComponentModel(u);h&&h.toggleBlurSeries&&h.toggleBlurSeries(l,!0,i)}})}}function pE(e,n,t){if(null!=e&&null!=n){var r=t.getModel().getComponent(e,n);if(r){lE(r).isBlured=!0;var i=t.getViewOfComponentModel(r);!i||!i.focusBlurEnabled||i.group.traverse(function(a){uE(a)})}}}function gE(e,n,t,r){var i={focusSelf:!1,dispatchers:null};if(null==e||"series"===e||null==n||null==t)return i;var a=r.getModel().getComponent(e,n);if(!a)return i;var o=r.getViewOfComponentModel(a);if(!o||!o.findHighDownDispatchers)return i;for(var l,s=o.findHighDownDispatchers(t),c=0;c<s.length;c++)if("self"===tn(s[c]).focus){l=!0;break}return{focusSelf:l,dispatchers:s}}function oU(e){I(e.getAllData(),function(t){var i=t.type;t.data.eachItemGraphicEl(function(a,o){e.isSelected(o,i)?nU(a):rU(a)})})}function MSe(e){var n=[];return e.eachSeries(function(t){I(t.getAllData(),function(i){var o=i.type,s=t.getSelectedDataIndices();if(s.length>0){var l={dataIndex:s,seriesIndex:t.seriesIndex};null!=o&&(l.dataType=o),n.push(l)}})}),n}function mE(e,n,t){_E(e,!0),Rl(e,bSe),function DSe(e,n,t){var r=tn(e);null!=n?(r.focus=n,r.blurScope=t):r.focus&&(r.focus=null)}(e,n,t)}function p1(e,n,t,r){r?function TSe(e){_E(e,!1)}(e):mE(e,n,t)}var sU=["emphasis","blur","select"],ESe={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function vE(e,n,t,r){t=t||"itemStyle";for(var i=0;i<sU.length;i++){var a=sU[i],o=n.getModel([a,t]);e.ensureState(a).style=r?r(o):o[ESe[t]]()}}function _E(e,n){var t=!1===n,r=e;e.highDownSilentOnTouch&&(r.__highDownSilentOnTouch=e.highDownSilentOnTouch),(!t||r.__highDownDispatcher)&&(r.__highByOuter=r.__highByOuter||0,r.__highDownDispatcher=!t)}function yE(e){return!(!e||!e.__highDownDispatcher)}function bE(e){var n=e.type;return n===d1||n===H2||n===f1}function lU(e){var n=e.type;return n===ch||n===V2}var cU=$n();function j2(e,n,t,r,i){var a;if(n&&n.ecModel){var o=n.ecModel.getUpdatePayload();a=o&&o.animation}var l="update"===e;if(n&&n.isAnimationEnabled()){var c=void 0,u=void 0,h=void 0;return r?(c=qt(r.duration,200),u=qt(r.easing,"cubicOut"),h=0):(c=n.getShallow(l?"animationDurationUpdate":"animationDuration"),u=n.getShallow(l?"animationEasingUpdate":"animationEasing"),h=n.getShallow(l?"animationDelayUpdate":"animationDelay")),a&&(null!=a.duration&&(c=a.duration),null!=a.easing&&(u=a.easing),null!=a.delay&&(h=a.delay)),Ze(h)&&(h=h(t,i)),Ze(c)&&(c=c(t)),{duration:c||0,delay:h,easing:u}}return null}function CE(e,n,t,r,i,a,o){var l,s=!1;Ze(i)?(o=a,a=i,i=null):ze(i)&&(a=i.cb,o=i.during,s=i.isFrom,l=i.removeOpt,i=i.dataIndex);var c="leave"===e;c||n.stopAnimation("leave");var u=j2(e,r,i,c?l||{}:null,r&&r.getAnimationDelayParams?r.getAnimationDelayParams(n,i):null);if(u&&u.duration>0){var p={duration:u.duration,delay:u.delay||0,easing:u.easing,done:a,force:!!a||!!o,setToFinal:!c,scope:e,during:o};s?n.animateFrom(t,p):n.animateTo(t,p)}else n.stopAnimation(),!s&&n.attr(t),o&&o(1),a&&a()}function Vi(e,n,t,r,i,a){CE("update",e,n,t,r,i,a)}function ro(e,n,t,r,i,a){CE("enter",e,n,t,r,i,a)}function kf(e){if(!e.__zr)return!0;for(var n=0;n<e.animators.length;n++)if("leave"===e.animators[n].scope)return!0;return!1}function $2(e,n,t,r,i,a){kf(e)||CE("leave",e,n,t,r,i,a)}function uU(e,n,t,r){e.removeTextContent(),e.removeTextGuideLine(),$2(e,{style:{opacity:0}},n,t,r)}function wE(e,n,t){function r(){e.parent&&e.parent.remove(e)}e.isGroup?e.traverse(function(i){i.isGroup||uU(i,n,t,r)}):uU(e,n,t,r)}function hU(e){cU(e).oldStyle=e.style}var Y2={};function dU(e,n){for(var t=0;t<No.length;t++){var r=No[t],i=n[r],a=e.ensureState(r);a.style=a.style||{},a.style.text=i}var o=e.currentStates.slice();e.clearStates(!0),e.setStyle({text:n.normal}),e.useStates(o,!0)}function SE(e,n,t){var s,r=e.labelFetcher,i=e.labelDataIndex,a=e.labelDimIndex,o=n.normal;r&&(s=r.getFormattedLabel(i,"normal",null,a,o&&o.get("formatter"),null!=t?{interpolatedValue:t}:null)),null==s&&(s=Ze(e.defaultText)?e.defaultText(i,e,t):e.defaultText);for(var l={normal:s},c=0;c<No.length;c++){var u=No[c],h=n[u];l[u]=qt(r?r.getFormattedLabel(i,u,null,a,h&&h.get("formatter")):null,s)}return l}function g1(e,n,t,r){t=t||Y2;for(var i=e instanceof nr,a=!1,o=0;o<B2.length;o++)if((s=n[B2[o]])&&s.getShallow("show")){a=!0;break}var l=i?e:e.getTextContent();if(a){i||(l||(l=new nr,e.setTextContent(l)),e.stateProxy&&(l.stateProxy=e.stateProxy));var c=SE(t,n),u=n.normal,h=!!u.getShallow("show"),d=Ti(u,r&&r.normal,t,!1,!i);for(d.text=c.normal,i||e.setTextConfig(fU(u,t,!1)),o=0;o<No.length;o++){var s,f=No[o];if(s=n[f]){var p=l.ensureState(f),g=!!qt(s.getShallow("show"),h);g!==h&&(p.ignore=!g),p.style=Ti(s,r&&r[f],t,!0,!i),p.style.text=c[f],i||(e.ensureState(f).textConfig=fU(s,t,!0))}}l.silent=!!u.getShallow("silent"),null!=l.style.x&&(d.x=l.style.x),null!=l.style.y&&(d.y=l.style.y),l.ignore=!h,l.useStyle(d),l.dirty(),t.enableTextSetter&&(zf(l).setLabelText=function(v){var _=SE(t,n,v);dU(l,_)})}else l&&(l.ignore=!0);e.dirty()}function Ff(e,n){for(var t={normal:e.getModel(n=n||"label")},r=0;r<No.length;r++){var i=No[r];t[i]=e.getModel([i,n])}return t}function Ti(e,n,t,r,i){var a={};return function PSe(e,n,t,r,i){t=t||Y2;var l,a=n.ecModel,o=a&&a.option.textStyle,s=function OSe(e){for(var n;e&&e!==e.ecModel;){var t=(e.option||Y2).rich;if(t){n=n||{};for(var r=Bn(t),i=0;i<r.length;i++)n[r[i]]=1}e=e.parentModel}return n}(n);if(s)for(var c in l={},s)if(s.hasOwnProperty(c)){var u=n.getModel(["rich",c]);vU(l[c]={},u,o,t,r,i,!1,!0)}l&&(e.rich=l);var h=n.get("overflow");h&&(e.overflow=h);var d=n.get("minMargin");null!=d&&(e.margin=d),vU(e,n,o,t,r,i,!0,!1)}(a,e,t,r,i),n&&oe(a,n),a}function fU(e,n,t){n=n||{};var i,r={},a=e.getShallow("rotate"),o=qt(e.getShallow("distance"),t?null:5),s=e.getShallow("offset");return"outside"===(i=e.getShallow("position")||(t?null:"inside"))&&(i=n.defaultOutsidePosition||"top"),null!=i&&(r.position=i),null!=s&&(r.offset=s),null!=a&&(a*=Math.PI/180,r.rotation=a),null!=o&&(r.distance=o),r.outsideFill="inherit"===e.get("color")?n.inheritColor||null:"auto",r}var pU=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],gU=["align","lineHeight","width","height","tag","verticalAlign"],mU=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function vU(e,n,t,r,i,a,o,s){t=!i&&t||Y2;var l=r&&r.inheritColor,c=n.getShallow("color"),u=n.getShallow("textBorderColor"),h=qt(n.getShallow("opacity"),t.opacity);("inherit"===c||"auto"===c)&&(c=l||null),("inherit"===u||"auto"===u)&&(u=l||null),a||(c=c||t.color,u=u||t.textBorderColor),null!=c&&(e.fill=c),null!=u&&(e.stroke=u);var d=qt(n.getShallow("textBorderWidth"),t.textBorderWidth);null!=d&&(e.lineWidth=d);var f=qt(n.getShallow("textBorderType"),t.textBorderType);null!=f&&(e.lineDash=f);var p=qt(n.getShallow("textBorderDashOffset"),t.textBorderDashOffset);null!=p&&(e.lineDashOffset=p),!i&&null==h&&!s&&(h=r&&r.defaultOpacity),null!=h&&(e.opacity=h),!i&&!a&&null==e.fill&&r.inheritColor&&(e.fill=r.inheritColor);for(var g=0;g<pU.length;g++)null!=(v=qt(n.getShallow(m=pU[g]),t[m]))&&(e[m]=v);for(g=0;g<gU.length;g++)null!=(v=n.getShallow(m=gU[g]))&&(e[m]=v);if(null==e.verticalAlign){var _=n.getShallow("baseline");null!=_&&(e.verticalAlign=_)}if(!o||!r.disableBox){for(g=0;g<mU.length;g++){var m,v;null!=(v=n.getShallow(m=mU[g]))&&(e[m]=v)}var y=n.getShallow("borderType");null!=y&&(e.borderDash=y),("auto"===e.backgroundColor||"inherit"===e.backgroundColor)&&l&&(e.backgroundColor=l),("auto"===e.borderColor||"inherit"===e.borderColor)&&l&&(e.borderColor=l)}}var zf=$n(),FSe=["textStyle","color"],xE=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],ME=new nr,zSe=function(){function e(){}return e.prototype.getTextColor=function(n){var t=this.ecModel;return this.getShallow("color")||(!n&&t?t.get(FSe):null)},e.prototype.getFont=function(){return function RSe(e,n){var t=n&&n.getModel("textStyle");return Vs([e.fontStyle||t&&t.getShallow("fontStyle")||"",e.fontWeight||t&&t.getShallow("fontWeight")||"",(e.fontSize||t&&t.getShallow("fontSize")||12)+"px",e.fontFamily||t&&t.getShallow("fontFamily")||"sans-serif"].join(" "))}({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},e.prototype.getTextRect=function(n){for(var t={text:n,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},r=0;r<xE.length;r++)t[xE[r]]=this.getShallow(xE[r]);return ME.useStyle(t),ME.update(),ME.getBoundingRect()},e}();const BSe=zSe;var _U=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],VSe=c1(_U),HSe=function(){function e(){}return e.prototype.getLineStyle=function(n){return VSe(this,n)},e}(),yU=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],USe=c1(yU),GSe=function(){function e(){}return e.prototype.getItemStyle=function(n,t){return USe(this,n,t)},e}(),uh=function(){function e(n,t,r){this.parentModel=t,this.ecModel=r,this.option=n}return e.prototype.init=function(n,t,r){for(var i=[],a=3;a<arguments.length;a++)i[a-3]=arguments[a]},e.prototype.mergeOption=function(n,t){Ee(this.option,n,!0)},e.prototype.get=function(n,t){return null==n?this.option:this._doGet(this.parsePath(n),!t&&this.parentModel)},e.prototype.getShallow=function(n,t){var r=this.option,i=null==r?r:r[n];if(null==i&&!t){var a=this.parentModel;a&&(i=a.getShallow(n))}return i},e.prototype.getModel=function(n,t){var r=null!=n,i=r?this.parsePath(n):null;return new e(r?this._doGet(i):this.option,t=t||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(i)),this.ecModel)},e.prototype.isEmpty=function(){return null==this.option},e.prototype.restoreData=function(){},e.prototype.clone=function(){return new(0,this.constructor)(ht(this.option))},e.prototype.parsePath=function(n){return"string"==typeof n?n.split("."):n},e.prototype.resolveParentPath=function(n){return n},e.prototype.isAnimationEnabled=function(){if(!Bt.node&&this.option){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},e.prototype._doGet=function(n,t){var r=this.option;if(!n)return r;for(var i=0;i<n.length&&(!n[i]||null!=(r=r&&"object"==typeof r?r[n[i]]:null));i++);return null==r&&t&&(r=t._doGet(this.resolveParentPath(n),t.parentModel)),r},e}();j3(uh),function gwe(e){var n=["__\0is_clz",pwe++].join("_");e.prototype[n]=!0,e.isInstance=function(t){return!(!t||!t[n])}}(uh),Ta(uh,HSe),Ta(uh,GSe),Ta(uh,bwe),Ta(uh,BSe);const Tr=uh;var WSe=Math.round(10*Math.random());function X2(e){return[e||"",WSe++].join("_")}function q2(e,n){return Ee(Ee({},e,!0),n,!0)}var K2={},DE={},bU=Bt.domSupported&&(document.documentElement.lang||navigator.language||navigator.browserLanguage).toUpperCase().indexOf("ZH")>-1?"ZH":"EN";function CU(e,n){e=e.toUpperCase(),DE[e]=new Tr(n),K2[e]=n}CU("EN",{time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}}),CU("ZH",{time:{month:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"],monthAbbr:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],dayOfWeek:["\u661f\u671f\u65e5","\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94","\u661f\u671f\u516d"],dayOfWeekAbbr:["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"]},legend:{selector:{all:"\u5168\u9009",inverse:"\u53cd\u9009"}},toolbox:{brush:{title:{rect:"\u77e9\u5f62\u9009\u62e9",polygon:"\u5708\u9009",lineX:"\u6a2a\u5411\u9009\u62e9",lineY:"\u7eb5\u5411\u9009\u62e9",keep:"\u4fdd\u6301\u9009\u62e9",clear:"\u6e05\u9664\u9009\u62e9"}},dataView:{title:"\u6570\u636e\u89c6\u56fe",lang:["\u6570\u636e\u89c6\u56fe","\u5173\u95ed","\u5237\u65b0"]},dataZoom:{title:{zoom:"\u533a\u57df\u7f29\u653e",back:"\u533a\u57df\u7f29\u653e\u8fd8\u539f"}},magicType:{title:{line:"\u5207\u6362\u4e3a\u6298\u7ebf\u56fe",bar:"\u5207\u6362\u4e3a\u67f1\u72b6\u56fe",stack:"\u5207\u6362\u4e3a\u5806\u53e0",tiled:"\u5207\u6362\u4e3a\u5e73\u94fa"}},restore:{title:"\u8fd8\u539f"},saveAsImage:{title:"\u4fdd\u5b58\u4e3a\u56fe\u7247",lang:["\u53f3\u952e\u53e6\u5b58\u4e3a\u56fe\u7247"]}},series:{typeNames:{pie:"\u997c\u56fe",bar:"\u67f1\u72b6\u56fe",line:"\u6298\u7ebf\u56fe",scatter:"\u6563\u70b9\u56fe",effectScatter:"\u6d9f\u6f2a\u6563\u70b9\u56fe",radar:"\u96f7\u8fbe\u56fe",tree:"\u6811\u56fe",treemap:"\u77e9\u5f62\u6811\u56fe",boxplot:"\u7bb1\u578b\u56fe",candlestick:"K\u7ebf\u56fe",k:"K\u7ebf\u56fe",heatmap:"\u70ed\u529b\u56fe",map:"\u5730\u56fe",parallel:"\u5e73\u884c\u5750\u6807\u56fe",lines:"\u7ebf\u56fe",graph:"\u5173\u7cfb\u56fe",sankey:"\u6851\u57fa\u56fe",funnel:"\u6f0f\u6597\u56fe",gauge:"\u4eea\u8868\u76d8\u56fe",pictorialBar:"\u8c61\u5f62\u67f1\u56fe",themeRiver:"\u4e3b\u9898\u6cb3\u6d41\u56fe",sunburst:"\u65ed\u65e5\u56fe"}},aria:{general:{withTitle:"\u8fd9\u662f\u4e00\u4e2a\u5173\u4e8e\u201c{title}\u201d\u7684\u56fe\u8868\u3002",withoutTitle:"\u8fd9\u662f\u4e00\u4e2a\u56fe\u8868\uff0c"},series:{single:{prefix:"",withName:"\u56fe\u8868\u7c7b\u578b\u662f{seriesType}\uff0c\u8868\u793a{seriesName}\u3002",withoutName:"\u56fe\u8868\u7c7b\u578b\u662f{seriesType}\u3002"},multiple:{prefix:"\u5b83\u7531{seriesCount}\u4e2a\u56fe\u8868\u7cfb\u5217\u7ec4\u6210\u3002",withName:"\u7b2c{seriesId}\u4e2a\u7cfb\u5217\u662f\u4e00\u4e2a\u8868\u793a{seriesName}\u7684{seriesType}\uff0c",withoutName:"\u7b2c{seriesId}\u4e2a\u7cfb\u5217\u662f\u4e00\u4e2a{seriesType}\uff0c",separator:{middle:"\uff1b",end:"\u3002"}}},data:{allData:"\u5176\u6570\u636e\u662f\u2014\u2014",partialData:"\u5176\u4e2d\uff0c\u524d{displayCnt}\u9879\u662f\u2014\u2014",withName:"{name}\u7684\u6570\u636e\u662f{value}",withoutName:"{value}",separator:{middle:"\uff0c",end:""}}}});var v1=36e5,Io=24*v1,wU=365*Io,_1={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},Q2="{yyyy}-{MM}-{dd}",SU={year:"{yyyy}",month:"{yyyy}-{MM}",day:Q2,hour:Q2+" "+_1.hour,minute:Q2+" "+_1.minute,second:Q2+" "+_1.second,millisecond:_1.none},NE=["year","month","day","hour","minute","second","millisecond"],xU=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function Aa(e,n){return"0000".substr(0,n-(e+="").length)+e}function Bf(e){switch(e){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return e}}function QSe(e){return e===Bf(e)}function J2(e,n,t,r){var i=ss(e),a=i[IE(t)](),o=i[Vf(t)]()+1,s=Math.floor((o-1)/3)+1,l=i[eb(t)](),c=i["get"+(t?"UTC":"")+"Day"](),u=i[y1(t)](),h=(u-1)%12+1,d=i[tb(t)](),f=i[nb(t)](),p=i[rb(t)](),g=r instanceof Tr?r:function ZSe(e){return DE[e]}(r||bU)||function KSe(){return DE.EN}(),m=g.getModel("time"),v=m.get("month"),_=m.get("monthAbbr"),y=m.get("dayOfWeek"),b=m.get("dayOfWeekAbbr");return(n||"").replace(/{yyyy}/g,a+"").replace(/{yy}/g,a%100+"").replace(/{Q}/g,s+"").replace(/{MMMM}/g,v[o-1]).replace(/{MMM}/g,_[o-1]).replace(/{MM}/g,Aa(o,2)).replace(/{M}/g,o+"").replace(/{dd}/g,Aa(l,2)).replace(/{d}/g,l+"").replace(/{eeee}/g,y[c]).replace(/{ee}/g,b[c]).replace(/{e}/g,c+"").replace(/{HH}/g,Aa(u,2)).replace(/{H}/g,u+"").replace(/{hh}/g,Aa(h+"",2)).replace(/{h}/g,h+"").replace(/{mm}/g,Aa(d,2)).replace(/{m}/g,d+"").replace(/{ss}/g,Aa(f,2)).replace(/{s}/g,f+"").replace(/{SSS}/g,Aa(p,3)).replace(/{S}/g,p+"")}function MU(e,n){var t=ss(e),r=t[Vf(n)]()+1,i=t[eb(n)](),a=t[y1(n)](),o=t[tb(n)](),s=t[nb(n)](),c=0===t[rb(n)](),u=c&&0===s,h=u&&0===o,d=h&&0===a,f=d&&1===i;return f&&1===r?"year":f?"month":d?"day":h?"hour":u?"minute":c?"second":"millisecond"}function TU(e,n,t){var r=Sn(e)?ss(e):e;switch(n=n||MU(e,t)){case"year":return r[IE(t)]();case"half-year":return r[Vf(t)]()>=6?1:0;case"quarter":return Math.floor((r[Vf(t)]()+1)/4);case"month":return r[Vf(t)]();case"day":return r[eb(t)]();case"half-day":return r[y1(t)]()/24;case"hour":return r[y1(t)]();case"minute":return r[tb(t)]();case"second":return r[nb(t)]();case"millisecond":return r[rb(t)]()}}function IE(e){return e?"getUTCFullYear":"getFullYear"}function Vf(e){return e?"getUTCMonth":"getMonth"}function eb(e){return e?"getUTCDate":"getDate"}function y1(e){return e?"getUTCHours":"getHours"}function tb(e){return e?"getUTCMinutes":"getMinutes"}function nb(e){return e?"getUTCSeconds":"getSeconds"}function rb(e){return e?"getUTCMilliseconds":"getMilliseconds"}function txe(e){return e?"setUTCFullYear":"setFullYear"}function DU(e){return e?"setUTCMonth":"setMonth"}function EU(e){return e?"setUTCDate":"setDate"}function AU(e){return e?"setUTCHours":"setHours"}function NU(e){return e?"setUTCMinutes":"setMinutes"}function IU(e){return e?"setUTCSeconds":"setSeconds"}function PU(e){return e?"setUTCMilliseconds":"setMilliseconds"}function ib(e){if(!function qCe(e){return!isNaN(yc(e))}(e))return Fe(e)?e:"-";var n=(e+"").split(".");return n[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(n.length>1?"."+n[1]:"")}function OU(e,n){return e=(e||"").toLowerCase().replace(/-(.)/g,function(t,r){return r.toUpperCase()}),n&&e&&(e=e.charAt(0).toUpperCase()+e.slice(1)),e}var b1=$9;function PE(e,n,t){function i(u){return u&&Vs(u)?u:"-"}function a(u){return!(null==u||isNaN(u)||!isFinite(u))}var o="time"===n,s=e instanceof Date;if(o||s){var l=o?ss(e):e;if(!isNaN(+l))return J2(l,"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}",t);if(s)return"-"}if("ordinal"===n)return jD(e)?i(e):Sn(e)&&a(e)?e+"":"-";var c=yc(e);return a(c)?ib(c):jD(e)?i(e):"boolean"==typeof e?e+"":"-"}var RU=["a","b","c","d","e","f","g"],OE=function(e,n){return"{"+e+(n??"")+"}"};function RE(e,n,t){ne(n)||(n=[n]);var r=n.length;if(!r)return"";for(var i=n[0].$vars||[],a=0;a<i.length;a++){var o=RU[a];e=e.replace(OE(o),OE(o,0))}for(var s=0;s<r;s++)for(var l=0;l<i.length;l++){var c=n[s][i[l]];e=e.replace(OE(RU[l],s),t?gi(c):c)}return e}function LU(e,n){var t=Fe(e)?{color:e,extraCssText:n}:e||{},r=t.color,i=t.type;n=t.extraCssText;var a=t.renderMode||"html";return r?"html"===a?"subItem"===i?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+gi(r)+";"+(n||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+gi(r)+";"+(n||"")+'"></span>':{renderMode:a,content:"{"+(t.markerId||"markerX")+"|}  ",style:"subItem"===i?{width:4,height:4,borderRadius:2,backgroundColor:r}:{width:10,height:10,borderRadius:5,backgroundColor:r}}:""}function hh(e,n){return n=n||"transparent",Fe(e)?e:ze(e)&&e.colorStops&&(e.colorStops[0]||{}).color||n}function kU(e,n){if("_blank"===n||"blank"===n){var t=window.open();t.opener=null,t.location.href=e}else window.open(e,n)}var ab=I,rxe=["left","right","top","bottom","width","height"],dh=[["width","left","right"],["height","top","bottom"]];function LE(e,n,t,r,i){var a=0,o=0;null==r&&(r=1/0),null==i&&(i=1/0);var s=0;n.eachChild(function(l,c){var f,p,u=l.getBoundingRect(),h=n.childAt(c+1),d=h&&h.getBoundingRect();if("horizontal"===e){var g=u.width+(d?-d.x+u.x:0);(f=a+g)>r||l.newline?(a=0,f=g,o+=s+t,s=u.height):s=Math.max(s,u.height)}else{var m=u.height+(d?-d.y+u.y:0);(p=o+m)>i||l.newline?(a+=s+t,o=0,p=m,s=u.width):s=Math.max(s,u.width)}l.newline||(l.x=a,l.y=o,l.markRedraw(),"horizontal"===e?a=f+t:o=p+t)})}var Hf=LE;function us(e,n,t){t=b1(t||0);var r=n.width,i=n.height,a=oi(e.left,r),o=oi(e.top,i),s=oi(e.right,r),l=oi(e.bottom,i),c=oi(e.width,r),u=oi(e.height,i),h=t[2]+t[0],d=t[1]+t[3],f=e.aspect;switch(isNaN(c)&&(c=r-s-d-a),isNaN(u)&&(u=i-l-h-o),null!=f&&(isNaN(c)&&isNaN(u)&&(f>r/i?c=.8*r:u=.8*i),isNaN(c)&&(c=f*u),isNaN(u)&&(u=c/f)),isNaN(a)&&(a=r-s-c-d),isNaN(o)&&(o=i-l-u-h),e.left||e.right){case"center":a=r/2-c/2-t[3];break;case"right":a=r-c-d}switch(e.top||e.bottom){case"middle":case"center":o=i/2-u/2-t[0];break;case"bottom":o=i-u-h}a=a||0,o=o||0,isNaN(c)&&(c=r-d-a-(s||0)),isNaN(u)&&(u=i-h-o-(l||0));var p=new Yt(a+t[3],o+t[0],c,u);return p.margin=t,p}function C1(e){var n=e.layoutMode||e.constructor.layoutMode;return ze(n)?n:n?{type:n}:null}function Uf(e,n,t){var r=t&&t.ignoreSize;!ne(r)&&(r=[r,r]);var i=o(dh[0],0),a=o(dh[1],1);function o(u,h){var d={},f=0,p={},g=0;if(ab(u,function(y){p[y]=e[y]}),ab(u,function(y){s(n,y)&&(d[y]=p[y]=n[y]),l(d,y)&&f++,l(p,y)&&g++}),r[h])return l(n,u[1])?p[u[2]]=null:l(n,u[2])&&(p[u[1]]=null),p;if(2===g||!f)return p;if(f>=2)return d;for(var v=0;v<u.length;v++){var _=u[v];if(!s(d,_)&&s(e,_)){d[_]=e[_];break}}return d}function s(u,h){return u.hasOwnProperty(h)}function l(u,h){return null!=u[h]&&"auto"!==u[h]}function c(u,h,d){ab(u,function(f){h[f]=d[f]})}c(dh[0],e,i),c(dh[1],e,a)}function ob(e){return function axe(e,n){return n&&e&&ab(rxe,function(t){n.hasOwnProperty(t)&&(e[t]=n[t])}),e}({},e)}An(LE,"vertical"),An(LE,"horizontal");var oxe=$n(),Gf=function(e){function n(t,r,i){var a=e.call(this,t,r,i)||this;return a.uid=X2("ec_cpt_model"),a}return ke(n,e),n.prototype.init=function(t,r,i){this.mergeDefaultAndTheme(t,i)},n.prototype.mergeDefaultAndTheme=function(t,r){var i=C1(this),a=i?ob(t):{};Ee(t,r.getTheme().get(this.mainType)),Ee(t,this.getDefaultOption()),i&&Uf(t,a,i)},n.prototype.mergeOption=function(t,r){Ee(this.option,t,!0);var i=C1(this);i&&Uf(this.option,t,i)},n.prototype.optionUpdated=function(t,r){},n.prototype.getDefaultOption=function(){var t=this.constructor;if(!function dwe(e){return!(!e||!e[dH])}(t))return t.defaultOption;var r=oxe(this);if(!r.defaultOption){for(var i=[],a=t;a;){var o=a.prototype.defaultOption;o&&i.push(o),a=a.superClass}for(var s={},l=i.length-1;l>=0;l--)s=Ee(s,i[l],!0);r.defaultOption=s}return r.defaultOption},n.prototype.getReferringComponents=function(t,r){var a=t+"Id";return l1(this.ecModel,t,{index:this.get(t+"Index",!0),id:this.get(a,!0)},r)},n.prototype.getBoxLayoutParams=function(){var t=this;return{left:t.get("left"),top:t.get("top"),right:t.get("right"),bottom:t.get("bottom"),width:t.get("width"),height:t.get("height")}},n.prototype.getZLevelKey=function(){return""},n.prototype.setZLevel=function(t){this.option.zlevel=t},n.protoInitialize=((t=n.prototype).type="component",t.id="",t.name="",t.mainType="",t.subType="",void(t.componentIndex=0)),n;var t}(Tr);fH(Gf,Tr),I2(Gf),function jSe(e){var n={};e.registerSubTypeDefaulter=function(t,r){var i=js(t);n[i.main]=r},e.determineSubType=function(t,r){var i=r.type;if(!i){var a=js(t).main;e.hasSubTypes(t)&&n[a]&&(i=n[a](r))}return i}}(Gf),function $Se(e,n){function r(a,o){return a[o]||(a[o]={predecessor:[],successor:[]}),a[o]}e.topologicalTravel=function(a,o,s,l){if(a.length){var c=function t(a){var o={},s=[];return I(a,function(l){var c=r(o,l),h=function i(a,o){var s=[];return I(a,function(l){sn(o,l)>=0&&s.push(l)}),s}(c.originalDeps=n(l),a);c.entryCount=h.length,0===c.entryCount&&s.push(l),I(h,function(d){sn(c.predecessor,d)<0&&c.predecessor.push(d);var f=r(o,d);sn(f.successor,d)<0&&f.successor.push(l)})}),{graph:o,noEntryList:s}}(o),u=c.graph,h=c.noEntryList,d={};for(I(a,function(_){d[_]=!0});h.length;){var f=h.pop(),p=u[f],g=!!d[f];g&&(s.call(l,f,p.originalDeps.slice()),delete d[f]),I(p.successor,g?v:m)}I(d,function(){throw new Error("")})}function m(_){u[_].entryCount--,0===u[_].entryCount&&h.push(_)}function v(_){d[_]=!0,m(_)}}}(Gf,function sxe(e){var n=[];return I(Gf.getClassesByMainType(e),function(t){n=n.concat(t.dependencies||t.prototype.dependencies||[])}),n=De(n,function(t){return js(t).main}),"dataset"!==e&&sn(n,"dataset")<=0&&n.unshift("dataset"),n});const cn=Gf;var FU="";typeof navigator<"u"&&(FU=navigator.platform||"");var Wf="rgba(0, 0, 0, 0.2)";const lxe={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:Wf,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:Wf,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:Wf,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:Wf,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:Wf,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:Wf,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:FU.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var zU=bt(["tooltip","label","itemName","itemId","itemGroupId","seriesName"]),Po="original",ra="arrayRows",hs="objectRows",Ll="keyedColumns",kl="typedArray",BU="unknown",Zs="column",jf="row",VU=$n();function uxe(e,n,t){var r={},i=kE(n);if(!i||!e)return r;var u,h,a=[],o=[],l=VU(n.ecModel).datasetMap,c=i.uid+"_"+t.seriesLayoutBy;I(e=e.slice(),function(g,m){var v=ze(g)?g:e[m]={name:g};"ordinal"===v.type&&null==u&&(u=m,h=p(v)),r[v.name]=[]});var d=l.get(c)||l.set(c,{categoryWayDim:h,valueWayDim:0});function f(g,m,v){for(var _=0;_<v;_++)g.push(m+_)}function p(g){var m=g.dimsDef;return m?m.length:1}return I(e,function(g,m){var v=g.name,_=p(g);if(null==u)f(r[v],y=d.valueWayDim,_),f(o,y,_),d.valueWayDim+=_;else if(u===m)f(r[v],0,_),f(a,0,_);else{var y;f(r[v],y=d.categoryWayDim,_),f(o,y,_),d.categoryWayDim+=_}}),a.length&&(r.itemName=a),o.length&&(r.seriesName=o),r}function kE(e){if(!e.get("data",!0))return l1(e.ecModel,"dataset",{index:e.get("datasetIndex",!0),id:e.get("datasetId",!0)},cs).models[0]}function HU(e,n){return function UU(e,n,t,r,i,a){var o,l,c;if(eo(e))return 3;if(r){var u=r[a];ze(u)?(l=u.name,c=u.type):Fe(u)&&(l=u)}if(null!=c)return"ordinal"===c?1:3;if(n===ra){var h=e;if(t===jf){for(var d=h[a],f=0;f<(d||[]).length&&f<5;f++)if(null!=(o=b(d[i+f])))return o}else for(f=0;f<h.length&&f<5;f++){var p=h[i+f];if(p&&null!=(o=b(p[a])))return o}}else if(n===hs){var g=e;if(!l)return 3;for(f=0;f<g.length&&f<5;f++)if((m=g[f])&&null!=(o=b(m[l])))return o}else if(n===Ll){if(!l)return 3;if(!(d=e[l])||eo(d))return 3;for(f=0;f<d.length&&f<5;f++)if(null!=(o=b(d[f])))return o}else if(n===Po){var _=e;for(f=0;f<_.length&&f<5;f++){var m,y=a1(m=_[f]);if(!ne(y))return 3;if(null!=(o=b(y[a])))return o}}function b(w){var C=Fe(w);return null!=w&&isFinite(w)&&""!==w?C?2:3:C&&"-"!==w?1:void 0}return 3}(e.data,e.sourceFormat,e.seriesLayoutBy,e.dimensionsDefine,e.startIndex,n)}var FE=bt(),GU=$n(),zE=($n(),function(){function e(){}return e.prototype.getColorFromPalette=function(n,t,r){var i=mr(this.get("color",!0)),a=this.get("colorLayer",!0);return function WU(e,n,t,r,i,a,o){var s=n(a=a||e),l=s.paletteIdx||0,c=s.paletteNameMap=s.paletteNameMap||{};if(c.hasOwnProperty(i))return c[i];var u=null!=o&&r?function pxe(e,n){for(var t=e.length,r=0;r<t;r++)if(e[r].length>n)return e[r];return e[t-1]}(r,o):t;if((u=u||t)&&u.length){var h=u[l];return i&&(c[i]=h),s.paletteIdx=(l+1)%u.length,h}}(this,GU,i,a,n,t,r)},e.prototype.clearColorPalette=function(){!function gxe(e,n){n(e).paletteIdx=0,n(e).paletteNameMap={}}(this,GU)},e}());var sb,w1,jU,$U="\0_ec_inner",XU=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return ke(n,e),n.prototype.init=function(t,r,i,a,o,s){a=a||{},this.option=null,this._theme=new Tr(a),this._locale=new Tr(o),this._optionManager=s},n.prototype.setOption=function(t,r,i){var a=KU(r);this._optionManager.setOption(t,i,a),this._resetOption(null,a)},n.prototype.resetOption=function(t,r){return this._resetOption(t,KU(r))},n.prototype._resetOption=function(t,r){var i=!1,a=this._optionManager;if(!t||"recreate"===t){var o=a.mountOption("recreate"===t);this.option&&"recreate"!==t?(this.restoreData(),this._mergeOption(o,r)):jU(this,o),i=!0}if(("timeline"===t||"media"===t)&&this.restoreData(),!t||"recreate"===t||"timeline"===t){var s=a.getTimelineOption(this);s&&(i=!0,this._mergeOption(s,r))}if(!t||"recreate"===t||"media"===t){var l=a.getMediaOption(this);l.length&&I(l,function(c){i=!0,this._mergeOption(c,r)},this)}return i},n.prototype.mergeOption=function(t){this._mergeOption(t,null)},n.prototype._mergeOption=function(t,r){var i=this.option,a=this._componentsMap,o=this._componentsCount,s=[],l=bt(),c=r&&r.replaceMergeMainTypeMap;(function cxe(e){VU(e).datasetMap=bt()})(this),I(t,function(h,d){null!=h&&(cn.hasClass(d)?d&&(s.push(d),l.set(d,!0)):i[d]=null==i[d]?ht(h):Ee(i[d],h,!0))}),c&&c.each(function(h,d){cn.hasClass(d)&&!l.get(d)&&(s.push(d),l.set(d,!0))}),cn.topologicalTravel(s,cn.getAllClassMainTypes(),function u(h){var d=function dxe(e,n,t){var r=FE.get(n);if(!r)return t;var i=r(e);return i?t.concat(i):t}(this,h,mr(t[h])),f=a.get(h),g=function KCe(e,n,t){var r="normalMerge"===t,i="replaceMerge"===t,a="replaceAll"===t;e=e||[],n=(n||[]).slice();var o=bt();I(n,function(l,c){ze(l)||(n[c]=null)});var s=function QCe(e,n,t){var r=[];if("replaceAll"===t)return r;for(var i=0;i<e.length;i++){var a=e[i];a&&null!=a.id&&n.set(a.id,i),r.push({existing:"replaceMerge"===t||s1(a)?null:a,newOption:null,keyInfo:null,brandNew:null})}return r}(e,o,t);return(r||i)&&function JCe(e,n,t,r){I(r,function(i,a){if(i&&null!=i.id){var o=o1(i.id),s=t.get(o);if(null!=s){var l=e[s];rs(!l.newOption,'Duplicated option on id "'+o+'".'),l.newOption=i,l.existing=n[s],r[a]=null}}})}(s,e,o,n),r&&function ewe(e,n){I(n,function(t,r){if(t&&null!=t.name)for(var i=0;i<e.length;i++){var a=e[i].existing;if(!e[i].newOption&&a&&(null==a.id||null==t.id)&&!s1(t)&&!s1(a)&&cH("name",a,t))return e[i].newOption=t,void(n[r]=null)}})}(s,n),r||i?function twe(e,n,t){I(n,function(r){if(r){for(var i,a=0;(i=e[a])&&(i.newOption||s1(i.existing)||i.existing&&null!=r.id&&!cH("id",r,i.existing));)a++;i?(i.newOption=r,i.brandNew=t):e.push({newOption:r,brandNew:t,existing:null,keyInfo:null}),a++}})}(s,n,i):a&&function nwe(e,n){I(n,function(t){e.push({newOption:t,brandNew:!0,existing:null,keyInfo:null})})}(s,n),function rwe(e){var n=bt();I(e,function(t){var r=t.existing;r&&n.set(r.id,t)}),I(e,function(t){var r=t.newOption;rs(!r||null==r.id||!n.get(r.id)||n.get(r.id)===t,"id duplicates: "+(r&&r.id)),r&&null!=r.id&&n.set(r.id,t),!t.keyInfo&&(t.keyInfo={})}),I(e,function(t,r){var i=t.existing,a=t.newOption,o=t.keyInfo;if(ze(a)){if(o.name=null!=a.name?o1(a.name):i?i.name:oH+r,i)o.id=o1(i.id);else if(null!=a.id)o.id=o1(a.id);else{var s=0;do{o.id="\0"+o.name+"\0"+s++}while(n.get(o.id))}n.set(o.id,t)}})}(s),s}(f,d,f?c&&c.get(h)?"replaceMerge":"normalMerge":"replaceAll");(function iwe(e,n,t){I(e,function(r){var i=r.newOption;ze(i)&&(r.keyInfo.mainType=n,r.keyInfo.subType=function awe(e,n,t,r){return n.type?n.type:t?t.subType:r.determineSubType(e,n)}(n,i,r.existing,t))})})(g,h,cn),i[h]=null,a.set(h,null),o.set(h,0);var y,m=[],v=[],_=0;I(g,function(w,C){var S=w.existing,x=w.newOption;if(x){var E=cn.getClass(h,w.keyInfo.subType,!("series"===h));if(!E)return;if("tooltip"===h){if(y)return;y=!0}if(S&&S.constructor===E)S.name=w.keyInfo.name,S.mergeOption(x,this),S.optionUpdated(x,!1);else{var N=oe({componentIndex:C},w.keyInfo);oe(S=new E(x,this,this,N),N),w.brandNew&&(S.__requireNewView=!0),S.init(x,this,this),S.optionUpdated(null,!0)}}else S&&(S.mergeOption({},this),S.optionUpdated({},!1));S?(m.push(S.option),v.push(S),_++):(m.push(void 0),v.push(void 0))},this),i[h]=m,a.set(h,v),o.set(h,_),"series"===h&&sb(this)},this),this._seriesIndices||sb(this)},n.prototype.getOption=function(){var t=ht(this.option);return I(t,function(r,i){if(cn.hasClass(i)){for(var a=mr(r),o=a.length,s=!1,l=o-1;l>=0;l--)a[l]&&!s1(a[l])?s=!0:(a[l]=null,!s&&o--);a.length=o,t[i]=a}}),delete t[$U],t},n.prototype.getTheme=function(){return this._theme},n.prototype.getLocaleModel=function(){return this._locale},n.prototype.setUpdatePayload=function(t){this._payload=t},n.prototype.getUpdatePayload=function(){return this._payload},n.prototype.getComponent=function(t,r){var i=this._componentsMap.get(t);if(i){var a=i[r||0];if(a)return a;if(null==r)for(var o=0;o<i.length;o++)if(i[o])return i[o]}},n.prototype.queryComponents=function(t){var r=t.mainType;if(!r)return[];var l,i=t.index,a=t.id,o=t.name,s=this._componentsMap.get(r);return s&&s.length?(null!=i?(l=[],I(mr(i),function(c){s[c]&&l.push(s[c])})):l=null!=a?qU("id",a,s):null!=o?qU("name",o,s):Mr(s,function(c){return!!c}),ZU(l,t)):[]},n.prototype.findComponents=function(t){var i=t.mainType,a=function s(c){var u=i+"Index",h=i+"Id",d=i+"Name";return!c||null==c[u]&&null==c[h]&&null==c[d]?null:{mainType:i,index:c[u],id:c[h],name:c[d]}}(t.query);return function l(c){return t.filter?Mr(c,t.filter):c}(ZU(a?this.queryComponents(a):Mr(this._componentsMap.get(i),function(c){return!!c}),t))},n.prototype.eachComponent=function(t,r,i){var a=this._componentsMap;if(Ze(t)){var o=r,s=t;a.each(function(h,d){for(var f=0;h&&f<h.length;f++){var p=h[f];p&&s.call(o,d,p,p.componentIndex)}})}else for(var l=Fe(t)?a.get(t):ze(t)?this.findComponents(t):null,c=0;l&&c<l.length;c++){var u=l[c];u&&r.call(i,u,u.componentIndex)}},n.prototype.getSeriesByName=function(t){var r=ls(t,null);return Mr(this._componentsMap.get("series"),function(i){return!!i&&null!=r&&i.name===r})},n.prototype.getSeriesByIndex=function(t){return this._componentsMap.get("series")[t]},n.prototype.getSeriesByType=function(t){return Mr(this._componentsMap.get("series"),function(r){return!!r&&r.subType===t})},n.prototype.getSeries=function(){return Mr(this._componentsMap.get("series"),function(t){return!!t})},n.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},n.prototype.eachSeries=function(t,r){w1(this),I(this._seriesIndices,function(i){var a=this._componentsMap.get("series")[i];t.call(r,a,i)},this)},n.prototype.eachRawSeries=function(t,r){I(this._componentsMap.get("series"),function(i){i&&t.call(r,i,i.componentIndex)})},n.prototype.eachSeriesByType=function(t,r,i){w1(this),I(this._seriesIndices,function(a){var o=this._componentsMap.get("series")[a];o.subType===t&&r.call(i,o,a)},this)},n.prototype.eachRawSeriesByType=function(t,r,i){return I(this.getSeriesByType(t),r,i)},n.prototype.isSeriesFiltered=function(t){return w1(this),null==this._seriesIndicesMap.get(t.componentIndex)},n.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},n.prototype.filterSeries=function(t,r){w1(this);var i=[];I(this._seriesIndices,function(a){var o=this._componentsMap.get("series")[a];t.call(r,o,a)&&i.push(a)},this),this._seriesIndices=i,this._seriesIndicesMap=bt(i)},n.prototype.restoreData=function(t){sb(this);var r=this._componentsMap,i=[];r.each(function(a,o){cn.hasClass(o)&&i.push(o)}),cn.topologicalTravel(i,cn.getAllClassMainTypes(),function(a){I(r.get(a),function(o){o&&("series"!==a||!function _xe(e,n){if(n){var t=n.seriesIndex,r=n.seriesId,i=n.seriesName;return null!=t&&e.componentIndex!==t||null!=r&&e.id!==r||null!=i&&e.name!==i}}(o,t))&&o.restoreData()})})},n.internalField=(sb=function(t){var r=t._seriesIndices=[];I(t._componentsMap.get("series"),function(i){i&&r.push(i.componentIndex)}),t._seriesIndicesMap=bt(r)},w1=function(t){},void(jU=function(t,r){t.option={},t.option[$U]=1,t._componentsMap=bt({series:[]}),t._componentsCount=bt();var i=r.aria;ze(i)&&null==i.enabled&&(i.enabled=!0),function yxe(e,n){var t=e.color&&!e.colorLayer;I(n,function(r,i){"colorLayer"===i&&t||cn.hasClass(i)||("object"==typeof r?e[i]=e[i]?Ee(e[i],r,!1):ht(r):null==e[i]&&(e[i]=r))})}(r,t._theme.option),Ee(r,lxe,!1),t._mergeOption(r,null)})),n}(Tr);function qU(e,n,t){if(ne(n)){var r=bt();return I(n,function(a){null!=a&&null!=ls(a,null)&&r.set(a,!0)}),Mr(t,function(a){return a&&r.get(a[e])})}var i=ls(n,null);return Mr(t,function(a){return a&&null!=i&&a[e]===i})}function ZU(e,n){return n.hasOwnProperty("subType")?Mr(e,function(t){return t&&t.subType===n.subType}):e}function KU(e){var n=bt();return e&&I(mr(e.replaceMerge),function(t){n.set(t,!0)}),{replaceMergeMainTypeMap:n}}Ta(XU,zE);const QU=XU;var bxe=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"];const JU=function e(n){I(bxe,function(t){this[t]=ln(n[t],n)},this)};var BE={},wxe=function(){function e(){this._coordinateSystems=[]}return e.prototype.create=function(n,t){var r=[];I(BE,function(i,a){var o=i.create(n,t);r=r.concat(o||[])}),this._coordinateSystems=r},e.prototype.update=function(n,t){I(this._coordinateSystems,function(r){r.update&&r.update(n,t)})},e.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},e.register=function(n,t){BE[n]=t},e.get=function(n){return BE[n]},e}();const S1=wxe;var Sxe=/^(min|max)?(.+)$/,xxe=function(){function e(n){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=n}return e.prototype.setOption=function(n,t,r){n&&(I(mr(n.series),function(o){o&&o.data&&eo(o.data)&&e2(o.data)}),I(mr(n.dataset),function(o){o&&o.source&&eo(o.source)&&e2(o.source)})),n=ht(n);var i=this._optionBackup,a=function Mxe(e,n,t){var i,a,r=[],o=e.baseOption,s=e.timeline,l=e.options,c=e.media,u=!!e.media,h=!!(l||s||o&&o.timeline);function d(f){I(n,function(p){p(f,t)})}return o?(a=o).timeline||(a.timeline=s):((h||u)&&(e.options=e.media=null),a=e),u&&ne(c)&&I(c,function(f){f&&f.option&&(f.query?r.push(f):i||(i=f))}),d(a),I(l,function(f){return d(f)}),I(r,function(f){return d(f.option)}),{baseOption:a,timelineOptions:l||[],mediaDefault:i,mediaList:r}}(n,t,!i);this._newBaseOption=a.baseOption,i?(a.timelineOptions.length&&(i.timelineOptions=a.timelineOptions),a.mediaList.length&&(i.mediaList=a.mediaList),a.mediaDefault&&(i.mediaDefault=a.mediaDefault)):this._optionBackup=a},e.prototype.mountOption=function(n){var t=this._optionBackup;return this._timelineOptions=t.timelineOptions,this._mediaList=t.mediaList,this._mediaDefault=t.mediaDefault,this._currentMediaIndices=[],ht(n?t.baseOption:this._newBaseOption)},e.prototype.getTimelineOption=function(n){var t,r=this._timelineOptions;if(r.length){var i=n.getComponent("timeline");i&&(t=ht(r[i.getCurrentIndex()]))}return t},e.prototype.getMediaOption=function(n){var t=this._api.getWidth(),r=this._api.getHeight(),i=this._mediaList,a=this._mediaDefault,o=[],s=[];if(!i.length&&!a)return s;for(var l=0,c=i.length;l<c;l++)Txe(i[l].query,t,r)&&o.push(l);return!o.length&&a&&(o=[-1]),o.length&&!function Exe(e,n){return e.join(",")===n.join(",")}(o,this._currentMediaIndices)&&(s=De(o,function(u){return ht(-1===u?a.option:i[u].option)})),this._currentMediaIndices=o,s},e}();function Txe(e,n,t){var r={width:n,height:t,aspectratio:n/t},i=!0;return I(e,function(a,o){var s=o.match(Sxe);if(s&&s[1]&&s[2]){var l=s[1],c=s[2].toLowerCase();(function Dxe(e,n,t){return"min"===t?e>=n:"max"===t?e<=n:e===n})(r[c],a,l)||(i=!1)}}),i}const Axe=xxe;var ds=I,x1=ze,eG=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function VE(e){var n=e&&e.itemStyle;if(n)for(var t=0,r=eG.length;t<r;t++){var i=eG[t],a=n.normal,o=n.emphasis;a&&a[i]&&(e[i]=e[i]||{},e[i].normal?Ee(e[i].normal,a[i]):e[i].normal=a[i],a[i]=null),o&&o[i]&&(e[i]=e[i]||{},e[i].emphasis?Ee(e[i].emphasis,o[i]):e[i].emphasis=o[i],o[i]=null)}}function Hi(e,n,t){if(e&&e[n]&&(e[n].normal||e[n].emphasis)){var r=e[n].normal,i=e[n].emphasis;r&&(t?(e[n].normal=e[n].emphasis=null,ut(e[n],r)):e[n]=r),i&&(e.emphasis=e.emphasis||{},e.emphasis[n]=i,i.focus&&(e.emphasis.focus=i.focus),i.blurScope&&(e.emphasis.blurScope=i.blurScope))}}function M1(e){Hi(e,"itemStyle"),Hi(e,"lineStyle"),Hi(e,"areaStyle"),Hi(e,"label"),Hi(e,"labelLine"),Hi(e,"upperLabel"),Hi(e,"edgeLabel")}function Or(e,n){var t=x1(e)&&e[n],r=x1(t)&&t.textStyle;if(r)for(var i=0,a=lH.length;i<a;i++){var o=lH[i];r.hasOwnProperty(o)&&(t[o]=r[o])}}function Oo(e){e&&(M1(e),Or(e,"label"),e.emphasis&&Or(e.emphasis,"label"))}function Fl(e){return ne(e)?e:e?[e]:[]}function tG(e){return(ne(e)?e[0]:e)||{}}function nG(e){e&&I(Rxe,function(n){n[0]in e&&!(n[1]in e)&&(e[n[1]]=e[n[0]])})}var Rxe=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],Lxe=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],HE=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function T1(e){var n=e&&e.itemStyle;if(n)for(var t=0;t<HE.length;t++){var r=HE[t][1];null!=n[r]&&(n[HE[t][0]]=n[r])}}function rG(e){!e||"edge"===e.alignTo&&null!=e.margin&&null==e.edgeDistance&&(e.edgeDistance=e.margin)}function iG(e){!e||e.downplay&&!e.blur&&(e.blur=e.downplay)}function aG(e,n){if(e)for(var t=0;t<e.length;t++)n(e[t]),e[t]&&aG(e[t].children,n)}function oG(e,n){(function Ixe(e,n){ds(Fl(e.series),function(r){x1(r)&&function Nxe(e){if(x1(e)){VE(e),M1(e),Or(e,"label"),Or(e,"upperLabel"),Or(e,"edgeLabel"),e.emphasis&&(Or(e.emphasis,"label"),Or(e.emphasis,"upperLabel"),Or(e.emphasis,"edgeLabel"));var n=e.markPoint;n&&(VE(n),Oo(n));var t=e.markLine;t&&(VE(t),Oo(t));var r=e.markArea;r&&Oo(r);var i=e.data;if("graph"===e.type){i=i||e.nodes;var a=e.links||e.edges;if(a&&!eo(a))for(var o=0;o<a.length;o++)Oo(a[o]);I(e.categories,function(c){M1(c)})}if(i&&!eo(i))for(o=0;o<i.length;o++)Oo(i[o]);if((n=e.markPoint)&&n.data){var s=n.data;for(o=0;o<s.length;o++)Oo(s[o])}if((t=e.markLine)&&t.data){var l=t.data;for(o=0;o<l.length;o++)ne(l[o])?(Oo(l[o][0]),Oo(l[o][1])):Oo(l[o])}"gauge"===e.type?(Or(e,"axisLabel"),Or(e,"title"),Or(e,"detail")):"treemap"===e.type?(Hi(e.breadcrumb,"itemStyle"),I(e.levels,function(c){M1(c)})):"tree"===e.type&&M1(e.leaves)}}(r)});var t=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];n&&t.push("valueAxis","categoryAxis","logAxis","timeAxis"),ds(t,function(r){ds(Fl(e[r]),function(i){i&&(Or(i,"axisLabel"),Or(i.axisPointer,"label"))})}),ds(Fl(e.parallel),function(r){var i=r&&r.parallelAxisDefault;Or(i,"axisLabel"),Or(i&&i.axisPointer,"label")}),ds(Fl(e.calendar),function(r){Hi(r,"itemStyle"),Or(r,"dayLabel"),Or(r,"monthLabel"),Or(r,"yearLabel")}),ds(Fl(e.radar),function(r){Or(r,"name"),r.name&&null==r.axisName&&(r.axisName=r.name,delete r.name),null!=r.nameGap&&null==r.axisNameGap&&(r.axisNameGap=r.nameGap,delete r.nameGap)}),ds(Fl(e.geo),function(r){x1(r)&&(Oo(r),ds(Fl(r.regions),function(i){Oo(i)}))}),ds(Fl(e.timeline),function(r){Oo(r),Hi(r,"label"),Hi(r,"itemStyle"),Hi(r,"controlStyle",!0);var i=r.data;ne(i)&&I(i,function(a){ze(a)&&(Hi(a,"label"),Hi(a,"itemStyle"))})}),ds(Fl(e.toolbox),function(r){Hi(r,"iconStyle"),ds(r.feature,function(i){Hi(i,"iconStyle")})}),Or(tG(e.axisPointer),"label"),Or(tG(e.tooltip).axisPointer,"label")})(e,n),e.series=mr(e.series),I(e.series,function(t){if(ze(t)){var r=t.type;if("line"===r)null!=t.clipOverflow&&(t.clip=t.clipOverflow);else if("pie"===r||"gauge"===r){if(null!=t.clockWise&&(t.clockwise=t.clockWise),rG(t.label),(i=t.data)&&!eo(i))for(var a=0;a<i.length;a++)rG(i[a]);null!=t.hoverOffset&&(t.emphasis=t.emphasis||{},(t.emphasis.scaleSize=null)&&(t.emphasis.scaleSize=t.hoverOffset))}else if("gauge"===r){var o=function Pxe(e,n){for(var t=n.split(","),r=e,i=0;i<t.length&&null!=(r=r&&r[t[i]]);i++);return r}(t,"pointer.color");null!=o&&function Oxe(e,n,t,r){for(var o,i=n.split(","),a=e,s=0;s<i.length-1;s++)null==a[o=i[s]]&&(a[o]={}),a=a[o];(r||null==a[i[s]])&&(a[i[s]]=t)}(t,"itemStyle.color",o)}else if("bar"===r){var i;if(T1(t),T1(t.backgroundStyle),T1(t.emphasis),(i=t.data)&&!eo(i))for(a=0;a<i.length;a++)"object"==typeof i[a]&&(T1(i[a]),T1(i[a]&&i[a].emphasis))}else if("sunburst"===r){var s=t.highlightPolicy;s&&(t.emphasis=t.emphasis||{},t.emphasis.focus||(t.emphasis.focus=s)),iG(t),aG(t.data,iG)}else"graph"===r||"sankey"===r?function kxe(e){!e||null!=e.focusNodeAdjacency&&(e.emphasis=e.emphasis||{},null==e.emphasis.focus&&(e.emphasis.focus="adjacency"))}(t):"map"===r&&(t.mapType&&!t.map&&(t.map=t.mapType),t.mapLocation&&ut(t,t.mapLocation));null!=t.hoverAnimation&&(t.emphasis=t.emphasis||{},t.emphasis&&null==t.emphasis.scale&&(t.emphasis.scale=t.hoverAnimation)),nG(t)}}),e.dataRange&&(e.visualMap=e.dataRange),I(Lxe,function(t){var r=e[t];r&&(ne(r)||(r=[r]),I(r,function(i){nG(i)}))})}function zxe(e){I(e,function(n,t){var r=[],i=[NaN,NaN],a=[n.stackResultDimension,n.stackedOverDimension],o=n.data,s=n.isStackedByIndex,l=n.seriesModel.get("stackStrategy")||"samesign";o.modify(a,function(c,u,h){var f,p,d=o.get(n.stackedDimension,h);if(isNaN(d))return i;s?p=o.getRawIndex(h):f=o.get(n.stackedByDimension,h);for(var g=NaN,m=t-1;m>=0;m--){var v=e[m];if(s||(p=v.data.rawIndexOf(v.stackedByDimension,f)),p>=0){var _=v.data.getByRawIndex(v.stackResultDimension,p);if("all"===l||"positive"===l&&_>0||"negative"===l&&_<0||"samesign"===l&&d>=0&&_>0||"samesign"===l&&d<=0&&_<0){d=$Ce(d,_),g=_;break}}}return r[0]=d,r[1]=g,r})})}var lb=function e(n){this.data=n.data||(n.sourceFormat===Ll?{}:[]),this.sourceFormat=n.sourceFormat||BU,this.seriesLayoutBy=n.seriesLayoutBy||Zs,this.startIndex=n.startIndex||0,this.dimensionsDetectedCount=n.dimensionsDetectedCount,this.metaRawOption=n.metaRawOption;var t=this.dimensionsDefine=n.dimensionsDefine;if(t)for(var r=0;r<t.length;r++){var i=t[r];null==i.type&&1===HU(this,r)&&(i.type="ordinal")}};function UE(e){return e instanceof lb}function GE(e,n,t){t=t||sG(e);var r=n.seriesLayoutBy,i=function Vxe(e,n,t,r,i){var a,o;if(!e)return{dimensionsDefine:lG(i),startIndex:o,dimensionsDetectedCount:a};if(n===ra){var s=e;"auto"===r||null==r?cG(function(c){null!=c&&"-"!==c&&(Fe(c)?null==o&&(o=1):o=0)},t,s,10):o=Sn(r)?r:r?1:0,!i&&1===o&&(i=[],cG(function(c,u){i[u]=null!=c?c+"":""},t,s,1/0)),a=i?i.length:t===jf?s.length:s[0]?s[0].length:null}else if(n===hs)i||(i=function Hxe(e){for(var t,n=0;n<e.length&&!(t=e[n++]););if(t){var r=[];return I(t,function(i,a){r.push(a)}),r}}(e));else if(n===Ll)i||(i=[],I(e,function(c,u){i.push(u)}));else if(n===Po){var l=a1(e[0]);a=ne(l)&&l.length||1}return{startIndex:o,dimensionsDefine:lG(i),dimensionsDetectedCount:a}}(e,t,r,n.sourceHeader,n.dimensions);return new lb({data:e,sourceFormat:t,seriesLayoutBy:r,dimensionsDefine:i.dimensionsDefine,startIndex:i.startIndex,dimensionsDetectedCount:i.dimensionsDetectedCount,metaRawOption:ht(n)})}function WE(e){return new lb({data:e,sourceFormat:eo(e)?kl:Po})}function Bxe(e){return new lb({data:e.data,sourceFormat:e.sourceFormat,seriesLayoutBy:e.seriesLayoutBy,dimensionsDefine:ht(e.dimensionsDefine),startIndex:e.startIndex,dimensionsDetectedCount:e.dimensionsDetectedCount})}function sG(e){var n=BU;if(eo(e))n=kl;else if(ne(e)){0===e.length&&(n=ra);for(var t=0,r=e.length;t<r;t++){var i=e[t];if(null!=i){if(ne(i)){n=ra;break}if(ze(i)){n=hs;break}}}}else if(ze(e))for(var a in e)if(El(e,a)&&Ji(e[a])){n=Ll;break}return n}function lG(e){if(e){var n=bt();return De(e,function(t,r){var i={name:(t=ze(t)?t:{name:t}).name,displayName:t.displayName,type:t.type};if(null==i.name)return i;i.name+="",null==i.displayName&&(i.displayName=i.name);var a=n.get(i.name);return a?i.name+="-"+a.count++:n.set(i.name,{count:1}),i})}}function cG(e,n,t,r){if(n===jf)for(var i=0;i<t.length&&i<r;i++)e(t[i]?t[i][0]:null,i);else{var a=t[0]||[];for(i=0;i<a.length&&i<r;i++)e(a[i],i)}}function uG(e){var n=e.sourceFormat;return n===hs||n===Ll}var fh,ph,gh,hG,dG,fG=function(){function e(n,t){var r=UE(n)?n:WE(n);this._source=r;var i=this._data=r.data;r.sourceFormat===kl&&(this._offset=0,this._dimSize=t,this._data=i),dG(this,i,r)}return e.prototype.getSource=function(){return this._source},e.prototype.count=function(){return 0},e.prototype.getItem=function(n,t){},e.prototype.appendData=function(n){},e.prototype.clean=function(){},e.protoInitialize=function(){var n=e.prototype;n.pure=!1,n.persistent=!0}(),e.internalField=function(){var n;dG=function(o,s,l){var c=l.sourceFormat,u=l.seriesLayoutBy,h=l.startIndex,d=l.dimensionsDefine;if(oe(o,hG[$E(c,u)]),c===kl)o.getItem=t,o.count=i,o.fillStorage=r;else{var p=gG(c,u);o.getItem=ln(p,null,s,h,d);var g=vG(c,u);o.count=ln(g,null,s,h,d)}};var t=function(o,s){s=s||[];for(var l=this._data,c=this._dimSize,u=c*(o-=this._offset),h=0;h<c;h++)s[h]=l[u+h];return s},r=function(o,s,l,c){for(var u=this._data,h=this._dimSize,d=0;d<h;d++){for(var f=c[d],p=null==f[0]?1/0:f[0],g=null==f[1]?-1/0:f[1],m=s-o,v=l[d],_=0;_<m;_++){var y=u[_*h+d];v[o+_]=y,y<p&&(p=y),y>g&&(g=y)}f[0]=p,f[1]=g}},i=function(){return this._data?this._data.length/this._dimSize:0};function a(o){for(var s=0;s<o.length;s++)this._data.push(o[s])}(n={})[ra+"_"+Zs]={pure:!0,appendData:a},n[ra+"_"+jf]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},n[hs]={pure:!0,appendData:a},n[Ll]={pure:!0,appendData:function(o){var s=this._data;I(o,function(l,c){for(var u=s[c]||(s[c]=[]),h=0;h<(l||[]).length;h++)u.push(l[h])})}},n[Po]={appendData:a},n[kl]={persistent:!1,pure:!0,appendData:function(o){this._data=o},clean:function(){this._offset+=this.count(),this._data=null}},hG=n}(),e}(),pG=function(e,n,t,r){return e[r]},Uxe=((fh={})[ra+"_"+Zs]=function(e,n,t,r){return e[r+n]},fh[ra+"_"+jf]=function(e,n,t,r,i){r+=n;for(var a=i||[],o=e,s=0;s<o.length;s++){var l=o[s];a[s]=l?l[r]:null}return a},fh[hs]=pG,fh[Ll]=function(e,n,t,r,i){for(var a=i||[],o=0;o<t.length;o++){var l=e[t[o].name];a[o]=l?l[r]:null}return a},fh[Po]=pG,fh);function gG(e,n){return Uxe[$E(e,n)]}var mG=function(e,n,t){return e.length},Gxe=((ph={})[ra+"_"+Zs]=function(e,n,t){return Math.max(0,e.length-n)},ph[ra+"_"+jf]=function(e,n,t){var r=e[0];return r?Math.max(0,r.length-n):0},ph[hs]=mG,ph[Ll]=function(e,n,t){var i=e[t[0].name];return i?i.length:0},ph[Po]=mG,ph);function vG(e,n){return Gxe[$E(e,n)]}var jE=function(e,n,t){return e[n]},Wxe=((gh={})[ra]=jE,gh[hs]=function(e,n,t){return e[t]},gh[Ll]=jE,gh[Po]=function(e,n,t){var r=a1(e);return r instanceof Array?r[n]:r},gh[kl]=jE,gh);function _G(e){return Wxe[e]}function $E(e,n){return e===ra?e+"_"+n:e}function $f(e,n,t){if(e){var r=e.getRawDataItem(n);if(null!=r){var i=e.getStore(),a=i.getSource().sourceFormat;if(null!=t){var o=e.getDimensionIndex(t),s=i.getDimensionProperty(o);return _G(a)(r,o,s)}var l=r;return a===Po&&(l=a1(r)),l}}}var jxe=/\{@(.+?)\}/g,yG=function(){function e(){}return e.prototype.getDataParams=function(n,t){var r=this.getData(t),i=this.getRawValue(n,t),a=r.getRawIndex(n),o=r.getName(n),s=r.getRawDataItem(n),l=r.getItemVisual(n,"style"),c=l&&l[r.getItemVisual(n,"drawType")||"fill"],u=l&&l.stroke,h=this.mainType,d="series"===h,f=r.userOutput&&r.userOutput.get();return{componentType:h,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:d?this.subType:null,seriesIndex:this.seriesIndex,seriesId:d?this.id:null,seriesName:d?this.name:null,name:o,dataIndex:a,data:s,dataType:t,value:i,color:c,borderColor:u,dimensionNames:f?f.fullDimensions:null,encode:f?f.encode:null,$vars:["seriesName","name","value"]}},e.prototype.getFormattedLabel=function(n,t,r,i,a,o){t=t||"normal";var s=this.getData(r),l=this.getDataParams(n,r);return o&&(l.value=o.interpolatedValue),null!=i&&ne(l.value)&&(l.value=l.value[i]),a||(a=s.getItemModel(n).get("normal"===t?["label","formatter"]:[t,"label","formatter"])),Ze(a)?(l.status=t,l.dimensionIndex=i,a(l)):Fe(a)?RE(a,l).replace(jxe,function(h,d){var f=d.length,p=d;"["===p.charAt(0)&&"]"===p.charAt(f-1)&&(p=+p.slice(1,f-1));var g=$f(s,n,p);if(o&&ne(o.interpolatedValue)){var m=s.getDimensionIndex(p);m>=0&&(g=o.interpolatedValue[m])}return null!=g?g+"":""}):void 0},e.prototype.getRawValue=function(n,t){return $f(this.getData(t),n)},e.prototype.formatTooltip=function(n,t,r){},e}();function bG(e){var n,t;return ze(e)?e.type&&(t=e):n=e,{text:n,frag:t}}function D1(e){return new $xe(e)}var $xe=function(){function e(n){this._reset=(n=n||{}).reset,this._plan=n.plan,this._count=n.count,this._onDirty=n.onDirty,this._dirty=!0}return e.prototype.perform=function(n){var a,t=this._upstream,r=n&&n.skip;if(this._dirty&&t){var i=this.context;i.data=i.outputData=t.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!r&&(a=this._plan(this.context));var h,o=u(this._modBy),s=this._modDataCount||0,l=u(n&&n.modBy),c=n&&n.modDataCount||0;function u(_){return!(_>=1)&&(_=1),_}(o!==l||s!==c)&&(a="reset"),(this._dirty||"reset"===a)&&(this._dirty=!1,h=this._doReset(r)),this._modBy=l,this._modDataCount=c;var d=n&&n.step;if(this._dueEnd=t?t._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){var f=this._dueIndex,p=Math.min(null!=d?this._dueIndex+d:1/0,this._dueEnd);if(!r&&(h||f<p)){var g=this._progress;if(ne(g))for(var m=0;m<g.length;m++)this._doProgress(g[m],f,p,l,c);else this._doProgress(g,f,p,l,c)}this._dueIndex=p,this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:p}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()},e.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},e.prototype._doProgress=function(n,t,r,i,a){CG.reset(t,r,i,a),this._callingProgress=n,this._callingProgress({start:t,end:r,count:r-t,next:CG.next},this.context)},e.prototype._doReset=function(n){var t,r;this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null,!n&&this._reset&&((t=this._reset(this.context))&&t.progress&&(r=t.forceFirstProgress,t=t.progress),ne(t)&&!t.length&&(t=null)),this._progress=t,this._modBy=this._modDataCount=null;var i=this._downstream;return i&&i.dirty(),r},e.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},e.prototype.pipe=function(n){(this._downstream!==n||this._dirty)&&(this._downstream=n,n._upstream=this,n.dirty())},e.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},e.prototype.getUpstream=function(){return this._upstream},e.prototype.getDownstream=function(){return this._downstream},e.prototype.setOutputEnd=function(n){this._outputDueEnd=this._settedOutputEnd=n},e}(),CG=function(){var e,n,t,r,i,a={reset:function(l,c,u,h){n=l,e=c,t=u,r=h,i=Math.ceil(r/t),a.next=t>1&&r>0?s:o}};return a;function o(){return n<e?n++:null}function s(){var l=n%i*t+Math.ceil(n/i),c=n>=e?null:l<r?l:n;return n++,c}}();function an(e){throw new Error(e)}function Yf(e,n){var t=n&&n.type;return"ordinal"===t?e:("time"===t&&!Sn(e)&&null!=e&&"-"!==e&&(e=+ss(e)),null==e||""===e?NaN:+e)}typeof console<"u"&&console.warn&&console;var Zxe=bt({number:function(e){return parseFloat(e)},time:function(e){return+ss(e)},trim:function(e){return Fe(e)?Vs(e):e}});function SG(e){return Zxe.get(e)}var xG={lt:function(e,n){return e<n},lte:function(e,n){return e<=n},gt:function(e,n){return e>n},gte:function(e,n){return e>=n}},Kxe=function(){function e(n,t){Sn(t)||an(""),this._opFn=xG[n],this._rvalFloat=yc(t)}return e.prototype.evaluate=function(n){return Sn(n)?this._opFn(n,this._rvalFloat):this._opFn(yc(n),this._rvalFloat)},e}(),MG=function(){function e(n,t){var r="desc"===n;this._resultLT=r?1:-1,null==t&&(t=r?"min":"max"),this._incomparable="min"===t?-1/0:1/0}return e.prototype.evaluate=function(n,t){var r=Sn(n)?n:yc(n),i=Sn(t)?t:yc(t),a=isNaN(r),o=isNaN(i);if(a&&(r=this._incomparable),o&&(i=this._incomparable),a&&o){var s=Fe(n),l=Fe(t);s&&(r=l?n:0),l&&(i=s?t:0)}return r<i?this._resultLT:r>i?-this._resultLT:0},e}(),Qxe=function(){function e(n,t){this._rval=t,this._isEQ=n,this._rvalTypeof=typeof t,this._rvalFloat=yc(t)}return e.prototype.evaluate=function(n){var t=n===this._rval;if(!t){var r=typeof n;r!==this._rvalTypeof&&("number"===r||"number"===this._rvalTypeof)&&(t=yc(n)===this._rvalFloat)}return this._isEQ?t:!t},e}();function Jxe(e,n){return"eq"===e||"ne"===e?new Qxe("eq"===e,n):El(xG,e)?new Kxe(e,n):null}var eMe=function(){function e(){}return e.prototype.getRawData=function(){throw new Error("not supported")},e.prototype.getRawDataItem=function(n){throw new Error("not supported")},e.prototype.cloneRawData=function(){},e.prototype.getDimensionInfo=function(n){},e.prototype.cloneAllDimensionInfo=function(){},e.prototype.count=function(){},e.prototype.retrieveValue=function(n,t){},e.prototype.retrieveValueFromItem=function(n,t){},e.prototype.convertValue=function(n,t){return Yf(n,t)},e}();function nMe(e){return XE(e.sourceFormat)||an(""),e.data}function rMe(e){var n=e.sourceFormat,t=e.data;if(XE(n)||an(""),n===ra){for(var i=[],a=0,o=t.length;a<o;a++)i.push(t[a].slice());return i}if(n===hs){for(i=[],a=0,o=t.length;a<o;a++)i.push(oe({},t[a]));return i}}function iMe(e,n,t){if(null!=t){if(Sn(t)||!isNaN(t)&&!El(n,t))return e[t];if(El(n,t))return n[t]}}function aMe(e){return ht(e)}var TG=bt();function lMe(e,n,t,r){n.length||an(""),ze(e)||an("");var o=TG.get(e.type);o||an("");var s=De(n,function(u){return function tMe(e,n){var t=new eMe,r=e.data,i=t.sourceFormat=e.sourceFormat,a=e.startIndex;e.seriesLayoutBy!==Zs&&an("");var s=[],l={},c=e.dimensionsDefine;if(c)I(c,function(g,m){var v=g.name,_={index:m,name:v,displayName:g.displayName};s.push(_),null!=v&&(El(l,v)&&an(""),l[v]=_)});else for(var u=0;u<e.dimensionsDetectedCount;u++)s.push({index:u});var h=gG(i,Zs);n.__isBuiltIn&&(t.getRawDataItem=function(g){return h(r,a,s,g)},t.getRawData=ln(nMe,null,e)),t.cloneRawData=ln(rMe,null,e);var d=vG(i,Zs);t.count=ln(d,null,r,a,s);var f=_G(i);t.retrieveValue=function(g,m){var v=h(r,a,s,g);return p(v,m)};var p=t.retrieveValueFromItem=function(g,m){if(null!=g){var v=s[m];if(v)return f(g,m,v.name)}};return t.getDimensionInfo=ln(iMe,null,s,l),t.cloneAllDimensionInfo=ln(aMe,null,s),t}(u,o)});return De(mr(o.transform({upstream:s[0],upstreamList:s,config:ht(e.config)})),function(u,h){ze(u)||an(""),u.data||an(""),XE(sG(u.data))||an("");var p,g=n[0];if(g&&0===h&&!u.dimensions){var m=g.startIndex;m&&(u.data=g.data.slice(0,m).concat(u.data)),p={seriesLayoutBy:Zs,sourceHeader:m,dimensions:g.metaRawOption.dimensions}}else p={seriesLayoutBy:Zs,sourceHeader:0,dimensions:u.dimensions};return GE(u.data,p,null)})}function XE(e){return e===ra||e===hs}var qE,cb="undefined",cMe=typeof Uint32Array===cb?Array:Uint32Array,uMe=typeof Uint16Array===cb?Array:Uint16Array,DG=typeof Int32Array===cb?Array:Int32Array,EG=typeof Float64Array===cb?Array:Float64Array,AG={float:EG,int:DG,ordinal:Array,number:Array,time:EG};function E1(e){return e>65535?cMe:uMe}function hMe(e){var n=e.constructor;return n===Array?e.slice():new n(e)}function NG(e,n,t,r,i){var a=AG[t||"float"];if(i){var o=e[n],s=o&&o.length;if(s!==r){for(var l=new a(r),c=0;c<s;c++)l[c]=o[c];e[n]=l}}else e[n]=new a(r)}var dMe=function(){function e(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=bt()}return e.prototype.initData=function(n,t,r){this._provider=n,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var i=n.getSource(),a=this.defaultDimValueGetter=qE[i.sourceFormat];this._dimValueGetter=r||a,this._rawExtent=[],uG(i),this._dimensions=De(t,function(s){return{type:s.type,property:s.property}}),this._initDataFromProvider(0,n.count())},e.prototype.getProvider=function(){return this._provider},e.prototype.getSource=function(){return this._provider.getSource()},e.prototype.ensureCalculationDimension=function(n,t){var r=this._calcDimNameToIdx,i=this._dimensions,a=r.get(n);if(null!=a){if(i[a].type===t)return a}else a=i.length;return i[a]={type:t},r.set(n,a),this._chunks[a]=new AG[t||"float"](this._rawCount),this._rawExtent[a]=[1/0,-1/0],a},e.prototype.collectOrdinalMeta=function(n,t){var r=this._chunks[n],i=this._dimensions[n],a=this._rawExtent,o=i.ordinalOffset||0,s=r.length;0===o&&(a[n]=[1/0,-1/0]);for(var l=a[n],c=o;c<s;c++){var u=r[c]=t.parseAndCollect(r[c]);isNaN(u)||(l[0]=Math.min(u,l[0]),l[1]=Math.max(u,l[1]))}i.ordinalMeta=t,i.ordinalOffset=s,i.type="ordinal"},e.prototype.getOrdinalMeta=function(n){return this._dimensions[n].ordinalMeta},e.prototype.getDimensionProperty=function(n){var t=this._dimensions[n];return t&&t.property},e.prototype.appendData=function(n){var t=this._provider,r=this.count();t.appendData(n);var i=t.count();return t.persistent||(i+=r),r<i&&this._initDataFromProvider(r,i,!0),[r,i]},e.prototype.appendValues=function(n,t){for(var r=this._chunks,i=this._dimensions,a=i.length,o=this._rawExtent,s=this.count(),l=s+Math.max(n.length,t||0),c=0;c<a;c++)NG(r,c,i[c].type,l,!0);for(var h=[],d=s;d<l;d++)for(var f=d-s,p=0;p<a;p++){var g=qE.arrayRows.call(this,n[f]||h,i[p].property,f,p);r[p][d]=g;var m=o[p];g<m[0]&&(m[0]=g),g>m[1]&&(m[1]=g)}return this._rawCount=this._count=l,{start:s,end:l}},e.prototype._initDataFromProvider=function(n,t,r){for(var i=this._provider,a=this._chunks,o=this._dimensions,s=o.length,l=this._rawExtent,c=De(o,function(_){return _.property}),u=0;u<s;u++){var h=o[u];l[u]||(l[u]=[1/0,-1/0]),NG(a,u,h.type,t,r)}if(i.fillStorage)i.fillStorage(n,t,a,l);else for(var d=[],f=n;f<t;f++){d=i.getItem(f,d);for(var p=0;p<s;p++){var g=a[p],m=this._dimValueGetter(d,c[p],f,p);g[f]=m;var v=l[p];m<v[0]&&(v[0]=m),m>v[1]&&(v[1]=m)}}!i.persistent&&i.clean&&i.clean(),this._rawCount=this._count=t,this._extent=[]},e.prototype.count=function(){return this._count},e.prototype.get=function(n,t){if(!(t>=0&&t<this._count))return NaN;var r=this._chunks[n];return r?r[this.getRawIndex(t)]:NaN},e.prototype.getValues=function(n,t){var r=[],i=[];if(null==t){t=n,n=[];for(var a=0;a<this._dimensions.length;a++)i.push(a)}else i=n;a=0;for(var o=i.length;a<o;a++)r.push(this.get(i[a],t));return r},e.prototype.getByRawIndex=function(n,t){if(!(t>=0&&t<this._rawCount))return NaN;var r=this._chunks[n];return r?r[t]:NaN},e.prototype.getSum=function(n){var r=0;if(this._chunks[n])for(var i=0,a=this.count();i<a;i++){var o=this.get(n,i);isNaN(o)||(r+=o)}return r},e.prototype.getMedian=function(n){var t=[];this.each([n],function(a){isNaN(a)||t.push(a)});var r=t.sort(function(a,o){return a-o}),i=this.count();return 0===i?0:i%2==1?r[(i-1)/2]:(r[i/2]+r[i/2-1])/2},e.prototype.indexOfRawIndex=function(n){if(n>=this._rawCount||n<0)return-1;if(!this._indices)return n;var t=this._indices,r=t[n];if(null!=r&&r<this._count&&r===n)return n;for(var i=0,a=this._count-1;i<=a;){var o=(i+a)/2|0;if(t[o]<n)i=o+1;else{if(!(t[o]>n))return o;a=o-1}}return-1},e.prototype.indicesOfNearest=function(n,t,r){var a=this._chunks[n],o=[];if(!a)return o;null==r&&(r=1/0);for(var s=1/0,l=-1,c=0,u=0,h=this.count();u<h;u++){var f=t-a[this.getRawIndex(u)],p=Math.abs(f);p<=r&&((p<s||p===s&&f>=0&&l<0)&&(s=p,l=f,c=0),f===l&&(o[c++]=u))}return o.length=c,o},e.prototype.getIndices=function(){var n,t=this._indices;if(t){var i=this._count;if((r=t.constructor)===Array){n=new r(i);for(var a=0;a<i;a++)n[a]=t[a]}else n=new r(t.buffer,0,i)}else{var r;for(n=new(r=E1(this._rawCount))(this.count()),a=0;a<n.length;a++)n[a]=a}return n},e.prototype.filter=function(n,t){if(!this._count)return this;for(var r=this.clone(),i=r.count(),o=new(E1(r._rawCount))(i),s=[],l=n.length,c=0,u=n[0],h=r._chunks,d=0;d<i;d++){var f=void 0,p=r.getRawIndex(d);if(0===l)f=t(d);else if(1===l)f=t(h[u][p],d);else{for(var m=0;m<l;m++)s[m]=h[n[m]][p];s[m]=d,f=t.apply(null,s)}f&&(o[c++]=p)}return c<i&&(r._indices=o),r._count=c,r._extent=[],r._updateGetRawIdx(),r},e.prototype.selectRange=function(n){var t=this.clone(),r=t._count;if(!r)return this;var i=Bn(n),a=i.length;if(!a)return this;var o=t.count(),l=new(E1(t._rawCount))(o),c=0,u=i[0],h=n[u][0],d=n[u][1],f=t._chunks,p=!1;if(!t._indices){var g=0;if(1===a){for(var m=f[i[0]],v=0;v<r;v++)((_=m[v])>=h&&_<=d||isNaN(_))&&(l[c++]=g),g++;p=!0}else if(2===a){m=f[i[0]];var y=f[i[1]],b=n[i[1]][0],w=n[i[1]][1];for(v=0;v<r;v++){var C=y[v];((_=m[v])>=h&&_<=d||isNaN(_))&&(C>=b&&C<=w||isNaN(C))&&(l[c++]=g),g++}p=!0}}if(!p)if(1===a)for(v=0;v<o;v++){var S=t.getRawIndex(v);((_=f[i[0]][S])>=h&&_<=d||isNaN(_))&&(l[c++]=S)}else for(v=0;v<o;v++){for(var x=!0,M=(S=t.getRawIndex(v),0);M<a;M++){var _,E=i[M];((_=f[E][S])<n[E][0]||_>n[E][1])&&(x=!1)}x&&(l[c++]=t.getRawIndex(v))}return c<o&&(t._indices=l),t._count=c,t._extent=[],t._updateGetRawIdx(),t},e.prototype.map=function(n,t){var r=this.clone(n);return this._updateDims(r,n,t),r},e.prototype.modify=function(n,t){this._updateDims(this,n,t)},e.prototype._updateDims=function(n,t,r){for(var i=n._chunks,a=[],o=t.length,s=n.count(),l=[],c=n._rawExtent,u=0;u<t.length;u++)c[t[u]]=[1/0,-1/0];for(var h=0;h<s;h++){for(var d=n.getRawIndex(h),f=0;f<o;f++)l[f]=i[t[f]][d];l[o]=h;var p=r&&r.apply(null,l);if(null!=p)for("object"!=typeof p&&(a[0]=p,p=a),u=0;u<p.length;u++){var g=t[u],m=p[u],v=c[g],_=i[g];_&&(_[d]=m),m<v[0]&&(v[0]=m),m>v[1]&&(v[1]=m)}}},e.prototype.lttbDownSample=function(n,t){var u,h,d,r=this.clone([n],!0),a=r._chunks[n],o=this.count(),s=0,l=Math.floor(1/t),c=this.getRawIndex(0),f=new(E1(this._rawCount))(Math.min(2*(Math.ceil(o/l)+2),o));f[s++]=c;for(var p=1;p<o-1;p+=l){for(var g=Math.min(p+l,o-1),m=Math.min(p+2*l,o),v=(m+g)/2,_=0,y=g;y<m;y++){var w=a[b=this.getRawIndex(y)];isNaN(w)||(_+=w)}_/=m-g;var C=p,S=Math.min(p+l,o),x=p-1,M=a[c];u=-1,d=C;var E=-1,T=0;for(y=C;y<S;y++){var b;w=a[b=this.getRawIndex(y)],isNaN(w)?(T++,E<0&&(E=b)):(h=Math.abs((x-v)*(w-M)-(x-y)*(_-M)))>u&&(u=h,d=b)}T>0&&T<S-C&&(f[s++]=Math.min(E,d),d=Math.max(E,d)),f[s++]=d,c=d}return f[s++]=this.getRawIndex(o-1),r._count=s,r._indices=f,r.getRawIndex=this._getRawIdx,r},e.prototype.downSample=function(n,t,r,i){for(var a=this.clone([n],!0),o=a._chunks,s=[],l=Math.floor(1/t),c=o[n],u=this.count(),h=a._rawExtent[n]=[1/0,-1/0],d=new(E1(this._rawCount))(Math.ceil(u/l)),f=0,p=0;p<u;p+=l){l>u-p&&(s.length=l=u-p);for(var g=0;g<l;g++){var m=this.getRawIndex(p+g);s[g]=c[m]}var v=r(s),_=this.getRawIndex(Math.min(p+i(s,v)||0,u-1));c[_]=v,v<h[0]&&(h[0]=v),v>h[1]&&(h[1]=v),d[f++]=_}return a._count=f,a._indices=d,a._updateGetRawIdx(),a},e.prototype.each=function(n,t){if(this._count)for(var r=n.length,i=this._chunks,a=0,o=this.count();a<o;a++){var s=this.getRawIndex(a);switch(r){case 0:t(a);break;case 1:t(i[n[0]][s],a);break;case 2:t(i[n[0]][s],i[n[1]][s],a);break;default:for(var l=0,c=[];l<r;l++)c[l]=i[n[l]][s];c[l]=a,t.apply(null,c)}}},e.prototype.getDataExtent=function(n){var t=this._chunks[n],r=[1/0,-1/0];if(!t)return r;var o,i=this.count();if(!this._indices)return this._rawExtent[n].slice();if(o=this._extent[n])return o.slice();for(var s=(o=r)[0],l=o[1],c=0;c<i;c++){var h=t[this.getRawIndex(c)];h<s&&(s=h),h>l&&(l=h)}return this._extent[n]=o=[s,l],o},e.prototype.getRawDataItem=function(n){var t=this.getRawIndex(n);if(this._provider.persistent)return this._provider.getItem(t);for(var r=[],i=this._chunks,a=0;a<i.length;a++)r.push(i[a][t]);return r},e.prototype.clone=function(n,t){var r=new e,i=this._chunks,a=n&&Dl(n,function(s,l){return s[l]=!0,s},{});if(a)for(var o=0;o<i.length;o++)r._chunks[o]=a[o]?hMe(i[o]):i[o];else r._chunks=i;return this._copyCommonProps(r),t||(r._indices=this._cloneIndices()),r._updateGetRawIdx(),r},e.prototype._copyCommonProps=function(n){n._count=this._count,n._rawCount=this._rawCount,n._provider=this._provider,n._dimensions=this._dimensions,n._extent=ht(this._extent),n._rawExtent=ht(this._rawExtent)},e.prototype._cloneIndices=function(){if(this._indices){var n=this._indices.constructor,t=void 0;if(n===Array){var r=this._indices.length;t=new n(r);for(var i=0;i<r;i++)t[i]=this._indices[i]}else t=new n(this._indices);return t}return null},e.prototype._getRawIdxIdentity=function(n){return n},e.prototype._getRawIdx=function(n){return n<this._count&&n>=0?this._indices[n]:-1},e.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},e.internalField=function(){function n(t,r,i,a){return Yf(t[a],this._dimensions[a])}qE={arrayRows:n,objectRows:function(t,r,i,a){return Yf(t[r],this._dimensions[a])},keyedColumns:n,original:function(t,r,i,a){var o=t&&(null==t.value?t:t.value);return Yf(o instanceof Array?o[a]:o,this._dimensions[a])},typedArray:function(t,r,i,a){return t[a]}}}(),e}();const ZE=dMe;var IG=function(){function e(n){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=n}return e.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},e.prototype._setLocalSource=function(n,t){this._sourceList=n,this._upstreamSignList=t,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},e.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},e.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},e.prototype._createSource=function(){this._setLocalSource([],[]);var i,a,n=this._sourceHost,t=this._getUpstreamSourceManagers(),r=!!t.length;if(ub(n)){var o=n,s=void 0,l=void 0,c=void 0;if(r){var u=t[0];u.prepareSource(),s=(c=u.getSource()).data,l=c.sourceFormat,a=[u._getVersionSign()]}else l=eo(s=o.get("data",!0))?kl:Po,a=[];var h=this._getSourceMetaRawOption()||{},d=c&&c.metaRawOption||{},f=qt(h.seriesLayoutBy,d.seriesLayoutBy)||null,p=qt(h.sourceHeader,d.sourceHeader),g=qt(h.dimensions,d.dimensions);i=f!==d.seriesLayoutBy||!!p!=!!d.sourceHeader||g?[GE(s,{seriesLayoutBy:f,sourceHeader:p,dimensions:g},l)]:[]}else{var v=n;if(r){var _=this._applyTransform(t);i=_.sourceList,a=_.upstreamSignList}else i=[GE(v.get("source",!0),this._getSourceMetaRawOption(),null)],a=[]}this._setLocalSource(i,a)},e.prototype._applyTransform=function(n){var t=this._sourceHost,r=t.get("transform",!0),i=t.get("fromTransformResult",!0);null!=i&&1!==n.length&&OG("");var o,s=[],l=[];return I(n,function(c){c.prepareSource();var u=c.getSource(i||0);null!=i&&!u&&OG(""),s.push(u),l.push(c._getVersionSign())}),r?o=function sMe(e,n,t){var r=mr(e),i=r.length;i||an("");for(var o=0,s=i;o<s;o++)n=lMe(r[o],n),o!==s-1&&(n.length=Math.max(n.length,1));return n}(r,s):null!=i&&(o=[Bxe(s[0])]),{sourceList:o,upstreamSignList:l}},e.prototype._isDirty=function(){if(this._dirty)return!0;for(var n=this._getUpstreamSourceManagers(),t=0;t<n.length;t++){var r=n[t];if(r._isDirty()||this._upstreamSignList[t]!==r._getVersionSign())return!0}},e.prototype.getSource=function(n){var t=this._sourceList[n=n||0];if(!t){var r=this._getUpstreamSourceManagers();return r[0]&&r[0].getSource(n)}return t},e.prototype.getSharedDataStore=function(n){var t=n.makeStoreSchema();return this._innerGetDataStore(t.dimensions,n.source,t.hash)},e.prototype._innerGetDataStore=function(n,t,r){var a=this._storeList,o=a[0];o||(o=a[0]={});var s=o[r];if(!s){var l=this._getUpstreamSourceManagers()[0];ub(this._sourceHost)&&l?s=l._innerGetDataStore(n,t,r):(s=new ZE).initData(new fG(t,n.length),n),o[r]=s}return s},e.prototype._getUpstreamSourceManagers=function(){var n=this._sourceHost;if(ub(n)){var t=kE(n);return t?[t.getSourceManager()]:[]}return De(function hxe(e){return e.get("transform",!0)||e.get("fromTransformResult",!0)?l1(e.ecModel,"dataset",{index:e.get("fromDatasetIndex",!0),id:e.get("fromDatasetId",!0)},cs).models:[]}(n),function(r){return r.getSourceManager()})},e.prototype._getSourceMetaRawOption=function(){var t,r,i,n=this._sourceHost;if(ub(n))t=n.get("seriesLayoutBy",!0),r=n.get("sourceHeader",!0),i=n.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var a=n;t=a.get("seriesLayoutBy",!0),r=a.get("sourceHeader",!0),i=a.get("dimensions",!0)}return{seriesLayoutBy:t,sourceHeader:r,dimensions:i}},e}();function PG(e){e.option.transform&&e2(e.option.transform)}function ub(e){return"series"===e.mainType}function OG(e){throw new Error(e)}var RG="line-height:1";function LG(e,n){var t=e.color||"#6e7079",r=e.fontSize||12,i=e.fontWeight||"400",a=e.color||"#464646",o=e.fontSize||14,s=e.fontWeight||"900";return"html"===n?{nameStyle:"font-size:"+gi(r+"")+"px;color:"+gi(t)+";font-weight:"+gi(i+""),valueStyle:"font-size:"+gi(o+"")+"px;color:"+gi(a)+";font-weight:"+gi(s+"")}:{nameStyle:{fontSize:r,fill:t,fontWeight:i},valueStyle:{fontSize:o,fill:a,fontWeight:s}}}var fMe=[0,10,20,30],pMe=["","\n","\n\n","\n\n\n"];function mh(e,n){return n.type=e,n}function KE(e){return"section"===e.type}function kG(e){return KE(e)?gMe:mMe}function FG(e){if(KE(e)){var n=0,t=e.blocks.length,r=t>1||t>0&&!e.noHeader;return I(e.blocks,function(i){var a=FG(i);a>=n&&(n=a+ +(r&&(!a||KE(i)&&!i.noHeader)))}),n}return 0}function gMe(e,n,t,r){var i=n.noHeader,a=function vMe(e){return{html:fMe[e],richText:pMe[e]}}(FG(n)),o=[],s=n.blocks||[];rs(!s||ne(s)),s=s||[];var l=e.orderMode;if(n.sortBlocks&&l){s=s.slice();var c={valueAsc:"asc",valueDesc:"desc"};if(El(c,l)){var u=new MG(c[l],null);s.sort(function(p,g){return u.evaluate(p.sortParam,g.sortParam)})}else"seriesDesc"===l&&s.reverse()}I(s,function(p,g){var m=n.valueFormatter,v=kG(p)(m?oe(oe({},e),{valueFormatter:m}):e,p,g>0?a.html:0,r);null!=v&&o.push(v)});var h="richText"===e.renderMode?o.join(a.richText):QE(o.join(""),i?t:a.html);if(i)return h;var d=PE(n.header,"ordinal",e.useUTC),f=LG(r,e.renderMode).nameStyle;return"richText"===e.renderMode?BG(e,d,f)+a.richText+h:QE('<div style="'+f+";"+RG+';">'+gi(d)+"</div>"+h,t)}function mMe(e,n,t,r){var i=e.renderMode,a=n.noName,o=n.noValue,s=!n.markerType,l=n.name,c=e.useUTC,u=n.valueFormatter||e.valueFormatter||function(b){return De(b=ne(b)?b:[b],function(w,C){return PE(w,ne(f)?f[C]:f,c)})};if(!a||!o){var h=s?"":e.markupStyleCreator.makeTooltipMarker(n.markerType,n.markerColor||"#333",i),d=a?"":PE(l,"ordinal",c),f=n.valueType,p=o?[]:u(n.value),g=!s||!a,m=!s&&a,v=LG(r,i),_=v.nameStyle,y=v.valueStyle;return"richText"===i?(s?"":h)+(a?"":BG(e,d,_))+(o?"":function bMe(e,n,t,r,i){var a=[i];return t&&a.push({padding:[0,0,0,r?10:20],align:"right"}),e.markupStyleCreator.wrapRichTextStyle(ne(n)?n.join("  "):n,a)}(e,p,g,m,y)):QE((s?"":h)+(a?"":function _Me(e,n,t){return'<span style="'+t+";"+(n?"margin-left:2px":"")+'">'+gi(e)+"</span>"}(d,!s,_))+(o?"":function yMe(e,n,t,r){return'<span style="'+(n?"float:right;margin-left:"+(t?"10px":"20px"):"")+";"+r+'">'+De(e=ne(e)?e:[e],function(o){return gi(o)}).join("&nbsp;&nbsp;")+"</span>"}(p,g,m,y)),t)}}function zG(e,n,t,r,i,a){if(e)return kG(e)({useUTC:i,renderMode:t,orderMode:r,markupStyleCreator:n,valueFormatter:e.valueFormatter},e,0,a)}function QE(e,n){return'<div style="margin: '+n+"px 0 0;"+RG+';">'+e+'<div style="clear:both"></div></div>'}function BG(e,n,t){return e.markupStyleCreator.wrapRichTextStyle(n,t)}function VG(e,n){return e.get("padding")??("richText"===n?[8,10]:10)}var JE=function(){function e(){this.richTextStyles={},this._nextStyleNameId=nH()}return e.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},e.prototype.makeTooltipMarker=function(n,t,r){var i="richText"===r?this._generateStyleName():null,a=LU({color:t,type:n,renderMode:r,markerId:i});return Fe(a)?a:(this.richTextStyles[i]=a.style,a.content)},e.prototype.wrapRichTextStyle=function(n,t){var r={};ne(t)?I(t,function(a){return oe(r,a)}):oe(r,t);var i=this._generateStyleName();return this.richTextStyles[i]=r,"{"+i+"|"+n+"}"},e}();var xc=$n();function hb(e,n){return e.getName(n)||e.getId(n)}var db="__universalTransitionEnabled",fb=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t._selectedDataIndicesMap={},t}return ke(n,e),n.prototype.init=function(t,r,i){this.seriesIndex=this.componentIndex,this.dataTask=D1({count:MMe,reset:TMe}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(t,i),(xc(this).sourceManager=new IG(this)).prepareSource();var o=this.getInitialData(t,i);UG(o,this),this.dataTask.context.data=o,xc(this).dataBeforeProcessed=o,HG(this),this._initSelectedMapFromData(o)},n.prototype.mergeDefaultAndTheme=function(t,r){var i=C1(this),a=i?ob(t):{},o=this.subType;cn.hasClass(o)&&(o+="Series"),Ee(t,r.getTheme().get(this.subType)),Ee(t,this.getDefaultOption()),H3(t,"label",["show"]),this.fillDataTextStyle(t.data),i&&Uf(t,a,i)},n.prototype.mergeOption=function(t,r){t=Ee(this.option,t,!0),this.fillDataTextStyle(t.data);var i=C1(this);i&&Uf(this.option,t,i);var a=xc(this).sourceManager;a.dirty(),a.prepareSource();var o=this.getInitialData(t,r);UG(o,this),this.dataTask.dirty(),this.dataTask.context.data=o,xc(this).dataBeforeProcessed=o,HG(this),this._initSelectedMapFromData(o)},n.prototype.fillDataTextStyle=function(t){if(t&&!eo(t))for(var r=["show"],i=0;i<t.length;i++)t[i]&&t[i].label&&H3(t[i],"label",r)},n.prototype.getInitialData=function(t,r){},n.prototype.appendData=function(t){this.getRawData().appendData(t.data)},n.prototype.getData=function(t){var r=eA(this);if(r){var i=r.context.data;return null==t?i:i.getLinkedData(t)}return xc(this).data},n.prototype.getAllData=function(){var t=this.getData();return t&&t.getLinkedDataAll?t.getLinkedDataAll():[{data:t}]},n.prototype.setData=function(t){var r=eA(this);if(r){var i=r.context;i.outputData=t,r!==this.dataTask&&(i.data=t)}xc(this).data=t},n.prototype.getEncode=function(){var t=this.get("encode",!0);if(t)return bt(t)},n.prototype.getSourceManager=function(){return xc(this).sourceManager},n.prototype.getSource=function(){return this.getSourceManager().getSource()},n.prototype.getRawData=function(){return xc(this).dataBeforeProcessed},n.prototype.getColorBy=function(){return this.get("colorBy")||"series"},n.prototype.isColorBySeries=function(){return"series"===this.getColorBy()},n.prototype.getBaseAxis=function(){var t=this.coordinateSystem;return t&&t.getBaseAxis&&t.getBaseAxis()},n.prototype.formatTooltip=function(t,r,i){return function wMe(e){var u,h,d,f,n=e.series,t=e.dataIndex,r=e.multipleSeries,i=n.getData(),a=i.mapDimensionsAll("defaultedTooltip"),o=a.length,s=n.getRawValue(t),l=ne(s),c=function CMe(e,n){return hh(e.getData().getItemVisual(n,"style")[e.visualDrawType])}(n,t);if(o>1||l&&!o){var p=function SMe(e,n,t,r,i){var a=n.getData(),o=Dl(e,function(h,d,f){var p=a.getDimensionInfo(f);return h||p&&!1!==p.tooltip&&null!=p.displayName},!1),s=[],l=[],c=[];function u(h,d){var f=a.getDimensionInfo(d);!f||!1===f.otherDims.tooltip||(o?c.push(mh("nameValue",{markerType:"subItem",markerColor:i,name:f.displayName,value:h,valueType:f.type})):(s.push(h),l.push(f.type)))}return r.length?I(r,function(h){u($f(a,t,h),h)}):I(e,u),{inlineValues:s,inlineValueTypes:l,blocks:c}}(s,n,t,a,c);u=p.inlineValues,h=p.inlineValueTypes,d=p.blocks,f=p.inlineValues[0]}else if(o){var g=i.getDimensionInfo(a[0]);f=u=$f(i,t,a[0]),h=g.type}else f=u=l?s[0]:s;var m=U3(n),v=m&&n.name||"",_=i.getName(t),y=r?v:_;return mh("section",{header:v,noHeader:r||!m,sortParam:f,blocks:[mh("nameValue",{markerType:"item",markerColor:c,name:y,noName:!Vs(y),value:u,valueType:h})].concat(d||[])})}({series:this,dataIndex:t,multipleSeries:r})},n.prototype.isAnimationEnabled=function(){var t=this.ecModel;if(Bt.node&&(!t||!t.ssr))return!1;var r=this.getShallow("animation");return r&&this.getData().count()>this.getShallow("animationThreshold")&&(r=!1),!!r},n.prototype.restoreData=function(){this.dataTask.dirty()},n.prototype.getColorFromPalette=function(t,r,i){var a=this.ecModel,o=zE.prototype.getColorFromPalette.call(this,t,r,i);return o||(o=a.getColorFromPalette(t,r,i)),o},n.prototype.coordDimToDataDim=function(t){return this.getRawData().mapDimensionsAll(t)},n.prototype.getProgressive=function(){return this.get("progressive")},n.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},n.prototype.select=function(t,r){this._innerSelect(this.getData(r),t)},n.prototype.unselect=function(t,r){var i=this.option.selectedMap;if(i){var a=this.option.selectedMode,o=this.getData(r);if("series"===a||"all"===i)return this.option.selectedMap={},void(this._selectedDataIndicesMap={});for(var s=0;s<t.length;s++){var c=hb(o,t[s]);i[c]=!1,this._selectedDataIndicesMap[c]=-1}}},n.prototype.toggleSelect=function(t,r){for(var i=[],a=0;a<t.length;a++)i[0]=t[a],this.isSelected(t[a],r)?this.unselect(i,r):this.select(i,r)},n.prototype.getSelectedDataIndices=function(){if("all"===this.option.selectedMap)return[].slice.call(this.getData().getIndices());for(var t=this._selectedDataIndicesMap,r=Bn(t),i=[],a=0;a<r.length;a++){var o=t[r[a]];o>=0&&i.push(o)}return i},n.prototype.isSelected=function(t,r){var i=this.option.selectedMap;if(!i)return!1;var a=this.getData(r);return("all"===i||i[hb(a,t)])&&!a.getItemModel(t).get(["select","disabled"])},n.prototype.isUniversalTransitionEnabled=function(){if(this[db])return!0;var t=this.option.universalTransition;return!!t&&(!0===t||t&&t.enabled)},n.prototype._innerSelect=function(t,r){var i,a,o=this.option,s=o.selectedMode,l=r.length;if(s&&l)if("series"===s)o.selectedMap="all";else if("multiple"===s){ze(o.selectedMap)||(o.selectedMap={});for(var c=o.selectedMap,u=0;u<l;u++){var h=r[u];c[d=hb(t,h)]=!0,this._selectedDataIndicesMap[d]=t.getRawIndex(h)}}else if("single"===s||!0===s){var f=r[l-1],d=hb(t,f);o.selectedMap=((i={})[d]=!0,i),this._selectedDataIndicesMap=((a={})[d]=t.getRawIndex(f),a)}},n.prototype._initSelectedMapFromData=function(t){if(!this.option.selectedMap){var r=[];t.hasItemOption&&t.each(function(i){var a=t.getRawDataItem(i);a&&a.selected&&r.push(i)}),r.length>0&&this._innerSelect(t,r)}},n.registerClass=function(t){return cn.registerClass(t)},n.protoInitialize=((t=n.prototype).type="series.__base__",t.seriesIndex=0,t.ignoreStyleOnData=!1,t.hasSymbolVisual=!1,t.defaultSymbol="circle",t.visualStyleAccessPath="itemStyle",void(t.visualDrawType="fill")),n;var t}(cn);function HG(e){var n=e.name;U3(e)||(e.name=function xMe(e){var n=e.getRawData(),t=n.mapDimensionsAll("seriesName"),r=[];return I(t,function(i){var a=n.getDimensionInfo(i);a.displayName&&r.push(a.displayName)}),r.join(" ")}(e)||n)}function MMe(e){return e.model.getRawData().count()}function TMe(e){var n=e.model;return n.setData(n.getRawData().cloneShallow()),DMe}function DMe(e,n){n.outputData&&e.end>n.outputData.count()&&n.model.getRawData().cloneShallow(n.outputData)}function UG(e,n){I(YD(e.CHANGABLE_METHODS,e.DOWNSAMPLE_METHODS),function(t){e.wrapMethod(t,An(EMe,n))})}function EMe(e,n){var t=eA(e);return t&&t.setOutputEnd((n||this).count()),n}function eA(e){var n=(e.ecModel||{}).scheduler,t=n&&n.getPipeline(e.uid);if(t){var r=t.currentTask;if(r){var i=r.agentStubMap;i&&(r=i.get(e.uid))}return r}}Ta(fb,yG),Ta(fb,zE),fH(fb,cn);const si=fb;var tA=function(){function e(){this.group=new $r,this.uid=X2("viewComponent")}return e.prototype.init=function(n,t){},e.prototype.render=function(n,t,r,i){},e.prototype.dispose=function(n,t){},e.prototype.updateView=function(n,t,r,i){},e.prototype.updateLayout=function(n,t,r,i){},e.prototype.updateVisual=function(n,t,r,i){},e.prototype.toggleBlurSeries=function(n,t,r){},e.prototype.eachRendered=function(n){var t=this.group;t&&t.traverse(n)},e}();j3(tA),I2(tA);const Ei=tA;function nA(){var e=$n();return function(n){var t=e(n),r=n.pipelineContext,i=!!t.large,a=!!t.progressiveRender,o=t.large=!(!r||!r.large),s=t.progressiveRender=!(!r||!r.progressiveRender);return(i!==o||a!==s)&&"reset"}}var qf=Pl.CMD,AMe=[[],[],[]],GG=Math.sqrt,NMe=Math.atan2;function WG(e,n){if(n){var i,a,o,s,l,c,t=e.data,r=e.len(),u=qf.M,h=qf.C,d=qf.L,f=qf.R,p=qf.A,g=qf.Q;for(o=0,s=0;o<r;){switch(i=t[o++],s=o,a=0,i){case u:case d:a=1;break;case h:a=3;break;case g:a=2;break;case p:var m=n[4],v=n[5],_=GG(n[0]*n[0]+n[1]*n[1]),y=GG(n[2]*n[2]+n[3]*n[3]),b=NMe(-n[1]/y,n[0]/_);t[o]*=_,t[o++]+=m,t[o]*=y,t[o++]+=v,t[o++]*=_,t[o++]*=y,t[o++]+=b,t[o++]+=b,s=o+=2;break;case f:c[0]=t[o++],c[1]=t[o++],zi(c,c,n),t[s++]=c[0],t[s++]=c[1],c[0]+=t[o++],c[1]+=t[o++],zi(c,c,n),t[s++]=c[0],t[s++]=c[1]}for(l=0;l<a;l++){var w=AMe[l];w[0]=t[o++],w[1]=t[o++],zi(w,w,n),t[s++]=w[0],t[s++]=w[1]}}e.increaseVersion()}}var rA=Math.sqrt,pb=Math.sin,gb=Math.cos,A1=Math.PI;function jG(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function iA(e,n){return(e[0]*n[0]+e[1]*n[1])/(jG(e)*jG(n))}function $G(e,n){return(e[0]*n[1]<e[1]*n[0]?-1:1)*Math.acos(iA(e,n))}function YG(e,n,t,r,i,a,o,s,l,c,u){var h=l*(A1/180),d=gb(h)*(e-t)/2+pb(h)*(n-r)/2,f=-1*pb(h)*(e-t)/2+gb(h)*(n-r)/2,p=d*d/(o*o)+f*f/(s*s);p>1&&(o*=rA(p),s*=rA(p));var g=(i===a?-1:1)*rA((o*o*(s*s)-o*o*(f*f)-s*s*(d*d))/(o*o*(f*f)+s*s*(d*d)))||0,m=g*o*f/s,v=g*-s*d/o,_=(e+t)/2+gb(h)*m-pb(h)*v,y=(n+r)/2+pb(h)*m+gb(h)*v,b=$G([1,0],[(d-m)/o,(f-v)/s]),w=[(d-m)/o,(f-v)/s],C=[(-1*d-m)/o,(-1*f-v)/s],S=$G(w,C);if(iA(w,C)<=-1&&(S=A1),iA(w,C)>=1&&(S=0),S<0){var x=Math.round(S/A1*1e6)/1e6;S=2*A1+x%2*A1}u.addData(c,_,y,o,s,b,S,h,a)}var IMe=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,PMe=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g,XG=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return On(n,e),n.prototype.applyTransform=function(t){},n}(Zt);function qG(e){return null!=e.setData}function ZG(e,n){var t=function OMe(e){var n=new Pl;if(!e)return n;var o,t=0,r=0,i=t,a=r,s=Pl.CMD,l=e.match(IMe);if(!l)return n;for(var c=0;c<l.length;c++){for(var u=l[c],h=u.charAt(0),d=void 0,f=u.match(PMe)||[],p=f.length,g=0;g<p;g++)f[g]=parseFloat(f[g]);for(var m=0;m<p;){var v=void 0,_=void 0,y=void 0,b=void 0,w=void 0,C=void 0,S=void 0,x=t,M=r,E=void 0,T=void 0;switch(h){case"l":t+=f[m++],r+=f[m++],n.addData(d=s.L,t,r);break;case"L":t=f[m++],r=f[m++],n.addData(d=s.L,t,r);break;case"m":t+=f[m++],r+=f[m++],n.addData(d=s.M,t,r),i=t,a=r,h="l";break;case"M":t=f[m++],r=f[m++],n.addData(d=s.M,t,r),i=t,a=r,h="L";break;case"h":t+=f[m++],n.addData(d=s.L,t,r);break;case"H":t=f[m++],n.addData(d=s.L,t,r);break;case"v":r+=f[m++],n.addData(d=s.L,t,r);break;case"V":r=f[m++],n.addData(d=s.L,t,r);break;case"C":n.addData(d=s.C,f[m++],f[m++],f[m++],f[m++],f[m++],f[m++]),t=f[m-2],r=f[m-1];break;case"c":n.addData(d=s.C,f[m++]+t,f[m++]+r,f[m++]+t,f[m++]+r,f[m++]+t,f[m++]+r),t+=f[m-2],r+=f[m-1];break;case"S":v=t,_=r,E=n.len(),T=n.data,o===s.C&&(v+=t-T[E-4],_+=r-T[E-3]),x=f[m++],M=f[m++],t=f[m++],r=f[m++],n.addData(d=s.C,v,_,x,M,t,r);break;case"s":v=t,_=r,E=n.len(),T=n.data,o===s.C&&(v+=t-T[E-4],_+=r-T[E-3]),x=t+f[m++],M=r+f[m++],t+=f[m++],r+=f[m++],n.addData(d=s.C,v,_,x,M,t,r);break;case"Q":x=f[m++],M=f[m++],t=f[m++],r=f[m++],n.addData(d=s.Q,x,M,t,r);break;case"q":x=f[m++]+t,M=f[m++]+r,t+=f[m++],r+=f[m++],n.addData(d=s.Q,x,M,t,r);break;case"T":v=t,_=r,E=n.len(),T=n.data,o===s.Q&&(v+=t-T[E-4],_+=r-T[E-3]),t=f[m++],r=f[m++],n.addData(d=s.Q,v,_,t,r);break;case"t":v=t,_=r,E=n.len(),T=n.data,o===s.Q&&(v+=t-T[E-4],_+=r-T[E-3]),t+=f[m++],r+=f[m++],n.addData(d=s.Q,v,_,t,r);break;case"A":y=f[m++],b=f[m++],w=f[m++],C=f[m++],S=f[m++],YG(x=t,M=r,t=f[m++],r=f[m++],C,S,y,b,w,d=s.A,n);break;case"a":y=f[m++],b=f[m++],w=f[m++],C=f[m++],S=f[m++],YG(x=t,M=r,t+=f[m++],r+=f[m++],C,S,y,b,w,d=s.A,n)}}("z"===h||"Z"===h)&&(n.addData(d=s.Z),t=i,r=a),o=d}return n.toStatic(),n}(e),r=oe({},n);return r.buildPath=function(i){var a;qG(i)?(i.setData(t.data),(a=i.getContext())&&i.rebuildPath(a,1)):t.rebuildPath(a=i,1)},r.applyTransform=function(i){WG(t,i),this.dirtyShape()},r}function aA(e,n){n=n||{};var t=new Zt;return e.shape&&t.setShape(e.shape),t.setStyle(e.style),n.bakeTransform?WG(t.path,e.getComputedTransform()):n.toLocal?t.setLocalTransform(e.getComputedTransform()):t.copyTransform(e),t.buildPath=e.buildPath,t.applyTransform=t.applyTransform,t.z=e.z,t.z2=e.z2,t.zlevel=e.zlevel,t}var FMe=function e(){this.cx=0,this.cy=0,this.r=0},KG=function(e){function n(t){return e.call(this,t)||this}return On(n,e),n.prototype.getDefaultShape=function(){return new FMe},n.prototype.buildPath=function(t,r){t.moveTo(r.cx+r.r,r.cy),t.arc(r.cx,r.cy,r.r,0,2*Math.PI)},n}(Zt);KG.prototype.type="circle";const oA=KG;var zMe=function e(){this.cx=0,this.cy=0,this.rx=0,this.ry=0},QG=function(e){function n(t){return e.call(this,t)||this}return On(n,e),n.prototype.getDefaultShape=function(){return new zMe},n.prototype.buildPath=function(t,r){var i=.5522848,a=r.cx,o=r.cy,s=r.rx,l=r.ry,c=s*i,u=l*i;t.moveTo(a-s,o),t.bezierCurveTo(a-s,o-u,a-c,o-l,a,o-l),t.bezierCurveTo(a+c,o-l,a+s,o-u,a+s,o),t.bezierCurveTo(a+s,o+u,a+c,o+l,a,o+l),t.bezierCurveTo(a-c,o+l,a-s,o+u,a-s,o),t.closePath()},n}(Zt);QG.prototype.type="ellipse";const JG=QG;var eW=Math.PI,sA=2*eW,vh=Math.sin,Zf=Math.cos,BMe=Math.acos,Ui=Math.atan2,tW=Math.abs,N1=Math.sqrt,I1=Math.max,Ks=Math.min,fs=1e-4;function mb(e,n,t,r,i,a,o){var s=e-t,l=n-r,c=(o?a:-a)/N1(s*s+l*l),u=c*l,h=-c*s,d=e+u,f=n+h,p=t+u,g=r+h,m=(d+p)/2,v=(f+g)/2,_=p-d,y=g-f,b=_*_+y*y,w=i-a,C=d*g-p*f,S=(y<0?-1:1)*N1(I1(0,w*w*b-C*C)),x=(C*y-_*S)/b,M=(-C*_-y*S)/b,E=(C*y+_*S)/b,T=(-C*_+y*S)/b,A=x-m,N=M-v,R=E-m,z=T-v;return A*A+N*N>R*R+z*z&&(x=E,M=T),{cx:x,cy:M,x0:-u,y0:-h,x1:x*(i/w-1),y1:M*(i/w-1)}}var GMe=function e(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0,this.cornerRadius=0},nW=function(e){function n(t){return e.call(this,t)||this}return On(n,e),n.prototype.getDefaultShape=function(){return new GMe},n.prototype.buildPath=function(t,r){!function UMe(e,n){var t,r=I1(n.r,0),i=I1(n.r0||0,0),a=r>0;if(a||i>0){if(a||(r=i,i=0),i>r){var s=r;r=i,i=s}var l=n.startAngle,c=n.endAngle;if(!isNaN(l)&&!isNaN(c)){var u=n.cx,h=n.cy,d=!!n.clockwise,f=tW(c-l),p=f>sA&&f%sA;if(p>fs&&(f=p),r>fs)if(f>sA-fs)e.moveTo(u+r*Zf(l),h+r*vh(l)),e.arc(u,h,r,l,c,!d),i>fs&&(e.moveTo(u+i*Zf(c),h+i*vh(c)),e.arc(u,h,i,c,l,d));else{var g=void 0,m=void 0,v=void 0,_=void 0,y=void 0,b=void 0,w=void 0,C=void 0,S=void 0,x=void 0,M=void 0,E=void 0,T=void 0,A=void 0,N=void 0,R=void 0,z=r*Zf(l),L=r*vh(l),V=i*Zf(c),F=i*vh(c),j=f>fs;if(j){var Y=n.cornerRadius;Y&&(t=function HMe(e){var n;if(ne(e)){var t=e.length;if(!t)return e;n=1===t?[e[0],e[0],0,0]:2===t?[e[0],e[0],e[1],e[1]]:3===t?e.concat(e[2]):e}else n=[e,e,e,e];return n}(Y),g=t[0],m=t[1],v=t[2],_=t[3]);var se=tW(r-i)/2;if(y=Ks(se,v),b=Ks(se,_),w=Ks(se,g),C=Ks(se,m),M=S=I1(y,b),E=x=I1(w,C),(S>fs||x>fs)&&(T=r*Zf(c),A=r*vh(c),N=i*Zf(l),R=i*vh(l),f<eW)){var de=function VMe(e,n,t,r,i,a,o,s){var l=t-e,c=r-n,u=o-i,h=s-a,d=h*l-u*c;if(!(d*d<fs))return[e+(d=(u*(n-a)-h*(e-i))/d)*l,n+d*c]}(z,L,N,R,T,A,V,F);if(de){var we=z-de[0],pe=L-de[1],Le=T-de[0],lt=A-de[1],Ye=1/vh(BMe((we*Le+pe*lt)/(N1(we*we+pe*pe)*N1(Le*Le+lt*lt)))/2),Rt=N1(de[0]*de[0]+de[1]*de[1]);M=Ks(S,(r-Rt)/(Ye+1)),E=Ks(x,(i-Rt)/(Ye-1))}}}if(j)if(M>fs){var ct=Ks(v,M),pt=Ks(_,M),Se=mb(N,R,z,L,r,ct,d),Lt=mb(T,A,V,F,r,pt,d);e.moveTo(u+Se.cx+Se.x0,h+Se.cy+Se.y0),M<S&&ct===pt?e.arc(u+Se.cx,h+Se.cy,M,Ui(Se.y0,Se.x0),Ui(Lt.y0,Lt.x0),!d):(ct>0&&e.arc(u+Se.cx,h+Se.cy,ct,Ui(Se.y0,Se.x0),Ui(Se.y1,Se.x1),!d),e.arc(u,h,r,Ui(Se.cy+Se.y1,Se.cx+Se.x1),Ui(Lt.cy+Lt.y1,Lt.cx+Lt.x1),!d),pt>0&&e.arc(u+Lt.cx,h+Lt.cy,pt,Ui(Lt.y1,Lt.x1),Ui(Lt.y0,Lt.x0),!d))}else e.moveTo(u+z,h+L),e.arc(u,h,r,l,c,!d);else e.moveTo(u+z,h+L);i>fs&&j?E>fs?(ct=Ks(g,E),Se=mb(V,F,T,A,i,-(pt=Ks(m,E)),d),Lt=mb(z,L,N,R,i,-ct,d),e.lineTo(u+Se.cx+Se.x0,h+Se.cy+Se.y0),E<x&&ct===pt?e.arc(u+Se.cx,h+Se.cy,E,Ui(Se.y0,Se.x0),Ui(Lt.y0,Lt.x0),!d):(pt>0&&e.arc(u+Se.cx,h+Se.cy,pt,Ui(Se.y0,Se.x0),Ui(Se.y1,Se.x1),!d),e.arc(u,h,i,Ui(Se.cy+Se.y1,Se.cx+Se.x1),Ui(Lt.cy+Lt.y1,Lt.cx+Lt.x1),d),ct>0&&e.arc(u+Lt.cx,h+Lt.cy,ct,Ui(Lt.y1,Lt.x1),Ui(Lt.y0,Lt.x0),!d))):(e.lineTo(u+V,h+F),e.arc(u,h,i,c,l,d)):e.lineTo(u+V,h+F)}else e.moveTo(u,h);e.closePath()}}}(t,r)},n.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},n}(Zt);nW.prototype.type="sector";const _h=nW;var WMe=function e(){this.cx=0,this.cy=0,this.r=0,this.r0=0},rW=function(e){function n(t){return e.call(this,t)||this}return On(n,e),n.prototype.getDefaultShape=function(){return new WMe},n.prototype.buildPath=function(t,r){var i=r.cx,a=r.cy,o=2*Math.PI;t.moveTo(i+r.r,a),t.arc(i,a,r.r,0,o,!1),t.moveTo(i+r.r0,a),t.arc(i,a,r.r0,0,o,!0)},n}(Zt);rW.prototype.type="ring";const iW=rW;function aW(e,n,t){var r=n.smooth,i=n.points;if(i&&i.length>=2){if(r){var a=function jMe(e,n,t,r){var l,c,u,h,i=[],a=[],o=[],s=[];if(r){u=[1/0,1/0],h=[-1/0,-1/0];for(var d=0,f=e.length;d<f;d++)Vu(u,u,e[d]),Hu(h,h,e[d]);Vu(u,u,r[0]),Hu(h,h,r[1])}for(d=0,f=e.length;d<f;d++){var p=e[d];if(t)l=e[d?d-1:f-1],c=e[(d+1)%f];else{if(0===d||d===f-1){i.push(vbe(e[d]));continue}l=e[d-1],c=e[d+1]}_be(a,c,l),qD(a,a,n);var g=ZD(p,l),m=ZD(p,c),v=g+m;0!==v&&(g/=v,m/=v),qD(o,a,-g),qD(s,a,m);var _=J9([],p,o),y=J9([],p,s);r&&(Hu(_,_,u),Vu(_,_,h),Hu(y,y,u),Vu(y,y,h)),i.push(_),i.push(y)}return t&&i.push(i.shift()),i}(i,r,t,n.smoothConstraint);e.moveTo(i[0][0],i[0][1]);for(var o=i.length,s=0;s<(t?o:o-1);s++){var l=a[2*s],c=a[2*s+1],u=i[(s+1)%o];e.bezierCurveTo(l[0],l[1],c[0],c[1],u[0],u[1])}}else{e.moveTo(i[0][0],i[0][1]),s=1;for(var h=i.length;s<h;s++)e.lineTo(i[s][0],i[s][1])}t&&e.closePath()}}var $Me=function e(){this.points=null,this.smooth=0,this.smoothConstraint=null},oW=function(e){function n(t){return e.call(this,t)||this}return On(n,e),n.prototype.getDefaultShape=function(){return new $Me},n.prototype.buildPath=function(t,r){aW(t,r,!0)},n}(Zt);oW.prototype.type="polygon";const vb=oW;var YMe=function e(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null},sW=function(e){function n(t){return e.call(this,t)||this}return On(n,e),n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new YMe},n.prototype.buildPath=function(t,r){aW(t,r,!1)},n}(Zt);sW.prototype.type="polyline";const lA=sW;var XMe={},qMe=function e(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1},lW=function(e){function n(t){return e.call(this,t)||this}return On(n,e),n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new qMe},n.prototype.buildPath=function(t,r){var i,a,o,s;if(this.subPixelOptimize){var l=NH(XMe,r,this.style);i=l.x1,a=l.y1,o=l.x2,s=l.y2}else i=r.x1,a=r.y1,o=r.x2,s=r.y2;var c=r.percent;0!==c&&(t.moveTo(i,a),c<1&&(o=i*(1-c)+o*c,s=a*(1-c)+s*c),t.lineTo(o,s))},n.prototype.pointAt=function(t){var r=this.shape;return[r.x1*(1-t)+r.x2*t,r.y1*(1-t)+r.y2*t]},n}(Zt);lW.prototype.type="line";const yh=lW;var Na=[],ZMe=function e(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1};function cW(e,n,t){return null!=e.cpx2||null!=e.cpy2?[(t?CV:ai)(e.x1,e.cpx1,e.cpx2,e.x2,n),(t?CV:ai)(e.y1,e.cpy1,e.cpy2,e.y2,n)]:[(t?xV:Bi)(e.x1,e.cpx1,e.x2,n),(t?xV:Bi)(e.y1,e.cpy1,e.y2,n)]}var uW=function(e){function n(t){return e.call(this,t)||this}return On(n,e),n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new ZMe},n.prototype.buildPath=function(t,r){var i=r.x1,a=r.y1,o=r.x2,s=r.y2,l=r.cpx1,c=r.cpy1,u=r.cpx2,h=r.cpy2,d=r.percent;0!==d&&(t.moveTo(i,a),null==u||null==h?(d<1&&(p2(i,l,o,d,Na),l=Na[1],o=Na[2],p2(a,c,s,d,Na),c=Na[1],s=Na[2]),t.quadraticCurveTo(l,c,o,s)):(d<1&&(vc(i,l,u,o,d,Na),l=Na[1],u=Na[2],o=Na[3],vc(a,c,h,s,d,Na),c=Na[1],h=Na[2],s=Na[3]),t.bezierCurveTo(l,c,u,h,o,s)))},n.prototype.pointAt=function(t){return cW(this.shape,t,!1)},n.prototype.tangentAt=function(t){var r=cW(this.shape,t,!0);return function Cbe(e,n){var t=function ybe(e){return Math.sqrt(function bbe(e){return e[0]*e[0]+e[1]*e[1]}(e))}(n);return 0===t?(e[0]=0,e[1]=0):(e[0]=n[0]/t,e[1]=n[1]/t),e}(r,r)},n}(Zt);uW.prototype.type="bezier-curve";const hW=uW;var KMe=function e(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0},dW=function(e){function n(t){return e.call(this,t)||this}return On(n,e),n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new KMe},n.prototype.buildPath=function(t,r){var i=r.cx,a=r.cy,o=Math.max(r.r,0),s=r.startAngle,l=r.endAngle,c=r.clockwise,u=Math.cos(s),h=Math.sin(s);t.moveTo(u*o+i,h*o+a),t.arc(i,a,o,s,l,!c)},n}(Zt);dW.prototype.type="arc";const cA=dW;var QMe=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="compound",t}return On(n,e),n.prototype._updatePathDirty=function(){for(var t=this.shape.paths,r=this.shapeChanged(),i=0;i<t.length;i++)r=r||t[i].shapeChanged();r&&this.dirtyShape()},n.prototype.beforeBrush=function(){this._updatePathDirty();for(var t=this.shape.paths||[],r=this.getGlobalScale(),i=0;i<t.length;i++)t[i].path||t[i].createPathProxy(),t[i].path.setScale(r[0],r[1],t[i].segmentIgnoreThreshold)},n.prototype.buildPath=function(t,r){for(var i=r.paths||[],a=0;a<i.length;a++)i[a].buildPath(t,i[a].shape,!0)},n.prototype.afterBrush=function(){for(var t=this.shape.paths||[],r=0;r<t.length;r++)t[r].pathUpdated()},n.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),Zt.prototype.getBoundingRect.call(this)},n}(Zt);const JMe=QMe;var eTe=function(){function e(n){this.colorStops=n||[]}return e.prototype.addColorStop=function(n,t){this.colorStops.push({offset:n,color:t})},e}();const fW=eTe;var tTe=function(e){function n(t,r,i,a,o,s){var l=e.call(this,o)||this;return l.x=t??0,l.y=r??0,l.x2=i??1,l.y2=a??0,l.type="linear",l.global=s||!1,l}return On(n,e),n}(fW);const uA=tTe;var nTe=function(e){function n(t,r,i,a,o){var s=e.call(this,a)||this;return s.x=t??.5,s.y=r??.5,s.r=i??.5,s.type="radial",s.global=o||!1,s}return On(n,e),n}(fW);const rTe=nTe;var bh=[0,0],Ch=[0,0],_b=new dt,yb=new dt,iTe=function(){function e(n,t){this._corners=[],this._axes=[],this._origin=[0,0];for(var r=0;r<4;r++)this._corners[r]=new dt;for(r=0;r<2;r++)this._axes[r]=new dt;n&&this.fromBoundingRect(n,t)}return e.prototype.fromBoundingRect=function(n,t){var r=this._corners,i=this._axes,a=n.x,o=n.y,s=a+n.width,l=o+n.height;if(r[0].set(a,o),r[1].set(s,o),r[2].set(s,l),r[3].set(a,l),t)for(var c=0;c<4;c++)r[c].transform(t);for(dt.sub(i[0],r[1],r[0]),dt.sub(i[1],r[3],r[0]),i[0].normalize(),i[1].normalize(),c=0;c<2;c++)this._origin[c]=i[c].dot(r[0])},e.prototype.intersect=function(n,t){var r=!0,i=!t;return _b.set(1/0,1/0),yb.set(0,0),!this._intersectCheckOneSide(this,n,_b,yb,i,1)&&(r=!1,i)||!this._intersectCheckOneSide(n,this,_b,yb,i,-1)&&(r=!1,i)||i||dt.copy(t,r?_b:yb),r},e.prototype._intersectCheckOneSide=function(n,t,r,i,a,o){for(var s=!0,l=0;l<2;l++){var c=this._axes[l];if(this._getProjMinMaxOnAxis(l,n._corners,bh),this._getProjMinMaxOnAxis(l,t._corners,Ch),bh[1]<Ch[0]||bh[0]>Ch[1]){if(s=!1,a)return s;var u=Math.abs(Ch[0]-bh[1]),h=Math.abs(bh[0]-Ch[1]);Math.min(u,h)>i.len()&&dt.scale(i,c,u<h?-u*o:h*o)}else r&&(u=Math.abs(Ch[0]-bh[1]),h=Math.abs(bh[0]-Ch[1]),Math.min(u,h)<r.len()&&dt.scale(r,c,u<h?u*o:-h*o))}return s},e.prototype._getProjMinMaxOnAxis=function(n,t,r){for(var i=this._axes[n],a=this._origin,o=t[0].dot(i)+a[n],s=o,l=o,c=1;c<t.length;c++){var u=t[c].dot(i)+a[n];s=Math.min(u,s),l=Math.max(u,l)}r[0]=s,r[1]=l},e}();const bb=iTe;var aTe=[],oTe=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.notClear=!0,t.incremental=!0,t._displayables=[],t._temporaryDisplayables=[],t._cursor=0,t}return On(n,e),n.prototype.traverse=function(t,r){t.call(r,this)},n.prototype.useStyle=function(){this.style={}},n.prototype.getCursor=function(){return this._cursor},n.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},n.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},n.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},n.prototype.addDisplayable=function(t,r){r?this._temporaryDisplayables.push(t):this._displayables.push(t),this.markRedraw()},n.prototype.addDisplayables=function(t,r){r=r||!1;for(var i=0;i<t.length;i++)this.addDisplayable(t[i],r)},n.prototype.getDisplayables=function(){return this._displayables},n.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},n.prototype.eachPendingDisplayable=function(t){for(var r=this._cursor;r<this._displayables.length;r++)t&&t(this._displayables[r]);for(r=0;r<this._temporaryDisplayables.length;r++)t&&t(this._temporaryDisplayables[r])},n.prototype.update=function(){this.updateTransform();for(var t=this._cursor;t<this._displayables.length;t++)(r=this._displayables[t]).parent=this,r.update(),r.parent=null;for(t=0;t<this._temporaryDisplayables.length;t++){var r;(r=this._temporaryDisplayables[t]).parent=this,r.update(),r.parent=null}},n.prototype.getBoundingRect=function(){if(!this._rect){for(var t=new Yt(1/0,1/0,-1/0,-1/0),r=0;r<this._displayables.length;r++){var i=this._displayables[r],a=i.getBoundingRect().clone();i.needLocalTransform()&&a.applyTransform(i.getLocalTransform(aTe)),t.union(a)}this._rect=t}return this._rect},n.prototype.contain=function(t,r){var i=this.transformCoordToLocal(t,r);if(this.getBoundingRect().contain(i[0],i[1]))for(var o=0;o<this._displayables.length;o++)if(this._displayables[o].contain(t,r))return!0;return!1},n}(Of);const sTe=oTe;var Cb=Math.max,wb=Math.min,hA={};function lTe(e){return Zt.extend(e)}function uTe(e,n){return function LMe(e,n){var t=ZG(e,n);return function(i){function a(o){var s=i.call(this,o)||this;return s.applyTransform=t.applyTransform,s.buildPath=t.buildPath,s}return On(a,i),a}(XG)}(e,n)}function ps(e,n){hA[e]=n}function hTe(e){if(hA.hasOwnProperty(e))return hA[e]}function dA(e,n,t,r){var i=function RMe(e,n){return new XG(ZG(e,n))}(e,n);return t&&("center"===r&&(t=gW(t,i.getBoundingRect())),mW(i,t)),i}function pW(e,n,t){var r=new qs({style:{image:e,x:n.x,y:n.y,width:n.width,height:n.height},onload:function(i){"center"===t&&r.setStyle(gW(n,{width:i.width,height:i.height}))}});return r}function gW(e,n){var i,t=n.width/n.height,r=e.height*t;return i=r<=e.width?e.height:(r=e.width)/t,{x:e.x+e.width/2-r/2,y:e.y+e.height/2-i/2,width:r,height:i}}var dTe=function kMe(e,n){for(var t=[],r=e.length,i=0;i<r;i++)t.push(e[i].getUpdatedPathProxy(!0));var o=new Zt(n);return o.createPathProxy(),o.buildPath=function(s){if(qG(s)){s.appendPath(t);var l=s.getContext();l&&s.rebuildPath(l,1)}},o};function mW(e,n){if(e.applyTransform){var r=e.getBoundingRect().calculateTransform(n);e.applyTransform(r)}}function P1(e,n){return NH(e,e,{lineWidth:n}),e}function fTe(e){return IH(e.shape,e.shape,e.style),e}var pTe=lh;function Sb(e,n){for(var t=a2([]);e&&e!==n;)Gu(t,e.getLocalTransform(),t),e=e.parent;return t}function Kf(e,n,t){return n&&!Ji(n)&&(n=n1.getLocalTransform(n)),t&&(n=Sf([],n)),zi([],e,n)}function vW(e,n,t){var r=0===n[4]||0===n[5]||0===n[0]?1:Math.abs(2*n[4]/n[0]),i=0===n[4]||0===n[5]||0===n[2]?1:Math.abs(2*n[4]/n[2]),a=["left"===e?-r:"right"===e?r:0,"top"===e?-i:"bottom"===e?i:0];return a=Kf(a,n,t),Math.abs(a[0])>Math.abs(a[1])?a[0]>0?"right":"left":a[1]>0?"bottom":"top"}function _W(e){return!e.isGroup}function yW(e,n,t){if(e&&n){var a=function r(o){var s={};return o.traverse(function(l){_W(l)&&l.anid&&(s[l.anid]=l)}),s}(e);n.traverse(function(o){if(_W(o)&&o.anid){var s=a[o.anid];if(s){var l=i(o);o.attr(i(s)),Vi(o,l,t,tn(o).dataIndex)}}})}function i(o){var s={x:o.x,y:o.y,rotation:o.rotation};return function gTe(e){return null!=e.shape}(o)&&(s.shape=oe({},o.shape)),s}}function mTe(e,n){return De(e,function(t){var r=t[0];r=Cb(r,n.x),r=wb(r,n.x+n.width);var i=t[1];return i=Cb(i,n.y),[r,i=wb(i,n.y+n.height)]})}function vTe(e,n){var t=Cb(e.x,n.x),r=wb(e.x+e.width,n.x+n.width),i=Cb(e.y,n.y),a=wb(e.y+e.height,n.y+n.height);if(r>=t&&a>=i)return{x:t,y:i,width:r-t,height:a-i}}function fA(e,n,t){var r=oe({rectHover:!0},n),i=r.style={strokeNoScale:!0};if(t=t||{x:-1,y:-1,width:2,height:2},e)return 0===e.indexOf("image://")?(i.image=e.slice(8),ut(i,t),new qs(r)):dA(e.replace("path://",""),r,t,"center")}function _Te(e,n,t,r,i){for(var a=0,o=i[i.length-1];a<i.length;a++){var s=i[a];if(bW(e,n,t,r,s[0],s[1],o[0],o[1]))return!0;o=s}}function bW(e,n,t,r,i,a,o,s){var l=t-e,c=r-n,u=o-i,h=s-a,d=pA(u,h,l,c);if(function yTe(e){return e<=1e-6&&e>=-1e-6}(d))return!1;var f=e-i,p=n-a,g=pA(f,p,l,c)/d;if(g<0||g>1)return!1;var m=pA(f,p,u,h)/d;return!(m<0||m>1)}function pA(e,n,t,r){return e*r-t*n}function gA(e){var n=e.itemTooltipOption,t=e.componentModel,r=e.itemName,i=Fe(n)?{formatter:n}:n,a=t.mainType,o=t.componentIndex,s={componentType:a,name:r,$vars:["name"]};s[a+"Index"]=o;var l=e.formatterParamsExtra;l&&I(Bn(l),function(u){El(s,u)||(s[u]=l[u],s.$vars.push(u))});var c=tn(e.el);c.componentMainType=a,c.componentIndex=o,c.tooltipConfig={name:r,option:ut({content:r,formatterParams:s},i)}}function CW(e,n){var t;e.isGroup&&(t=n(e)),t||e.traverse(n)}function O1(e,n){if(e)if(ne(e))for(var t=0;t<e.length;t++)CW(e[t],n);else CW(e,n)}ps("circle",oA),ps("ellipse",JG),ps("sector",_h),ps("ring",iW),ps("polygon",vb),ps("polyline",lA),ps("rect",Yn),ps("line",yh),ps("bezierCurve",hW),ps("arc",cA);var wW=$n(),bTe=nA(),mA=function(){function e(){this.group=new $r,this.uid=X2("viewChart"),this.renderTask=D1({plan:CTe,reset:wTe}),this.renderTask.context={view:this}}return e.prototype.init=function(n,t){},e.prototype.render=function(n,t,r,i){},e.prototype.highlight=function(n,t,r,i){var a=n.getData(i&&i.dataType);!a||xW(a,i,"emphasis")},e.prototype.downplay=function(n,t,r,i){var a=n.getData(i&&i.dataType);!a||xW(a,i,"normal")},e.prototype.remove=function(n,t){this.group.removeAll()},e.prototype.dispose=function(n,t){},e.prototype.updateView=function(n,t,r,i){this.render(n,t,r,i)},e.prototype.updateLayout=function(n,t,r,i){this.render(n,t,r,i)},e.prototype.updateVisual=function(n,t,r,i){this.render(n,t,r,i)},e.prototype.eachRendered=function(n){O1(this.group,n)},e.markUpdateMethod=function(n,t){wW(n).updateMethod=t},e.protoInitialize=void(e.prototype.type="chart"),e}();function SW(e,n,t){e&&yE(e)&&("emphasis"===n?G2:W2)(e,t)}function xW(e,n,t){var r=Qu(e,n),i=n&&null!=n.highlightKey?function ASe(e){var n=WH[e];return null==n&&GH<=32&&(n=WH[e]=GH++),n}(n.highlightKey):null;null!=r?I(mr(r),function(a){SW(e.getItemGraphicEl(a),t,i)}):e.eachItemGraphicEl(function(a){SW(a,t,i)})}function CTe(e){return bTe(e.model)}function wTe(e){var n=e.model,t=e.ecModel,r=e.api,i=e.payload,a=n.pipelineContext.progressiveRender,o=e.view,s=i&&wW(i).updateMethod,l=a?"incrementalPrepareRender":s&&o[s]?s:"render";return"render"!==l&&o[l](n,t,r,i),STe[l]}j3(mA),I2(mA);var STe={incrementalPrepareRender:{progress:function(e,n){n.view.incrementalRender(e,n.model,n.ecModel,n.api,n.payload)}},render:{forceFirstProgress:!0,progress:function(e,n){n.view.render(n.model,n.ecModel,n.api,n.payload)}}};const Rr=mA;var xb="\0__throttleOriginMethod",MW="\0__throttleRate",TW="\0__throttleType";function vA(e,n,t){var r,s,l,c,u,i=0,a=0,o=null;function h(){a=(new Date).getTime(),o=null,e.apply(l,c||[])}n=n||0;var d=function(){for(var f=[],p=0;p<arguments.length;p++)f[p]=arguments[p];r=(new Date).getTime(),l=this,c=f;var g=u||n,m=u||t;u=null,s=r-(m?i:a)-g,clearTimeout(o),m?o=setTimeout(h,g):s>=0?h():o=setTimeout(h,-s),i=r};return d.clear=function(){o&&(clearTimeout(o),o=null)},d.debounceNextCall=function(f){u=f},d}function DW(e,n,t,r){var i=e[n];if(i){var a=i[xb]||i;if(i[MW]!==t||i[TW]!==r){if(null==t||!r)return e[n]=a;(i=e[n]=vA(a,t,"debounce"===r))[xb]=a,i[TW]=r,i[MW]=t}return i}}function _A(e,n){var t=e[n];t&&t[xb]&&(t.clear&&t.clear(),e[n]=t[xb])}var EW=$n(),AW={itemStyle:c1(yU,!0),lineStyle:c1(_U,!0)},xTe={lineStyle:"stroke",itemStyle:"fill"};function NW(e,n){return e.visualStyleMapper||AW[n]||(console.warn("Unknown style type '"+n+"'."),AW.itemStyle)}function IW(e,n){return e.visualDrawType||xTe[n]||(console.warn("Unknown style type '"+n+"'."),"fill")}var MTe={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,n){var t=e.getData(),r=e.visualStyleAccessPath||"itemStyle",i=e.getModel(r),o=NW(e,r)(i),s=i.getShallow("decal");s&&(t.setVisual("decal",s),s.dirty=!0);var l=IW(e,r),c=o[l],u=Ze(c)?c:null;if(!o[l]||u||"auto"===o.fill||"auto"===o.stroke){var d=e.getColorFromPalette(e.name,null,n.getSeriesCount());o[l]||(o[l]=d,t.setVisual("colorFromPalette",!0)),o.fill="auto"===o.fill||Ze(o.fill)?d:o.fill,o.stroke="auto"===o.stroke||Ze(o.stroke)?d:o.stroke}if(t.setVisual("style",o),t.setVisual("drawType",l),!n.isSeriesFiltered(e)&&u)return t.setVisual("colorFromPalette",!1),{dataEach:function(f,p){var g=e.getDataParams(p),m=oe({},o);m[l]=u(g),f.setItemVisual(p,"style",m)}}}},R1=new Tr,TTe={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,n){if(!e.ignoreStyleOnData&&!n.isSeriesFiltered(e)){var t=e.getData(),r=e.visualStyleAccessPath||"itemStyle",i=NW(e,r),a=t.getVisual("drawType");return{dataEach:t.hasItemOption?function(o,s){var l=o.getRawDataItem(s);if(l&&l[r]){R1.option=l[r];var c=i(R1);oe(o.ensureUniqueItemVisual(s,"style"),c),R1.option.decal&&(o.setItemVisual(s,"decal",R1.option.decal),R1.option.decal.dirty=!0),a in c&&o.setItemVisual(s,"colorFromPalette",!1)}}:null}}}},DTe={performRawSeries:!0,overallReset:function(e){var n=bt();e.eachSeries(function(t){var r=t.getColorBy();if(!t.isColorBySeries()){var i=t.type+"-"+r,a=n.get(i);a||n.set(i,a={}),EW(t).scope=a}}),e.eachSeries(function(t){if(!t.isColorBySeries()&&!e.isSeriesFiltered(t)){var r=t.getRawData(),i={},a=t.getData(),o=EW(t).scope,l=IW(t,t.visualStyleAccessPath||"itemStyle");a.each(function(c){var u=a.getRawIndex(c);i[u]=c}),r.each(function(c){var u=i[c];if(a.getItemVisual(u,"colorFromPalette")){var d=a.ensureUniqueItemVisual(u,"style"),f=r.getName(c)||c+"",p=r.count();d[l]=t.getColorFromPalette(f,o,p)}})}})}},Mb=Math.PI,ATe=function(){function e(n,t,r,i){this._stageTaskMap=bt(),this.ecInstance=n,this.api=t,r=this._dataProcessorHandlers=r.slice(),i=this._visualHandlers=i.slice(),this._allHandlers=r.concat(i)}return e.prototype.restoreData=function(n,t){n.restoreData(t),this._stageTaskMap.each(function(r){var i=r.overallTask;i&&i.dirty()})},e.prototype.getPerformArgs=function(n,t){if(n.__pipeline){var r=this._pipelineMap.get(n.__pipeline.id),i=r.context,o=!t&&r.progressiveEnabled&&(!i||i.progressiveRender)&&n.__idxInPipeline>r.blockIndex?r.step:null,s=i&&i.modDataCount;return{step:o,modBy:null!=s?Math.ceil(s/o):null,modDataCount:s}}},e.prototype.getPipeline=function(n){return this._pipelineMap.get(n)},e.prototype.updateStreamModes=function(n,t){var r=this._pipelineMap.get(n.uid),a=n.getData().count(),o=r.progressiveEnabled&&t.incrementalPrepareRender&&a>=r.threshold,s=n.get("large")&&a>=n.get("largeThreshold"),l="mod"===n.get("progressiveChunkMode")?a:null;n.pipelineContext=r.context={progressiveRender:o,modDataCount:l,large:s}},e.prototype.restorePipelines=function(n){var t=this,r=t._pipelineMap=bt();n.eachSeries(function(i){var a=i.getProgressive(),o=i.uid;r.set(o,{id:o,head:null,tail:null,threshold:i.getProgressiveThreshold(),progressiveEnabled:a&&!(i.preventIncremental&&i.preventIncremental()),blockIndex:-1,step:Math.round(a||700),count:0}),t._pipe(i,i.dataTask)})},e.prototype.prepareStageTasks=function(){var n=this._stageTaskMap,t=this.api.getModel(),r=this.api;I(this._allHandlers,function(i){var a=n.get(i.uid)||n.set(i.uid,{});rs(!(i.reset&&i.overallReset),""),i.reset&&this._createSeriesStageTask(i,a,t,r),i.overallReset&&this._createOverallStageTask(i,a,t,r)},this)},e.prototype.prepareView=function(n,t,r,i){var a=n.renderTask,o=a.context;o.model=t,o.ecModel=r,o.api=i,a.__block=!n.incrementalPrepareRender,this._pipe(t,a)},e.prototype.performDataProcessorTasks=function(n,t){this._performStageTasks(this._dataProcessorHandlers,n,t,{block:!0})},e.prototype.performVisualTasks=function(n,t,r){this._performStageTasks(this._visualHandlers,n,t,r)},e.prototype._performStageTasks=function(n,t,r,i){i=i||{};var a=!1,o=this;function s(l,c){return l.setDirty&&(!l.dirtyMap||l.dirtyMap.get(c.__pipeline.id))}I(n,function(l,c){if(!i.visualType||i.visualType===l.visualType){var u=o._stageTaskMap.get(l.uid),h=u.seriesTaskMap,d=u.overallTask;if(d){var f,p=d.agentStubMap;p.each(function(m){s(i,m)&&(m.dirty(),f=!0)}),f&&d.dirty(),o.updatePayload(d,r);var g=o.getPerformArgs(d,i.block);p.each(function(m){m.perform(g)}),d.perform(g)&&(a=!0)}else h&&h.each(function(m,v){s(i,m)&&m.dirty();var _=o.getPerformArgs(m,i.block);_.skip=!l.performRawSeries&&t.isSeriesFiltered(m.context.model),o.updatePayload(m,r),m.perform(_)&&(a=!0)})}}),this.unfinished=a||this.unfinished},e.prototype.performSeriesTasks=function(n){var t;n.eachSeries(function(r){t=r.dataTask.perform()||t}),this.unfinished=t||this.unfinished},e.prototype.plan=function(){this._pipelineMap.each(function(n){var t=n.tail;do{if(t.__block){n.blockIndex=t.__idxInPipeline;break}t=t.getUpstream()}while(t)})},e.prototype.updatePayload=function(n,t){"remain"!==t&&(n.context.payload=t)},e.prototype._createSeriesStageTask=function(n,t,r,i){var a=this,o=t.seriesTaskMap,s=t.seriesTaskMap=bt(),l=n.seriesType,c=n.getTargetSeries;function u(h){var d=h.uid,f=s.set(d,o&&o.get(d)||D1({plan:RTe,reset:LTe,count:FTe}));f.context={model:h,ecModel:r,api:i,useClearVisual:n.isVisual&&!n.isLayout,plan:n.plan,reset:n.reset,scheduler:a},a._pipe(h,f)}n.createOnAllSeries?r.eachRawSeries(u):l?r.eachRawSeriesByType(l,u):c&&c(r,i).each(u)},e.prototype._createOverallStageTask=function(n,t,r,i){var a=this,o=t.overallTask=t.overallTask||D1({reset:NTe});o.context={ecModel:r,api:i,overallReset:n.overallReset,scheduler:a};var s=o.agentStubMap,l=o.agentStubMap=bt(),c=n.seriesType,u=n.getTargetSeries,h=!0,d=!1;function p(g){var m=g.uid,v=l.set(m,s&&s.get(m)||(d=!0,D1({reset:ITe,onDirty:OTe})));v.context={model:g,overallProgress:h},v.agent=o,v.__block=h,a._pipe(g,v)}rs(!n.createOnAllSeries,""),c?r.eachRawSeriesByType(c,p):u?u(r,i).each(p):(h=!1,I(r.getSeries(),p)),d&&o.dirty()},e.prototype._pipe=function(n,t){var i=this._pipelineMap.get(n.uid);!i.head&&(i.head=t),i.tail&&i.tail.pipe(t),i.tail=t,t.__idxInPipeline=i.count++,t.__pipeline=i},e.wrapStageHandler=function(n,t){return Ze(n)&&(n={overallReset:n,seriesType:zTe(n)}),n.uid=X2("stageHandler"),t&&(n.visualType=t),n},e}();function NTe(e){e.overallReset(e.ecModel,e.api,e.payload)}function ITe(e){return e.overallProgress&&PTe}function PTe(){this.agent.dirty(),this.getDownstream().dirty()}function OTe(){this.agent&&this.agent.dirty()}function RTe(e){return e.plan?e.plan(e.model,e.ecModel,e.api,e.payload):null}function LTe(e){e.useClearVisual&&e.data.clearAllVisual();var n=e.resetDefines=mr(e.reset(e.model,e.ecModel,e.api,e.payload));return n.length>1?De(n,function(t,r){return PW(r)}):kTe}var kTe=PW(0);function PW(e){return function(n,t){var r=t.data,i=t.resetDefines[e];if(i&&i.dataEach)for(var a=n.start;a<n.end;a++)i.dataEach(r,a);else i&&i.progress&&i.progress(n,r)}}function FTe(e){return e.data.count()}function zTe(e){Tb=null;try{e(L1,OW)}catch{}return Tb}var Tb,L1={},OW={};function RW(e,n){for(var t in n.prototype)e[t]=ea}RW(L1,QU),RW(OW,JU),L1.eachSeriesByType=L1.eachRawSeriesByType=function(e){Tb=e},L1.eachComponent=function(e){"series"===e.mainType&&e.subType&&(Tb=e.subType)};const LW=ATe;var kW=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];const BTe={color:kW,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],kW]};var ia="#B9B8CE",FW="#100C2A",Db=function(){return{axisLine:{lineStyle:{color:ia}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},zW=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],BW={darkMode:!0,color:zW,backgroundColor:FW,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:ia}},textStyle:{color:ia},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:ia}},dataZoom:{borderColor:"#71708A",textStyle:{color:ia},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:ia}},timeline:{lineStyle:{color:ia},label:{color:ia},controlStyle:{color:ia,borderColor:ia}},calendar:{itemStyle:{color:FW},dayLabel:{color:ia},monthLabel:{color:ia},yearLabel:{color:ia}},timeAxis:Db(),logAxis:Db(),valueAxis:Db(),categoryAxis:Db(),line:{symbol:"circle"},graph:{color:zW},gauge:{title:{color:ia},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:ia},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};BW.categoryAxis.splitLine.show=!1;const VTe=BW;var HTe=function(){function e(){}return e.prototype.normalizeQuery=function(n){var t={},r={},i={};if(Fe(n)){var a=js(n);t.mainType=a.main||null,t.subType=a.sub||null}else{var o=["Index","Name","Id"],s={name:1,dataIndex:1,dataType:1};I(n,function(l,c){for(var u=!1,h=0;h<o.length;h++){var d=o[h],f=c.lastIndexOf(d);if(f>0&&f===c.length-d.length){var p=c.slice(0,f);"data"!==p&&(t.mainType=p,t[d.toLowerCase()]=l,u=!0)}}s.hasOwnProperty(c)&&(r[c]=l,u=!0),u||(i[c]=l)})}return{cptQuery:t,dataQuery:r,otherQuery:i}},e.prototype.filter=function(n,t){var r=this.eventInfo;if(!r)return!0;var i=r.targetEl,a=r.packedEvent,o=r.model,s=r.view;if(!o||!s)return!0;var l=t.cptQuery,c=t.dataQuery;return u(l,o,"mainType")&&u(l,o,"subType")&&u(l,o,"index","componentIndex")&&u(l,o,"name")&&u(l,o,"id")&&u(c,a,"name")&&u(c,a,"dataIndex")&&u(c,a,"dataType")&&(!s.filterForExposedEvent||s.filterForExposedEvent(n,t.otherQuery,i,a));function u(h,d,f,p){return null==h[f]||d[p||f]===h[f]}},e.prototype.afterTrigger=function(){this.eventInfo=null},e}(),yA=["symbol","symbolSize","symbolRotate","symbolOffset"],VW=yA.concat(["symbolKeepAspect"]),UTe={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,n){var t=e.getData();if(e.legendIcon&&t.setVisual("legendIcon",e.legendIcon),e.hasSymbolVisual){for(var r={},i={},a=!1,o=0;o<yA.length;o++){var s=yA[o],l=e.get(s);Ze(l)?(a=!0,i[s]=l):r[s]=l}if(r.symbol=r.symbol||e.defaultSymbol,t.setVisual(oe({legendIcon:e.legendIcon||r.symbol,symbolKeepAspect:e.get("symbolKeepAspect")},r)),!n.isSeriesFiltered(e)){var c=Bn(i);return{dataEach:a?function u(h,d){for(var f=e.getRawValue(d),p=e.getDataParams(d),g=0;g<c.length;g++){var m=c[g];h.setItemVisual(d,m,i[m](f,p))}}:null}}}}},GTe={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,n){if(e.hasSymbolVisual&&!n.isSeriesFiltered(e))return{dataEach:e.getData().hasItemOption?function r(i,a){for(var o=i.getItemModel(a),s=0;s<VW.length;s++){var l=VW[s],c=o.getShallow(l,!0);null!=c&&i.setItemVisual(a,l,c)}}:null}}};function HW(e,n,t){switch(t){case"color":return e.getItemVisual(n,"style")[e.getVisual("drawType")];case"opacity":return e.getItemVisual(n,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return e.getItemVisual(n,t)}}function bA(e,n){switch(n){case"color":return e.getVisual("style")[e.getVisual("drawType")];case"opacity":return e.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return e.getVisual(n)}}function Qf(e,n,t,r,i){var a=e+n;t.isSilent(a)||r.eachComponent({mainType:"series",subType:"pie"},function(o){for(var s=o.seriesIndex,l=o.option.selectedMap,c=i.selected,u=0;u<c.length;u++)if(c[u].seriesIndex===s){var h=o.getData(),d=Qu(h,i.fromActionPayload);t.trigger(a,{type:a,seriesId:o.id,name:ne(d)?h.getName(d[0]):h.getName(d),selected:Fe(l)?l:oe({},l)})}})}function Jf(e,n,t){for(var r;e&&(!n(e)||(r=e,!t));)e=e.__hostTarget||e.parent;return r}var $Te=Math.round(9*Math.random()),YTe="function"==typeof Object.defineProperty,XTe=function(){function e(){this._id="__ec_inner_"+$Te++}return e.prototype.get=function(n){return this._guard(n)[this._id]},e.prototype.set=function(n,t){var r=this._guard(n);return YTe?Object.defineProperty(r,this._id,{value:t,enumerable:!1,configurable:!0}):r[this._id]=t,this},e.prototype.delete=function(n){return!!this.has(n)&&(delete this._guard(n)[this._id],!0)},e.prototype.has=function(n){return!!this._guard(n)[this._id]},e.prototype._guard=function(n){if(n!==Object(n))throw TypeError("Value of WeakMap is not a non-null object.");return n},e}();const qTe=XTe;var ZTe=Zt.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,n){var t=n.cx,r=n.cy,i=n.width/2,a=n.height/2;e.moveTo(t,r-a),e.lineTo(t+i,r+a),e.lineTo(t-i,r+a),e.closePath()}}),KTe=Zt.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,n){var t=n.cx,r=n.cy,i=n.width/2,a=n.height/2;e.moveTo(t,r-a),e.lineTo(t+i,r),e.lineTo(t,r+a),e.lineTo(t-i,r),e.closePath()}}),QTe=Zt.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,n){var t=n.x,r=n.y,i=n.width/5*3,a=Math.max(i,n.height),o=i/2,s=o*o/(a-o),l=r-a+o+s,c=Math.asin(s/o),u=Math.cos(c)*o,h=Math.sin(c),d=Math.cos(c),f=.6*o,p=.7*o;e.moveTo(t-u,l+s),e.arc(t,l,o,Math.PI-c,2*Math.PI+c),e.bezierCurveTo(t+u-h*f,l+s+d*f,t,r-p,t,r),e.bezierCurveTo(t,r-p,t-u+h*f,l+s+d*f,t-u,l+s),e.closePath()}}),JTe=Zt.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,n){var t=n.height,i=n.x,a=n.y,o=n.width/3*2;e.moveTo(i,a),e.lineTo(i+o,a+t),e.lineTo(i,a+t/4*3),e.lineTo(i-o,a+t),e.lineTo(i,a),e.closePath()}}),tDe={line:function(e,n,t,r,i){i.x1=e,i.y1=n+r/2,i.x2=e+t,i.y2=n+r/2},rect:function(e,n,t,r,i){i.x=e,i.y=n,i.width=t,i.height=r},roundRect:function(e,n,t,r,i){i.x=e,i.y=n,i.width=t,i.height=r,i.r=Math.min(t,r)/4},square:function(e,n,t,r,i){var a=Math.min(t,r);i.x=e,i.y=n,i.width=a,i.height=a},circle:function(e,n,t,r,i){i.cx=e+t/2,i.cy=n+r/2,i.r=Math.min(t,r)/2},diamond:function(e,n,t,r,i){i.cx=e+t/2,i.cy=n+r/2,i.width=t,i.height=r},pin:function(e,n,t,r,i){i.x=e+t/2,i.y=n+r/2,i.width=t,i.height=r},arrow:function(e,n,t,r,i){i.x=e+t/2,i.y=n+r/2,i.width=t,i.height=r},triangle:function(e,n,t,r,i){i.cx=e+t/2,i.cy=n+r/2,i.width=t,i.height=r}},CA={};I({line:yh,rect:Yn,roundRect:Yn,square:Yn,circle:oA,diamond:KTe,pin:QTe,arrow:JTe,triangle:ZTe},function(e,n){CA[n]=new e});var nDe=Zt.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(e,n,t){var r=E2(e,n,t),i=this.shape;return i&&"pin"===i.symbolType&&"inside"===n.position&&(r.y=t.y+.4*t.height),r},buildPath:function(e,n,t){var r=n.symbolType;if("none"!==r){var i=CA[r];i||(i=CA[r="rect"]),tDe[r](n.x,n.y,n.width,n.height,i.shape),i.buildPath(e,i.shape,t)}}});function rDe(e,n){if("image"!==this.type){var t=this.style;this.__isEmptyBrush?(t.stroke=e,t.fill=n||"#fff",t.lineWidth=2):"line"===this.shape.symbolType?t.stroke=e:t.fill=e,this.markRedraw()}}function Qs(e,n,t,r,i,a,o){var l,s=0===e.indexOf("empty");return s&&(e=e.substr(5,1).toLowerCase()+e.substr(6)),(l=0===e.indexOf("image://")?pW(e.slice(8),new Yt(n,t,r,i),o?"center":"cover"):0===e.indexOf("path://")?dA(e.slice(7),{},new Yt(n,t,r,i),o?"center":"cover"):new nDe({shape:{symbolType:e,x:n,y:t,width:r,height:i}})).__isEmptyBrush=s,l.setColor=rDe,a&&l.setColor(a),l}function UW(e,n){if(null!=e)return ne(e)||(e=[e,e]),[oi(e[0],n[0])||0,oi(qt(e[1],e[0]),n[1])||0]}function wh(e){return isFinite(e)}function wA(e,n,t){for(var r="radial"===n.type?function oDe(e,n,t){var r=t.width,i=t.height,a=Math.min(r,i),o=null==n.x?.5:n.x,s=null==n.y?.5:n.y,l=null==n.r?.5:n.r;return n.global||(o=o*r+t.x,s=s*i+t.y,l*=a),o=wh(o)?o:.5,s=wh(s)?s:.5,l=l>=0&&wh(l)?l:.5,e.createRadialGradient(o,s,0,o,s,l)}(e,n,t):function aDe(e,n,t){var r=null==n.x?0:n.x,i=null==n.x2?1:n.x2,a=null==n.y?0:n.y,o=null==n.y2?0:n.y2;return n.global||(r=r*t.width+t.x,i=i*t.width+t.x,a=a*t.height+t.y,o=o*t.height+t.y),r=wh(r)?r:0,i=wh(i)?i:1,a=wh(a)?a:0,o=wh(o)?o:0,e.createLinearGradient(r,a,i,o)}(e,n,t),i=n.colorStops,a=0;a<i.length;a++)r.addColorStop(i[a].offset,i[a].color);return r}function Eb(e){return parseInt(e,10)}function Ab(e,n,t){var r=["width","height"][n],i=["clientWidth","clientHeight"][n],a=["paddingLeft","paddingTop"][n],o=["paddingRight","paddingBottom"][n];if(null!=t[r]&&"auto"!==t[r])return parseFloat(t[r]);var s=document.defaultView.getComputedStyle(e);return(e[i]||Eb(s[r])||Eb(e.style[r]))-(Eb(s[a])||0)-(Eb(s[o])||0)|0}function GW(e){var n=e.style,t=n.lineDash&&n.lineWidth>0&&function lDe(e,n){return e&&"solid"!==e&&n>0?"dashed"===e?[4*n,2*n]:"dotted"===e?[n]:Sn(e)?[e]:ne(e)?e:null:null}(n.lineDash,n.lineWidth),r=n.lineDashOffset;if(t){var i=n.strokeNoScale&&e.getLineScale?e.getLineScale():1;i&&1!==i&&(t=De(t,function(a){return a/i}),r/=i)}return[t,r]}var cDe=new Pl(!0);function Nb(e){var n=e.stroke;return!(null==n||"none"===n||!(e.lineWidth>0))}function WW(e){return"string"==typeof e&&"none"!==e}function Ib(e){var n=e.fill;return null!=n&&"none"!==n}function jW(e,n){if(null!=n.fillOpacity&&1!==n.fillOpacity){var t=e.globalAlpha;e.globalAlpha=n.fillOpacity*n.opacity,e.fill(),e.globalAlpha=t}else e.fill()}function $W(e,n){if(null!=n.strokeOpacity&&1!==n.strokeOpacity){var t=e.globalAlpha;e.globalAlpha=n.strokeOpacity*n.opacity,e.stroke(),e.globalAlpha=t}else e.stroke()}function SA(e,n,t){var r=pH(n.image,n.__image,t);if(P2(r)){var i=e.createPattern(r,n.repeat||"repeat");if("function"==typeof DOMMatrix&&i&&i.setTransform){var a=new DOMMatrix;a.translateSelf(n.x||0,n.y||0),a.rotateSelf(0,0,(n.rotation||0)*pbe),a.scaleSelf(n.scaleX||1,n.scaleY||1),i.setTransform(a)}return i}}var YW=["shadowBlur","shadowOffsetX","shadowOffsetY"],XW=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function qW(e,n,t,r,i){var a=!1;if(!r&&n===(t=t||{}))return!1;if(r||n.opacity!==t.opacity){Ia(e,i),a=!0;var o=Math.max(Math.min(n.opacity,1),0);e.globalAlpha=isNaN(o)?eh.opacity:o}(r||n.blend!==t.blend)&&(a||(Ia(e,i),a=!0),e.globalCompositeOperation=n.blend||eh.blend);for(var s=0;s<YW.length;s++){var l=YW[s];(r||n[l]!==t[l])&&(a||(Ia(e,i),a=!0),e[l]=e.dpr*(n[l]||0))}return(r||n.shadowColor!==t.shadowColor)&&(a||(Ia(e,i),a=!0),e.shadowColor=n.shadowColor||eh.shadowColor),a}function ZW(e,n,t,r,i){var a=k1(n,i.inHover),o=r?null:t&&k1(t,i.inHover)||{};if(a===o)return!1;var s=qW(e,a,o,r,i);if((r||a.fill!==o.fill)&&(s||(Ia(e,i),s=!0),WW(a.fill)&&(e.fillStyle=a.fill)),(r||a.stroke!==o.stroke)&&(s||(Ia(e,i),s=!0),WW(a.stroke)&&(e.strokeStyle=a.stroke)),(r||a.opacity!==o.opacity)&&(s||(Ia(e,i),s=!0),e.globalAlpha=null==a.opacity?1:a.opacity),n.hasStroke()){var c=a.lineWidth/(a.strokeNoScale&&n.getLineScale?n.getLineScale():1);e.lineWidth!==c&&(s||(Ia(e,i),s=!0),e.lineWidth=c)}for(var u=0;u<XW.length;u++){var h=XW[u],d=h[0];(r||a[d]!==o[d])&&(s||(Ia(e,i),s=!0),e[d]=a[d]||h[1])}return s}function KW(e,n){var t=n.transform,r=e.dpr||1;t?e.setTransform(r*t[0],r*t[1],r*t[2],r*t[3],r*t[4],r*t[5]):e.setTransform(r,0,0,r,0,0)}function Ia(e,n){n.batchFill&&e.fill(),n.batchStroke&&e.stroke(),n.batchFill="",n.batchStroke=""}function k1(e,n){return n&&e.__hoverStyle||e.style}function Pb(e,n){Sh(e,n,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function Sh(e,n,t,r){var i=n.transform;if(!n.shouldBePainted(t.viewWidth,t.viewHeight,!1,!1))return n.__dirty&=-2,void(n.__isRendered=!1);var a=n.__clipPaths,o=t.prevElClipPaths,s=!1,l=!1;if((!o||function sDe(e,n){if(e===n||!e&&!n)return!1;if(!e||!n||e.length!==n.length)return!0;for(var t=0;t<e.length;t++)if(e[t]!==n[t])return!0;return!1}(a,o))&&(o&&o.length&&(Ia(e,t),e.restore(),l=s=!0,t.prevElClipPaths=null,t.allClipped=!1,t.prevEl=null),a&&a.length&&(Ia(e,t),e.save(),function pDe(e,n,t){for(var r=!1,i=0;i<e.length;i++){var a=e[i];r=r||a.isZeroArea(),KW(n,a),n.beginPath(),a.buildPath(n,a.shape),n.clip()}t.allClipped=r}(a,e,t),s=!0),t.prevElClipPaths=a),t.allClipped)n.__isRendered=!1;else{n.beforeBrush&&n.beforeBrush(),n.innerBeforeBrush();var c=t.prevEl;c||(l=s=!0);var u=n instanceof Zt&&n.autoBatch&&function mDe(e){var n=Ib(e),t=Nb(e);return!(e.lineDash||!(+n^+t)||n&&"string"!=typeof e.fill||t&&"string"!=typeof e.stroke||e.strokePercent<1||e.strokeOpacity<1||e.fillOpacity<1)}(n.style);s||function gDe(e,n){return e&&n?e[0]!==n[0]||e[1]!==n[1]||e[2]!==n[2]||e[3]!==n[3]||e[4]!==n[4]||e[5]!==n[5]:!(!e&&!n)}(i,c.transform)?(Ia(e,t),KW(e,n)):u||Ia(e,t);var h=k1(n,t.inHover);n instanceof Zt?(1!==t.lastDrawType&&(l=!0,t.lastDrawType=1),ZW(e,n,c,l,t),(!u||!t.batchFill&&!t.batchStroke)&&e.beginPath(),function uDe(e,n,t,r){var i,a=Nb(t),o=Ib(t),s=t.strokePercent,l=s<1,c=!n.path;(!n.silent||l)&&c&&n.createPathProxy();var u=n.path||cDe,h=n.__dirty;if(!r){var d=t.fill,f=t.stroke,p=o&&!!d.colorStops,g=a&&!!f.colorStops,m=o&&!!d.image,v=a&&!!f.image,_=void 0,y=void 0,b=void 0,w=void 0,C=void 0;(p||g)&&(C=n.getBoundingRect()),p&&(_=h?wA(e,d,C):n.__canvasFillGradient,n.__canvasFillGradient=_),g&&(y=h?wA(e,f,C):n.__canvasStrokeGradient,n.__canvasStrokeGradient=y),m&&(b=h||!n.__canvasFillPattern?SA(e,d,n):n.__canvasFillPattern,n.__canvasFillPattern=b),v&&(w=h||!n.__canvasStrokePattern?SA(e,f,n):n.__canvasStrokePattern,n.__canvasStrokePattern=b),p?e.fillStyle=_:m&&(b?e.fillStyle=b:o=!1),g?e.strokeStyle=y:v&&(w?e.strokeStyle=w:a=!1)}var x,M,S=n.getGlobalScale();u.setScale(S[0],S[1],n.segmentIgnoreThreshold),e.setLineDash&&t.lineDash&&(x=(i=GW(n))[0],M=i[1]);var E=!0;(c||4&h)&&(u.setDPR(e.dpr),l?u.setContext(null):(u.setContext(e),E=!1),u.reset(),n.buildPath(u,n.shape,r),u.toStatic(),n.pathUpdated()),E&&u.rebuildPath(e,l?s:1),x&&(e.setLineDash(x),e.lineDashOffset=M),r||(t.strokeFirst?(a&&$W(e,t),o&&jW(e,t)):(o&&jW(e,t),a&&$W(e,t))),x&&e.setLineDash([])}(e,n,h,u),u&&(t.batchFill=h.fill||"",t.batchStroke=h.stroke||"")):n instanceof oE?(3!==t.lastDrawType&&(l=!0,t.lastDrawType=3),ZW(e,n,c,l,t),function dDe(e,n,t){var r,i=t.text;if(null!=i&&(i+=""),i){e.font=t.font||Bu,e.textAlign=t.textAlign,e.textBaseline=t.textBaseline;var a=void 0,o=void 0;e.setLineDash&&t.lineDash&&(a=(r=GW(n))[0],o=r[1]),a&&(e.setLineDash(a),e.lineDashOffset=o),t.strokeFirst?(Nb(t)&&e.strokeText(i,t.x,t.y),Ib(t)&&e.fillText(i,t.x,t.y)):(Ib(t)&&e.fillText(i,t.x,t.y),Nb(t)&&e.strokeText(i,t.x,t.y)),a&&e.setLineDash([])}}(e,n,h)):n instanceof qs?(2!==t.lastDrawType&&(l=!0,t.lastDrawType=2),function fDe(e,n,t,r,i){qW(e,k1(n,i.inHover),t&&k1(t,i.inHover),r,i)}(e,n,c,l,t),function hDe(e,n,t){var r=n.__image=pH(t.image,n.__image,n,n.onload);if(r&&P2(r)){var i=t.x||0,a=t.y||0,o=n.getWidth(),s=n.getHeight(),l=r.width/r.height;if(null==o&&null!=s?o=s*l:null==s&&null!=o?s=o/l:null==o&&null==s&&(o=r.width,s=r.height),t.sWidth&&t.sHeight)e.drawImage(r,c=t.sx||0,u=t.sy||0,t.sWidth,t.sHeight,i,a,o,s);else if(t.sx&&t.sy){var c,u;e.drawImage(r,c=t.sx,u=t.sy,o-c,s-u,i,a,o,s)}else e.drawImage(r,i,a,o,s)}}(e,n,h)):n.getTemporalDisplayables&&(4!==t.lastDrawType&&(l=!0,t.lastDrawType=4),function vDe(e,n,t){var r=n.getDisplayables(),i=n.getTemporalDisplayables();e.save();var o,s,a={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:t.viewWidth,viewHeight:t.viewHeight,inHover:t.inHover};for(o=n.getCursor(),s=r.length;o<s;o++)(l=r[o]).beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),Sh(e,l,a,o===s-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),a.prevEl=l;for(var c=0,u=i.length;c<u;c++){var l;(l=i[c]).beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),Sh(e,l,a,c===u-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),a.prevEl=l}n.clearTemporalDisplayables(),n.notClear=!0,e.restore()}(e,n,t)),u&&r&&Ia(e,t),n.innerAfterBrush(),n.afterBrush&&n.afterBrush(),t.prevEl=n,n.__dirty=0,n.__isRendered=!0}}var xA=new qTe,nj=new Df(100),rj=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function MA(e,n){if("none"===e)return null;var t=n.getDevicePixelRatio(),r=n.getZr(),i="svg"===r.painter.type;e.dirty&&xA.delete(e);var a=xA.get(e);if(a)return a;var o=ut(e,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});"none"===o.backgroundColor&&(o.backgroundColor=null);var s={repeat:"repeat"};return function l(c){for(var u=[t],h=!0,d=0;d<rj.length;++d){var f=o[rj[d]];if(null!=f&&!ne(f)&&!Fe(f)&&!Sn(f)&&"boolean"!=typeof f){h=!1;break}u.push(f)}var p;if(h){p=u.join(",")+(i?"-svg":"");var g=nj.get(p);g&&(i?c.svgElement=g:c.image=g)}var x,m=aj(o.dashArrayX),v=function _De(e){if(!e||"object"==typeof e&&0===e.length)return[0,0];if(Sn(e)){var n=Math.ceil(e);return[n,n]}var t=De(e,function(r){return Math.ceil(r)});return e.length%2?t.concat(t):t}(o.dashArrayY),_=ij(o.symbol),y=function yDe(e){return De(e,function(n){return oj(n)})}(m),b=oj(v),w=!i&&ns.createCanvas(),C=i&&{tag:"g",attrs:{},key:"dcl",children:[]},S=function M(){for(var T=1,A=0,N=y.length;A<N;++A)T=iH(T,y[A]);var R=1;for(A=0,N=_.length;A<N;++A)R=iH(R,_[A].length);T*=R;var z=b*y.length*_.length;return{width:Math.max(1,Math.min(T,o.maxTileWidth)),height:Math.max(1,Math.min(z,o.maxTileHeight))}}();w&&(w.width=S.width*t,w.height=S.height*t,x=w.getContext("2d")),function E(){x&&(x.clearRect(0,0,w.width,w.height),o.backgroundColor&&(x.fillStyle=o.backgroundColor,x.fillRect(0,0,w.width,w.height)));for(var T=0,A=0;A<v.length;++A)T+=v[A];if(!(T<=0))for(var N=-b,R=0,z=0,L=0;N<S.height;){if(R%2==0){for(var V=z/2%_.length,F=0,j=0,Y=0;F<2*S.width;){var se=0;for(A=0;A<m[L].length;++A)se+=m[L][A];if(se<=0)break;if(j%2==0){var de=.5*(1-o.symbolSize);Rt(F+m[L][j]*de,N+v[R]*de,m[L][j]*o.symbolSize,v[R]*o.symbolSize,_[V][Y/2%_[V].length])}F+=m[L][j],++Y,++j===m[L].length&&(j=0)}++L===m.length&&(L=0)}N+=v[R],++z,++R===v.length&&(R=0)}function Rt(ct,pt,Se,Lt,Rn){var Zn=i?1:t,di=Qs(Rn,ct*Zn,pt*Zn,Se*Zn,Lt*Zn,o.color,o.symbolKeepAspect);if(i){var zp=r.painter.renderOneToVNode(di);zp&&C.children.push(zp)}else Pb(x,di)}}(),h&&nj.put(p,w||C),c.image=w,c.svgElement=C,c.svgWidth=S.width,c.svgHeight=S.height}(s),s.rotation=o.rotation,s.scaleX=s.scaleY=i?1:1/t,xA.set(e,s),e.dirty=!1,s}function ij(e){if(!e||0===e.length)return[["rect"]];if(Fe(e))return[[e]];for(var n=!0,t=0;t<e.length;++t)if(!Fe(e[t])){n=!1;break}if(n)return ij([e]);var r=[];for(t=0;t<e.length;++t)Fe(e[t])?r.push([e[t]]):r.push(e[t]);return r}function aj(e){if(!e||0===e.length)return[[0,0]];if(Sn(e))return[[n=Math.ceil(e),n]];for(var t=!0,r=0;r<e.length;++r)if(!Sn(e[r])){t=!1;break}if(t)return aj([e]);var i=[];for(r=0;r<e.length;++r)if(Sn(e[r])){var n=Math.ceil(e[r]);i.push([n,n])}else n=De(e[r],function(s){return Math.ceil(s)}),i.push(n.length%2==1?n.concat(n):n);return i}function oj(e){for(var n=0,t=0;t<e.length;++t)n+=e[t];return e.length%2==1?2*n:n}const gs=new Hs;var sj={};function lj(e){return sj[e]}var Gi="__flagInMainProcess",Pa="__pendingUpdate",DA="__needsUpdateStatus",dj=/^[a-zA-Z0-9_]+$/,EA="__connectUpdateStatus";function pj(e){return function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];if(!this.isDisposed())return mj(this,e,n)}}function gj(e){return function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return mj(this,e,n)}}function mj(e,n,t){return t[0]=t[0]&&t[0].toLowerCase(),Hs.prototype[n].apply(e,t)}var vj=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return ke(n,e),n}(Hs),_j=vj.prototype;_j.on=gj("on"),_j.off=gj("off");var ep,AA,Rb,Mc,NA,IA,PA,F1,z1,yj,bj,OA,Cj,Lb,wj,Sj,Ro,xj,kb=function(e){function n(t,r,i){var a=e.call(this,new HTe)||this;a._chartsViews=[],a._chartsMap={},a._componentsViews=[],a._componentsMap={},a._pendingActions=[],i=i||{},Fe(r)&&(r=Mj[r]),a._dom=t;var h=a._zr=z3(t,{renderer:i.renderer||"canvas",devicePixelRatio:i.devicePixelRatio,width:i.width,height:i.height,ssr:i.ssr,useDirtyRect:qt(i.useDirtyRect,!1),useCoarsePointer:qt(i.useCoarsePointer,"auto"),pointerSize:i.pointerSize});a._ssr=i.ssr,a._throttledZrFlush=vA(ln(h.flush,h),17),(r=ht(r))&&oG(r,!0),a._theme=r,a._locale=function qSe(e){if(Fe(e)){var n=K2[e.toUpperCase()]||{};return"ZH"===e||"EN"===e?ht(n):Ee(ht(n),ht(K2.EN),!1)}return Ee(ht(e),ht(K2.EN),!1)}(i.locale||bU),a._coordSysMgr=new S1;var d=a._api=wj(a);function f(p,g){return p.__prio-g.__prio}return l2(zb,f),l2(LA,f),a._scheduler=new LW(a,d,LA,zb),a._messageCenter=new vj,a._initEvents(),a.resize=ln(a.resize,a),h.animation.on("frame",a._onframe,a),yj(h,a),bj(h,a),e2(a),a}return ke(n,e),n.prototype._onframe=function(){if(!this._disposed){xj(this);var t=this._scheduler;if(this[Pa]){var r=this[Pa].silent;this[Gi]=!0;try{ep(this),Mc.update.call(this,null,this[Pa].updateParams)}catch(l){throw this[Gi]=!1,this[Pa]=null,l}this._zr.flush(),this[Gi]=!1,this[Pa]=null,F1.call(this,r),z1.call(this,r)}else if(t.unfinished){var i=1,a=this._model,o=this._api;t.unfinished=!1;do{var s=+new Date;t.performSeriesTasks(a),t.performDataProcessorTasks(a),IA(this,a),t.performVisualTasks(a),Lb(this,this._model,o,"remain",{}),i-=+new Date-s}while(i>0&&t.unfinished);t.unfinished||this._zr.flush()}}},n.prototype.getDom=function(){return this._dom},n.prototype.getId=function(){return this.id},n.prototype.getZr=function(){return this._zr},n.prototype.isSSR=function(){return this._ssr},n.prototype.setOption=function(t,r,i){if(!this[Gi]){if(this._disposed)return;var a,o,s;if(ze(r)&&(i=r.lazyUpdate,a=r.silent,o=r.replaceMerge,s=r.transition,r=r.notMerge),this[Gi]=!0,!this._model||r){var l=new Axe(this._api),c=this._theme,u=this._model=new QU;u.scheduler=this._scheduler,u.ssr=this._ssr,u.init(null,null,null,c,this._locale,l)}this._model.setOption(t,{replaceMerge:o},kA);var h={seriesTransition:s,optionChanged:!0};if(i)this[Pa]={silent:a,updateParams:h},this[Gi]=!1,this.getZr().wakeUp();else{try{ep(this),Mc.update.call(this,null,h)}catch(d){throw this[Pa]=null,this[Gi]=!1,d}this._ssr||this._zr.flush(),this[Pa]=null,this[Gi]=!1,F1.call(this,a),z1.call(this,a)}}},n.prototype.setTheme=function(){},n.prototype.getModel=function(){return this._model},n.prototype.getOption=function(){return this._model&&this._model.getOption()},n.prototype.getWidth=function(){return this._zr.getWidth()},n.prototype.getHeight=function(){return this._zr.getHeight()},n.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||Bt.hasGlobalWindow&&window.devicePixelRatio||1},n.prototype.getRenderedCanvas=function(t){return this.renderToCanvas(t)},n.prototype.renderToCanvas=function(t){return this._zr.painter.getRenderedCanvas({backgroundColor:(t=t||{}).backgroundColor||this._model.get("backgroundColor"),pixelRatio:t.pixelRatio||this.getDevicePixelRatio()})},n.prototype.renderToSVGString=function(t){return this._zr.painter.renderToString({useViewBox:(t=t||{}).useViewBox})},n.prototype.getSvgDataURL=function(){if(Bt.svgSupported){var t=this._zr;return I(t.storage.getDisplayList(),function(i){i.stopAnimation(null,!0)}),t.painter.toDataURL()}},n.prototype.getDataURL=function(t){if(!this._disposed){var i=this._model,a=[],o=this;I((t=t||{}).excludeComponents,function(l){i.eachComponent({mainType:l},function(c){var u=o._componentsMap[c.__viewId];u.group.ignore||(a.push(u),u.group.ignore=!0)})});var s="svg"===this._zr.painter.getType()?this.getSvgDataURL():this.renderToCanvas(t).toDataURL("image/"+(t&&t.type||"png"));return I(a,function(l){l.group.ignore=!1}),s}},n.prototype.getConnectedDataURL=function(t){if(!this._disposed){var r="svg"===t.type,i=this.group,a=Math.min,o=Math.max,s=1/0;if(Bb[i]){var l=s,c=s,u=-s,h=-s,d=[],f=t&&t.pixelRatio||this.getDevicePixelRatio();I(xh,function(y,b){if(y.group===i){var w=r?y.getZr().painter.getSvgDom().innerHTML:y.renderToCanvas(ht(t)),C=y.getDom().getBoundingClientRect();l=a(C.left,l),c=a(C.top,c),u=o(C.right,u),h=o(C.bottom,h),d.push({dom:w,left:C.left,top:C.top})}});var p=(u*=f)-(l*=f),g=(h*=f)-(c*=f),m=ns.createCanvas(),v=z3(m,{renderer:r?"svg":"canvas"});if(v.resize({width:p,height:g}),r){var _="";return I(d,function(y){_+='<g transform="translate('+(y.left-l)+","+(y.top-c)+')">'+y.dom+"</g>"}),v.painter.getSvgRoot().innerHTML=_,t.connectedBackgroundColor&&v.painter.setBackgroundColor(t.connectedBackgroundColor),v.refreshImmediately(),v.painter.toDataURL()}return t.connectedBackgroundColor&&v.add(new Yn({shape:{x:0,y:0,width:p,height:g},style:{fill:t.connectedBackgroundColor}})),I(d,function(y){var b=new qs({style:{x:y.left*f-l,y:y.top*f-c,image:y.dom}});v.add(b)}),v.refreshImmediately(),m.toDataURL("image/"+(t&&t.type||"png"))}return this.getDataURL(t)}},n.prototype.convertToPixel=function(t,r){return NA(this,"convertToPixel",t,r)},n.prototype.convertFromPixel=function(t,r){return NA(this,"convertFromPixel",t,r)},n.prototype.containPixel=function(t,r){var a;if(!this._disposed)return I(G3(this._model,t),function(s,l){l.indexOf("Models")>=0&&I(s,function(c){var u=c.coordinateSystem;if(u&&u.containPoint)a=a||!!u.containPoint(r);else if("seriesModels"===l){var h=this._chartsMap[c.__viewId];h&&h.containPoint&&(a=a||h.containPoint(r,c))}},this)},this),!!a},n.prototype.getVisual=function(t,r){var a=G3(this._model,t,{defaultMainType:"series"}),s=a.seriesModel.getData(),l=a.hasOwnProperty("dataIndexInside")?a.dataIndexInside:a.hasOwnProperty("dataIndex")?s.indexOfRawIndex(a.dataIndex):null;return null!=l?HW(s,l,r):bA(s,r)},n.prototype.getViewOfComponentModel=function(t){return this._componentsMap[t.__viewId]},n.prototype.getViewOfSeriesModel=function(t){return this._chartsMap[t.__viewId]},n.prototype._initEvents=function(){var t=this;I(FDe,function(r){var i=function(a){var l,o=t.getModel(),s=a.target;if("globalout"===r?l={}:s&&Jf(s,function(p){var g=tn(p);if(g&&null!=g.dataIndex){var m=g.dataModel||o.getSeriesByIndex(g.seriesIndex);return l=m&&m.getDataParams(g.dataIndex,g.dataType)||{},!0}if(g.eventData)return l=oe({},g.eventData),!0},!0),l){var u=l.componentType,h=l.componentIndex;("markLine"===u||"markPoint"===u||"markArea"===u)&&(u="series",h=l.seriesIndex);var d=u&&null!=h&&o.getComponent(u,h),f=d&&t["series"===d.mainType?"_chartsMap":"_componentsMap"][d.__viewId];l.event=a,l.type=r,t._$eventProcessor.eventInfo={targetEl:s,packedEvent:l,model:d,view:f},t.trigger(r,l)}};i.zrEventfulCallAtLast=!0,t._zr.on(r,i,t)}),I(B1,function(r,i){t._messageCenter.on(i,function(a){this.trigger(i,a)},t)}),I(["selectchanged"],function(r){t._messageCenter.on(r,function(i){this.trigger(r,i)},t)}),function jTe(e,n,t){e.on("selectchanged",function(r){var i=t.getModel();r.isFromClick?(Qf("map","selectchanged",n,i,r),Qf("pie","selectchanged",n,i,r)):"select"===r.fromAction?(Qf("map","selected",n,i,r),Qf("pie","selected",n,i,r)):"unselect"===r.fromAction&&(Qf("map","unselected",n,i,r),Qf("pie","unselected",n,i,r))})}(this._messageCenter,this,this._api)},n.prototype.isDisposed=function(){return this._disposed},n.prototype.clear=function(){this._disposed||this.setOption({series:[]},!0)},n.prototype.dispose=function(){if(!this._disposed){this._disposed=!0,this.getDom()&&uH(this.getDom(),zA,"");var r=this,i=r._api,a=r._model;I(r._componentsViews,function(o){o.dispose(a,i)}),I(r._chartsViews,function(o){o.dispose(a,i)}),r._zr.dispose(),r._dom=r._model=r._chartsMap=r._componentsMap=r._chartsViews=r._componentsViews=r._scheduler=r._api=r._zr=r._throttledZrFlush=r._theme=r._coordSysMgr=r._messageCenter=null,delete xh[r.id]}},n.prototype.resize=function(t){if(!this[Gi]){if(this._disposed)return;this._zr.resize(t);var r=this._model;if(this._loadingFX&&this._loadingFX.resize(),r){var i=r.resetOption("media"),a=t&&t.silent;this[Pa]&&(null==a&&(a=this[Pa].silent),i=!0,this[Pa]=null),this[Gi]=!0;try{i&&ep(this),Mc.update.call(this,{type:"resize",animation:oe({duration:0},t&&t.animation)})}catch(o){throw this[Gi]=!1,o}this[Gi]=!1,F1.call(this,a),z1.call(this,a)}}},n.prototype.showLoading=function(t,r){if(!this._disposed&&(ze(t)&&(r=t,t=""),t=t||"default",this.hideLoading(),FA[t])){var i=FA[t](this._api,r),a=this._zr;this._loadingFX=i,a.add(i)}},n.prototype.hideLoading=function(){this._disposed||(this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null)},n.prototype.makeActionFromEvent=function(t){var r=oe({},t);return r.type=B1[t.type],r},n.prototype.dispatchAction=function(t,r){if(!this._disposed&&(ze(r)||(r={silent:!!r}),Fb[t.type]&&this._model)){if(this[Gi])return void this._pendingActions.push(t);var i=r.silent;PA.call(this,t,i);var a=r.flush;a?this._zr.flush():!1!==a&&Bt.browser.weChat&&this._throttledZrFlush(),F1.call(this,i),z1.call(this,i)}},n.prototype.updateLabelLayout=function(){gs.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},n.prototype.appendData=function(t){if(!this._disposed){var r=t.seriesIndex;this.getModel().getSeriesByIndex(r).appendData(t),this._scheduler.unfinished=!0,this.getZr().wakeUp()}},n.internalField=function(){function t(h){h.clearColorPalette(),h.eachSeries(function(d){d.clearColorPalette()})}function i(h){for(var d=[],f=h.currentStates,p=0;p<f.length;p++){var g=f[p];"emphasis"===g||"blur"===g||"select"===g||d.push(g)}h.selected&&h.states.select&&d.push("select"),2===h.hoverState&&h.states.emphasis?d.push("emphasis"):1===h.hoverState&&h.states.blur&&d.push("blur"),h.useStates(d)}function s(h,d){if(!h.preventAutoZ){var f=h.get("z")||0,p=h.get("zlevel")||0;d.eachRendered(function(g){return l(g,f,p,-1/0),!0})}}function l(h,d,f,p){var g=h.getTextContent(),m=h.getTextGuideLine();if(h.isGroup)for(var _=h.childrenRef(),y=0;y<_.length;y++)p=Math.max(l(_[y],d,f,p),p);else h.z=d,h.zlevel=f,p=Math.max(h.z2,p);if(g&&(g.z=d,g.zlevel=f,isFinite(p)&&(g.z2=p+2)),m){var b=h.textGuideLineConfig;m.z=d,m.zlevel=f,isFinite(p)&&(m.z2=p+(b&&b.showAbove?1:-1))}return p}function c(h,d){d.eachRendered(function(f){if(!kf(f)){var p=f.getTextContent(),g=f.getTextGuideLine();f.stateTransition&&(f.stateTransition=null),p&&p.stateTransition&&(p.stateTransition=null),g&&g.stateTransition&&(g.stateTransition=null),f.hasState()?(f.prevStates=f.currentStates,f.clearStates()):f.prevStates&&(f.prevStates=null)}})}function u(h,d){var f=h.getModel("stateAnimation"),p=h.isAnimationEnabled(),g=f.get("duration"),m=g>0?{duration:g,delay:f.get("delay"),easing:f.get("easing")}:null;d.eachRendered(function(v){if(v.states&&v.states.emphasis){if(kf(v))return;if(v instanceof Zt&&function NSe(e){var n=jH(e);n.normalFill=e.style.fill,n.normalStroke=e.style.stroke;var t=e.states.select||{};n.selectFill=t.style&&t.style.fill||null,n.selectStroke=t.style&&t.style.stroke||null}(v),v.__dirty){var _=v.prevStates;_&&v.useStates(_)}if(p){v.stateTransition=m;var y=v.getTextContent(),b=v.getTextGuideLine();y&&(y.stateTransition=m),b&&(b.stateTransition=m)}v.__dirty&&i(v)}})}ep=function(h){var d=h._scheduler;d.restorePipelines(h._model),d.prepareStageTasks(),AA(h,!0),AA(h,!1),d.plan()},AA=function(h,d){for(var f=h._model,p=h._scheduler,g=d?h._componentsViews:h._chartsViews,m=d?h._componentsMap:h._chartsMap,v=h._zr,_=h._api,y=0;y<g.length;y++)g[y].__alive=!1;function b(C){var S=C.__requireNewView;C.__requireNewView=!1;var x="_ec_"+C.id+"_"+C.type,M=!S&&m[x];if(!M){var E=js(C.type);(M=new(d?Ei.getClass(E.main,E.sub):Rr.getClass(E.sub))).init(f,_),m[x]=M,g.push(M),v.add(M.group)}C.__viewId=M.__id=x,M.__alive=!0,M.__model=C,M.group.__ecComponentInfo={mainType:C.mainType,index:C.componentIndex},!d&&p.prepareView(M,C,f,_)}for(d?f.eachComponent(function(C,S){"series"!==C&&b(S)}):f.eachSeries(b),y=0;y<g.length;){var w=g[y];w.__alive?y++:(!d&&w.renderTask.dispose(),v.remove(w.group),w.dispose(f,_),g.splice(y,1),m[w.__id]===w&&delete m[w.__id],w.__id=w.group.__ecComponentInfo=null)}},Rb=function(h,d,f,p,g){var m=h._model;if(m.setUpdatePayload(f),p){var v={};v[p+"Id"]=f[p+"Id"],v[p+"Index"]=f[p+"Index"],v[p+"Name"]=f[p+"Name"];var _={mainType:p,query:v};g&&(_.subType=g);var b,y=f.excludeSeriesId;null!=y&&(b=bt(),I(mr(y),function(C){var S=ls(C,null);null!=S&&b.set(S,!0)})),m&&m.eachComponent(_,function(C){if(!b||null==b.get(C.id))if(lU(f))if(C instanceof si)f.type===ch&&!f.notBlur&&!C.get(["emphasis","disabled"])&&function CSe(e,n,t){var r=e.seriesIndex,i=e.getData(n.dataType);if(i){var a=Qu(i,n);a=(ne(a)?a[0]:a)||0;var o=i.getItemGraphicEl(a);if(!o)for(var s=i.count(),l=0;!o&&l<s;)o=i.getItemGraphicEl(l++);if(o){var c=tn(o);fE(r,c.focus,c.blurScope,t)}else{var u=e.get(["emphasis","focus"]),h=e.get(["emphasis","blurScope"]);null!=u&&fE(r,u,h,t)}}}(C,f,h._api);else{var x=gE(C.mainType,C.componentIndex,f.name,h._api),E=x.dispatchers;f.type===ch&&x.focusSelf&&!f.notBlur&&pE(C.mainType,C.componentIndex,h._api),E&&I(E,function(T){f.type===ch?G2(T):W2(T)})}else bE(f)&&C instanceof si&&(function xSe(e,n,t){if(bE(n)){var r=n.dataType,a=Qu(e.getData(r),n);ne(a)||(a=[a]),e[n.type===f1?"toggleSelect":n.type===d1?"select":"unselect"](a,r)}}(C,f),oU(C),Ro(h))},h),m&&m.eachComponent(_,function(C){b&&null!=b.get(C.id)||w(h["series"===p?"_chartsMap":"_componentsMap"][C.__viewId])},h)}else I([].concat(h._componentsViews).concat(h._chartsViews),w);function w(C){C&&C.__alive&&C[d]&&C[d](C.__model,m,h._api,f)}},Mc={prepareAndUpdate:function(h){ep(this),Mc.update.call(this,h,{optionChanged:null!=h.newOption})},update:function(h,d){var f=this._model,p=this._api,g=this._zr,m=this._coordSysMgr,v=this._scheduler;if(f){f.setUpdatePayload(h),v.restoreData(f,h),v.performSeriesTasks(f),m.create(f,p),v.performDataProcessorTasks(f,h),IA(this,f),m.update(f,p),t(f),v.performVisualTasks(f,h),OA(this,f,p,h,d);var _=f.get("backgroundColor")||"transparent",y=f.get("darkMode");g.setBackgroundColor(_),null!=y&&"auto"!==y&&g.setDarkMode(y),gs.trigger("afterupdate",f,p)}},updateTransform:function(h){var d=this,f=this._model,p=this._api;if(f){f.setUpdatePayload(h);var g=[];f.eachComponent(function(v,_){if("series"!==v){var y=d.getViewOfComponentModel(_);if(y&&y.__alive)if(y.updateTransform){var b=y.updateTransform(_,f,p,h);b&&b.update&&g.push(y)}else g.push(y)}});var m=bt();f.eachSeries(function(v){var _=d._chartsMap[v.__viewId];if(_.updateTransform){var y=_.updateTransform(v,f,p,h);y&&y.update&&m.set(v.uid,1)}else m.set(v.uid,1)}),t(f),this._scheduler.performVisualTasks(f,h,{setDirty:!0,dirtyMap:m}),Lb(this,f,p,h,{},m),gs.trigger("afterupdate",f,p)}},updateView:function(h){var d=this._model;!d||(d.setUpdatePayload(h),Rr.markUpdateMethod(h,"updateView"),t(d),this._scheduler.performVisualTasks(d,h,{setDirty:!0}),OA(this,d,this._api,h,{}),gs.trigger("afterupdate",d,this._api))},updateVisual:function(h){var d=this,f=this._model;!f||(f.setUpdatePayload(h),f.eachSeries(function(p){p.getData().clearAllVisual()}),Rr.markUpdateMethod(h,"updateVisual"),t(f),this._scheduler.performVisualTasks(f,h,{visualType:"visual",setDirty:!0}),f.eachComponent(function(p,g){if("series"!==p){var m=d.getViewOfComponentModel(g);m&&m.__alive&&m.updateVisual(g,f,d._api,h)}}),f.eachSeries(function(p){d._chartsMap[p.__viewId].updateVisual(p,f,d._api,h)}),gs.trigger("afterupdate",f,this._api))},updateLayout:function(h){Mc.update.call(this,h)}},NA=function(h,d,f,p){if(!h._disposed)for(var v,g=h._model,m=h._coordSysMgr.getCoordinateSystems(),_=G3(g,f),y=0;y<m.length;y++){var b=m[y];if(b[d]&&null!=(v=b[d](g,_,p)))return v}},IA=function(h,d){var f=h._chartsMap,p=h._scheduler;d.eachSeries(function(g){p.updateStreamModes(g,f[g.__viewId])})},PA=function(h,d){var f=this,p=this.getModel(),g=h.type,m=h.escapeConnect,v=Fb[g],_=v.actionInfo,y=(_.update||"update").split(":"),b=y.pop(),w=null!=y[0]&&js(y[0]);this[Gi]=!0;var C=[h],S=!1;h.batch&&(S=!0,C=De(h.batch,function(R){return(R=ut(oe({},R),h)).batch=null,R}));var M,x=[],E=bE(h),T=lU(h);if(T&&aU(this._api),I(C,function(R){if((M=(M=v.action(R,f._model,f._api))||oe({},R)).type=_.event||M.type,x.push(M),T){var z=W3(h),F=z.mainTypeSpecified?z.queryOptionMap.keys()[0]:"series";Rb(f,b,R,F),Ro(f)}else E?(Rb(f,b,R,"series"),Ro(f)):w&&Rb(f,b,R,w.main,w.sub)}),"none"!==b&&!T&&!E&&!w)try{this[Pa]?(ep(this),Mc.update.call(this,h),this[Pa]=null):Mc[b].call(this,h)}catch(R){throw this[Gi]=!1,R}if(M=S?{type:_.event||g,escapeConnect:m,batch:x}:x[0],this[Gi]=!1,!d){var A=this._messageCenter;if(A.trigger(M.type,M),E){var N={type:"selectchanged",escapeConnect:m,selected:MSe(p),isFromClick:h.isFromClick||!1,fromAction:h.type,fromActionPayload:h};A.trigger(N.type,N)}}},F1=function(h){for(var d=this._pendingActions;d.length;){var f=d.shift();PA.call(this,f,h)}},z1=function(h){!h&&this.trigger("updated")},yj=function(h,d){h.on("rendered",function(f){d.trigger("rendered",f),h.animation.isFinished()&&!d[Pa]&&!d._scheduler.unfinished&&!d._pendingActions.length&&d.trigger("finished")})},bj=function(h,d){h.on("mouseover",function(f){var g=Jf(f.target,yE);g&&(function wSe(e,n,t){var r=tn(e),i=gE(r.componentMainType,r.componentIndex,r.componentHighDownName,t),a=i.dispatchers;a?(i.focusSelf&&pE(r.componentMainType,r.componentIndex,t),I(a,function(s){return JH(s,n)})):(fE(r.seriesIndex,r.focus,r.blurScope,t),"self"===r.focus&&pE(r.componentMainType,r.componentIndex,t),JH(e,n))}(g,f,d._api),Ro(d))}).on("mouseout",function(f){var g=Jf(f.target,yE);g&&(function SSe(e,n,t){aU(t);var r=tn(e),i=gE(r.componentMainType,r.componentIndex,r.componentHighDownName,t).dispatchers;i?I(i,function(a){return eU(a,n)}):eU(e,n)}(g,f,d._api),Ro(d))}).on("click",function(f){var g=Jf(f.target,function(_){return null!=tn(_).dataIndex},!0);if(g){var m=g.selected?"unselect":"select",v=tn(g);d._api.dispatchAction({type:m,dataType:v.dataType,dataIndexInside:v.dataIndex,seriesIndex:v.seriesIndex,isFromClick:!0})}})},OA=function(h,d,f,p,g){(function r(h){var d=[],f=[],p=!1;if(h.eachComponent(function(_,y){var b=y.get("zlevel")||0,w=y.get("z")||0,C=y.getZLevelKey();p=p||!!C,("series"===_?f:d).push({zlevel:b,z:w,idx:y.componentIndex,type:_,key:C})}),p){var m,v,g=d.concat(f);l2(g,function(_,y){return _.zlevel===y.zlevel?_.z-y.z:_.zlevel-y.zlevel}),I(g,function(_){var y=h.getComponent(_.type,_.idx),b=_.zlevel,w=_.key;null!=m&&(b=Math.max(m,b)),w?(b===m&&w!==v&&b++,v=w):v&&(b===m&&b++,v=""),m=b,y.setZLevel(b)})}})(d),Cj(h,d,f,p,g),I(h._chartsViews,function(m){m.__alive=!1}),Lb(h,d,f,p,g),I(h._chartsViews,function(m){m.__alive||m.remove(d,f)})},Cj=function(h,d,f,p,g,m){I(m||h._componentsViews,function(v){var _=v.__model;c(0,v),v.render(_,d,f,p),s(_,v),u(_,v)})},Lb=function(h,d,f,p,g,m){var v=h._scheduler;g=oe(g||{},{updatedSeries:d.getSeries()}),gs.trigger("series:beforeupdate",d,f,g);var _=!1;d.eachSeries(function(y){var b=h._chartsMap[y.__viewId];b.__alive=!0;var w=b.renderTask;v.updatePayload(w,p),c(0,b),m&&m.get(y.uid)&&w.dirty(),w.perform(v.getPerformArgs(w))&&(_=!0),b.group.silent=!!y.get("silent"),function o(h,d){var f=h.get("blendMode")||null;d.eachRendered(function(p){p.isGroup||(p.style.blend=f)})}(y,b),oU(y)}),v.unfinished=_||v.unfinished,gs.trigger("series:layoutlabels",d,f,g),gs.trigger("series:transition",d,f,g),d.eachSeries(function(y){var b=h._chartsMap[y.__viewId];s(y,b),u(y,b)}),function a(h,d){var g=0;h._zr.storage.traverse(function(m){m.isGroup||g++}),g>d.get("hoverLayerThreshold")&&!Bt.node&&!Bt.worker&&d.eachSeries(function(m){if(!m.preventUsingHoverLayer){var v=h._chartsMap[m.__viewId];v.__alive&&v.eachRendered(function(_){_.states.emphasis&&(_.states.emphasis.hoverLayer=!0)})}})}(h,d),gs.trigger("series:afterupdate",d,f,g)},Ro=function(h){h[DA]=!0,h.getZr().wakeUp()},xj=function(h){!h[DA]||(h.getZr().storage.traverse(function(d){kf(d)||i(d)}),h[DA]=!1)},wj=function(h){return new(function(d){function f(){return null!==d&&d.apply(this,arguments)||this}return ke(f,d),f.prototype.getCoordinateSystems=function(){return h._coordSysMgr.getCoordinateSystems()},f.prototype.getComponentByElement=function(p){for(;p;){var g=p.__ecComponentInfo;if(null!=g)return h._model.getComponent(g.mainType,g.index);p=p.parent}},f.prototype.enterEmphasis=function(p,g){G2(p,g),Ro(h)},f.prototype.leaveEmphasis=function(p,g){W2(p,g),Ro(h)},f.prototype.enterBlur=function(p){tU(p),Ro(h)},f.prototype.leaveBlur=function(p){dE(p),Ro(h)},f.prototype.enterSelect=function(p){nU(p),Ro(h)},f.prototype.leaveSelect=function(p){rU(p),Ro(h)},f.prototype.getModel=function(){return h.getModel()},f.prototype.getViewOfComponentModel=function(p){return h.getViewOfComponentModel(p)},f.prototype.getViewOfSeriesModel=function(p){return h.getViewOfSeriesModel(p)},f}(JU))(h)},Sj=function(h){function d(f,p){for(var g=0;g<f.length;g++)f[g][EA]=p}I(B1,function(f,p){h._messageCenter.on(p,function(g){if(Bb[h.group]&&0!==h[EA]){if(g&&g.escapeConnect)return;var m=h.makeActionFromEvent(g),v=[];I(xh,function(_){_!==h&&_.group===h.group&&v.push(_)}),d(v,0),I(v,function(_){1!==_[EA]&&_.dispatchAction(m)}),d(v,2)}})})}}(),n}(Hs),RA=kb.prototype;RA.on=pj("on"),RA.off=pj("off"),RA.one=function(e,n,t){var r=this;this.on.call(this,e,function i(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];n&&n.apply&&n.apply(this,a),r.off(e,i)},t)};var FDe=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"],Fb={},B1={},LA=[],kA=[],zb=[],Mj={},FA={},xh={},Bb={},zDe=+new Date-0,zA=(new Date,"_echarts_instance_");function Tc(e,n,t){var r=!(t&&t.ssr);if(r){var i=function Tj(e){return xh[function lwe(e,n){return e.getAttribute?e.getAttribute(n):e[n]}(e,zA)]}(e);if(i)return i}var a=new kb(e,n,t);return a.id="ec_"+zDe++,xh[a.id]=a,r&&uH(e,zA,a.id),Sj(a),gs.trigger("afterinit",a),a}function Dj(e,n){Mj[e]=n}function BA(e){sn(kA,e)<0&&kA.push(e)}function Ej(e,n){HA(LA,e,n,2e3)}function Aj(e){VA("afterinit",e)}function Nj(e){VA("afterupdate",e)}function VA(e,n){gs.on(e,n)}function tp(e,n,t){Ze(n)&&(t=n,n="");var r=ze(e)?e.type:[e,e={event:n}][0];e.event=(e.event||r).toLowerCase(),!B1[n=e.event]&&(rs(dj.test(r)&&dj.test(n)),Fb[r]||(Fb[r]={action:t,actionInfo:e}),B1[n]=r)}function Ij(e){var n=S1.get(e);if(n)return n.getDimensionsInfo?n.getDimensionsInfo():n.dimensions.slice()}function Mh(e,n){HA(zb,e,n,3e3,"visual")}var Pj=[];function HA(e,n,t,r,i){if((Ze(n)||ze(n))&&(t=n,n=r),!(sn(Pj,t)>=0)){Pj.push(t);var a=LW.wrapStageHandler(t,i);a.__prio=n,a.__raw=t,e.push(a)}}function Oj(e,n){FA[e]=n}function UA(e){var n=lj("getMap");return n&&n(e)}function io(...e){return 0==e.length?0:e.reduce((n,t)=>n+("number"==typeof t?t:parseInt(t)),0)}function WDe(e,n){if(1&e){const t=br();B(0,"button",5),re("click",function(){return kt(t),Ft(W().onRunInput())}),ae(1," Run input "),ie(2,"nb-icon",6),H()}}Mh(2e3,MTe),Mh(4500,TTe),Mh(4500,DTe),Mh(2e3,UTe),Mh(4500,GTe),Mh(7e3,function bDe(e,n){e.eachRawSeries(function(t){if(!e.isSeriesFiltered(t)){var r=t.getData();r.hasItemVisual()&&r.each(function(o){var s=r.getItemVisual(o,"decal");s&&(r.ensureUniqueItemVisual(o,"style").decal=MA(s,n))});var i=r.getVisual("decal");i&&(r.getVisual("style").decal=MA(i,n))}})}),BA(oG),Ej(900,function Fxe(e){var n=bt();e.eachSeries(function(t){var r=t.get("stack");if(r){var i=n.get(r)||n.set(r,[]),a=t.getData(),o={stackResultDimension:a.getCalculationInfo("stackResultDimension"),stackedOverDimension:a.getCalculationInfo("stackedOverDimension"),stackedDimension:a.getCalculationInfo("stackedDimension"),stackedByDimension:a.getCalculationInfo("stackedByDimension"),isStackedByIndex:a.getCalculationInfo("isStackedByIndex"),data:a,seriesModel:t};if(!o.stackedDimension||!o.isStackedByIndex&&!o.stackedByDimension)return;i.length&&a.setCalculationInfo("stackedOnSeries",i[i.length-1].seriesModel),i.push(o)}}),n.each(zxe)}),Oj("default",function ETe(e,n){ut(n=n||{},{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var t=new $r,r=new Yn({style:{fill:n.maskColor},zlevel:n.zlevel,z:1e4});t.add(r);var o,i=new nr({style:{text:n.text,fill:n.textColor,fontSize:n.fontSize,fontWeight:n.fontWeight,fontStyle:n.fontStyle,fontFamily:n.fontFamily},zlevel:n.zlevel,z:10001}),a=new Yn({style:{fill:"none"},textContent:i,textConfig:{position:"right",distance:10},zlevel:n.zlevel,z:10001});return t.add(a),n.showSpinner&&((o=new cA({shape:{startAngle:-Mb/2,endAngle:-Mb/2+.1,r:n.spinnerRadius},style:{stroke:n.color,lineCap:"round",lineWidth:n.lineWidth},zlevel:n.zlevel,z:10001})).animateShape(!0).when(1e3,{endAngle:3*Mb/2}).start("circularInOut"),o.animateShape(!0).when(1e3,{startAngle:3*Mb/2}).delay(300).start("circularInOut"),t.add(o)),t.resize=function(){var s=i.getBoundingRect().width,l=n.showSpinner?n.spinnerRadius:0,c=(e.getWidth()-2*l-(n.showSpinner&&s?10:0)-s)/2-(n.showSpinner&&s?0:5+s/2)+(n.showSpinner?0:s/2)+(s?0:l),u=e.getHeight()/2;n.showSpinner&&o.setShape({cx:c,cy:u}),a.setShape({x:c-l,y:u-l,width:2*l,height:2*l}),r.setShape({x:0,y:0,width:e.getWidth(),height:e.getHeight()})},t.resize(),t}),tp({type:ch,event:ch,update:ch},ea),tp({type:V2,event:V2,update:V2},ea),tp({type:d1,event:d1,update:d1},ea),tp({type:H2,event:H2,update:H2},ea),tp({type:f1,event:f1,update:f1},ea),Dj("light",BTe),Dj("dark",VTe);class aa{constructor(n){this.httpClient=n,this.inputRun=new Ae,this.inputs={personal:"",example:""},this.currentInput="",this.selectedMode="example",this.isTextAreaPristine=!0}ngOnInit(){this.checkInputs(),this.httpClient.get(`assets/inputs/${this.year}/${this.day}-example`,{responseType:"text"}).subscribe(n=>{0===this.inputs.example.length&&(this.inputs.example=n,this.currentInput=n,this.onRunInput())}),this.httpClient.get(`assets/inputs/${this.year}/${this.day}-personal`,{responseType:"text"}).subscribe(n=>{0===this.inputs.personal.length&&(this.inputs.personal=n)})}checkInputs(){if(!this.day)throw"Day not provided!";if(!this.year)throw"Year not provided!"}onModeChanged(n){this.selectedMode=n,this.currentInput=this.inputs[this.selectedMode],this.isTextAreaPristine=!0,this.onRunInput()}onRunInput(){this.inputRun.emit(this.currentInput)}}function jDe(e,n){if(1&e&&(B(0,"p"),ae(1),H()),2&e){const t=W(2);k(1),en("(",t.explanation,")")}}function $De(e,n){if(1&e&&(sr(0),B(1,"h2"),ae(2),B(3,"span",1),ae(4),H()(),$(5,jDe,2,1,"p",0),lr()),2&e){const t=W();k(2),en("Part ",t.part,": "),k(2),Ht(t.answer),k(1),O("ngIf",t.explanation)}}aa.\u0275fac=function(n){return new(n||aa)(D(dF))},aa.\u0275cmp=J({type:aa,selectors:[["app-puzzle-input-switcher"]],inputs:{day:"day",year:"year"},outputs:{inputRun:"inputRun"},decls:8,vars:2,consts:[["id","toolbar"],["nbButtonToggle","","pressed","true",3,"click"],["nbButtonToggle","",3,"click"],["nbInput","","fullWidth","","rows","15",3,"ngModel","ngModelChange"],["id","run-btn","size","large","status","primary","nbButton","",3,"click",4,"ngIf"],["id","run-btn","size","large","status","primary","nbButton","",3,"click"],["icon","play-circle-outline"]],template:function(n,t){1&n&&(B(0,"div",0)(1,"nb-button-group")(2,"button",1),re("click",function(){return t.onModeChanged("example")}),ae(3,"Example input"),H(),B(4,"button",2),re("click",function(){return t.onModeChanged("personal")}),ae(5,"Personal input"),H()()(),B(6,"textarea",3),re("ngModelChange",function(i){return t.currentInput=i})("ngModelChange",function(){return t.isTextAreaPristine=!1}),H(),$(7,WDe,3,0,"button",4)),2&n&&(k(6),O("ngModel",t.currentInput),k(1),O("ngIf",!t.isTextAreaPristine))},dependencies:[Ut,X0,QM,Y_,Hy,Lu,Jye,t9,xr],styles:["[_nghost-%COMP%]{position:relative}#toolbar[_ngcontent-%COMP%]{display:flex;justify-content:center}textarea[_ngcontent-%COMP%]{margin:20px 0;resize:vertical;background-color:#100c2a!important;font-family:consolas!important}#run-btn[_ngcontent-%COMP%]{position:relative;bottom:20px;left:50%;transform:translate(-50%,-50%)}"]});class oa{constructor(){this.part=1,this.answer=""}}oa.\u0275fac=function(n){return new(n||oa)},oa.\u0275cmp=J({type:oa,selectors:[["app-puzzle-answer-printer"]],inputs:{part:"part",answer:"answer",explanation:"explanation"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"puzzle-answer"]],template:function(n,t){1&n&&$(0,$De,6,3,"ng-container",0),2&n&&O("ngIf",t.answer)},dependencies:[Ut],styles:["[_nghost-%COMP%]{display:block;background-color:#100c2a;padding:20px;margin:40px 0;text-align:center}.puzzle-answer[_ngcontent-%COMP%]{color:#fff;text-shadow:0px 0px 8px #fff;font-family:Consolas;margin-left:10px}p[_ngcontent-%COMP%]{font-size:20px}"]});class V1{constructor(){this.part1Answer=0,this.part2Answer=0,this.part2Explanation=""}ngOnInit(){this.chart=Tc(document.getElementById("chart"),"dark")}onInputRun(n){const r=n.replaceAll("\r\n","\n").split("\n\n").map((l,c)=>({name:`Elf #${c+1}`,data:l.split("\n")}));r.sort((l,c)=>io(...l.data)-io(...c.data));const i=r.reduce((l,c)=>Math.max(c.data.length,l),-1/0),a=r.map(l=>l.name),o=[];for(let l=0;l<i;l++)o.push({name:`Item #${l+1}`,type:"bar",stack:"total",data:r.map(c=>c.data[l])});this.chart.clear(),this.chart.setOption({tooltip:{trigger:"axis",order:"seriesDesc",axisPointer:{type:"shadow"},formatter:function(l){const c=l.reduce((d,f)=>d+parseInt(f.value??"0"),0),u=l.map(d=>`<div>${d.marker} ${d.seriesName}: <strong>${d.value??"-"}</strong></div>`);let h=`<div class="tooltip-label">${l[0].name}</div>`;return h+=u.reverse().join(""),h+="<hr>",h+=`<div>Total: <strong>${c}</strong></div>`,console.log(l,h),h}},xAxis:{type:"category",data:a},yAxis:{type:"value"},series:o}),this.part1Answer=io(...r[r.length-1].data);const s=r.slice(-3);this.part2Answer=io(...s.flatMap(l=>l.data)),this.part2Explanation=s.map(l=>io(...l.data)).join(" + ")}}V1.\u0275fac=function(n){return new(n||V1)},V1.\u0275cmp=J({type:V1,selectors:[["year-2022-day-01"]],decls:4,vars:5,consts:[["year","2022","day","01",3,"inputRun"],["id","chart",2,"height","800px"],[3,"part","answer"],[3,"part","answer","explanation"]],template:function(n,t){1&n&&(B(0,"app-puzzle-input-switcher",0),re("inputRun",function(i){return t.onInputRun(i)}),H(),ie(1,"div",1)(2,"app-puzzle-answer-printer",2)(3,"app-puzzle-answer-printer",3)),2&n&&(k(2),O("part",1)("answer",t.part1Answer),k(1),O("part",2)("answer",t.part2Answer)("explanation",t.part2Explanation))},dependencies:[aa,oa],styles:[".tooltip-label{text-align:center;width:100%;display:inline-block;font-weight:700;margin:5px 0 15px;font-size:18px}"]});const YDe=(e,n)=>{const t="A"===e?"rock":"B"===e?"paper":"scissors",r="X"===n?"rock":"Y"===n?"paper":"scissors",i="rock"===r?1:"paper"===r?2:3;return"A"===e&&"X"===n?{myMove:r,opponentMove:t,nbPointsFromMyMove:i,nbPointsFromResult:3,result:"draw"}:"A"===e&&"Y"===n?{myMove:r,opponentMove:t,nbPointsFromMyMove:i,nbPointsFromResult:6,result:"win"}:"A"===e&&"Z"===n||"B"===e&&"X"===n?{myMove:r,opponentMove:t,nbPointsFromMyMove:i,nbPointsFromResult:0,result:"loss"}:"B"===e&&"Y"===n?{myMove:r,opponentMove:t,nbPointsFromMyMove:i,nbPointsFromResult:3,result:"draw"}:"B"===e&&"Z"===n||"C"===e&&"X"===n?{myMove:r,opponentMove:t,nbPointsFromMyMove:i,nbPointsFromResult:6,result:"win"}:"C"===e&&"Y"===n?{myMove:r,opponentMove:t,nbPointsFromMyMove:i,nbPointsFromResult:0,result:"loss"}:{myMove:r,opponentMove:t,nbPointsFromMyMove:i,nbPointsFromResult:1,result:"draw"}},XDe=(e,n)=>{const t="A"===e?"rock":"B"===e?"paper":"scissors",r="X"===n?0:"Y"===n?3:6,i="X"===n?"loss":"Y"===n?"draw":"win";return"A"===e&&"X"===n?{result:i,opponentMove:t,nbPointsFromResult:r,nbPointsFromMyMove:3,myMove:"scissors"}:"A"===e&&"Y"===n?{result:i,opponentMove:t,nbPointsFromResult:r,nbPointsFromMyMove:1,myMove:"rock"}:"A"===e&&"Z"===n?{result:i,opponentMove:t,nbPointsFromResult:r,nbPointsFromMyMove:2,myMove:"paper"}:"B"===e&&"X"===n?{result:i,opponentMove:t,nbPointsFromResult:r,nbPointsFromMyMove:1,myMove:"rock"}:"B"===e&&"Y"===n?{result:i,opponentMove:t,nbPointsFromResult:r,nbPointsFromMyMove:2,myMove:"paper"}:"B"===e&&"Z"===n?{result:i,opponentMove:t,nbPointsFromResult:r,nbPointsFromMyMove:3,myMove:"scissors"}:"C"===e&&"X"===n?{result:i,opponentMove:t,nbPointsFromResult:r,nbPointsFromMyMove:2,myMove:"paper"}:"C"===e&&"Y"===n?{result:i,opponentMove:t,nbPointsFromResult:r,nbPointsFromMyMove:3,myMove:"scissors"}:{result:i,opponentMove:t,nbPointsFromResult:r,nbPointsFromMyMove:1,myMove:"rock"}};class H1{constructor(){this.part1Answer=0,this.part2Answer=0}ngOnInit(){this.chart1=Tc(document.getElementById("chart1"),"dark"),this.chart2=Tc(document.getElementById("chart2"),"dark")}onInputRun(n){const t=n.replaceAll("\r\n","\n"),r=t.split("\n").map((d,f)=>({name:`Bout #${f+1}`,data:YDe(d[0],d[2])})),i=r.map(d=>d.name),a=r.reduce((d,f)=>{const p=f.data.nbPointsFromResult+f.data.nbPointsFromMyMove,g=d[d.length-1]??0;return[...d,g+p]},[]),o={source:[["Bout","My move","Nb of points from my move","Opponent's move","Bout result","Nb of points from result"],...r.map(({data:d,name:f})=>[f,d.myMove,d.nbPointsFromMyMove,d.opponentMove,d.result,d.nbPointsFromResult])]},s=[{name:"Points from my move",type:"bar",stack:"Total",yAxisIndex:0,encode:{x:"Bout",y:"Nb of points from my move"}},{name:"Points from bout result",type:"bar",stack:"Total",yAxisIndex:0,encode:{x:"Bout",y:"Nb of points from result"}},{name:"Point sum",type:"line",smooth:.5,lineStyle:{color:"#EE6666",width:4},itemStyle:{color:"#EE6666"},yAxisIndex:1,data:a,markPoint:{symbol:"roundRect",emphasis:{disabled:!0},data:[{type:"max",name:"Max"}]}}];this.chart1.clear(),this.chart1.setOption({tooltip:{trigger:"axis",order:"seriesDesc",axisPointer:{type:"shadow"},formatter:function(d){const f=d.pop(),p=`<div>${f?.marker} Current point sum: <strong>${f?.data}</strong></div>`,[,g,m,v,_,y]=d[0].value;let M=`<div class="tooltip-label">${d[0].name}</div>`;return M+=`\n                    <table>\n                        <tr><td>         Me         </td><td>          </td><td>         Opponent         </td></tr>\n                        <tr><td>  <img src="assets/icons/${g}.svg" width="${"win"===_?"40px":"auto"}"/>  </td><td>  versus  </td><td>  <img src="assets/icons/${v}.svg" width="${"loss"===_?"40px":"auto"}"/>  </td></tr>\n                    </table>\n                    `,M+=`<div>${d[1].marker} ${d[1].seriesName}: <strong>${y??"-"}</strong></div>`,M+=`<div>${d[0].marker} ${d[0].seriesName}: <strong>${m??"-"}</strong></div>`,M+="<hr>",M+=p,M}},legend:{top:20},grid:{top:100},xAxis:{type:"category",data:i},yAxis:[{type:"value",name:"Bout points",show:!1},{type:"value",name:"Point sum"}],dataset:o,series:s}),this.part1Answer=a[a.length-1];const l=t.split("\n").map((d,f)=>({name:`Bout #${f+1}`,data:XDe(d[0],d[2])})),c=l.reduce((d,f)=>{const p=f.data.nbPointsFromResult+f.data.nbPointsFromMyMove,g=d[d.length-1]??0;return[...d,g+p]},[]),u={source:[["Bout","My move","Nb of points from my move","Opponent's move","Bout result","Nb of points from result"],...l.map(({data:d,name:f})=>[f,d.myMove,d.nbPointsFromMyMove,d.opponentMove,d.result,d.nbPointsFromResult])]},h=[{name:"Points from my move",type:"bar",stack:"Total",yAxisIndex:0,encode:{x:"Bout",y:"Nb of points from my move"}},{name:"Points from bout result",type:"bar",stack:"Total",yAxisIndex:0,encode:{x:"Bout",y:"Nb of points from result"}},{name:"Point sum",type:"line",smooth:.5,lineStyle:{color:"#EE6666",width:4},itemStyle:{color:"#EE6666"},yAxisIndex:1,data:c,markPoint:{symbol:"roundRect",emphasis:{disabled:!0},data:[{type:"max",name:"Max"}]}}];this.chart2.clear(),this.chart2.setOption({tooltip:{trigger:"axis",order:"seriesDesc",axisPointer:{type:"shadow"},formatter:function(d){const f=d.pop(),p=`<div>${f?.marker} Current point sum: <strong>${f?.data}</strong></div>`,[,g,m,v,_,y]=d[0].value;let M=`<div class="tooltip-label">${d[0].name}</div>`;return M+=`\n                    <table>\n                        <tr><td>         Me         </td><td>          </td><td>         Opponent         </td></tr>\n                        <tr><td>  <img src="assets/icons/${g}.svg" width="${"win"===_?"40px":"auto"}"/>  </td><td>  versus  </td><td>  <img src="assets/icons/${v}.svg" width="${"loss"===_?"40px":"auto"}"/>  </td></tr>\n                    </table>\n                    `,M+=`<div>${d[1].marker} ${d[1].seriesName}: <strong>${y??"-"}</strong></div>`,M+=`<div>${d[0].marker} ${d[0].seriesName}: <strong>${m??"-"}</strong></div>`,M+="<hr>",M+=p,M}},legend:{top:20},grid:{top:100},xAxis:{type:"category",data:i},yAxis:[{type:"value",name:"Bout points",show:!1},{type:"value",name:"Point sum"}],dataset:u,series:h}),this.part2Answer=c[c.length-1]}}H1.\u0275fac=function(n){return new(n||H1)},H1.\u0275cmp=J({type:H1,selectors:[["year-2022-day-02"]],decls:5,vars:4,consts:[["year","2022","day","02",3,"inputRun"],["id","chart1",2,"height","800px"],[3,"part","answer"],["id","chart2",2,"height","800px"]],template:function(n,t){1&n&&(B(0,"app-puzzle-input-switcher",0),re("inputRun",function(i){return t.onInputRun(i)}),H(),ie(1,"div",1)(2,"app-puzzle-answer-printer",2)(3,"div",3)(4,"app-puzzle-answer-printer",2)),2&n&&(k(2),O("part",1)("answer",t.part1Answer),k(2),O("part",2)("answer",t.part2Answer))},dependencies:[aa,oa],styles:[".tooltip-label{text-align:center;width:100%;display:inline-block;font-weight:700;margin:5px 0 15px;font-size:18px}  table{margin:0 auto 10px;text-align:center}  td{min-width:70px}"]});const Rj=function(e){return{highlight:e}};function qDe(e,n){if(1&e&&(B(0,"span",8),ae(1),H()),2&e){const t=n.$implicit,r=W(2).$implicit;O("ngClass",gl(2,Rj,t===r.letterInCommon.label)),k(1),Ht(t)}}function ZDe(e,n){if(1&e&&(B(0,"span",6),$(1,qDe,2,4,"span",7),H()),2&e){const t=n.$implicit;k(1),O("ngForOf",t)}}function KDe(e,n){if(1&e&&(B(0,"div",4),$(1,ZDe,2,1,"span",5),H()),2&e){const t=n.$implicit;k(1),O("ngForOf",t.strings)}}function QDe(e,n){if(1&e&&ie(0,"app-puzzle-answer-printer",9),2&e){const t=W();O("part",1)("answer",t.part1Answer)("explanation",t.part1Explanation)}}function JDe(e,n){if(1&e&&(B(0,"span",8),ae(1),H()),2&e){const t=n.$implicit,r=W(2).$implicit;O("ngClass",gl(2,Rj,t===r.letterInCommon.label)),k(1),Ht(t)}}function e3e(e,n){if(1&e&&(B(0,"div",6),$(1,JDe,2,4,"span",7),H()),2&e){const t=n.$implicit;k(1),O("ngForOf",t)}}function t3e(e,n){if(1&e&&(B(0,"div",10),$(1,e3e,2,1,"div",5),H()),2&e){const t=n.$implicit;k(1),O("ngForOf",t.strings)}}function n3e(e,n){if(1&e&&ie(0,"app-puzzle-answer-printer",9),2&e){const t=W();O("part",2)("answer",t.part2Answer)("explanation",t.part2Explanation)}}const Lj=e=>{const n=e.charCodeAt(0);return 97<=n&&n<=122?n-96:n-38};class U1{constructor(){this.part1Answer=0,this.part1Explanation="",this.part2Answer=0,this.part2Explanation=""}onInputRun(n){const r=n.replaceAll("\r\n","\n").split("\n");this.part1Data=r.map(a=>{const o=a.slice(0,a.length/2).split(""),s=a.slice(a.length/2),l=o.find(u=>s.includes(u))??"",c=Lj(l);return{strings:[o,s.split("")],letterInCommon:{label:l,value:c}}}),this.part1Answer=io(...this.part1Data.map(a=>a.letterInCommon.value)),this.part1Explanation=this.part1Data.map(a=>`${a.letterInCommon.value} [${a.letterInCommon.label}]`).join(" + "),this.part2Data=[];let i=0;for(let a=0;a<r.length/3;a++){const o=r[3*i].split(""),s=r[3*i+1],l=r[3*i+2],c=o.find(h=>s.includes(h)&&l.includes(h))??"",u=Lj(c);this.part2Data.push({strings:[o,s.split(""),l.split("")],letterInCommon:{label:c,value:u}}),i++}this.part2Answer=io(...this.part2Data.map(a=>a.letterInCommon.value)),this.part2Explanation=this.part2Data.map(a=>`${a.letterInCommon.value} [${a.letterInCommon.label}]`).join(" + ")}}function r3e(e,n){if(1&e&&(sr(0),ae(1),lr()),2&e){const t=W().$implicit;k(1),en(" \u25ba\xa0",t.firstInterval.end," ")}}function i3e(e,n){if(1&e&&(sr(0),ae(1),lr()),2&e){const t=W(2).$implicit;k(1),en(" \u25ba ",t.inCommon.end," ")}}function a3e(e,n){if(1&e&&(B(0,"div",18),ae(1),$(2,i3e,2,1,"ng-container",1),H()),2&e){const t=W().$implicit;Gv("left: ",null==t.inCommon.graph?null:t.inCommon.graph.left,"%; width: ",null==t.inCommon.graph?null:t.inCommon.graph.width,"%"),k(1),en(" ",t.inCommon.start," "),k(1),O("ngIf",t.inCommon.start!==t.inCommon.end)}}function o3e(e,n){if(1&e&&(sr(0),ae(1),lr()),2&e){const t=W().$implicit;k(1),en(" \u25ba ",t.secondInterval.end," ")}}function s3e(e,n){1&e&&ie(0,"nb-icon",19)}function l3e(e,n){1&e&&ie(0,"nb-icon",20)}function c3e(e,n){if(1&e&&(B(0,"div",11)(1,"span",12),ae(2),H(),B(3,"div",13),ae(4),$(5,r3e,2,1,"ng-container",1),H(),$(6,a3e,3,6,"div",14),B(7,"div",15),ae(8),$(9,o3e,2,1,"ng-container",1),H(),$(10,s3e,1,0,"nb-icon",16),$(11,l3e,1,0,"nb-icon",17),H()),2&e){const t=n.$implicit,r=n.index;k(2),en("#",r+1,""),k(1),Gv("left: ",null==t.firstInterval.graph?null:t.firstInterval.graph.left,"%; width: ",null==t.firstInterval.graph?null:t.firstInterval.graph.width,"%"),k(1),en(" ",t.firstInterval.start," "),k(1),O("ngIf",t.firstInterval.start!==t.firstInterval.end),k(1),O("ngIf",t.inCommon),k(1),Gv("left: ",null==t.secondInterval.graph?null:t.secondInterval.graph.left,"%; width: ",null==t.secondInterval.graph?null:t.secondInterval.graph.width,"%"),k(1),en(" ",t.secondInterval.start," "),k(1),O("ngIf",t.secondInterval.start!==t.secondInterval.end),k(1),O("ngIf",t.isOneIntervalContainedInTheOther),k(1),O("ngIf",t.inCommon)}}function u3e(e,n){if(1&e&&(sr(0),$(1,c3e,12,16,"div",3),B(2,"aside",4)(3,"div",5),ie(4,"span",6),ae(5," First interval "),H(),B(6,"div",5),ie(7,"span",7),ae(8," Common between both intervals "),H(),B(9,"div",5),ie(10,"span",8),ae(11," Second interval "),H(),B(12,"div",5),ie(13,"nb-icon",9),ae(14," One interval is contained in the other "),H(),B(15,"div",5),ie(16,"nb-icon",10),ae(17," Both intervals have a common part "),H()(),lr()),2&e){const t=W();k(1),O("ngForOf",t.data)}}function h3e(e,n){if(1&e&&ie(0,"app-puzzle-answer-printer",21),2&e){const t=W();O("part",1)("answer",t.part1Answer)}}function d3e(e,n){if(1&e&&ie(0,"app-puzzle-answer-printer",21),2&e){const t=W();O("part",2)("answer",t.part2Answer)}}U1.\u0275fac=function(n){return new(n||U1)},U1.\u0275cmp=J({type:U1,selectors:[["year-2022-day-03"]],decls:5,vars:4,consts:[["year","2022","day","03",3,"inputRun"],["class","row-container",4,"ngFor","ngForOf"],[3,"part","answer","explanation",4,"ngIf"],["class","three-rows-container",4,"ngFor","ngForOf"],[1,"row-container"],["class","char-string",4,"ngFor","ngForOf"],[1,"char-string"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[3,"part","answer","explanation"],[1,"three-rows-container"]],template:function(n,t){1&n&&(B(0,"app-puzzle-input-switcher",0),re("inputRun",function(i){return t.onInputRun(i)}),H(),$(1,KDe,2,1,"div",1),$(2,QDe,1,3,"app-puzzle-answer-printer",2),$(3,t3e,2,1,"div",3),$(4,n3e,1,3,"app-puzzle-answer-printer",2)),2&n&&(k(1),O("ngForOf",t.part1Data),k(1),O("ngIf",t.part1Answer),k(1),O("ngForOf",t.part2Data),k(1),O("ngIf",t.part2Answer))},dependencies:[yl,Li,Ut,aa,oa],styles:["[_nghost-%COMP%]{font-size:20px;font-family:Consolas;color:#888}.row-container[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:75px;margin:20px 0}.char-string[_ngcontent-%COMP%]{display:flex;gap:8px}.highlight[_ngcontent-%COMP%]{color:#fff;font-weight:700;text-shadow:0px 0px 10px #fff}.three-rows-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:10px;margin:50px 0}"]});const f3e=(e,n,t,r)=>e>=t&&n<=r||e<=t&&n>=r,p3e=(e,n,t,r)=>e>r||n<t?null:{start:Math.max(e,t),end:Math.min(n,r)};class G1{constructor(){this.part1Answer=0,this.part2Answer=0}onInputRun(n){const r=n.replaceAll("\r\n","\n").split("\n");this.data=r.map(s=>{const[l,c,u,h]=s.split(",").flatMap(d=>d.split("-").map(f=>+f));return{firstInterval:{start:l,end:c},secondInterval:{start:u,end:h},inCommon:p3e(l,c,u,h),isOneIntervalContainedInTheOther:f3e(l,c,u,h)}});const i=this.data.reduce((s,l)=>Math.min(s,l.firstInterval.start,l.secondInterval.start),1/0),a=this.data.reduce((s,l)=>Math.max(s,l.firstInterval.end,l.secondInterval.end),-1/0),o=s=>Math.floor((s-i)/(a-i)*100);this.data.forEach(s=>{const l=o(s.firstInterval.start);s.firstInterval.graph={left:l,width:o(s.firstInterval.end)-l};const c=o(s.secondInterval.start);if(s.secondInterval.graph={left:c,width:o(s.secondInterval.end)-c},s.inCommon){const u=o(s.inCommon.start);s.inCommon.graph={left:u,width:o(s.inCommon.end)-u}}}),this.part1Answer=this.data.reduce((s,l)=>l.isOneIntervalContainedInTheOther?s+1:s,0),this.part2Answer=this.data.reduce((s,l)=>null!==l.inCommon?s+1:s,0)}}G1.\u0275fac=function(n){return new(n||G1)},G1.\u0275cmp=J({type:G1,selectors:[["year-2022-day-04"]],decls:4,vars:3,consts:[["year","2022","day","04",3,"inputRun"],[4,"ngIf"],[3,"part","answer",4,"ngIf"],["class","interval-container",4,"ngFor","ngForOf"],[1,"legend"],[1,"legend-item"],[1,"legend-symbol","legend-color","first"],[1,"legend-symbol","legend-color","common"],[1,"legend-symbol","legend-color","second"],["icon","radio-button-on-outline","status","success",1,"legend-symbol"],["icon","copy-outline","status","success",1,"legend-symbol"],[1,"interval-container"],[1,"interval-number"],[1,"interval","first"],["class","interval common",3,"style",4,"ngIf"],[1,"interval","second"],["icon","radio-button-on-outline","status","success",4,"ngIf"],["icon","copy-outline","status","success",4,"ngIf"],[1,"interval","common"],["icon","radio-button-on-outline","status","success"],["icon","copy-outline","status","success"],[3,"part","answer"]],template:function(n,t){1&n&&(B(0,"app-puzzle-input-switcher",0),re("inputRun",function(i){return t.onInputRun(i)}),H(),$(1,u3e,18,1,"ng-container",1),$(2,h3e,1,2,"app-puzzle-answer-printer",2),$(3,d3e,1,2,"app-puzzle-answer-printer",2)),2&n&&(k(1),O("ngIf",t.data),k(1),O("ngIf",t.part1Answer),k(1),O("ngIf",t.part2Answer))},dependencies:[Li,Ut,xr,aa,oa],styles:[".interval-container[_ngcontent-%COMP%]{position:relative;margin:30px 0;padding:15px;border-radius:8px;background:#100c2a}.interval-number[_ngcontent-%COMP%]{position:absolute;left:0;top:-20px;transform:translate(-50%);z-index:1;background:#3e3e3e;width:40px;text-align:center;line-height:40px;font-size:14px;border-radius:50%}.interval[_ngcontent-%COMP%]{position:relative;height:30px;border-radius:8px;text-align:center;line-height:30px;font-size:20px;min-width:-moz-fit-content;min-width:fit-content;padding:0 10px;margin:5px 0}.first[_ngcontent-%COMP%]{background:#212f79}.common[_ngcontent-%COMP%]{background:#2254b5}.second[_ngcontent-%COMP%]{background:#0085c6}.legend[_ngcontent-%COMP%]{position:fixed;bottom:10px;right:20px;background:rgba(16,12,42,.6509803922);padding:5px 20px;border-radius:10px}.legend-item[_ngcontent-%COMP%]{margin:10px 0}.legend-color[_ngcontent-%COMP%]{width:20px;height:10px;border-radius:5px;display:inline-block;margin-right:5px}.legend-symbol[_ngcontent-%COMP%]{width:25px}"]});class GA{constructor(n,...t){this.pop=()=>this.elements.pop(),this.slice=r=>this.elements.splice(this.elements.length-r),this.push=(...r)=>{this.elements.push(...r)},this.peek=(r=1)=>this.elements.slice(-1*r),this.print=()=>{console.log(`"${this.label}" (${this.elements.length} items): ${this.elements.join(", ")}`)},this.clone=()=>new GA(this.label,...this.elements),this.label=n,this.elements=t}}const g3e=function(e,n,t){return{highlighted:e,"moving-crate--src":n,"moving-crate--dst":t}};function m3e(e,n){if(1&e&&(B(0,"div",11),ae(1),H()),2&e){const t=n.$implicit,r=n.last,i=n.index,a=W().$implicit,o=W(2);O("ngClass",p5(2,g3e,r&&o.currentStateIndex===o.states.length-1,i>a.elements.length-o.nbMovedCrates-1&&a.label===o.srcStack,i>a.elements.length-o.nbMovedCrates-1&&a.label===o.dstStack)),k(1),en(" ",t," ")}}function v3e(e,n){if(1&e&&(B(0,"div",8)(1,"div",9),ae(2),H(),$(3,m3e,2,6,"div",10),H()),2&e){const t=n.$implicit;k(2),Ht(t.label),k(1),O("ngForOf",t.elements)}}function _3e(e,n){if(1&e){const t=br();sr(0),B(1,"header")(2,"button",1),re("click",function(){return kt(t),Ft(W().goToFirstState())}),ie(3,"nb-icon",2),H(),B(4,"button",1),re("click",function(){return kt(t),Ft(W().goToPreviousState())}),ie(5,"nb-icon",3),H(),ae(6),B(7,"button",1),re("click",function(){return kt(t),Ft(W().goToNextState())}),ie(8,"nb-icon",4),H(),B(9,"button",1),re("click",function(){return kt(t),Ft(W().goToLastState())}),ie(10,"nb-icon",5),H()(),B(11,"p"),ae(12),H(),B(13,"section",6),$(14,v3e,4,2,"div",7),H(),lr()}if(2&e){const t=W();k(2),O("disabled",0===t.currentStateIndex),k(2),O("disabled",0===t.currentStateIndex),k(2),sx(" ",t.currentStateIndex+1," of ",t.states.length," animations "),k(1),O("disabled",t.currentStateIndex===t.states.length-1),k(2),O("disabled",t.currentStateIndex===t.states.length-1),k(3),Ht(null==t.currentState?null:t.currentState.message),k(2),O("ngForOf",null==t.currentState?null:t.currentState.stacks)}}class W1{constructor(){this.states=[],this.currentStateIndex=0}ngOnChanges(n){this.currentStateIndex=0,this.currentState=n.states.currentValue[0]}get nbMovedCrates(){return this.currentState?.movingCrates?.nbCratesMoved??0}get srcStack(){return this.currentState?.movingCrates?.srcStack}get dstStack(){return this.currentState?.movingCrates?.dstStack}goToFirstState(){this.currentStateIndex=0,this.currentState=this.states[this.currentStateIndex]}goToPreviousState(){this.currentStateIndex--,this.currentState=this.states[this.currentStateIndex]}goToNextState(){this.currentStateIndex++,this.currentState=this.states[this.currentStateIndex]}goToLastState(){this.currentStateIndex=this.states.length-1,this.currentState=this.states[this.currentStateIndex]}}function y3e(e,n){if(1&e&&ie(0,"app-puzzle-answer-printer",3),2&e){const t=W();O("part",1)("answer",t.part1Answer)}}function b3e(e,n){if(1&e&&ie(0,"app-puzzle-answer-printer",3),2&e){const t=W();O("part",2)("answer",t.part2Answer)}}W1.\u0275fac=function(n){return new(n||W1)},W1.\u0275cmp=J({type:W1,selectors:[["app-crates-animator"]],inputs:{states:"states"},features:[on],decls:1,vars:1,consts:[[4,"ngIf"],["nbButton","","appearance","ghost","status","primary",3,"disabled","click"],["icon","arrowhead-left-outline"],["icon","arrow-ios-back-outline"],["icon","arrow-ios-forward-outline"],["icon","arrowhead-right-outline"],[1,"stack-container"],["class","stack",4,"ngFor","ngForOf"],[1,"stack"],[1,"stack-label"],["class","crate",3,"ngClass",4,"ngFor","ngForOf"],[1,"crate",3,"ngClass"]],template:function(n,t){1&n&&$(0,_3e,15,8,"ng-container",0),2&n&&O("ngIf",t.states.length)},dependencies:[yl,Li,Ut,Lu,xr],styles:[".stack-container[_ngcontent-%COMP%], header[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:20px}.stack-container[_ngcontent-%COMP%]{min-height:250px}header[_ngcontent-%COMP%]{align-items:center;margin-top:50px}p[_ngcontent-%COMP%]{text-align:center;opacity:.7}.stack[_ngcontent-%COMP%]{display:flex;flex-direction:column-reverse;gap:10px;min-width:40px}.crate[_ngcontent-%COMP%]{border-width:1px;border-style:solid}.crate.highlighted[_ngcontent-%COMP%]{background:transparent;box-shadow:0 0 8px #fff,0 0 8px inset #fff;text-shadow:0px 0px 8px white}.stack-label[_ngcontent-%COMP%]{background:#36f}.moving-crate--src[_ngcontent-%COMP%]{color:#ff3d71}.moving-crate--dst[_ngcontent-%COMP%]{color:#00d68f}.crate[_ngcontent-%COMP%], .stack-label[_ngcontent-%COMP%]{width:40px;height:40px;line-height:40px;text-align:center;border-radius:5px}"]});class j1{constructor(){this.moves=[],this.part1Stacks=[],this.part1States=[],this.part1Answer="",this.part2Stacks=[],this.part2States=[],this.part2Answer=""}onInputRun(n){const t=n.replaceAll("\r\n","\n").split("\n\n"),[r,...i]=t[0].split("\n").reverse(),a=r.replaceAll(" ","").split("").map(s=>new GA(s));i.forEach(s=>{s.match(/.{3,4}/g)?.forEach((l,c)=>{const u=l.replaceAll(/\W/g,"");u&&a[c].push(u)})}),this.part1Stacks=a.map(s=>s.clone()),this.part2Stacks=a.map(s=>s.clone());const o=t[1].split("\n").map(s=>s.replace(/move |from |to /g,"").split(" "));this.moves=o.map(([s,l,c])=>({src:l,dst:c,nbMoves:+s})),this.part1States=[{message:"Initial state",stacks:this.part1Stacks.map(s=>s.clone())}],this.moves.forEach(({src:s,dst:l,nbMoves:c})=>{for(let u=0;u<c;u++){const h=this.part1Stacks.find(g=>g.label===s),d=this.part1Stacks.find(g=>g.label===l),[f]=h?.peek()??["?"],p=`${f} from ${s} to ${l} (move ${u+1} out of ${c})`;d?.push(f),this.part1States.push({stacks:this.part1Stacks.map(g=>g.clone()),message:`Moving ${p}`,movingCrates:{nbCratesMoved:1,srcStack:s,dstStack:l}}),h?.pop(),this.part1States.push({stacks:this.part1Stacks.map(g=>g.clone()),message:`Moved ${p}`})}}),this.part1States.push({stacks:this.part1Stacks.map(s=>s.clone()),message:"Final state"}),this.part1Answer=this.part1Stacks.map(s=>s.peek()).join(""),this.part2States=[{message:"Initial state",stacks:this.part2Stacks.map(s=>s.clone())}],this.moves.forEach(({src:s,dst:l,nbMoves:c})=>{const u=this.part2Stacks.find(p=>p.label===s),h=this.part2Stacks.find(p=>p.label===l),d=u?.peek(c)??["?"],f=`${c} crate${c>1?"s":""} (${d.join(", ")}) from ${s} to ${l}`;h?.push(...d),this.part2States.push({stacks:this.part2Stacks.map(p=>p.clone()),message:`Moving ${f}`,movingCrates:{nbCratesMoved:c,srcStack:s,dstStack:l}}),u?.slice(c),this.part2States.push({stacks:this.part2Stacks.map(p=>p.clone()),message:`Moved ${f}`})}),this.part2States.push({stacks:this.part2Stacks.map(s=>s.clone()),message:"Final state"}),this.part2Answer=this.part2Stacks.map(s=>s.peek()).join("")}}j1.\u0275fac=function(n){return new(n||j1)},j1.\u0275cmp=J({type:j1,selectors:[["year-2022-day-05"]],decls:5,vars:4,consts:[["year","2022","day","05",3,"inputRun"],[3,"states"],[3,"part","answer",4,"ngIf"],[3,"part","answer"]],template:function(n,t){1&n&&(B(0,"app-puzzle-input-switcher",0),re("inputRun",function(i){return t.onInputRun(i)}),H(),ie(1,"app-crates-animator",1),$(2,y3e,1,2,"app-puzzle-answer-printer",2),ie(3,"app-crates-animator",1),$(4,b3e,1,2,"app-puzzle-answer-printer",2)),2&n&&(k(1),O("states",t.part1States),k(1),O("ngIf",t.part1Answer),k(1),O("states",t.part2States),k(1),O("ngIf",t.part2Answer))},dependencies:[Ut,aa,oa,W1]});const kj=function(e){return{highlight:e}};function C3e(e,n){if(1&e&&(B(0,"span",4),ae(1),H()),2&e){const t=n.$implicit,r=n.index,i=W();O("ngClass",gl(2,kj,r===i.part1Answer)),k(1),Ht(t)}}function w3e(e,n){if(1&e&&ie(0,"app-puzzle-answer-printer",5),2&e){const t=W();O("part",1)("answer",t.part1Answer)("explanation",t.part1Explanation)}}function S3e(e,n){if(1&e&&(B(0,"span",4),ae(1),H()),2&e){const t=n.$implicit,r=n.index,i=W();O("ngClass",gl(2,kj,r===i.part2Answer)),k(1),Ht(t)}}function x3e(e,n){if(1&e&&ie(0,"app-puzzle-answer-printer",5),2&e){const t=W();O("part",2)("answer",t.part2Answer)("explanation",t.part2Explanation)}}const Fj=e=>new Set(e.split("")).size===e.length;class $1{constructor(){this.line="",this.part1Answer=0,this.part1Explanation="",this.part2Answer=0,this.part2Explanation=""}onInputRun(n){const t=n.replaceAll("\r\n","\n");this.line=t.split("\n")[0];let r=4,i=t.slice(0,4);for(;!Fj(i);)r++,i=t.slice(r-4,r);for(this.part1Answer=r,this.part1Explanation=this.line[this.part1Answer],r=14,i=t.slice(0,14);!Fj(i);)r++,i=t.slice(r-14,r);this.part2Answer=r,this.part2Explanation=this.line[this.part2Answer]}get iterableLine(){return this.line.split("")}}$1.\u0275fac=function(n){return new(n||$1)},$1.\u0275cmp=J({type:$1,selectors:[["year-2022-day-06"]],decls:7,vars:4,consts:[["year","2022","day","06",3,"inputRun"],[1,"char-string"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"part","answer","explanation",4,"ngIf"],[3,"ngClass"],[3,"part","answer","explanation"]],template:function(n,t){1&n&&(B(0,"app-puzzle-input-switcher",0),re("inputRun",function(i){return t.onInputRun(i)}),H(),B(1,"div",1),$(2,C3e,2,4,"span",2),H(),$(3,w3e,1,3,"app-puzzle-answer-printer",3),B(4,"div",1),$(5,S3e,2,4,"span",2),H(),$(6,x3e,1,3,"app-puzzle-answer-printer",3)),2&n&&(k(2),O("ngForOf",t.iterableLine),k(1),O("ngIf",t.part1Answer),k(2),O("ngForOf",t.iterableLine),k(1),O("ngIf",t.part2Answer))},dependencies:[yl,Li,Ut,aa,oa],styles:["[_nghost-%COMP%]{font-size:25px;font-family:Consolas;color:#888}.char-string[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-wrap:wrap;gap:8px;margin:30px 0}.highlight[_ngcontent-%COMP%]{color:#fff;font-weight:700;text-shadow:0px 0px 10px #fff}"]});class WA{constructor(n,t=0){this.node=n,this.depth=t,this.children=[]}addNode(n,t){const[r,...i]=t;if(r!==this.node.label)throw new Error(`Error in path: ${r} is different from ${this.node.label}`);if(0===i.length)this.children.push(new WA(n,this.depth+1));else{const a=this.children.find(o=>o.node.label===i[0]);if(void 0===a)throw new Error(`Cannot find child in path: ${i[0]}`);a.addNode(n,i)}}print(){const n="".padStart(4*this.depth," ");console.log(`${n}${this.node.label}`),this.children.forEach(t=>t.print())}}function M3e(e,n){1&e&&ie(0,"nb-icon",5),2&e&&O("icon",W().$implicit.icon)}const T3e=function(e){return{highlighted:e}};function D3e(e,n){if(1&e&&(B(0,"div",1)(1,"span",2),ae(2),H(),$(3,M3e,1,1,"nb-icon",3),B(4,"span",4),ae(5),H()()),2&e){const t=n.$implicit;k(2),Ht(t.prefix),k(1),O("ngIf",t.icon),k(1),O("ngClass",gl(4,T3e,t.isHighlighted)),k(1),en(" ",t.label," ")}}class Y1{constructor(){this.input=[],this.rows=[]}ngOnChanges(){this.rows=this.formatElement(this.input)}formatElement(n){const t=[];return n.forEach(({label:r,children:i,icon:a,depth:o,isHighlighted:s})=>{const l=this.formatElement(i),c=l.reduce((u,h,d)=>h.depth===o+1?d:u,0);l.forEach((u,h)=>{const d=u.depth===o+1;u.prefix=d&&h===c?` \u2514\u2500${u.prefix}`:d?` \u251c\u2500${u.prefix}`:h>c?`   ${u.prefix}`:` \u2502 ${u.prefix}`}),t.push({label:r,icon:a,depth:o,isHighlighted:s,prefix:""},...l)}),t}}function E3e(e,n){if(1&e&&ie(0,"app-puzzle-answer-printer",3),2&e){const t=W();O("part",1)("answer",t.part1Answer)("explanation",t.part1Explanation)}}function A3e(e,n){if(1&e&&ie(0,"app-puzzle-answer-printer",3),2&e){const t=W();O("part",2)("answer",t.part2Answer)("explanation",t.part2Explanation)}}Y1.\u0275fac=function(n){return new(n||Y1)},Y1.\u0275cmp=J({type:Y1,selectors:[["app-tree-wrapper"]],inputs:{input:"input"},features:[on],decls:1,vars:1,consts:[["class","row",4,"ngFor","ngForOf"],[1,"row"],[1,"prefix"],[3,"icon",4,"ngIf"],[1,"label",3,"ngClass"],[3,"icon"]],template:function(n,t){1&n&&$(0,D3e,6,6,"div",0),2&n&&O("ngForOf",t.rows)},dependencies:[yl,Li,Ut,xr],styles:["[_nghost-%COMP%]{font-family:Consolas!important;white-space:pre}.prefix[_ngcontent-%COMP%]{font-size:22px;line-height:26px;position:relative;top:4px}.label[_ngcontent-%COMP%]{font-family:Consolas!important;font-size:17px;line-height:22px}nb-icon[_ngcontent-%COMP%]{font-size:22px;margin-left:8px}.highlighted[_ngcontent-%COMP%]{color:#fff;font-weight:700;text-shadow:0px 0px 10px #fff}"]});class jA{constructor(n,t,r){this.label=n,this.type=t,this.size=r??null}}class sa{constructor(){this.part1TreeWrapperInput=[],this.part1Answer=0,this.part1Explanation="",this.part2TreeWrapperInput=[],this.part2Answer=0,this.part2Explanation=""}onInputRun(n){const r=n.replaceAll("\r\n","\n").split("\n"),i=[];this.tree=new WA(new jA("/","directory")),r.forEach(c=>{if("$ cd .."===c)i.pop();else{if("$ ls"===c)return;if(c.startsWith("$ cd"))i.push(c.split("$ cd ")[1]);else if(c.startsWith("dir "))this.tree?.addNode(new jA(c.split("dir ")[1],"directory"),i);else{const[u,h]=c.split(" ");this.tree?.addNode(new jA(h,"file",parseInt(u)),i)}}}),sa.computeDirectoriesSize(this.tree);const a=sa.getDirectorySizes(this.tree).filter(c=>c<=1e5);this.part1Answer=io(...a),this.part1Explanation=a.join(" + "),this.part1TreeWrapperInput=sa.formatPart1Tree(this.tree?[this.tree]:[],a);const o=(this.tree?.node.size??0)-4e7,s=sa.getDirectorySizes(this.tree).sort((c,u)=>c-u),l=s.findIndex(c=>c>=o);this.part2Answer=s[l],this.part2Explanation=`We need to free up ${o}.`,l>0&&(this.part2Explanation+=` ${s[l-1]} is less than the required amount.`),l<s.length-1&&(this.part2Explanation+=` ${s[l+1]} is valid but is greater than ${this.part2Answer}.`),this.part2TreeWrapperInput=sa.formatPart2Tree(this.tree?[this.tree]:[],o,this.part2Answer)}static computeDirectoriesSize(n){if(void 0===n)return;n.children.forEach(sa.computeDirectoriesSize);const t=n.children.map(({node:r})=>r.size??0);n.node.size=Math.max(io(...t),n.node.size??0)}static getDirectorySizes(n){return void 0===n||0===n.children.length||null===n.node.size?[]:[n.node.size,...n.children.flatMap(sa.getDirectorySizes)]}static formatPart1Tree(n,t){return n.map(({node:r,children:i,depth:a})=>{const{label:o,size:s,type:l}=r,c="directory"===l;return{label:`${o} (${s??"Unknown"})`,icon:c?"folder-outline":"file-outline",isHighlighted:!!s&&t.includes(s)&&c,depth:a,children:sa.formatPart1Tree(i,t)}})}static formatPart2Tree(n,t,r){return n.map(({node:i,children:a,depth:o})=>{const{label:s,size:l,type:c}=i,u="directory"===c;return{label:`${s} (${l??"Unknown"})`,icon:u?"folder-outline":"file-outline",isHighlighted:l===r&&u,depth:o,children:sa.formatPart2Tree(a,t,r)}})}}sa.\u0275fac=function(n){return new(n||sa)},sa.\u0275cmp=J({type:sa,selectors:[["year-2022-day-07"]],decls:5,vars:4,consts:[["year","2022","day","07",3,"inputRun"],[3,"input"],[3,"part","answer","explanation",4,"ngIf"],[3,"part","answer","explanation"]],template:function(n,t){1&n&&(B(0,"app-puzzle-input-switcher",0),re("inputRun",function(i){return t.onInputRun(i)}),H(),ie(1,"app-tree-wrapper",1),$(2,E3e,1,3,"app-puzzle-answer-printer",2),ie(3,"app-tree-wrapper",1),$(4,A3e,1,3,"app-puzzle-answer-printer",2)),2&n&&(k(1),O("input",t.part1TreeWrapperInput),k(1),O("ngIf",t.part1Answer),k(1),O("input",t.part2TreeWrapperInput),k(1),O("ngIf",t.part2Answer))},dependencies:[Ut,aa,oa,Y1]});class X1{constructor(){this.visibilities={},this.part1Answer=0,this.scenicScores={},this.part2Answer=0}ngOnInit(){this.chart1=Tc(document.getElementById("chart1"),"dark"),this.chart2=Tc(document.getElementById("chart2"),"dark")}onInputRun(n){const r=n.replaceAll("\r\n","\n").split("\n").map(h=>h.split("")),i=r.length;let a=-1/0;this.visibilities={};for(let h=0;h<i;h++){for(let d=0;d<i;d++){const f=parseInt(r[h][d]);f>a&&(this.visibilities[`${h}-${d}`]={isVisible:!0,isVisibleFromLeft:!0},a=f)}a=-1/0}for(let h=0;h<i;h++){for(let d=0;d<i;d++){const f=parseInt(r[d][h]);f>a&&(this.visibilities[`${d}-${h}`]={...this.visibilities[`${d}-${h}`],isVisible:!0,isVisibleFromTop:!0},a=f)}a=-1/0}for(let h=0;h<i;h++){for(let d=i-1;d>=0;d--){const f=parseInt(r[h][d]);f>a&&(this.visibilities[`${h}-${d}`]={...this.visibilities[`${h}-${d}`],isVisible:!0,isVisibleFromRight:!0},a=f)}a=-1/0}for(let h=0;h<i;h++){for(let d=i-1;d>=0;d--){const f=parseInt(r[d][h]);f>a&&(this.visibilities[`${d}-${h}`]={...this.visibilities[`${d}-${h}`],isVisible:!0,isVisibleFromBottom:!0},a=f)}a=-1/0}const o=[];r.forEach((h,d)=>{h.forEach((f,p)=>{const g=this.visibilities[`${d}-${p}`]??{isVisible:!1};o.push([d,p,f,g,g.isVisible?"Visible from outside":"Not visible from ouside"])})}),this.chart1.clear(),this.chart1.setOption({tooltip:{formatter:function(h){const f=h.value[3],p=`<span class="value">${h.value[2]}</span>`,{isVisible:g,...m}=f,v=g?'<strong class="green-text">Visible from outside</strong>':'<strong class="red-text">Not visible from outside</strong>';let _="";return Object.keys(m).forEach(y=>{const b=y.split("isVisibleFrom")[1].toLowerCase();_+=`<li>Visible from the ${b}</li>`}),_=`<ul>${_}</ul>`,`<div class="tooltip">${p}${v}${_}</div>`}},visualMap:[{left:20,bottom:20,selectedMode:!1,dimension:4,categories:["Visible from outside","Not visible from ouside"],inRange:{color:{"Visible from outside":"#258e38","":"#d43434"}},outOfRange:{color:{"Not visible from ouside":"#d43434","":"#258e38"}}}],xAxis3D:{type:"category",name:"Rows"},yAxis3D:{type:"category",name:"Columns"},zAxis3D:{type:"value",name:"Tree height",splitNumber:9,minInterval:1},grid3D:{axisLine:{lineStyle:{color:"#fff"}},axisPointer:{show:!1}},series:[{type:"bar3D",bevelSize:.2,data:o,emphasis:{label:{show:!1}},light:{main:{shadow:!0,intensity:0},ambiant:{color:"#fff",intensity:50}},shading:"lambert"}]}),this.part1Answer=o.filter(h=>"Visible from outside"===h[4]).length;for(let h=0;h<i;h++)for(let d=0;d<i;d++){const f=parseInt(r[h][d]),p={total:0,nbTreesSeenTop:0,nbTreesSeenRight:0,nbTreesSeenBottom:0,nbTreesSeenLeft:0};for(let g=h+1;g<i;g++){const m=parseInt(r[g][d]);if(p.nbTreesSeenBottom++,m>=f)break}for(let g=h-1;g>=0;g--){const m=parseInt(r[g][d]);if(p.nbTreesSeenTop++,m>=f)break}for(let g=d+1;g<i;g++){const m=parseInt(r[h][g]);if(p.nbTreesSeenRight++,m>=f)break}for(let g=d-1;g>=0;g--){const m=parseInt(r[h][g]);if(p.nbTreesSeenLeft++,m>=f)break}p.total=p.nbTreesSeenTop*p.nbTreesSeenRight*p.nbTreesSeenBottom*p.nbTreesSeenLeft,this.scenicScores[`${h}-${d}`]=p}const s=[];r.forEach((h,d)=>{h.forEach((f,p)=>{const g=this.scenicScores[`${d}-${p}`];s.push([d,p,f,g,g.total])})});const l=s.map(h=>h[3].total),c=Math.min(...l),u=Math.max(...l);this.chart2.clear(),this.chart2.setOption({tooltip:{formatter:function(h){const f=h.value[3],p=`<span class="value">${h.value[2]}</span>`,{total:g,...m}=f,v=`<strong>Scenic score: ${g}</strong>`;let _="";return Object.entries(m).forEach(([y,b])=>{const w=y.split("nbTreesSeen")[1].toLowerCase();_+=`<li>Scenic score for the ${w}: ${b}</li>`}),_=`<ul>${_}</ul>`,`<div class="tooltip">${p}${v}${_}</div>`}},xAxis3D:{type:"category",name:"Rows"},yAxis3D:{type:"category",name:"Columns"},zAxis3D:{type:"value",name:"Tree height",splitNumber:9,minInterval:1},visualMap:[{left:20,bottom:20,selectedMode:!1,type:"continuous",dimension:4,min:c,max:u,text:["High scenic score","Low scenic score"]}],grid3D:{axisLine:{lineStyle:{color:"#fff"}},axisPointer:{show:!1}},series:[{type:"bar3D",bevelSize:.2,data:s,emphasis:{label:{show:!1}},light:{main:{shadow:!0,intensity:0},ambiant:{color:"#fff",intensity:50}},shading:"lambert"}]}),this.part2Answer=u}}X1.\u0275fac=function(n){return new(n||X1)},X1.\u0275cmp=J({type:X1,selectors:[["year-2022-day-08"]],decls:5,vars:4,consts:[["year","2022","day","08",3,"inputRun"],["id","chart1",1,"chart"],[3,"part","answer"],["id","chart2",1,"chart"]],template:function(n,t){1&n&&(B(0,"app-puzzle-input-switcher",0),re("inputRun",function(i){return t.onInputRun(i)}),H(),ie(1,"div",1)(2,"app-puzzle-answer-printer",2)(3,"div",3)(4,"app-puzzle-answer-printer",2)),2&n&&(k(2),O("part",1)("answer",t.part1Answer),k(2),O("part",2)("answer",t.part2Answer))},dependencies:[aa,oa],styles:[".chart[_ngcontent-%COMP%]{height:800px;width:1000px;margin:auto}  .tooltip{position:relative}  .tooltip li{color:#333!important}  .tooltip ul{margin:0 0 10px -25px}  .tooltip strong{text-align:center;width:100%;display:inline-block;font-weight:700;margin:5px 0 15px;font-size:18px}  .tooltip .green-text{color:#258e38}  .tooltip .red-text{color:#d43434}  .tooltip .value{position:absolute;top:-25px;right:-25px;background:white;width:30px;height:30px;border-radius:50px;text-align:center;line-height:30px;font-size:20px;font-weight:700;box-shadow:-5px 5px 9px #00000045}"]});const zj=(e,n)=>{const[t,r]=e;switch(n){case"L":return[t-1,r];case"R":return[t+1,r];case"D":return[t,r-1];case"U":return[t,r+1];default:throw"Unknown Direction"}},Bj=(e,n)=>{const[t,r]=e,[i,a]=n,[o,s]=[i-t,a-r];return Math.abs(o)>1||Math.abs(s)>1?[t+Math.min(1,Math.abs(o))*Math.sign(o),r+Math.min(1,Math.abs(s))*Math.sign(s)]:e},Vj=(e,n,t,r)=>({grid:{height:"70%",top:"10%"},xAxis:{type:"category",splitArea:{show:!0}},yAxis:{type:"category",splitArea:{show:!0}},visualMap:{min:1,max:r,calculable:!0,orient:"horizontal",left:"center",bottom:"5%",text:["Highest","Lowest"]},title:{text:"Number of times the tail visited each cell",left:"center",top:20},series:[{type:"heatmap",data:e,label:{show:Math.abs(t-n)<20},emphasis:{itemStyle:{shadowBlur:15,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]});class q1{constructor(){this.part1Answer=0,this.part2Answer=0}ngOnInit(){this.chart1=Tc(document.getElementById("chart1"),"dark"),this.chart2=Tc(document.getElementById("chart2"),"dark")}onInputRun(n){const r=n.replaceAll("\r\n","\n").split("\n").map(h=>[h[0],parseInt(h.slice(2))]);this.part1BoardState={currentHeadPosition:[0,0],currentTailPosition:[0,0],tailPositionHistory:{"0~0":1}},r.forEach(([h,d])=>{for(let f=0;f<d;f++){this.part1BoardState.currentHeadPosition=zj(this.part1BoardState.currentHeadPosition,h);const p=Bj(this.part1BoardState.currentTailPosition,this.part1BoardState.currentHeadPosition),g=this.part1BoardState.currentTailPosition!==p;this.part1BoardState.currentTailPosition=p;const[m,v]=this.part1BoardState.currentTailPosition;this.part1BoardState.tailPositionHistory[`${m}~${v}`]=(this.part1BoardState.tailPositionHistory[`${m}~${v}`]??0)+(g?1:0)}});let[i,a,o,s,l]=Object.keys(this.part1BoardState.tailPositionHistory).reduce(([h,d,f,p,g],m)=>{const[v,_]=m.split("~");return[Math.min(parseInt(v),h),Math.max(parseInt(v),d),Math.min(parseInt(_),f),Math.max(parseInt(_),p),Math.max(this.part1BoardState.tailPositionHistory[m],g)]},[0,0,0,0,0]);const c=[];for(let h=i;h<=a;h++)for(let d=o;d<=s;d++)c.push([h,d,this.part1BoardState.tailPositionHistory[`${h}~${d}`]?.toString()??"-"]);this.chart1.clear(),this.chart1.setOption(Vj(c,i,a,l)),this.part1Answer=Object.keys(this.part1BoardState.tailPositionHistory).length,this.part2BoardState={currentHeadPosition:[0,0],currentTailsPosition:Array(9).fill([0,0]),tailPositionHistory:{"0~0":1}},r.forEach(([h,d])=>{for(let f=0;f<d;f++){this.part2BoardState.currentHeadPosition=zj(this.part2BoardState.currentHeadPosition,h);for(let p=0;p<9;p++){const g=this.part2BoardState.currentTailsPosition[p],v=Bj(g,0===p?this.part2BoardState.currentHeadPosition:this.part2BoardState.currentTailsPosition[p-1]);if(this.part2BoardState.currentTailsPosition[p]=v,8===p){const _=g!==v,[y,b]=v;this.part2BoardState.tailPositionHistory[`${y}~${b}`]=(this.part2BoardState.tailPositionHistory[`${y}~${b}`]??0)+(_?1:0)}}}}),[i,a,o,s,l]=Object.keys(this.part2BoardState.tailPositionHistory).reduce(([h,d,f,p,g],m)=>{const[v,_]=m.split("~");return[Math.min(parseInt(v),h),Math.max(parseInt(v),d),Math.min(parseInt(_),f),Math.max(parseInt(_),p),Math.max(this.part2BoardState.tailPositionHistory[m],g)]},[0,0,0,0,0]);const u=[];for(let h=i;h<=a;h++)for(let d=o;d<=s;d++)u.push([h,d,this.part2BoardState.tailPositionHistory[`${h}~${d}`]?.toString()??"-"]);this.chart2.clear(),this.chart2.setOption(Vj(u,i,a,l)),this.part2Answer=Object.keys(this.part2BoardState.tailPositionHistory).length}}function N3e(e,n){if(1&e&&(B(0,"span",5),ae(1),H()),2&e){const t=n.$implicit;_e("highlight",t.isHighlighted),k(1),en(" ",t.char," ")}}function I3e(e,n){if(1&e&&(B(0,"div",3),$(1,N3e,2,3,"span",4),H()),2&e){const t=n.$implicit;k(1),O("ngForOf",t.chars)}}function P3e(e,n){if(1&e&&ie(0,"app-puzzle-answer-printer",6),2&e){const t=W();O("part",1)("answer",t.part1Answer)("explanation",t.part1Explanation)}}function O3e(e,n){if(1&e&&(B(0,"span",5),ae(1),H()),2&e){const t=n.$implicit;_e("highlight",t.isHighlighted),k(1),en(" ",t.char," ")}}function R3e(e,n){if(1&e&&(B(0,"div",3),$(1,O3e,2,3,"span",4),H()),2&e){const t=n.$implicit;k(1),O("ngForOf",t.chars)}}function L3e(e,n){if(1&e&&ie(0,"app-puzzle-answer-printer",6),2&e){const t=W();O("part",2)("answer",t.part2Answer)("explanation",t.part2Explanation)}}q1.\u0275fac=function(n){return new(n||q1)},q1.\u0275cmp=J({type:q1,selectors:[["year-2022-day-09"]],decls:5,vars:4,consts:[["year","2022","day","09",3,"inputRun"],["id","chart1",1,"chart"],[3,"part","answer"],["id","chart2",1,"chart"]],template:function(n,t){1&n&&(B(0,"app-puzzle-input-switcher",0),re("inputRun",function(i){return t.onInputRun(i)}),H(),ie(1,"div",1)(2,"app-puzzle-answer-printer",2)(3,"div",3)(4,"app-puzzle-answer-printer",2)),2&n&&(k(2),O("part",1)("answer",t.part1Answer),k(2),O("part",2)("answer",t.part2Answer))},dependencies:[aa,oa],styles:[".chart[_ngcontent-%COMP%]{height:800px;margin:auto}"]});const Hj=e=>{switch(e){case"1":return"one";case"2":return"two";case"3":return"three";case"4":return"four";case"5":return"five";case"6":return"six";case"7":return"seven";case"8":return"eight";default:return"nine"}};class Z1{constructor(){this.part1Answer=0,this.part1Explanation="",this.part2Answer=0,this.part2Explanation=""}onInputRun(n){const r=n.replaceAll("\r\n","\n").split("\n");this.part1Data=r.map(o=>{const s=o.split(""),l=s.findIndex(h=>h.match(/\d/)),c=s.length-1-[...s].reverse().findIndex(h=>h.match(/\d/));return{chars:s.map((h,d)=>({char:h,isHighlighted:d===l||d===c})),firstDigit:s[l],secondDigit:s[c],combinedDigit:parseInt(`${s[l]}${s[c]}`)}});const i=io(...this.part1Data.map(o=>o.combinedDigit));this.part1Answer=isNaN(i)?"This part does not yield a solution":i,this.part1Explanation=isNaN(i)?"":this.part1Data.map(o=>o.combinedDigit).join(" + "),this.part2Data=r.map(o=>{const s=o.replace(/oneight/g,"#1#8#").replace(/twone/g,"#2#1#").replace(/threeight/g,"#3#8#").replace(/fiveight/g,"#5#8#").replace(/sevenine/g,"#7#9#").replace(/eightwo/g,"#8#2#").replace(/eighthree/g,"#8#3#").replace(/nineight/g,"#9#8#").replace(/one/g,"#1#").replace(/two/g,"#2#").replace(/three/g,"#3#").replace(/four/g,"#4#").replace(/five/g,"#5#").replace(/six/g,"#6#").replace(/seven/g,"#7#").replace(/eight/g,"#8#").replace(/nine/g,"#9#"),l=s.split(""),c=l.findIndex(p=>p.match(/(#\d#)|\d/)),u=l.length-1-[...l].reverse().findIndex(p=>p.match(/(#\d#)|\d/)),h="#"===s[c-1],d="#"===s[u+1];return{chars:l.map((p,g)=>g===c?{char:h?Hj(p):p,isHighlighted:!0}:g===u?{char:d?Hj(p):p,isHighlighted:!0}:{char:p,isHighlighted:!1}).filter(({char:p})=>"#"!==p),firstDigit:l[c],secondDigit:l[u],combinedDigit:parseInt(`${l[c]}${l[u]}`)}});const a=io(...this.part2Data.map(o=>o.combinedDigit));this.part2Answer=isNaN(a)?"This part does not yield a solution":a,this.part2Explanation=isNaN(a)?"":this.part2Data.map(o=>o.combinedDigit).join(" + ")}}function k3e(e,n){if(1&e&&(B(0,"div",18)(1,"div",19)(2,"span",11),ae(3),H(),B(4,"span",12),ae(5),H(),B(6,"span",13),ae(7),H()(),B(8,"span",20),ae(9),H(),ie(10,"nb-icon",21),H()),2&e){const t=n.$implicit,r=n.index;k(3),Ht(t.nbBlue),k(2),Ht(t.nbGreen),k(2),Ht(t.nbRed),k(2),en("Round ",r+1,""),k(1),O("icon",t.isRoundValid?"checkmark-outline":"close-outline")}}function F3e(e,n){if(1&e&&(B(0,"div",3),ie(1,"nb-icon",4),B(2,"span",5),ae(3),H(),B(4,"div",6)(5,"div",7),$(6,k3e,11,5,"div",8),H(),B(7,"div",9)(8,"span",10)(9,"span",11),ae(10),H(),B(11,"span",12),ae(12),H(),B(13,"span",13),ae(14),H()(),B(15,"span",14),ae(16,"Minima"),H()(),B(17,"div",15)(18,"span",16),ae(19),H(),B(20,"span",17),ae(21,"Power"),H()()()()),2&e){const t=n.$implicit;k(1),_e("highlight",t.isGameValid),O("icon",t.isGameValid?"checkmark-outline":"close-outline"),k(1),_e("highlight",t.isGameValid),k(1),en("Game ",t.gameId,""),k(3),O("ngForOf",t.rounds),k(4),Ht(t.minimalNbBlue),k(2),Ht(t.minimalNbGreen),k(2),Ht(t.minimalNbRed),k(5),Ht(t.power)}}function z3e(e,n){if(1&e&&ie(0,"app-puzzle-answer-printer",22),2&e){const t=W();O("part",1)("answer",t.part1Answer)("explanation",t.part1Explanation)}}function B3e(e,n){if(1&e&&ie(0,"app-puzzle-answer-printer",22),2&e){const t=W();O("part",2)("answer",t.part2Answer)("explanation",t.part2Explanation)}}Z1.\u0275fac=function(n){return new(n||Z1)},Z1.\u0275cmp=J({type:Z1,selectors:[["year-2023-day-01"]],decls:5,vars:4,consts:[["year","2023","day","01",3,"inputRun"],["class","row-container",4,"ngFor","ngForOf"],[3,"part","answer","explanation",4,"ngIf"],[1,"row-container"],["class","char-string",3,"highlight",4,"ngFor","ngForOf"],[1,"char-string"],[3,"part","answer","explanation"]],template:function(n,t){1&n&&(B(0,"app-puzzle-input-switcher",0),re("inputRun",function(i){return t.onInputRun(i)}),H(),$(1,I3e,2,1,"div",1),$(2,P3e,1,3,"app-puzzle-answer-printer",2),$(3,R3e,2,1,"div",1),$(4,L3e,1,3,"app-puzzle-answer-printer",2)),2&n&&(k(1),O("ngForOf",t.part1Data),k(1),O("ngIf",t.part1Answer),k(1),O("ngForOf",t.part2Data),k(1),O("ngIf",t.part2Answer))},dependencies:[Li,Ut,aa,oa],styles:["[_nghost-%COMP%]{font-size:20px;font-family:Consolas;color:#888}.row-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:20px 0;letter-spacing:15px}.char-string[_ngcontent-%COMP%]{display:flex;gap:8px}.highlight[_ngcontent-%COMP%]{color:#fff;font-weight:700;text-shadow:0px 0px 10px #fff}"]});class K1{constructor(){this.part1Answer=0,this.part1Explanation="",this.part2Answer=0,this.part2Explanation=""}onInputRun(n){const r=n.replaceAll("\r\n","\n").split("\n");this.data=r.map(o=>{const[s,l]=o.split(":"),c=parseInt(s.slice(5)),h=l.trim().split(";").map(g=>{const m=parseInt(g.match(/\d+ blue/)?.[0].slice(0,-5)??"0"),v=parseInt(g.match(/\d+ green/)?.[0].slice(0,-6)??"0"),_=parseInt(g.match(/\d+ red/)?.[0].slice(0,-4)??"0");return{nbBlue:m,nbGreen:v,nbRed:_,isRoundValid:m<=14&&_<=12&&v<=13}}),d=Math.max(...h.map(({nbBlue:g})=>g)),f=Math.max(...h.map(({nbRed:g})=>g)),p=Math.max(...h.map(({nbGreen:g})=>g));return{gameId:c,isGameValid:h.every(({isRoundValid:g})=>g),rounds:h,minimalNbBlue:d,minimalNbRed:f,minimalNbGreen:p,power:d*p*f}});const i=this.data.filter(({isGameValid:o})=>o).map(({gameId:o})=>o);this.part1Answer=io(...i),this.part1Explanation=i.join(" + ");const a=this.data.map(({power:o})=>o);this.part2Answer=io(...a),this.part2Explanation=a.join(" + ")}}K1.\u0275fac=function(n){return new(n||K1)},K1.\u0275cmp=J({type:K1,selectors:[["year-2023-day-02"]],decls:4,vars:3,consts:[["year","2023","day","02",3,"inputRun"],["class","game-container",4,"ngFor","ngForOf"],[3,"part","answer","explanation",4,"ngIf"],[1,"game-container"],[1,"game-icon",3,"icon"],[1,"game-label"],[1,"game-details"],[1,"round-container"],["class","round-row",4,"ngFor","ngForOf"],[1,"minima-container"],[1,"minima-digits"],[1,"highlight","digit","blue"],[1,"highlight","digit","green"],[1,"highlight","digit","red"],[1,"minima-label"],[1,"power-container"],[1,"power-value","highlight"],[1,"power-label"],[1,"round-row"],[1,"round-row-content"],[1,"round-label"],[3,"icon"],[3,"part","answer","explanation"]],template:function(n,t){1&n&&(B(0,"app-puzzle-input-switcher",0),re("inputRun",function(i){return t.onInputRun(i)}),H(),$(1,F3e,22,11,"div",1),$(2,z3e,1,3,"app-puzzle-answer-printer",2),$(3,B3e,1,3,"app-puzzle-answer-printer",2)),2&n&&(k(1),O("ngForOf",t.data),k(1),O("ngIf",t.part1Answer),k(1),O("ngIf",t.part2Answer))},dependencies:[Li,Ut,xr,aa,oa],styles:["[_nghost-%COMP%]{font-size:20px;font-family:Consolas;color:#888}.game-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:20px 0 40px}.game-label[_ngcontent-%COMP%]{margin:0 5px}.game-details[_ngcontent-%COMP%]{margin-left:20px}.round-row[_ngcontent-%COMP%]{display:inline-flex}.round-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.round-label[_ngcontent-%COMP%]{margin:0 20px;font-size:18px}.digit[_ngcontent-%COMP%]{width:40px;display:inline-block;text-align:center}.highlight[_ngcontent-%COMP%]{color:#fff;font-weight:700;text-shadow:0px 0px 10px currentColor}.highlight.blue[_ngcontent-%COMP%]{color:#467dff}.highlight.green[_ngcontent-%COMP%]{color:#8af24e}.highlight.red[_ngcontent-%COMP%]{color:#ff3636}.minima-container[_ngcontent-%COMP%]{margin:10px 0;border-bottom:1px solid rgba(86,99,123,.4392156863);border-top:1px solid rgba(86,99,123,.4392156863);padding:10px 0}.minima-label[_ngcontent-%COMP%]{margin:0 20px;font-size:18px}.power-container[_ngcontent-%COMP%]{margin:10px 0}.power-value[_ngcontent-%COMP%]{width:120px;display:inline-block;text-align:center}.power-label[_ngcontent-%COMP%]{margin:0 20px;font-size:18px}"]});class Q1{constructor(n){this.router=n,this.dateFilterFunction=t=>{const r=t.getDate(),i=t.getMonth(),a=t.getFullYear();return!(a<2020||a>2022)&&11===i&&r>=1&&r<=25}}handleDateChange(n){const t=`${n.getDate()}`.padStart(2,"0"),r=n.getFullYear();this.router.navigate([`/${r}/${t}`])}}Q1.\u0275fac=function(n){return new(n||Q1)(D(Fi))},Q1.\u0275cmp=J({type:Q1,selectors:[["app-home"]],decls:8,vars:1,consts:[[3,"filter","dateChange"]],template:function(n,t){1&n&&(B(0,"p"),ae(1," My attempts to solve some of the challenges for the "),B(2,"strong"),ae(3,"Advent Of Code"),H(),ae(4,". They are not pretty, but at least they somehow work.\n"),H(),B(5,"p"),ae(6,"Select a date on the calendar below:"),H(),B(7,"nb-calendar",0),re("dateChange",function(i){return t.handleDateChange(i)}),H()),2&n&&(k(7),O("filter",t.dateFilterFunction))},dependencies:[gye]});const V3e=[{path:"",component:Q1},{path:"2022/01",component:V1},{path:"2022/02",component:H1},{path:"2022/03",component:U1},{path:"2022/04",component:G1},{path:"2022/05",component:j1},{path:"2022/06",component:$1},{path:"2022/07",component:sa},{path:"2022/08",component:X1},{path:"2022/09",component:q1},{path:"2023/01",component:Z1},{path:"2023/02",component:K1},{path:"**",redirectTo:""}];class np{}np.\u0275fac=function(n){return new(n||np)},np.\u0275mod=It({type:np}),np.\u0275inj=St({imports:[KT.forRoot(V3e),KT]});class J1{constructor(){this.items=[{title:"Year 2020",group:!0,icon:"calendar-outline"},{title:"Year 2022",expanded:!0,icon:"calendar-outline",children:this.year2022MenuItems,badge:{text:`${this.year2022MenuItems.length}`,status:"primary"}},{title:"Year 2023",expanded:!0,icon:"calendar-outline",children:this.year2023MenuItems,badge:{text:`${this.year2023MenuItems.length}`,status:"primary"}}]}get year2022MenuItems(){return[{title:"Day 1",icon:"checkmark-circle-2-outline",link:"/2022/01",pathMatch:"full"},{title:"Day 2",icon:"checkmark-circle-2-outline",link:"/2022/02",pathMatch:"full"},{title:"Day 3",icon:"checkmark-circle-2-outline",link:"/2022/03",pathMatch:"full"},{title:"Day 4",icon:"checkmark-circle-2-outline",link:"/2022/04",pathMatch:"full"},{title:"Day 5",icon:"checkmark-circle-2-outline",link:"/2022/05",pathMatch:"full"},{title:"Day 6",icon:"checkmark-circle-2-outline",link:"/2022/06",pathMatch:"full"},{title:"Day 7",icon:"checkmark-circle-2-outline",link:"/2022/07",pathMatch:"full"},{title:"Day 8",icon:"checkmark-circle-2-outline",link:"/2022/08",pathMatch:"full"},{title:"Day 9",icon:"more-horizontal-outline",link:"/2022/09",pathMatch:"full"}]}get year2023MenuItems(){return[{title:"Day 1",icon:"checkmark-circle-2-outline",link:"/2023/01",pathMatch:"full"},{title:"Day 2",icon:"checkmark-circle-2-outline",link:"/2023/02",pathMatch:"full"}]}}J1.\u0275fac=function(n){return new(n||J1)},J1.\u0275cmp=J({type:J1,selectors:[["app-root"]],decls:9,vars:1,consts:[["fixed",""],["icon","gift-outline"],[3,"items"]],template:function(n,t){1&n&&(B(0,"nb-layout")(1,"nb-layout-header",0)(2,"h2"),ie(3,"nb-icon",1),ae(4," Advent of code"),H()(),B(5,"nb-sidebar"),ie(6,"nb-menu",2),H(),B(7,"nb-layout-column"),ie(8,"router-outlet"),H()()),2&n&&(k(6),O("items",t.items))},dependencies:[zT,DD,MB,TB,BB,GB,xr],styles:["h2[_ngcontent-%COMP%] > nb-icon[_ngcontent-%COMP%]{font-size:40px}"]});var Uj=[],H3e={registerPreprocessor:BA,registerProcessor:Ej,registerPostInit:Aj,registerPostUpdate:Nj,registerUpdateLifecycle:VA,registerAction:tp,registerCoordinateSystem:function VDe(e,n){S1.register(e,n)},registerLayout:function HDe(e,n){HA(zb,e,n,1e3,"layout")},registerVisual:Mh,registerTransform:function oMe(e){var n=(e=ht(e)).type;n||an("");var r=n.split(":");2!==r.length&&an("");var i=!1;"echarts"===r[0]&&(n=r[1],i=!0),e.__isBuiltIn=i,TG.set(n,e)},registerLoading:Oj,registerMap:function UDe(e,n,t){var r=lj("registerMap");r&&r(e,n,t)},registerImpl:function wDe(e,n){sj[e]=n},PRIORITY:{PROCESSOR:{FILTER:1e3,SERIES_FILTER:800,STATISTIC:5e3},VISUAL:{LAYOUT:1e3,PROGRESSIVE_LAYOUT:1100,GLOBAL:2e3,CHART:3e3,POST_CHART_LAYOUT:4600,COMPONENT:4e3,BRUSH:5e3,CHART_ITEM:4500,ARIA:6e3,DECAL:7e3}},ComponentModel:cn,ComponentView:Ei,SeriesModel:si,ChartView:Rr,registerComponentModel:function(e){cn.registerClass(e)},registerComponentView:function(e){Ei.registerClass(e)},registerSeriesModel:function(e){si.registerClass(e)},registerChartView:function(e){Rr.registerClass(e)},registerSubTypeDefaulter:function(e,n){cn.registerSubTypeDefaulter(e,n)},registerPainter:function(e,n){!function UCe(e,n){A2[e]=n}(e,n)}};function Vn(e){ne(e)?I(e,function(n){Vn(n)}):sn(Uj,e)>=0||(Uj.push(e),Ze(e)&&(e={install:e}),e.install(H3e))}var U3e=$n(),G3e={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},Gj=function(){function e(n){this.dimensions=n.dimensions,this._dimOmitted=n.dimensionOmitted,this.source=n.source,this._fullDimCount=n.fullDimensionCount,this._updateDimOmitted(n.dimensionOmitted)}return e.prototype.isDimensionOmitted=function(){return this._dimOmitted},e.prototype._updateDimOmitted=function(n){this._dimOmitted=n,n&&(this._dimNameMap||(this._dimNameMap=$j(this.source)))},e.prototype.getSourceDimensionIndex=function(n){return qt(this._dimNameMap.get(n),-1)},e.prototype.getSourceDimension=function(n){var t=this.source.dimensionsDefine;if(t)return t[n]},e.prototype.makeStoreSchema=function(){for(var n=this._fullDimCount,t=uG(this.source),r=!Yj(n),i="",a=[],o=0,s=0;o<n;o++){var l=void 0,c=void 0,u=void 0,h=this.dimensions[s];if(h&&h.storeDimIndex===o)l=t?h.name:null,c=h.type,u=h.ordinalMeta,s++;else{var d=this.getSourceDimension(o);d&&(l=t?d.name:null,c=d.type)}a.push({property:l,type:c,ordinalMeta:u}),t&&null!=l&&(!h||!h.isCalculationCoord)&&(i+=r?l.replace(/\`/g,"`1").replace(/\$/g,"`2"):l),i+="$",i+=G3e[c]||"f",u&&(i+=u.uid),i+="$"}var f=this.source;return{dimensions:a,hash:[f.seriesLayoutBy,f.startIndex,i].join("$$")}},e.prototype.makeOutputDimensionNames=function(){for(var n=[],t=0,r=0;t<this._fullDimCount;t++){var i=void 0,a=this.dimensions[r];if(a&&a.storeDimIndex===t)a.isCalculationCoord||(i=a.name),r++;else{var o=this.getSourceDimension(t);o&&(i=o.name)}n.push(i)}return n},e.prototype.appendCalculationDimension=function(n){this.dimensions.push(n),n.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},e}();function Wj(e){return e instanceof Gj}function jj(e){for(var n=bt(),t=0;t<(e||[]).length;t++){var r=e[t],i=ze(r)?r.name:r;null!=i&&null==n.get(i)&&n.set(i,t)}return n}function $j(e){var n=U3e(e);return n.dimNameMap||(n.dimNameMap=jj(e.dimensionsDefine))}function Yj(e){return e>30}function Xj(e,n,t){var a,o,s,r=(t=t||{}).byIndex,i=t.stackedCoordDimension;!function W3e(e){return!Wj(e.schema)}(n)?(a=(o=n.schema).dimensions,s=n.store):a=n;var c,u,h,d,l=!(!e||!e.get("stack"));if(I(a,function(_,y){Fe(_)&&(a[y]=_={name:_}),l&&!_.isExtraCoord&&(!r&&!c&&_.ordinalMeta&&(c=_),!u&&"ordinal"!==_.type&&"time"!==_.type&&(!i||i===_.coordDim)&&(u=_))}),u&&!r&&!c&&(r=!0),u){h="__\0ecstackresult_"+e.id,d="__\0ecstackedover_"+e.id,c&&(c.createInvertedIndices=!0);var f=u.coordDim,p=u.type,g=0;I(a,function(_){_.coordDim===f&&g++});var m={name:h,coordDim:f,coordDimIndex:g,type:p,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:a.length},v={name:d,coordDim:d,coordDimIndex:g+1,type:p,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:a.length+1};o?(s&&(m.storeDimIndex=s.ensureCalculationDimension(d,p),v.storeDimIndex=s.ensureCalculationDimension(h,p)),o.appendCalculationDimension(m),o.appendCalculationDimension(v)):(a.push(m),a.push(v))}return{stackedDimension:u&&u.name,stackedByDimension:c&&c.name,isStackedByIndex:r,stackedOverDimension:d,stackResultDimension:h}}function Dc(e,n){return!!n&&n===e.getCalculationInfo("stackedDimension")}function qj(e,n){return Dc(e,n)?e.getCalculationInfo("stackResultDimension"):n}var Zj=typeof Float32Array<"u",j3e=Zj?Float32Array:Array;function zl(e){return ne(e)?Zj?new Float32Array(e):e:new j3e(e)}function YA(e){return e.get("stack")||"__ec_stack_"+e.seriesIndex}function XA(e){return e.dim+e.index}function Kj(e,n){var t=[];return n.eachSeriesByType(e,function(r){e$(r)&&t.push(r)}),t}function Qj(e){var n=function $3e(e){var n={};I(e,function(l){var u=l.coordinateSystem.getBaseAxis();if("time"===u.type||"value"===u.type)for(var h=l.getData(),d=u.dim+"_"+u.index,f=h.getDimensionIndex(h.mapDimension(u.dim)),p=h.getStore(),g=0,m=p.count();g<m;++g){var v=p.get(f,g);n[d]?n[d].push(v):n[d]=[v]}});var t={};for(var r in n)if(n.hasOwnProperty(r)){var i=n[r];if(i){i.sort(function(l,c){return l-c});for(var a=null,o=1;o<i.length;++o){var s=i[o]-i[o-1];s>0&&(a=null===a?s:Math.min(a,s))}t[r]=a}}return t}(e),t=[];return I(e,function(r){var s,a=r.coordinateSystem.getBaseAxis(),o=a.getExtent();if("category"===a.type)s=a.getBandWidth();else if("value"===a.type||"time"===a.type){var c=n[a.dim+"_"+a.index],u=Math.abs(o[1]-o[0]),h=a.scale.getExtent(),d=Math.abs(h[1]-h[0]);s=c?u/d*c:u}else{var f=r.getData();s=Math.abs(o[1]-o[0])/f.count()}var p=oi(r.get("barWidth"),s),g=oi(r.get("barMaxWidth"),s),m=oi(r.get("barMinWidth")||(t$(r)?.5:1),s),v=r.get("barGap"),_=r.get("barCategoryGap");t.push({bandWidth:s,barWidth:p,barMaxWidth:g,barMinWidth:m,barGap:v,barCategoryGap:_,axisKey:XA(a),stackId:YA(r)})}),function Jj(e){var n={};I(e,function(r,i){var a=r.axisKey,o=r.bandWidth,s=n[a]||{bandWidth:o,remainedWidth:o,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},l=s.stacks;n[a]=s;var c=r.stackId;l[c]||s.autoWidthCount++,l[c]=l[c]||{width:0,maxWidth:0};var u=r.barWidth;u&&!l[c].width&&(l[c].width=u,u=Math.min(s.remainedWidth,u),s.remainedWidth-=u);var h=r.barMaxWidth;h&&(l[c].maxWidth=h);var d=r.barMinWidth;d&&(l[c].minWidth=d);var f=r.barGap;null!=f&&(s.gap=f);var p=r.barCategoryGap;null!=p&&(s.categoryGap=p)});var t={};return I(n,function(r,i){t[i]={};var a=r.stacks,o=r.bandWidth,s=r.categoryGap;if(null==s){var l=Bn(a).length;s=Math.max(35-4*l,15)+"%"}var c=oi(s,o),u=oi(r.gap,1),h=r.remainedWidth,d=r.autoWidthCount,f=(h-c)/(d+(d-1)*u);f=Math.max(f,0),I(a,function(v){var _=v.maxWidth,y=v.minWidth;if(v.width){var b=v.width;_&&(b=Math.min(b,_)),y&&(b=Math.max(b,y)),v.width=b,h-=b+u*b,d--}else b=f,_&&_<b&&(b=Math.min(_,h)),y&&y>b&&(b=y),b!==f&&(v.width=b,h-=b+u*b,d--)}),f=(h-c)/(d+(d-1)*u),f=Math.max(f,0);var g,p=0;I(a,function(v,_){v.width||(v.width=f),g=v,p+=v.width*(1+u)}),g&&(p-=g.width*u);var m=-p/2;I(a,function(v,_){t[i][_]=t[i][_]||{bandWidth:o,offset:m,width:v.width},m+=v.width*(1+u)})}),t}(t)}function X3e(e,n){var t=Kj(e,n),r=Qj(t);I(t,function(i){var a=i.getData(),s=i.coordinateSystem.getBaseAxis(),l=YA(i),c=r[XA(s)][l];a.setLayout({bandWidth:c.bandWidth,offset:c.offset,size:c.width})})}function e$(e){return e.coordinateSystem&&"cartesian2d"===e.coordinateSystem.type}function t$(e){return e.pipelineContext&&e.pipelineContext.large}var K3e={average:function(e){for(var n=0,t=0,r=0;r<e.length;r++)isNaN(e[r])||(n+=e[r],t++);return 0===t?NaN:n/t},sum:function(e){for(var n=0,t=0;t<e.length;t++)n+=e[t]||0;return n},max:function(e){for(var n=-1/0,t=0;t<e.length;t++)e[t]>n&&(n=e[t]);return isFinite(n)?n:NaN},min:function(e){for(var n=1/0,t=0;t<e.length;t++)e[t]<n&&(n=e[t]);return isFinite(n)?n:NaN},nearest:function(e){return e[0]}},Q3e=function(e){return Math.round(e.length/2)};function n$(e){return{seriesType:e,reset:function(n,t,r){var i=n.getData(),a=n.get("sampling"),o=n.coordinateSystem,s=i.count();if(s>10&&"cartesian2d"===o.type&&a){var l=o.getBaseAxis(),c=o.getOtherAxis(l),u=l.getExtent(),h=r.getDevicePixelRatio(),d=Math.abs(u[1]-u[0])*(h||1),f=Math.round(s/d);if(isFinite(f)&&f>1){"lttb"===a&&n.setData(i.lttbDownSample(i.mapDimension(c.dim),1/f));var p=void 0;Fe(a)?p=K3e[a]:Ze(a)&&(p=a),p&&n.setData(i.downSample(i.mapDimension(c.dim),1/f,p,Q3e))}}}}}function em(e){return null==e?0:e.length||1}function r$(e){return e}var J3e=function(){function e(n,t,r,i,a,o){this._old=n,this._new=t,this._oldKeyGetter=r||r$,this._newKeyGetter=i||r$,this.context=a,this._diffModeMultiple="multiple"===o}return e.prototype.add=function(n){return this._add=n,this},e.prototype.update=function(n){return this._update=n,this},e.prototype.updateManyToOne=function(n){return this._updateManyToOne=n,this},e.prototype.updateOneToMany=function(n){return this._updateOneToMany=n,this},e.prototype.updateManyToMany=function(n){return this._updateManyToMany=n,this},e.prototype.remove=function(n){return this._remove=n,this},e.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},e.prototype._executeOneToOne=function(){var n=this._old,t=this._new,r={},i=new Array(n.length),a=new Array(t.length);this._initIndexMap(n,null,i,"_oldKeyGetter"),this._initIndexMap(t,r,a,"_newKeyGetter");for(var o=0;o<n.length;o++){var s=i[o],l=r[s],c=em(l);if(c>1){var u=l.shift();1===l.length&&(r[s]=l[0]),this._update&&this._update(u,o)}else 1===c?(r[s]=null,this._update&&this._update(l,o)):this._remove&&this._remove(o)}this._performRestAdd(a,r)},e.prototype._executeMultiple=function(){var t=this._new,r={},i={},a=[],o=[];this._initIndexMap(this._old,r,a,"_oldKeyGetter"),this._initIndexMap(t,i,o,"_newKeyGetter");for(var s=0;s<a.length;s++){var l=a[s],c=r[l],u=i[l],h=em(c),d=em(u);if(h>1&&1===d)this._updateManyToOne&&this._updateManyToOne(u,c),i[l]=null;else if(1===h&&d>1)this._updateOneToMany&&this._updateOneToMany(u,c),i[l]=null;else if(1===h&&1===d)this._update&&this._update(u,c),i[l]=null;else if(h>1&&d>1)this._updateManyToMany&&this._updateManyToMany(u,c),i[l]=null;else if(h>1)for(var f=0;f<h;f++)this._remove&&this._remove(c[f]);else this._remove&&this._remove(c)}this._performRestAdd(o,i)},e.prototype._performRestAdd=function(n,t){for(var r=0;r<n.length;r++){var i=n[r],a=t[i],o=em(a);if(o>1)for(var s=0;s<o;s++)this._add&&this._add(a[s]);else 1===o&&this._add&&this._add(a);t[i]=null}},e.prototype._initIndexMap=function(n,t,r,i){for(var a=this._diffModeMultiple,o=0;o<n.length;o++){var s="_ec_"+this[i](n[o],o);if(a||(r[o]=s),t){var l=t[s],c=em(l);0===c?(t[s]=o,a&&r.push(s)):1===c?t[s]=[l,o]:l.push(o)}}},e}();const qA=J3e;var eEe=function(){function e(n,t){this._encode=n,this._schema=t}return e.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},e.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},e}();function ZA(e,n){return e.hasOwnProperty(n)||(e[n]=[]),e[n]}const Vb=function e(n){this.otherDims={},null!=n&&oe(this,n)};var a$,Hb,nm,rm,KA,Ub,QA,tm=ze,Ec=De,aEe=typeof Int32Array>"u"?Array:Int32Array,sEe=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],lEe=["_approximateExtent"],cEe=function(){function e(n,t){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var r,i=!1;Wj(n)?(r=n.dimensions,this._dimOmitted=n.isDimensionOmitted(),this._schema=n):(i=!0,r=n),r=r||["x","y"];for(var a={},o=[],s={},l=!1,c={},u=0;u<r.length;u++){var h=r[u],d=Fe(h)?new Vb({name:h}):h instanceof Vb?h:new Vb(h),f=d.name;d.type=d.type||"float",d.coordDim||(d.coordDim=f,d.coordDimIndex=0);var p=d.otherDims=d.otherDims||{};o.push(f),a[f]=d,null!=c[f]&&(l=!0),d.createInvertedIndices&&(s[f]=[]),0===p.itemName&&(this._nameDimIdx=u),0===p.itemId&&(this._idDimIdx=u),i&&(d.storeDimIndex=u)}if(this.dimensions=o,this._dimInfos=a,this._initGetDimensionInfo(l),this.hostModel=t,this._invertedIndicesMap=s,this._dimOmitted){var g=this._dimIdxToName=bt();I(o,function(m){g.set(a[m].storeDimIndex,m)})}}return e.prototype.getDimension=function(n){var t=this._recognizeDimIndex(n);if(null==t)return n;if(t=n,!this._dimOmitted)return this.dimensions[t];var r=this._dimIdxToName.get(t);if(null!=r)return r;var i=this._schema.getSourceDimension(t);return i?i.name:void 0},e.prototype.getDimensionIndex=function(n){var t=this._recognizeDimIndex(n);if(null!=t)return t;if(null==n)return-1;var r=this._getDimInfo(n);return r?r.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(n):-1},e.prototype._recognizeDimIndex=function(n){if(Sn(n)||null!=n&&!isNaN(n)&&!this._getDimInfo(n)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(n)<0))return+n},e.prototype._getStoreDimIndex=function(n){return this.getDimensionIndex(n)},e.prototype.getDimensionInfo=function(n){return this._getDimInfo(this.getDimension(n))},e.prototype._initGetDimensionInfo=function(n){var t=this._dimInfos;this._getDimInfo=n?function(r){return t.hasOwnProperty(r)?t[r]:void 0}:function(r){return t[r]}},e.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},e.prototype.mapDimension=function(n,t){var r=this._dimSummary;if(null==t)return r.encodeFirstDimNotExtra[n];var i=r.encode[n];return i?i[t]:null},e.prototype.mapDimensionsAll=function(n){return(this._dimSummary.encode[n]||[]).slice()},e.prototype.getStore=function(){return this._store},e.prototype.initData=function(n,t,r){var a,i=this;if(n instanceof ZE&&(a=n),!a){var o=this.dimensions,s=UE(n)||Ji(n)?new fG(n,o.length):n;a=new ZE;var l=Ec(o,function(c){return{type:i._dimInfos[c].type,property:c}});a.initData(s,l,r)}this._store=a,this._nameList=(t||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,a.count()),this._dimSummary=function tEe(e,n){var t={},r=t.encode={},i=bt(),a=[],o=[],s={};I(e.dimensions,function(d){var f=e.getDimensionInfo(d),p=f.coordDim;if(p){var g=f.coordDimIndex;ZA(r,p)[g]=d,f.isExtraCoord||(i.set(p,1),function rEe(e){return!("ordinal"===e||"time"===e)}(f.type)&&(a[0]=d),ZA(s,p)[g]=e.getDimensionIndex(f.name)),f.defaultTooltip&&o.push(d)}zU.each(function(m,v){var _=ZA(r,v),y=f.otherDims[v];null!=y&&!1!==y&&(_[y]=f.name)})});var l=[],c={};i.each(function(d,f){var p=r[f];c[f]=p[0],l=l.concat(p)}),t.dataDimsOnCoord=l,t.dataDimIndicesOnCoord=De(l,function(d){return e.getDimensionInfo(d).storeDimIndex}),t.encodeFirstDimNotExtra=c;var u=r.label;u&&u.length&&(a=u.slice());var h=r.tooltip;return h&&h.length?o=h.slice():o.length||(o=a.slice()),r.defaultedLabel=a,r.defaultedTooltip=o,t.userOutput=new eEe(s,n),t}(this,this._schema),this.userOutput=this._dimSummary.userOutput},e.prototype.appendData=function(n){var t=this._store.appendData(n);this._doInit(t[0],t[1])},e.prototype.appendValues=function(n,t){var r=this._store.appendValues(n,t.length),i=r.start,a=r.end,o=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),t)for(var s=i;s<a;s++)this._nameList[s]=t[s-i],o&&QA(this,s)},e.prototype._updateOrdinalMeta=function(){for(var n=this._store,t=this.dimensions,r=0;r<t.length;r++){var i=this._dimInfos[t[r]];i.ordinalMeta&&n.collectOrdinalMeta(i.storeDimIndex,i.ordinalMeta)}},e.prototype._shouldMakeIdFromName=function(){var n=this._store.getProvider();return null==this._idDimIdx&&n.getSource().sourceFormat!==kl&&!n.fillStorage},e.prototype._doInit=function(n,t){if(!(n>=t)){var i=this._store.getProvider();this._updateOrdinalMeta();var a=this._nameList,o=this._idList;if(i.getSource().sourceFormat===Po&&!i.pure)for(var c=[],u=n;u<t;u++){var h=i.getItem(u,c);if(!this.hasItemOption&&ZCe(h)&&(this.hasItemOption=!0),h){var d=h.name;null==a[u]&&null!=d&&(a[u]=ls(d,null));var f=h.id;null==o[u]&&null!=f&&(o[u]=ls(f,null))}}if(this._shouldMakeIdFromName())for(u=n;u<t;u++)QA(this,u);a$(this)}},e.prototype.getApproximateExtent=function(n){return this._approximateExtent[n]||this._store.getDataExtent(this._getStoreDimIndex(n))},e.prototype.setApproximateExtent=function(n,t){t=this.getDimension(t),this._approximateExtent[t]=n.slice()},e.prototype.getCalculationInfo=function(n){return this._calculationInfo[n]},e.prototype.setCalculationInfo=function(n,t){tm(n)?oe(this._calculationInfo,n):this._calculationInfo[n]=t},e.prototype.getName=function(n){var t=this.getRawIndex(n),r=this._nameList[t];return null==r&&null!=this._nameDimIdx&&(r=nm(this,this._nameDimIdx,t)),null==r&&(r=""),r},e.prototype._getCategory=function(n,t){var r=this._store.get(n,t),i=this._store.getOrdinalMeta(n);return i?i.categories[r]:r},e.prototype.getId=function(n){return Hb(this,this.getRawIndex(n))},e.prototype.count=function(){return this._store.count()},e.prototype.get=function(n,t){var i=this._dimInfos[n];if(i)return this._store.get(i.storeDimIndex,t)},e.prototype.getByRawIndex=function(n,t){var i=this._dimInfos[n];if(i)return this._store.getByRawIndex(i.storeDimIndex,t)},e.prototype.getIndices=function(){return this._store.getIndices()},e.prototype.getDataExtent=function(n){return this._store.getDataExtent(this._getStoreDimIndex(n))},e.prototype.getSum=function(n){return this._store.getSum(this._getStoreDimIndex(n))},e.prototype.getMedian=function(n){return this._store.getMedian(this._getStoreDimIndex(n))},e.prototype.getValues=function(n,t){var r=this,i=this._store;return ne(n)?i.getValues(Ec(n,function(a){return r._getStoreDimIndex(a)}),t):i.getValues(n)},e.prototype.hasValue=function(n){for(var t=this._dimSummary.dataDimIndicesOnCoord,r=0,i=t.length;r<i;r++)if(isNaN(this._store.get(t[r],n)))return!1;return!0},e.prototype.indexOfName=function(n){for(var t=0,r=this._store.count();t<r;t++)if(this.getName(t)===n)return t;return-1},e.prototype.getRawIndex=function(n){return this._store.getRawIndex(n)},e.prototype.indexOfRawIndex=function(n){return this._store.indexOfRawIndex(n)},e.prototype.rawIndexOf=function(n,t){var i=(n&&this._invertedIndicesMap[n])[t];return null==i||isNaN(i)?-1:i},e.prototype.indicesOfNearest=function(n,t,r){return this._store.indicesOfNearest(this._getStoreDimIndex(n),t,r)},e.prototype.each=function(n,t,r){Ze(n)&&(r=t,t=n,n=[]);var i=r||this,a=Ec(rm(n),this._getStoreDimIndex,this);this._store.each(a,i?ln(t,i):t)},e.prototype.filterSelf=function(n,t,r){Ze(n)&&(r=t,t=n,n=[]);var i=r||this,a=Ec(rm(n),this._getStoreDimIndex,this);return this._store=this._store.filter(a,i?ln(t,i):t),this},e.prototype.selectRange=function(n){var t=this,r={},i=Bn(n),a=[];return I(i,function(o){var s=t._getStoreDimIndex(o);r[s]=n[o],a.push(s)}),this._store=this._store.selectRange(r),this},e.prototype.mapArray=function(n,t,r){Ze(n)&&(r=t,t=n,n=[]);var i=[];return this.each(n,function(){i.push(t&&t.apply(this,arguments))},r=r||this),i},e.prototype.map=function(n,t,r,i){var a=r||i||this,o=Ec(rm(n),this._getStoreDimIndex,this),s=Ub(this);return s._store=this._store.map(o,a?ln(t,a):t),s},e.prototype.modify=function(n,t,r,i){var o=r||i||this,s=Ec(rm(n),this._getStoreDimIndex,this);this._store.modify(s,o?ln(t,o):t)},e.prototype.downSample=function(n,t,r,i){var a=Ub(this);return a._store=this._store.downSample(this._getStoreDimIndex(n),t,r,i),a},e.prototype.lttbDownSample=function(n,t){var r=Ub(this);return r._store=this._store.lttbDownSample(this._getStoreDimIndex(n),t),r},e.prototype.getRawDataItem=function(n){return this._store.getRawDataItem(n)},e.prototype.getItemModel=function(n){var t=this.hostModel,r=this.getRawDataItem(n);return new Tr(r,t,t&&t.ecModel)},e.prototype.diff=function(n){var t=this;return new qA(n?n.getStore().getIndices():[],this.getStore().getIndices(),function(r){return Hb(n,r)},function(r){return Hb(t,r)})},e.prototype.getVisual=function(n){var t=this._visual;return t&&t[n]},e.prototype.setVisual=function(n,t){this._visual=this._visual||{},tm(n)?oe(this._visual,n):this._visual[n]=t},e.prototype.getItemVisual=function(n,t){var r=this._itemVisuals[n];return(r&&r[t])??this.getVisual(t)},e.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},e.prototype.ensureUniqueItemVisual=function(n,t){var r=this._itemVisuals,i=r[n];i||(i=r[n]={});var a=i[t];return null==a&&(ne(a=this.getVisual(t))?a=a.slice():tm(a)&&(a=oe({},a)),i[t]=a),a},e.prototype.setItemVisual=function(n,t,r){var i=this._itemVisuals[n]||{};this._itemVisuals[n]=i,tm(t)?oe(i,t):i[t]=r},e.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},e.prototype.setLayout=function(n,t){tm(n)?oe(this._layout,n):this._layout[n]=t},e.prototype.getLayout=function(n){return this._layout[n]},e.prototype.getItemLayout=function(n){return this._itemLayouts[n]},e.prototype.setItemLayout=function(n,t,r){this._itemLayouts[n]=r?oe(this._itemLayouts[n]||{},t):t},e.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},e.prototype.setItemGraphicEl=function(n,t){(function(e,n,t,r){if(r){var i=tn(r);i.dataIndex=t,i.dataType=n,i.seriesIndex=e,"group"===r.type&&r.traverse(function(a){var o=tn(a);o.seriesIndex=e,o.dataIndex=t,o.dataType=n})}})(this.hostModel&&this.hostModel.seriesIndex,this.dataType,n,t),this._graphicEls[n]=t},e.prototype.getItemGraphicEl=function(n){return this._graphicEls[n]},e.prototype.eachItemGraphicEl=function(n,t){I(this._graphicEls,function(r,i){r&&n&&n.call(t,r,i)})},e.prototype.cloneShallow=function(n){return n||(n=new e(this._schema?this._schema:Ec(this.dimensions,this._getDimInfo,this),this.hostModel)),KA(n,this),n._store=this._store,n},e.prototype.wrapMethod=function(n,t){var r=this[n];!Ze(r)||(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(n),this[n]=function(){var i=r.apply(this,arguments);return t.apply(this,[i].concat($D(arguments)))})},e.internalField=(a$=function(n){var t=n._invertedIndicesMap;I(t,function(r,i){var a=n._dimInfos[i],o=a.ordinalMeta,s=n._store;if(o){r=t[i]=new aEe(o.categories.length);for(var l=0;l<r.length;l++)r[l]=-1;for(l=0;l<s.count();l++)r[s.get(a.storeDimIndex,l)]=l}})},nm=function(n,t,r){return ls(n._getCategory(t,r),null)},Hb=function(n,t){var r=n._idList[t];return null==r&&null!=n._idDimIdx&&(r=nm(n,n._idDimIdx,t)),null==r&&(r="e\0\0"+t),r},rm=function(n){return ne(n)||(n=null!=n?[n]:[]),n},Ub=function(n){var t=new e(n._schema?n._schema:Ec(n.dimensions,n._getDimInfo,n),n.hostModel);return KA(t,n),t},KA=function(n,t){I(sEe.concat(t.__wrappedMethods||[]),function(r){t.hasOwnProperty(r)&&(n[r]=t[r])}),n.__wrappedMethods=t.__wrappedMethods,I(lEe,function(r){n[r]=ht(t[r])}),n._calculationInfo=oe({},t._calculationInfo)},void(QA=function(n,t){var r=n._nameList,i=n._idList,a=n._nameDimIdx,o=n._idDimIdx,s=r[t],l=i[t];if(null==s&&null!=a&&(r[t]=s=nm(n,a,t)),null==l&&null!=o&&(i[t]=l=nm(n,o,t)),null==l&&null!=s){var c=n._nameRepeatCount,u=c[s]=(c[s]||0)+1;l=s,u>1&&(l+="__ec__"+u),i[t]=l}})),e}();const Lo=cEe;function im(e,n){return o$(e,n).dimensions}function o$(e,n){UE(e)||(e=WE(e));var t=(n=n||{}).coordDimensions||[],r=n.dimensionsDefine||e.dimensionsDefine||[],i=bt(),a=[],o=function hEe(e,n,t,r){var i=Math.max(e.dimensionsDetectedCount||1,n.length,t.length,r||0);return I(n,function(a){var o;ze(a)&&(o=a.dimsDef)&&(i=Math.max(i,o.length))}),i}(e,t,r,n.dimensionsCount),s=n.canOmitUnusedDimensions&&Yj(o),l=r===e.dimensionsDefine,c=l?$j(e):jj(r),u=n.encodeDefine;!u&&n.encodeDefaulter&&(u=n.encodeDefaulter(e,o));for(var h=bt(u),d=new DG(o),f=0;f<d.length;f++)d[f]=-1;function p(M){var E=d[M];if(E<0){var T=r[M],A=ze(T)?T:{name:T},N=new Vb,R=A.name;return null!=R&&null!=c.get(R)&&(N.name=N.displayName=R),null!=A.type&&(N.type=A.type),null!=A.displayName&&(N.displayName=A.displayName),d[M]=a.length,N.storeDimIndex=M,a.push(N),N}return a[E]}if(!s)for(f=0;f<o;f++)p(f);h.each(function(M,E){var T=mr(M).slice();if(1===T.length&&!Fe(T[0])&&T[0]<0)h.set(E,!1);else{var A=h.set(E,[]);I(T,function(N,R){var z=Fe(N)?c.get(N):N;null!=z&&z<o&&(A[R]=z,m(p(z),E,R))})}});var g=0;function m(M,E,T){null!=zU.get(E)?M.otherDims[E]=T:(M.coordDim=E,M.coordDimIndex=T,i.set(E,!0))}I(t,function(M){var E,T,A,N;if(Fe(M))E=M,N={};else{E=(N=M).name;var R=N.ordinalMeta;N.ordinalMeta=null,(N=oe({},N)).ordinalMeta=R,T=N.dimsDef,A=N.otherDims,N.name=N.coordDim=N.coordDimIndex=N.dimsDef=N.otherDims=null}var z=h.get(E);if(!1!==z){if(!(z=mr(z)).length)for(var L=0;L<(T&&T.length||1);L++){for(;g<o&&null!=p(g).coordDim;)g++;g<o&&z.push(g++)}I(z,function(V,F){var j=p(V);if(l&&null!=N.type&&(j.type=N.type),m(ut(j,N),E,F),null==j.name&&T){var Y=T[F];!ze(Y)&&(Y={name:Y}),j.name=j.displayName=Y.name,j.defaultTooltip=Y.defaultTooltip}A&&ut(j.otherDims,A)})}});var v=n.generateCoord,_=n.generateCoordCount,y=null!=_;_=v?_||1:0;var b=v||"value";function w(M){null==M.name&&(M.name=M.coordDim)}if(s)I(a,function(M){w(M)}),a.sort(function(M,E){return M.storeDimIndex-E.storeDimIndex});else for(var C=0;C<o;C++){var S=p(C);null==S.coordDim&&(S.coordDim=dEe(b,i,y),S.coordDimIndex=0,(!v||_<=0)&&(S.isExtraCoord=!0),_--),w(S),null==S.type&&(1===HU(e,C)||S.isExtraCoord&&(null!=S.otherDims.itemName||null!=S.otherDims.seriesName))&&(S.type="ordinal")}return function uEe(e){for(var n=bt(),t=0;t<e.length;t++){var r=e[t],i=r.name,a=n.get(i)||0;a>0&&(r.name=i+(a-1)),a++,n.set(i,a)}}(a),new Gj({source:e,dimensions:a,fullDimensionCount:o,dimensionOmitted:s})}function dEe(e,n,t){if(t||n.hasKey(e)){for(var r=0;n.hasKey(e+r);)r++;e+=r}return n.set(e,!0),e}var fEe=function e(n){this.coordSysDims=[],this.axisMap=bt(),this.categoryAxisMap=bt(),this.coordSysName=n},gEe={cartesian2d:function(e,n,t,r){var i=e.getReferringComponents("xAxis",cs).models[0],a=e.getReferringComponents("yAxis",cs).models[0];n.coordSysDims=["x","y"],t.set("x",i),t.set("y",a),rp(i)&&(r.set("x",i),n.firstCategoryDimIndex=0),rp(a)&&(r.set("y",a),null==n.firstCategoryDimIndex&&(n.firstCategoryDimIndex=1))},singleAxis:function(e,n,t,r){var i=e.getReferringComponents("singleAxis",cs).models[0];n.coordSysDims=["single"],t.set("single",i),rp(i)&&(r.set("single",i),n.firstCategoryDimIndex=0)},polar:function(e,n,t,r){var i=e.getReferringComponents("polar",cs).models[0],a=i.findAxisModel("radiusAxis"),o=i.findAxisModel("angleAxis");n.coordSysDims=["radius","angle"],t.set("radius",a),t.set("angle",o),rp(a)&&(r.set("radius",a),n.firstCategoryDimIndex=0),rp(o)&&(r.set("angle",o),null==n.firstCategoryDimIndex&&(n.firstCategoryDimIndex=1))},geo:function(e,n,t,r){n.coordSysDims=["lng","lat"]},parallel:function(e,n,t,r){var i=e.ecModel,a=i.getComponent("parallel",e.get("parallelIndex")),o=n.coordSysDims=a.dimensions.slice();I(a.parallelAxisIndex,function(s,l){var c=i.getComponent("parallelAxis",s),u=o[l];t.set(u,c),rp(c)&&(r.set(u,c),null==n.firstCategoryDimIndex&&(n.firstCategoryDimIndex=l))})}};function rp(e){return"category"===e.get("type")}const am=function _Ee(e,n,t){t=t||{};var i,r=n.getSourceManager(),a=!1;e?(a=!0,i=WE(e)):a=(i=r.getSource()).sourceFormat===Po;var o=function pEe(e){var n=e.get("coordinateSystem"),t=new fEe(n),r=gEe[n];if(r)return r(e,t,t.axisMap,t.categoryAxisMap),t}(n),s=function mEe(e,n){var i,t=e.get("coordinateSystem"),r=S1.get(t);return n&&n.coordSysDims&&(i=De(n.coordSysDims,function(a){var o={name:a},s=n.axisMap.get(a);if(s){var l=s.get("type");o.type=function nEe(e){return"category"===e?"ordinal":"time"===e?"time":"float"}(l)}return o})),i||(i=r&&(r.getDimensionsInfo?r.getDimensionsInfo():r.dimensions.slice())||["x","y"]),i}(n,o),l=t.useEncodeDefaulter,c=Ze(l)?l:l?An(uxe,s,n):null,h=o$(i,{coordDimensions:s,generateCoord:t.generateCoord,encodeDefine:n.getEncode(),encodeDefaulter:c,canOmitUnusedDimensions:!a}),d=function vEe(e,n,t){var r,i;return t&&I(e,function(a,o){var l=t.categoryAxisMap.get(a.coordDim);l&&(null==r&&(r=o),a.ordinalMeta=l.getOrdinalMeta(),n&&(a.createInvertedIndices=!0)),null!=a.otherDims.itemName&&(i=!0)}),!i&&null!=r&&(e[r].otherDims.itemName=0),r}(h.dimensions,t.createInvertedIndices,o),f=a?null:r.getSharedDataStore(h),p=Xj(n,{schema:h,store:f}),g=new Lo(h,n);g.setCalculationInfo(p);var m=null!=d&&function yEe(e){if(e.sourceFormat===Po){var n=function bEe(e){for(var n=0;n<e.length&&null==e[n];)n++;return e[n]}(e.data||[]);return!ne(a1(n))}}(i)?function(v,_,y,b){return b===d?y:this.defaultDimValueGetter(v,_,y,b)}:null;return g.hasItemOption=!1,g.initData(a?i:f,null,m),g};var s$=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=n.type,t}return ke(n,e),n.prototype.getInitialData=function(t,r){return am(null,this,{useEncodeDefaulter:!0})},n.prototype.getMarkerPosition=function(t,r,i){var a=this.coordinateSystem;if(a&&a.clampData){var o=a.dataToPoint(a.clampData(t));if(i)I(a.getAxes(),function(h,d){if("category"===h.type){var f=h.getTicksCoords(),p=a.clampData(t)[d];r&&("x1"===r[d]||"y1"===r[d])&&(p+=1),p>f.length-1&&(p=f.length-1),p<0&&(p=0),f[p]&&(o[d]=h.toGlobalCoord(f[p].coord))}});else{var s=this.getData(),l=s.getLayout("offset"),c=s.getLayout("size"),u=a.getBaseAxis().isHorizontal()?0:1;o[u]+=l+c/2}return o}return[NaN,NaN]},n.type="series.__base_bar__",n.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},n}(si);si.registerClass(s$);const l$=s$;var CEe=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=n.type,t}return ke(n,e),n.prototype.getInitialData=function(){return am(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},n.prototype.getProgressive=function(){return!!this.get("large")&&this.get("progressive")},n.prototype.getProgressiveThreshold=function(){var t=this.get("progressiveThreshold"),r=this.get("largeThreshold");return r>t&&(t=r),t},n.prototype.brushSelector=function(t,r,i){return i.rect(r.getItemLayout(t))},n.type="series.bar",n.dependencies=["grid","polar"],n.defaultOption=q2(l$.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),n}(l$);const wEe=CEe;function c$(e,n,t,r,i){var a=e.getArea(),o=a.x,s=a.y,l=a.width,c=a.height,u=t.get(["lineStyle","width"])||2;o-=u/2,s-=u/2,l+=u,c+=u,o=Math.floor(o),l=Math.round(l);var h=new Yn({shape:{x:o,y:s,width:l,height:c}});if(n){var d=e.getBaseAxis(),f=d.isHorizontal(),p=d.inverse;f?(p&&(h.shape.x+=l),h.shape.width=0):(p||(h.shape.y+=c),h.shape.height=0);var g=Ze(i)?function(m){i(m,h)}:null;ro(h,{shape:{width:l,height:c,x:o,y:s}},t,null,r,g)}return h}function u$(e,n,t){var r=e.getArea(),i=ur(r.r0,1),a=ur(r.r,1),o=new _h({shape:{cx:ur(e.cx,1),cy:ur(e.cy,1),r0:i,r:a,startAngle:r.startAngle,endAngle:r.endAngle,clockwise:r.clockwise}});return n&&("angle"===e.getBaseAxis().dim?o.shape.endAngle=r.startAngle:o.shape.r=i,ro(o,{shape:{endAngle:r.endAngle,r:a}},t)),o}var xEe=function e(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0},MEe=function(e){function n(t){var r=e.call(this,t)||this;return r.type="sausage",r}return ke(n,e),n.prototype.getDefaultShape=function(){return new xEe},n.prototype.buildPath=function(t,r){var i=r.cx,a=r.cy,o=Math.max(r.r0||0,0),s=Math.max(r.r,0),l=.5*(s-o),c=o+l,u=r.startAngle,h=r.endAngle,d=r.clockwise,f=2*Math.PI,p=d?h-u<f:u-h<f;p||(u=h-(d?f:-f));var g=Math.cos(u),m=Math.sin(u),v=Math.cos(h),_=Math.sin(h);p?(t.moveTo(g*o+i,m*o+a),t.arc(g*c+i,m*c+a,l,-Math.PI+u,u,!d)):t.moveTo(g*s+i,m*s+a),t.arc(i,a,s,u,h,!d),t.arc(v*c+i,_*c+a,l,h-2*Math.PI,h-Math.PI,!d),0!==o&&t.arc(i,a,o,h,u,d)},n}(Zt);const h$=MEe;function Gb(e,n){return e.type===n}function JA(e,n){var t=e.mapDimensionsAll("defaultedLabel"),r=t.length;if(1===r){var i=$f(e,n,t[0]);return null!=i?i+"":null}if(r){for(var a=[],o=0;o<t.length;o++)a.push($f(e,n,t[o]));return a.join(" ")}}function d$(e,n){var t=e.mapDimensionsAll("defaultedLabel");if(!ne(n))return n+"";for(var r=[],i=0;i<t.length;i++){var a=e.getDimensionIndex(t[i]);a>=0&&r.push(n[a])}return r.join(" ")}function Wb(e,n,t){return n*Math.sin(e)*(t?-1:1)}function jb(e,n,t){return n*Math.cos(e)*(t?1:-1)}var e4=Math.max,t4=Math.min,AEe=function(e){function n(){var t=e.call(this)||this;return t.type=n.type,t._isFirstFrame=!0,t}return ke(n,e),n.prototype.render=function(t,r,i,a){this._model=t,this._removeOnRenderedListener(i),this._updateDrawMode(t);var o=t.get("coordinateSystem");("cartesian2d"===o||"polar"===o)&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(t,r,i):this._renderNormal(t,r,i,a))},n.prototype.incrementalPrepareRender=function(t){this._clear(),this._updateDrawMode(t),this._updateLargeClip(t)},n.prototype.incrementalRender=function(t,r){this._progressiveEls=[],this._incrementalRenderLarge(t,r)},n.prototype.eachRendered=function(t){O1(this._progressiveEls||this.group,t)},n.prototype._updateDrawMode=function(t){var r=t.pipelineContext.large;(null==this._isLargeDraw||r!==this._isLargeDraw)&&(this._isLargeDraw=r,this._clear())},n.prototype._renderNormal=function(t,r,i,a){var h,o=this.group,s=t.getData(),l=this._data,c=t.coordinateSystem,u=c.getBaseAxis();"cartesian2d"===c.type?h=u.isHorizontal():"polar"===c.type&&(h="angle"===u.dim);var d=t.isAnimationEnabled()?t:null,f=function NEe(e,n){var t=e.get("realtimeSort",!0),r=n.getBaseAxis();if(t&&"category"===r.type&&"cartesian2d"===n.type)return{baseAxis:r,otherAxis:n.getOtherAxis(r)}}(t,c);f&&this._enableRealtimeSort(f,s,i);var p=t.get("clip",!0)||f,g=function EEe(e,n){var t=e.getArea&&e.getArea();if(Gb(e,"cartesian2d")){var r=e.getBaseAxis();if("category"!==r.type||!r.onBand){var i=n.getLayout("bandWidth");r.isHorizontal()?(t.x-=i,t.width+=2*i):(t.y-=i,t.height+=2*i)}}return t}(c,s);o.removeClipPath();var m=t.get("roundCap",!0),v=t.get("showBackground",!0),_=t.getModel("backgroundStyle"),y=_.get("borderRadius")||0,b=[],w=this._backgroundEls,C=a&&a.isInitSort,S=a&&"changeAxisOrder"===a.type;function x(T){var A=$b[c.type](s,T),N=function FEe(e,n,t){return new("polar"===e.type?_h:Yn)({shape:S$(n,t,e),silent:!0,z2:0})}(c,h,A);return N.useStyle(_.getItemStyle()),"cartesian2d"===c.type&&N.setShape("r",y),b[T]=N,N}s.diff(l).add(function(T){var A=s.getItemModel(T),N=$b[c.type](s,T,A);if(v&&x(T),s.hasValue(T)&&v$[c.type](N)){var R=!1;p&&(R=f$[c.type](g,N));var z=p$[c.type](t,s,T,N,h,d,u.model,!1,m);f&&(z.forceLabelAnimation=!0),y$(z,s,T,A,N,t,h,"polar"===c.type),C?z.attr({shape:N}):f?g$(f,d,z,N,T,h,!1,!1):ro(z,{shape:N},t,T),s.setItemGraphicEl(T,z),o.add(z),z.ignore=R}}).update(function(T,A){var N=s.getItemModel(T),R=$b[c.type](s,T,N);if(v){var z=void 0;0===w.length?z=x(A):((z=w[A]).useStyle(_.getItemStyle()),"cartesian2d"===c.type&&z.setShape("r",y),b[T]=z);var L=$b[c.type](s,T);Vi(z,{shape:S$(h,L,c)},d,T)}var F=l.getItemGraphicEl(A);if(s.hasValue(T)&&v$[c.type](R)){var j=!1;if(p&&(j=f$[c.type](g,R))&&o.remove(F),F?hU(F):F=p$[c.type](t,s,T,R,h,d,u.model,!!F,m),f&&(F.forceLabelAnimation=!0),S){var Y=F.getTextContent();if(Y){var se=zf(Y);null!=se.prevValue&&(se.prevValue=se.value)}}else y$(F,s,T,N,R,t,h,"polar"===c.type);C?F.attr({shape:R}):f?g$(f,d,F,R,T,h,!0,S):Vi(F,{shape:R},t,T,null),s.setItemGraphicEl(T,F),F.ignore=j,o.add(F)}else o.remove(F)}).remove(function(T){var A=l.getItemGraphicEl(T);A&&wE(A,t,T)}).execute();var M=this._backgroundGroup||(this._backgroundGroup=new $r);M.removeAll();for(var E=0;E<b.length;++E)M.add(b[E]);o.add(M),this._backgroundEls=b,this._data=s},n.prototype._renderLarge=function(t,r,i){this._clear(),C$(t,this.group),this._updateLargeClip(t)},n.prototype._incrementalRenderLarge=function(t,r){this._removeBackground(),C$(r,this.group,this._progressiveEls,!0)},n.prototype._updateLargeClip=function(t){var r=t.get("clip",!0)&&function SEe(e,n,t,r,i){return e?"polar"===e.type?u$(e,n,t):"cartesian2d"===e.type?c$(e,n,t,r,i):null:null}(t.coordinateSystem,!1,t),i=this.group;r?i.setClipPath(r):i.removeClipPath()},n.prototype._enableRealtimeSort=function(t,r,i){var a=this;if(r.count()){var o=t.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(r,t,i),this._isFirstFrame=!1;else{var s=function(l){var c=r.getItemGraphicEl(l),u=c&&c.shape;return u&&Math.abs(o.isHorizontal()?u.height:u.width)||0};this._onRendered=function(){a._updateSortWithinSameData(r,s,o,i)},i.getZr().on("rendered",this._onRendered)}}},n.prototype._dataSort=function(t,r,i){var a=[];return t.each(t.mapDimension(r.dim),function(o,s){var l=i(s);a.push({dataIndex:s,mappedValue:l=l??NaN,ordinalNumber:o})}),a.sort(function(o,s){return s.mappedValue-o.mappedValue}),{ordinalNumbers:De(a,function(o){return o.ordinalNumber})}},n.prototype._isOrderChangedWithinSameData=function(t,r,i){for(var a=i.scale,o=t.mapDimension(i.dim),s=Number.MAX_VALUE,l=0,c=a.getOrdinalMeta().categories.length;l<c;++l){var u=t.rawIndexOf(o,a.getRawOrdinalNumber(l)),h=u<0?Number.MIN_VALUE:r(t.indexOfRawIndex(u));if(h>s)return!0;s=h}return!1},n.prototype._isOrderDifferentInView=function(t,r){for(var i=r.scale,a=i.getExtent(),o=Math.max(0,a[0]),s=Math.min(a[1],i.getOrdinalMeta().categories.length-1);o<=s;++o)if(t.ordinalNumbers[o]!==i.getRawOrdinalNumber(o))return!0},n.prototype._updateSortWithinSameData=function(t,r,i,a){if(this._isOrderChangedWithinSameData(t,r,i)){var o=this._dataSort(t,i,r);this._isOrderDifferentInView(o,i)&&(this._removeOnRenderedListener(a),a.dispatchAction({type:"changeAxisOrder",componentType:i.dim+"Axis",axisId:i.index,sortInfo:o}))}},n.prototype._dispatchInitSort=function(t,r,i){var a=r.baseAxis,o=this._dataSort(t,a,function(s){return t.get(t.mapDimension(r.otherAxis.dim),s)});i.dispatchAction({type:"changeAxisOrder",componentType:a.dim+"Axis",isInitSort:!0,axisId:a.index,sortInfo:o})},n.prototype.remove=function(t,r){this._clear(this._model),this._removeOnRenderedListener(r)},n.prototype.dispose=function(t,r){this._removeOnRenderedListener(r)},n.prototype._removeOnRenderedListener=function(t){this._onRendered&&(t.getZr().off("rendered",this._onRendered),this._onRendered=null)},n.prototype._clear=function(t){var r=this.group,i=this._data;t&&t.isAnimationEnabled()&&i&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],i.eachItemGraphicEl(function(a){wE(a,t,tn(a).dataIndex)})):r.removeAll(),this._data=null,this._isFirstFrame=!0},n.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},n.type="bar",n}(Rr),f$={cartesian2d:function(e,n){var t=n.width<0?-1:1,r=n.height<0?-1:1;t<0&&(n.x+=n.width,n.width=-n.width),r<0&&(n.y+=n.height,n.height=-n.height);var i=e.x+e.width,a=e.y+e.height,o=e4(n.x,e.x),s=t4(n.x+n.width,i),l=e4(n.y,e.y),c=t4(n.y+n.height,a),u=s<o,h=c<l;return n.x=u&&o>i?s:o,n.y=h&&l>a?c:l,n.width=u?0:s-o,n.height=h?0:c-l,t<0&&(n.x+=n.width,n.width=-n.width),r<0&&(n.y+=n.height,n.height=-n.height),u||h},polar:function(e,n){var t=n.r0<=n.r?1:-1;if(t<0){var r=n.r;n.r=n.r0,n.r0=r}var i=t4(n.r,e.r),a=e4(n.r0,e.r0);n.r=i,n.r0=a;var o=i-a<0;return t<0&&(r=n.r,n.r=n.r0,n.r0=r),o}},p$={cartesian2d:function(e,n,t,r,i,a,o,s,l){var c=new Yn({shape:oe({},r),z2:1});return c.__dataIndex=t,c.name="item",a&&(c.shape[i?"height":"width"]=0),c},polar:function(e,n,t,r,i,a,o,s,l){var c=!i&&l?h$:_h,u=new c({shape:r,z2:1});u.name="item";var h=_$(i);if(u.calculateTextPosition=function TEe(e,n){var t=(n=n||{}).isRoundCap;return function(r,i,a){var o=i.position;if(!o||o instanceof Array)return E2(r,i,a);var s=e(o),l=null!=i.distance?i.distance:5,c=this.shape,u=c.cx,h=c.cy,d=c.r,f=c.r0,p=(d+f)/2,g=c.startAngle,m=c.endAngle,v=(g+m)/2,_=t?Math.abs(d-f)/2:0,y=Math.cos,b=Math.sin,w=u+d*y(g),C=h+d*b(g),S="left",x="top";switch(s){case"startArc":w=u+(f-l)*y(v),C=h+(f-l)*b(v),S="center",x="top";break;case"insideStartArc":w=u+(f+l)*y(v),C=h+(f+l)*b(v),S="center",x="bottom";break;case"startAngle":w=u+p*y(g)+Wb(g,l+_,!1),C=h+p*b(g)+jb(g,l+_,!1),S="right",x="middle";break;case"insideStartAngle":w=u+p*y(g)+Wb(g,-l+_,!1),C=h+p*b(g)+jb(g,-l+_,!1),S="left",x="middle";break;case"middle":w=u+p*y(v),C=h+p*b(v),S="center",x="middle";break;case"endArc":w=u+(d+l)*y(v),C=h+(d+l)*b(v),S="center",x="bottom";break;case"insideEndArc":w=u+(d-l)*y(v),C=h+(d-l)*b(v),S="center",x="top";break;case"endAngle":w=u+p*y(m)+Wb(m,l+_,!0),C=h+p*b(m)+jb(m,l+_,!0),S="left",x="middle";break;case"insideEndAngle":w=u+p*y(m)+Wb(m,-l+_,!0),C=h+p*b(m)+jb(m,-l+_,!0),S="right",x="middle";break;default:return E2(r,i,a)}return(r=r||{}).x=w,r.y=C,r.align=S,r.verticalAlign=x,r}}(h,{isRoundCap:c===h$}),a){var f=i?"r":"endAngle",p={};u.shape[f]=i?0:r.startAngle,p[f]=r[f],(s?Vi:ro)(u,{shape:p},a)}return u}};function g$(e,n,t,r,i,a,o,s){var l,c;a?(c={x:r.x,width:r.width},l={y:r.y,height:r.height}):(c={y:r.y,height:r.height},l={x:r.x,width:r.width}),s||(o?Vi:ro)(t,{shape:l},n,i,null),(o?Vi:ro)(t,{shape:c},n?e.baseAxis.model:null,i)}function m$(e,n){for(var t=0;t<n.length;t++)if(!isFinite(e[n[t]]))return!0;return!1}var IEe=["x","y","width","height"],PEe=["cx","cy","r","startAngle","endAngle"],v$={cartesian2d:function(e){return!m$(e,IEe)},polar:function(e){return!m$(e,PEe)}},$b={cartesian2d:function(e,n,t){var r=e.getItemLayout(n),i=t?function REe(e,n){var t=e.get(["itemStyle","borderColor"]);if(!t||"none"===t)return 0;var r=e.get(["itemStyle","borderWidth"])||0,i=isNaN(n.width)?Number.MAX_VALUE:Math.abs(n.width),a=isNaN(n.height)?Number.MAX_VALUE:Math.abs(n.height);return Math.min(r,i,a)}(t,r):0,a=r.width>0?1:-1,o=r.height>0?1:-1;return{x:r.x+a*i/2,y:r.y+o*i/2,width:r.width-a*i,height:r.height-o*i}},polar:function(e,n,t){var r=e.getItemLayout(n);return{cx:r.cx,cy:r.cy,r0:r.r0,r:r.r,startAngle:r.startAngle,endAngle:r.endAngle,clockwise:r.clockwise}}};function _$(e){return function(n){var t=n?"Arc":"Angle";return function(r){switch(r){case"start":case"insideStart":case"end":case"insideEnd":return r+t;default:return r}}}(e)}function y$(e,n,t,r,i,a,o,s){var l=n.getItemVisual(t,"style");s||e.setShape("r",r.get(["itemStyle","borderRadius"])||0),e.useStyle(l);var c=r.getShallow("cursor");c&&e.attr("cursor",c);var u=s?o?i.r>=i.r0?"endArc":"startArc":i.endAngle>=i.startAngle?"endAngle":"startAngle":o?i.height>=0?"bottom":"top":i.width>=0?"right":"left",h=Ff(r);g1(e,h,{labelFetcher:a,labelDataIndex:t,defaultText:JA(a.getData(),t),inheritColor:l.fill,defaultOpacity:l.opacity,defaultOutsidePosition:u});var d=e.getTextContent();if(s&&d){var f=r.get(["label","position"]);e.textConfig.inside="middle"===f||null,function DEe(e,n,t,r){if(Sn(r))e.setTextConfig({rotation:r});else if(ne(n))e.setTextConfig({rotation:0});else{var l,i=e.shape,a=i.clockwise?i.startAngle:i.endAngle,o=i.clockwise?i.endAngle:i.startAngle,s=(a+o)/2,c=t(n);switch(c){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":l=s;break;case"startAngle":case"insideStartAngle":l=a;break;case"endAngle":case"insideEndAngle":l=o;break;default:return void e.setTextConfig({rotation:0})}var u=1.5*Math.PI-l;"middle"===c&&u>Math.PI/2&&u<1.5*Math.PI&&(u-=Math.PI),e.setTextConfig({rotation:u})}}(e,"outside"===f?u:f,_$(o),r.get(["label","rotate"]))}!function LSe(e,n,t,r){if(e){var i=zf(e);i.prevValue=i.value,i.value=t;var a=n.normal;i.valueAnimation=a.get("valueAnimation"),i.valueAnimation&&(i.precision=a.get("precision"),i.defaultInterpolatedText=r,i.statesModels=n)}}(d,h,a.getRawValue(t),function(g){return d$(n,g)});var p=r.getModel(["emphasis"]);p1(e,p.get("focus"),p.get("blurScope"),p.get("disabled")),vE(e,r),function OEe(e){return null!=e.startAngle&&null!=e.endAngle&&e.startAngle===e.endAngle}(i)&&(e.style.fill="none",e.style.stroke="none",I(e.states,function(g){g.style&&(g.style.fill=g.style.stroke="none")}))}var LEe=function e(){},b$=function(e){function n(t){var r=e.call(this,t)||this;return r.type="largeBar",r}return ke(n,e),n.prototype.getDefaultShape=function(){return new LEe},n.prototype.buildPath=function(t,r){for(var i=r.points,a=this.baseDimIdx,o=1-this.baseDimIdx,s=[],l=[],c=this.barWidth,u=0;u<i.length;u+=3)l[a]=c,l[o]=i[u+2],s[a]=i[u+a],s[o]=i[u+o],t.rect(s[0],s[1],l[0],l[1])},n}(Zt);function C$(e,n,t,r){var i=e.getData(),a=i.getLayout("valueAxisHorizontal")?1:0,o=i.getLayout("largeDataIndices"),s=i.getLayout("size"),l=e.getModel("backgroundStyle"),c=i.getLayout("largeBackgroundPoints");if(c){var u=new b$({shape:{points:c},incremental:!!r,silent:!0,z2:0});u.baseDimIdx=a,u.largeDataIndices=o,u.barWidth=s,u.useStyle(l.getItemStyle()),n.add(u),t&&t.push(u)}var h=new b$({shape:{points:i.getLayout("largePoints")},incremental:!!r,ignoreCoarsePointer:!0,z2:1});h.baseDimIdx=a,h.largeDataIndices=o,h.barWidth=s,n.add(h),h.useStyle(i.getVisual("style")),tn(h).seriesIndex=e.seriesIndex,e.get("silent")||(h.on("mousedown",w$),h.on("mousemove",w$)),t&&t.push(h)}var w$=vA(function(e){var t=function kEe(e,n,t){for(var r=e.baseDimIdx,i=1-r,a=e.shape.points,o=e.largeDataIndices,s=[],l=[],c=e.barWidth,u=0,h=a.length/3;u<h;u++){var d=3*u;if(l[r]=c,l[i]=a[d+2],s[r]=a[d+r],s[i]=a[d+i],l[i]<0&&(s[i]+=l[i],l[i]=-l[i]),n>=s[0]&&n<=s[0]+l[0]&&t>=s[1]&&t<=s[1]+l[1])return o[u]}return-1}(this,e.offsetX,e.offsetY);tn(this).dataIndex=t>=0?t:null},30,!1);function S$(e,n,t){if(Gb(t,"cartesian2d")){var r=n,i=t.getArea();return{x:e?r.x:i.x,y:e?i.y:r.y,width:e?r.width:i.width,height:e?i.height:r.height}}return{cx:(i=t.getArea()).cx,cy:i.cy,r0:e?i.r0:n.r0,r:e?i.r:n.r,startAngle:e?n.startAngle:0,endAngle:e?n.endAngle:2*Math.PI}}const zEe=AEe;var VEe=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=n.type,t.hasSymbolVisual=!0,t}return ke(n,e),n.prototype.getInitialData=function(t){return am(null,this,{useEncodeDefaulter:!0})},n.prototype.getLegendIcon=function(t){var r=new $r,i=Qs("line",0,t.itemHeight/2,t.itemWidth,0,t.lineStyle.stroke,!1);r.add(i),i.setStyle(t.lineStyle);var a=this.getData().getVisual("symbol"),o=this.getData().getVisual("symbolRotate"),s="none"===a?"circle":a,l=.8*t.itemHeight,c=Qs(s,(t.itemWidth-l)/2,(t.itemHeight-l)/2,l,l,t.itemStyle.fill);return r.add(c),c.setStyle(t.itemStyle),c.rotation=("inherit"===t.iconRotate?o:t.iconRotate||0)*Math.PI/180,c.setOrigin([t.itemWidth/2,t.itemHeight/2]),s.indexOf("empty")>-1&&(c.style.stroke=c.style.fill,c.style.fill="#fff",c.style.lineWidth=2),r},n.type="series.line",n.dependencies=["grid","polar"],n.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},n}(si);const HEe=VEe;var UEe=function(e){function n(t,r,i,a){var o=e.call(this)||this;return o.updateData(t,r,i,a),o}return ke(n,e),n.prototype._createSymbol=function(t,r,i,a,o){this.removeAll();var s=Qs(t,-1,-1,2,2,null,o);s.attr({z2:100,culling:!0,scaleX:a[0]/2,scaleY:a[1]/2}),s.drift=GEe,this._symbolType=t,this.add(s)},n.prototype.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(null,t)},n.prototype.getSymbolType=function(){return this._symbolType},n.prototype.getSymbolPath=function(){return this.childAt(0)},n.prototype.highlight=function(){G2(this.childAt(0))},n.prototype.downplay=function(){W2(this.childAt(0))},n.prototype.setZ=function(t,r){var i=this.childAt(0);i.zlevel=t,i.z=r},n.prototype.setDraggable=function(t,r){var i=this.childAt(0);i.draggable=t,i.cursor=!r&&t?"move":i.cursor},n.prototype.updateData=function(t,r,i,a){this.silent=!1;var o=t.getItemVisual(r,"symbol")||"circle",s=t.hostModel,l=n.getSymbolSize(t,r),c=o!==this._symbolType,u=a&&a.disableAnimation;if(c){var h=t.getItemVisual(r,"symbolKeepAspect");this._createSymbol(o,t,r,l,h)}else{(d=this.childAt(0)).silent=!1;var f={scaleX:l[0]/2,scaleY:l[1]/2};u?d.attr(f):Vi(d,f,s,r),hU(d)}if(this._updateCommon(t,r,l,i,a),c){var d=this.childAt(0);u||(f={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:d.style.opacity}},d.scaleX=d.scaleY=0,d.style.opacity=0,ro(d,f,s,r))}u&&this.childAt(0).stopAnimation("leave")},n.prototype._updateCommon=function(t,r,i,a,o){var c,u,h,d,f,p,g,m,v,s=this.childAt(0),l=t.hostModel;if(a&&(c=a.emphasisItemStyle,u=a.blurItemStyle,h=a.selectItemStyle,d=a.focus,f=a.blurScope,g=a.labelStatesModels,m=a.hoverScale,v=a.cursorStyle,p=a.emphasisDisabled),!a||t.hasItemOption){var _=a&&a.itemModel?a.itemModel:t.getItemModel(r),y=_.getModel("emphasis");c=y.getModel("itemStyle").getItemStyle(),h=_.getModel(["select","itemStyle"]).getItemStyle(),u=_.getModel(["blur","itemStyle"]).getItemStyle(),d=y.get("focus"),f=y.get("blurScope"),p=y.get("disabled"),g=Ff(_),m=y.getShallow("scale"),v=_.getShallow("cursor")}var b=t.getItemVisual(r,"symbolRotate");s.attr("rotation",(b||0)*Math.PI/180||0);var w=UW(t.getItemVisual(r,"symbolOffset"),i);w&&(s.x=w[0],s.y=w[1]),v&&s.attr("cursor",v);var C=t.getItemVisual(r,"style"),S=C.fill;if(s instanceof qs){var x=s.style;s.useStyle(oe({image:x.image,x:x.x,y:x.y,width:x.width,height:x.height},C))}else s.useStyle(s.__isEmptyBrush?oe({},C):C),s.style.decal=null,s.setColor(S,o&&o.symbolInnerColor),s.style.strokeNoScale=!0;var M=t.getItemVisual(r,"liftZ"),E=this._z2;null!=M?null==E&&(this._z2=s.z2,s.z2+=M):null!=E&&(s.z2=E,this._z2=null);var T=o&&o.useNameLabel;g1(s,g,{labelFetcher:l,labelDataIndex:r,defaultText:function A(z){return T?t.getName(z):JA(t,z)},inheritColor:S,defaultOpacity:C.opacity}),this._sizeX=i[0]/2,this._sizeY=i[1]/2;var N=s.ensureState("emphasis");N.style=c,s.ensureState("select").style=h,s.ensureState("blur").style=u;var R=null==m||!0===m?Math.max(1.1,3/this._sizeY):isFinite(m)&&m>0?+m:1;N.scaleX=this._sizeX*R,N.scaleY=this._sizeY*R,this.setSymbolScale(1),p1(this,d,f,p)},n.prototype.setSymbolScale=function(t){this.scaleX=this.scaleY=t},n.prototype.fadeOut=function(t,r,i){var a=this.childAt(0),o=tn(this).dataIndex,s=i&&i.animation;if(this.silent=a.silent=!0,i&&i.fadeLabel){var l=a.getTextContent();l&&$2(l,{style:{opacity:0}},r,{dataIndex:o,removeOpt:s,cb:function(){a.removeTextContent()}})}else a.removeTextContent();$2(a,{style:{opacity:0},scaleX:0,scaleY:0},r,{dataIndex:o,cb:t,removeOpt:s})},n.getSymbolSize=function(t,r){return function iDe(e){return ne(e)||(e=[+e,+e]),[e[0]||0,e[1]||0]}(t.getItemVisual(r,"symbolSize"))},n}($r);function GEe(e,n){this.parent.drift(e,n)}const n4=UEe;function r4(e,n,t,r){return n&&!isNaN(n[0])&&!isNaN(n[1])&&!(r.isIgnore&&r.isIgnore(t))&&!(r.clipShape&&!r.clipShape.contain(n[0],n[1]))&&"none"!==e.getItemVisual(t,"symbol")}function x$(e){return null!=e&&!ze(e)&&(e={isIgnore:e}),e||{}}function M$(e){var n=e.hostModel,t=n.getModel("emphasis");return{emphasisItemStyle:t.getModel("itemStyle").getItemStyle(),blurItemStyle:n.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:n.getModel(["select","itemStyle"]).getItemStyle(),focus:t.get("focus"),blurScope:t.get("blurScope"),emphasisDisabled:t.get("disabled"),hoverScale:t.get("scale"),labelStatesModels:Ff(n),cursorStyle:n.get("cursor")}}var WEe=function(){function e(n){this.group=new $r,this._SymbolCtor=n||n4}return e.prototype.updateData=function(n,t){this._progressiveEls=null,t=x$(t);var r=this.group,i=n.hostModel,a=this._data,o=this._SymbolCtor,s=t.disableAnimation,l=M$(n),c={disableAnimation:s},u=t.getSymbolPoint||function(h){return n.getItemLayout(h)};a||r.removeAll(),n.diff(a).add(function(h){var d=u(h);if(r4(n,d,h,t)){var f=new o(n,h,l,c);f.setPosition(d),n.setItemGraphicEl(h,f),r.add(f)}}).update(function(h,d){var f=a.getItemGraphicEl(d),p=u(h);if(r4(n,p,h,t)){var g=n.getItemVisual(h,"symbol")||"circle",m=f&&f.getSymbolType&&f.getSymbolType();if(!f||m&&m!==g)r.remove(f),(f=new o(n,h,l,c)).setPosition(p);else{f.updateData(n,h,l,c);var v={x:p[0],y:p[1]};s?f.attr(v):Vi(f,v,i)}r.add(f),n.setItemGraphicEl(h,f)}else r.remove(f)}).remove(function(h){var d=a.getItemGraphicEl(h);d&&d.fadeOut(function(){r.remove(d)},i)}).execute(),this._getSymbolPoint=u,this._data=n},e.prototype.updateLayout=function(){var n=this,t=this._data;t&&t.eachItemGraphicEl(function(r,i){var a=n._getSymbolPoint(i);r.setPosition(a),r.markRedraw()})},e.prototype.incrementalPrepareUpdate=function(n){this._seriesScope=M$(n),this._data=null,this.group.removeAll()},e.prototype.incrementalUpdate=function(n,t,r){function i(l){l.isGroup||(l.incremental=!0,l.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[],r=x$(r);for(var a=n.start;a<n.end;a++){var o=t.getItemLayout(a);if(r4(t,o,a,r)){var s=new this._SymbolCtor(t,a,this._seriesScope);s.traverse(i),s.setPosition(o),this.group.add(s),t.setItemGraphicEl(a,s),this._progressiveEls.push(s)}}},e.prototype.eachRendered=function(n){O1(this._progressiveEls||this.group,n)},e.prototype.remove=function(n){var t=this.group,r=this._data;r&&n?r.eachItemGraphicEl(function(i){i.fadeOut(function(){t.remove(i)},r.hostModel)}):t.removeAll()},e}();const T$=WEe;function D$(e,n,t){var r=e.getBaseAxis(),i=e.getOtherAxis(r),a=function jEe(e,n){var t=0,r=e.scale.getExtent();return"start"===n?t=r[0]:"end"===n?t=r[1]:Sn(n)&&!isNaN(n)?t=n:r[0]>0?t=r[0]:r[1]<0&&(t=r[1]),t}(i,t),o=r.dim,s=i.dim,l=n.mapDimension(s),c=n.mapDimension(o),u="x"===s||"radius"===s?1:0,h=De(e.dimensions,function(p){return n.mapDimension(p)}),d=!1,f=n.getCalculationInfo("stackResultDimension");return Dc(n,h[0])&&(d=!0,h[0]=f),Dc(n,h[1])&&(d=!0,h[1]=f),{dataDimsForPoint:h,valueStart:a,valueAxisDim:s,baseAxisDim:o,stacked:!!d,valueDim:l,baseDim:c,baseDataOffset:u,stackedOverDimension:n.getCalculationInfo("stackedOverDimension")}}function E$(e,n,t,r){var i=NaN;e.stacked&&(i=t.get(t.getCalculationInfo("stackedOverDimension"),r)),isNaN(i)&&(i=e.valueStart);var a=e.baseDataOffset,o=[];return o[a]=t.get(e.baseDim,r),o[1-a]=i,n.dataToPoint(o)}var Ac=Math.min,Nc=Math.max;function Th(e,n){return isNaN(e)||isNaN(n)}function i4(e,n,t,r,i,a,o,s,l){for(var c,u,h,d,f,p,g=t,m=0;m<r;m++){var v=n[2*g],_=n[2*g+1];if(g>=i||g<0)break;if(Th(v,_)){if(l){g+=a;continue}break}if(g===t)e[a>0?"moveTo":"lineTo"](v,_),h=v,d=_;else{var y=v-c,b=_-u;if(y*y+b*b<.5){g+=a;continue}if(o>0){for(var w=g+a,C=n[2*w],S=n[2*w+1];C===v&&S===_&&m<r;)m++,C=n[2*(w+=a)],S=n[2*w+1],y=(v=n[2*(g+=a)])-c,b=(_=n[2*g+1])-u;var x=m+1;if(l)for(;Th(C,S)&&x<r;)x++,C=n[2*(w+=a)],S=n[2*w+1];var M=.5,E=0,T=0,A=void 0,N=void 0;if(x>=r||Th(C,S))f=v,p=_;else{E=C-c,T=S-u;var R=v-c,z=C-v,L=_-u,V=S-_,F=void 0,j=void 0;if("x"===s){var Y=E>0?1:-1;f=v-Y*(F=Math.abs(R))*o,p=_,A=v+Y*(j=Math.abs(z))*o,N=_}else if("y"===s){var se=T>0?1:-1;f=v,p=_-se*(F=Math.abs(L))*o,A=v,N=_+se*(j=Math.abs(V))*o}else F=Math.sqrt(R*R+L*L),f=v-E*o*(1-(M=(j=Math.sqrt(z*z+V*V))/(j+F))),p=_-T*o*(1-M),N=_+T*o*M,A=Ac(A=v+E*o*M,Nc(C,v)),N=Ac(N,Nc(S,_)),A=Nc(A,Ac(C,v)),p=_-(T=(N=Nc(N,Ac(S,_)))-_)*F/j,f=Ac(f=v-(E=A-v)*F/j,Nc(c,v)),p=Ac(p,Nc(u,_)),A=v+(E=v-(f=Nc(f,Ac(c,v))))*j/F,N=_+(T=_-(p=Nc(p,Ac(u,_))))*j/F}e.bezierCurveTo(h,d,f,p,v,_),h=A,d=N}else e.lineTo(v,_)}c=v,u=_,g+=a}return m}var A$=function e(){this.smooth=0,this.smoothConstraint=!0},XEe=function(e){function n(t){var r=e.call(this,t)||this;return r.type="ec-polyline",r}return ke(n,e),n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new A$},n.prototype.buildPath=function(t,r){var i=r.points,a=0,o=i.length/2;if(r.connectNulls){for(;o>0&&Th(i[2*o-2],i[2*o-1]);o--);for(;a<o&&Th(i[2*a],i[2*a+1]);a++);}for(;a<o;)a+=i4(t,i,a,o,o,1,r.smooth,r.smoothMonotone,r.connectNulls)+1},n.prototype.getPointOn=function(t,r){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var s,l,a=this.path.data,o=Pl.CMD,c="x"===r,u=[],h=0;h<a.length;){var f=void 0,p=void 0,g=void 0,m=void 0,v=void 0,_=void 0,y=void 0;switch(a[h++]){case o.M:s=a[h++],l=a[h++];break;case o.L:if(f=a[h++],p=a[h++],(y=c?(t-s)/(f-s):(t-l)/(p-l))<=1&&y>=0){var b=c?(p-l)*y+l:(f-s)*y+s;return c?[t,b]:[b,t]}s=f,l=p;break;case o.C:f=a[h++],p=a[h++],g=a[h++],m=a[h++],v=a[h++],_=a[h++];var w=c?f2(s,f,g,v,t,u):f2(l,p,m,_,t,u);if(w>0)for(var C=0;C<w;C++){var S=u[C];if(S<=1&&S>=0)return b=c?ai(l,p,m,_,S):ai(s,f,g,v,S),c?[t,b]:[b,t]}s=v,l=_}}},n}(Zt),qEe=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return ke(n,e),n}(A$),ZEe=function(e){function n(t){var r=e.call(this,t)||this;return r.type="ec-polygon",r}return ke(n,e),n.prototype.getDefaultShape=function(){return new qEe},n.prototype.buildPath=function(t,r){var i=r.points,a=r.stackedOnPoints,o=0,s=i.length/2,l=r.smoothMonotone;if(r.connectNulls){for(;s>0&&Th(i[2*s-2],i[2*s-1]);s--);for(;o<s&&Th(i[2*o],i[2*o+1]);o++);}for(;o<s;){var c=i4(t,i,o,s,s,1,r.smooth,l,r.connectNulls);i4(t,a,o+c-1,c,s,-1,r.stackedOnSmooth,l,r.connectNulls),o+=c+1,t.closePath()}},n}(Zt);function N$(e,n){if(e.length===n.length){for(var t=0;t<e.length;t++)if(e[t]!==n[t])return;return!0}}function I$(e){for(var n=1/0,t=1/0,r=-1/0,i=-1/0,a=0;a<e.length;){var o=e[a++],s=e[a++];isNaN(o)||(n=Math.min(o,n),r=Math.max(o,r)),isNaN(s)||(t=Math.min(s,t),i=Math.max(s,i))}return[[n,t],[r,i]]}function P$(e,n){var t=I$(e),r=t[0],i=t[1],a=I$(n),o=a[0],s=a[1];return Math.max(Math.abs(r[0]-o[0]),Math.abs(r[1]-o[1]),Math.abs(i[0]-s[0]),Math.abs(i[1]-s[1]))}function O$(e){return Sn(e)?e:e?.5:0}function Ic(e,n,t,r){var i=n.getBaseAxis(),a="x"===i.dim||"radius"===i.dim?0:1,o=[],s=0,l=[],c=[],u=[],h=[];if(r){for(s=0;s<e.length;s+=2)!isNaN(e[s])&&!isNaN(e[s+1])&&h.push(e[s],e[s+1]);e=h}for(s=0;s<e.length-2;s+=2)switch(u[0]=e[s+2],u[1]=e[s+3],c[0]=e[s],c[1]=e[s+1],o.push(c[0],c[1]),t){case"end":l[a]=u[a],l[1-a]=c[1-a],o.push(l[0],l[1]);break;case"middle":var f=[];l[a]=f[a]=(c[a]+u[a])/2,l[1-a]=c[1-a],f[1-a]=u[1-a],o.push(l[0],l[1]),o.push(f[0],f[1]);break;default:l[a]=c[a],l[1-a]=u[1-a],o.push(l[0],l[1])}return o.push(e[s++],e[s++]),o}function nAe(e,n){return isNaN(e)||isNaN(n)}function R$(e,n){return[e[2*n],e[2*n+1]]}function L$(e){if(e.get(["endLabel","show"]))return!0;for(var n=0;n<No.length;n++)if(e.get([No[n],"endLabel","show"]))return!0;return!1}function a4(e,n,t,r){if(Gb(n,"cartesian2d")){var i=r.getModel("endLabel"),a=i.get("valueAnimation"),o=r.getData(),s={lastFrameIndex:0},l=L$(r)?function(f,p){e._endLabelOnDuring(f,p,o,s,a,i,n)}:null,c=n.getBaseAxis().isHorizontal(),u=c$(n,t,r,function(){var f=e._endLabel;f&&t&&null!=s.originalX&&f.attr({x:s.originalX,y:s.originalY})},l);if(!r.get("clip",!0)){var h=u.shape,d=Math.max(h.width,h.height);c?(h.y-=d,h.height+=2*d):(h.x-=d,h.width+=2*d)}return l&&l(1,u),u}return u$(n,t,r)}var oAe=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return ke(n,e),n.prototype.init=function(){var t=new $r,r=new T$;this.group.add(r.group),this._symbolDraw=r,this._lineGroup=t},n.prototype.render=function(t,r,i){var a=this,o=t.coordinateSystem,s=this.group,l=t.getData(),c=t.getModel("lineStyle"),u=t.getModel("areaStyle"),h=l.getLayout("points")||[],d="polar"===o.type,f=this._coordSys,p=this._symbolDraw,g=this._polyline,m=this._polygon,v=this._lineGroup,_=t.get("animation"),y=!u.isEmpty(),b=u.get("origin"),w=D$(o,l,b),C=y&&function KEe(e,n,t){if(!t.valueDim)return[];for(var r=n.count(),i=zl(2*r),a=0;a<r;a++){var o=E$(t,e,n,a);i[2*a]=o[0],i[2*a+1]=o[1]}return i}(o,l,w),S=t.get("showSymbol"),x=t.get("connectNulls"),M=S&&!d&&function eAe(e,n,t){var r=e.get("showAllSymbol"),i="auto"===r;if(!r||i){var a=t.getAxesByScale("ordinal")[0];if(a&&(!i||!function tAe(e,n){var t=e.getExtent(),r=Math.abs(t[1]-t[0])/e.scale.count();isNaN(r)&&(r=0);for(var i=n.count(),a=Math.max(1,Math.round(i/5)),o=0;o<i;o+=a)if(1.5*n4.getSymbolSize(n,o)[e.isHorizontal()?1:0]>r)return!1;return!0}(a,n))){var o=n.mapDimension(a.dim),s={};return I(a.getViewLabels(),function(l){var c=a.scale.getRawOrdinalNumber(l.tickValue);s[c]=1}),function(l){return!s.hasOwnProperty(n.get(o,l))}}}}(t,l,o),E=this._data;E&&E.eachItemGraphicEl(function(lt,Ye){lt.__temp&&(s.remove(lt),E.setItemGraphicEl(Ye,null))}),S||p.remove(),s.add(v);var A,T=!d&&t.get("step");o&&o.getArea&&t.get("clip",!0)&&(null!=(A=o.getArea()).width?(A.x-=.1,A.y-=.1,A.width+=.2,A.height+=.2):A.r0&&(A.r0-=.5,A.r+=.5)),this._clipShapeForSymbol=A;var N=function JEe(e,n,t){var r=e.getVisual("visualMeta");if(r&&r.length&&e.count()&&"cartesian2d"===n.type){for(var i,a,o=r.length-1;o>=0;o--){var s=e.getDimensionInfo(r[o].dimension);if("x"===(i=s&&s.coordDim)||"y"===i){a=r[o];break}}if(a){var l=n.getAxis(i),c=De(a.stops,function(y){return{coord:l.toGlobalCoord(l.dataToCoord(y.value)),color:y.color}}),u=c.length,h=a.outerColors.slice();u&&c[0].coord>c[u-1].coord&&(c.reverse(),h.reverse());var d=function QEe(e,n){var i,a,t=[],r=e.length;function o(u,h,d){var f=u.coord;return{coord:d,color:IV((d-f)/(h.coord-f),[u.color,h.color])}}for(var s=0;s<r;s++){var l=e[s],c=l.coord;if(c<0)i=l;else{if(c>n){a?t.push(o(a,l,n)):i&&t.push(o(i,l,0),o(i,l,n));break}i&&(t.push(o(i,l,0)),i=null),t.push(l),a=l}}return t}(c,"x"===i?t.getWidth():t.getHeight()),f=d.length;if(!f&&u)return c[0].coord<0?h[1]?h[1]:c[u-1].color:h[0]?h[0]:c[0].color;var g=d[0].coord-10,m=d[f-1].coord+10,v=m-g;if(v<.001)return"transparent";I(d,function(y){y.offset=(y.coord-g)/v}),d.push({offset:f?d[f-1].offset:.5,color:h[1]||"transparent"}),d.unshift({offset:f?d[0].offset:.5,color:h[0]||"transparent"});var _=new uA(0,0,0,0,d,!0);return _[i]=g,_[i+"2"]=m,_}}}(l,o,i)||l.getVisual("style")[l.getVisual("drawType")];if(g&&f.type===o.type&&T===this._step){y&&!m?m=this._newPolygon(h,C):m&&!y&&(v.remove(m),m=this._polygon=null),d||this._initOrUpdateEndLabel(t,o,hh(N));var R=v.getClipPath();R?ro(R,{shape:a4(this,o,!1,t).shape},t):v.setClipPath(a4(this,o,!0,t)),S&&p.updateData(l,{isIgnore:M,clipShape:A,disableAnimation:!0,getSymbolPoint:function(lt){return[h[2*lt],h[2*lt+1]]}}),(!N$(this._stackedOnPoints,C)||!N$(this._points,h))&&(_?this._doUpdateAnimation(l,C,o,i,T,b,x):(T&&(h=Ic(h,o,T,x),C&&(C=Ic(C,o,T,x))),g.setShape({points:h}),m&&m.setShape({points:h,stackedOnPoints:C})))}else S&&p.updateData(l,{isIgnore:M,clipShape:A,disableAnimation:!0,getSymbolPoint:function(lt){return[h[2*lt],h[2*lt+1]]}}),_&&this._initSymbolLabelAnimation(l,o,A),T&&(h=Ic(h,o,T,x),C&&(C=Ic(C,o,T,x))),g=this._newPolyline(h),y?m=this._newPolygon(h,C):m&&(v.remove(m),m=this._polygon=null),d||this._initOrUpdateEndLabel(t,o,hh(N)),v.setClipPath(a4(this,o,!0,t));var L=t.getModel("emphasis"),V=L.get("focus"),F=L.get("blurScope"),j=L.get("disabled");g.useStyle(ut(c.getLineStyle(),{fill:"none",stroke:N,lineJoin:"bevel"})),vE(g,t,"lineStyle"),g.style.lineWidth>0&&"bolder"===t.get(["emphasis","lineStyle","width"])&&(g.getState("emphasis").style.lineWidth=+g.style.lineWidth+1),tn(g).seriesIndex=t.seriesIndex,p1(g,V,F,j);var se=O$(t.get("smooth")),de=t.get("smoothMonotone");if(g.setShape({smooth:se,smoothMonotone:de,connectNulls:x}),m){var we=l.getCalculationInfo("stackedOnSeries"),pe=0;m.useStyle(ut(u.getAreaStyle(),{fill:N,opacity:.7,lineJoin:"bevel",decal:l.getVisual("style").decal})),we&&(pe=O$(we.get("smooth"))),m.setShape({smooth:se,stackedOnSmooth:pe,smoothMonotone:de,connectNulls:x}),vE(m,t,"areaStyle"),tn(m).seriesIndex=t.seriesIndex,p1(m,V,F,j)}var Le=function(lt){a._changePolyState(lt)};l.eachItemGraphicEl(function(lt){lt&&(lt.onHoverStateChange=Le)}),this._polyline.onHoverStateChange=Le,this._data=l,this._coordSys=o,this._stackedOnPoints=C,this._points=h,this._step=T,this._valueOrigin=b,t.get("triggerLineEvent")&&(this.packEventData(t,g),m&&this.packEventData(t,m))},n.prototype.packEventData=function(t,r){tn(r).eventData={componentType:"series",componentSubType:"line",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"line"}},n.prototype.highlight=function(t,r,i,a){var o=t.getData(),s=Qu(o,a);if(this._changePolyState("emphasis"),!(s instanceof Array)&&null!=s&&s>=0){var l=o.getLayout("points"),c=o.getItemGraphicEl(s);if(!c){var u=l[2*s],h=l[2*s+1];if(isNaN(u)||isNaN(h)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(u,h))return;var d=t.get("zlevel")||0,f=t.get("z")||0;(c=new n4(o,s)).x=u,c.y=h,c.setZ(d,f);var p=c.getSymbolPath().getTextContent();p&&(p.zlevel=d,p.z=f,p.z2=this._polyline.z2+1),c.__temp=!0,o.setItemGraphicEl(s,c),c.stopSymbolAnimation(!0),this.group.add(c)}c.highlight()}else Rr.prototype.highlight.call(this,t,r,i,a)},n.prototype.downplay=function(t,r,i,a){var o=t.getData(),s=Qu(o,a);if(this._changePolyState("normal"),null!=s&&s>=0){var l=o.getItemGraphicEl(s);l&&(l.__temp?(o.setItemGraphicEl(s,null),this.group.remove(l)):l.downplay())}else Rr.prototype.downplay.call(this,t,r,i,a)},n.prototype._changePolyState=function(t){var r=this._polygon;QH(this._polyline,t),r&&QH(r,t)},n.prototype._newPolyline=function(t){var r=this._polyline;return r&&this._lineGroup.remove(r),r=new XEe({shape:{points:t},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(r),this._polyline=r,r},n.prototype._newPolygon=function(t,r){var i=this._polygon;return i&&this._lineGroup.remove(i),i=new ZEe({shape:{points:t,stackedOnPoints:r},segmentIgnoreThreshold:2}),this._lineGroup.add(i),this._polygon=i,i},n.prototype._initSymbolLabelAnimation=function(t,r,i){var a,o,s=r.getBaseAxis(),l=s.inverse;"cartesian2d"===r.type?(a=s.isHorizontal(),o=!1):"polar"===r.type&&(a="angle"===s.dim,o=!0);var c=t.hostModel,u=c.get("animationDuration");Ze(u)&&(u=u(null));var h=c.get("animationDelay")||0,d=Ze(h)?h(null):h;t.eachItemGraphicEl(function(f,p){var g=f;if(g){var v=void 0,_=void 0,y=void 0;if(i)if(o){var b=i,w=r.pointToCoord([f.x,f.y]);a?(v=b.startAngle,_=b.endAngle,y=-w[1]/180*Math.PI):(v=b.r0,_=b.r,y=w[0])}else a?(v=i.x,_=i.x+i.width,y=f.x):(v=i.y+i.height,_=i.y,y=f.y);var S=_===v?0:(y-v)/(_-v);l&&(S=1-S);var x=Ze(h)?h(p):u*S+d,M=g.getSymbolPath(),E=M.getTextContent();g.attr({scaleX:0,scaleY:0}),g.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:x}),E&&E.animateFrom({style:{opacity:0}},{duration:300,delay:x}),M.disableLabelAnimation=!0}})},n.prototype._initOrUpdateEndLabel=function(t,r,i){var a=t.getModel("endLabel");if(L$(t)){var o=t.getData(),s=this._polyline,l=o.getLayout("points");if(!l)return s.removeTextContent(),void(this._endLabel=null);var c=this._endLabel;c||((c=this._endLabel=new nr({z2:200})).ignoreClip=!0,s.setTextContent(this._endLabel),s.disableLabelAnimation=!0);var u=function rAe(e){for(var n=e.length/2;n>0&&nAe(e[2*n-2],e[2*n-1]);n--);return n-1}(l);u>=0&&(g1(s,Ff(t,"endLabel"),{inheritColor:i,labelFetcher:t,labelDataIndex:u,defaultText:function(h,d,f){return null!=f?d$(o,f):JA(o,h)},enableTextSetter:!0},function aAe(e,n){var t=n.getBaseAxis(),r=t.isHorizontal(),i=t.inverse,a=r?i?"right":"left":"center",o=r?"middle":i?"top":"bottom";return{normal:{align:e.get("align")||a,verticalAlign:e.get("verticalAlign")||o}}}(a,r)),s.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},n.prototype._endLabelOnDuring=function(t,r,i,a,o,s,l){var c=this._endLabel,u=this._polyline;if(c){t<1&&null==a.originalX&&(a.originalX=c.x,a.originalY=c.y);var h=i.getLayout("points"),d=i.hostModel,f=d.get("connectNulls"),p=s.get("precision"),g=s.get("distance")||0,m=l.getBaseAxis(),v=m.isHorizontal(),_=m.inverse,y=r.shape,b=_?v?y.x:y.y+y.height:v?y.x+y.width:y.y,w=(v?g:0)*(_?-1:1),C=(v?0:-g)*(_?-1:1),S=v?"x":"y",x=function iAe(e,n,t){for(var a,o,r=e.length/2,i="x"===t?0:1,s=0,l=-1,c=0;c<r;c++)if(o=e[2*c+i],!isNaN(o)&&!isNaN(e[2*c+1-i])){if(0===c){a=o;continue}if(a<=n&&o>=n||a>=n&&o<=n){l=c;break}s=c,a=o}return{range:[s,l],t:(n-a)/(o-a)}}(h,b,S),M=x.range,E=M[1]-M[0],T=void 0;if(E>=1){if(E>1&&!f){var A=R$(h,M[0]);c.attr({x:A[0]+w,y:A[1]+C}),o&&(T=d.getRawValue(M[0]))}else{(A=u.getPointOn(b,S))&&c.attr({x:A[0]+w,y:A[1]+C});var N=d.getRawValue(M[0]),R=d.getRawValue(M[1]);o&&(T=hH(i,p,N,R,x.t))}a.lastFrameIndex=M[0]}else{var z=1===t||a.lastFrameIndex>0?M[0]:0;A=R$(h,z),o&&(T=d.getRawValue(z)),c.attr({x:A[0]+w,y:A[1]+C})}o&&zf(c).setLabelText(T)}},n.prototype._doUpdateAnimation=function(t,r,i,a,o,s,l){var c=this._polyline,u=this._polygon,h=t.hostModel,d=function YEe(e,n,t,r,i,a,o,s){for(var l=function $Ee(e,n){var t=[];return n.diff(e).add(function(r){t.push({cmd:"+",idx:r})}).update(function(r,i){t.push({cmd:"=",idx:i,idx1:r})}).remove(function(r){t.push({cmd:"-",idx:r})}).execute(),t}(e,n),c=[],u=[],h=[],d=[],f=[],p=[],g=[],m=D$(i,n,o),v=e.getLayout("points")||[],_=n.getLayout("points")||[],y=0;y<l.length;y++){var b=l[y],w=!0,C=void 0,S=void 0;switch(b.cmd){case"=":var x=v[C=2*b.idx],M=v[C+1],E=_[S=2*b.idx1],T=_[S+1];(isNaN(x)||isNaN(M))&&(x=E,M=T),c.push(x,M),u.push(E,T),h.push(t[C],t[C+1]),d.push(r[S],r[S+1]),g.push(n.getRawIndex(b.idx1));break;case"+":var A=b.idx,N=m.dataDimsForPoint,R=i.dataToPoint([n.get(N[0],A),n.get(N[1],A)]);S=2*A,c.push(R[0],R[1]),u.push(_[S],_[S+1]);var z=E$(m,i,n,A);h.push(z[0],z[1]),d.push(r[S],r[S+1]),g.push(n.getRawIndex(A));break;case"-":w=!1}w&&(f.push(b),p.push(p.length))}p.sort(function(Le,lt){return g[Le]-g[lt]});var L=c.length,V=zl(L),F=zl(L),j=zl(L),Y=zl(L),se=[];for(y=0;y<p.length;y++){var de=p[y],we=2*y,pe=2*de;V[we]=c[pe],V[we+1]=c[pe+1],F[we]=u[pe],F[we+1]=u[pe+1],j[we]=h[pe],j[we+1]=h[pe+1],Y[we]=d[pe],Y[we+1]=d[pe+1],se[y]=f[de]}return{current:V,next:F,stackedOnCurrent:j,stackedOnNext:Y,status:se}}(this._data,t,this._stackedOnPoints,r,this._coordSys,0,this._valueOrigin),f=d.current,p=d.stackedOnCurrent,g=d.next,m=d.stackedOnNext;if(o&&(f=Ic(d.current,i,o,l),p=Ic(d.stackedOnCurrent,i,o,l),g=Ic(d.next,i,o,l),m=Ic(d.stackedOnNext,i,o,l)),P$(f,g)>3e3||u&&P$(p,m)>3e3)return c.stopAnimation(),c.setShape({points:g}),void(u&&(u.stopAnimation(),u.setShape({points:g,stackedOnPoints:m})));c.shape.__points=d.current,c.shape.points=f;var v={shape:{points:g}};d.current!==f&&(v.shape.__points=d.next),c.stopAnimation(),Vi(c,v,h),u&&(u.setShape({points:f,stackedOnPoints:p}),u.stopAnimation(),Vi(u,{shape:{stackedOnPoints:m}},h),c.shape.points!==u.shape.points&&(u.shape.points=c.shape.points));for(var _=[],y=d.status,b=0;b<y.length;b++)if("="===y[b].cmd){var C=t.getItemGraphicEl(y[b].idx1);C&&_.push({el:C,ptIdx:b})}c.animators&&c.animators.length&&c.animators[0].during(function(){u&&u.dirtyShape();for(var S=c.shape.__points,x=0;x<_.length;x++){var M=_[x].el,E=2*_[x].ptIdx;M.x=S[E],M.y=S[E+1],M.markRedraw()}})},n.prototype.remove=function(t){var r=this.group,i=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),i&&i.eachItemGraphicEl(function(a,o){a.__temp&&(r.remove(a),i.setItemGraphicEl(o,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},n.type="line",n}(Rr);const sAe=oAe;var hAe=function(){function e(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var n=ns.createCanvas();this.canvas=n}return e.prototype.update=function(n,t,r,i,a,o){var s=this._getBrush(),l=this._getGradient(a,"inRange"),c=this._getGradient(a,"outOfRange"),u=this.pointSize+this.blurSize,h=this.canvas,d=h.getContext("2d"),f=n.length;h.width=t,h.height=r;for(var p=0;p<f;++p){var g=n[p],m=g[0],v=g[1],y=i(g[2]);d.globalAlpha=y,d.drawImage(s,m-u,v-u)}if(!h.width||!h.height)return h;for(var b=d.getImageData(0,0,h.width,h.height),w=b.data,C=0,S=w.length,x=this.minOpacity,E=this.maxOpacity-x;C<S;){y=w[C+3]/256;var T=4*Math.floor(255*y);if(y>0){var A=o(y)?l:c;y>0&&(y=y*E+x),w[C++]=A[T],w[C++]=A[T+1],w[C++]=A[T+2],w[C++]=A[T+3]*y*256}else C+=4}return d.putImageData(b,0,0),h},e.prototype._getBrush=function(){var n=this._brushCanvas||(this._brushCanvas=ns.createCanvas()),t=this.pointSize+this.blurSize,r=2*t;n.width=r,n.height=r;var i=n.getContext("2d");return i.clearRect(0,0,r,r),i.shadowOffsetX=r,i.shadowBlur=this.blurSize,i.shadowColor="#000",i.beginPath(),i.arc(-t,t,this.pointSize,0,2*Math.PI,!0),i.closePath(),i.fill(),n},e.prototype._getGradient=function(n,t){for(var r=this._gradientPixels,i=r[t]||(r[t]=new Uint8ClampedArray(1024)),a=[0,0,0,0],o=0,s=0;s<256;s++)n[t](s/255,!0,a),i[o++]=a[0],i[o++]=a[1],i[o++]=a[2],i[o++]=a[3];return i},e}();const dAe=hAe;function k$(e){var n=e.dimensions;return"lng"===n[0]&&"lat"===n[1]}var gAe=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=n.type,t}return ke(n,e),n.prototype.render=function(t,r,i){var a;r.eachComponent("visualMap",function(s){s.eachTargetSeries(function(l){l===t&&(a=s)})}),this._progressiveEls=null,this.group.removeAll();var o=t.coordinateSystem;"cartesian2d"===o.type||"calendar"===o.type?this._renderOnCartesianAndCalendar(t,i,0,t.getData().count()):k$(o)&&this._renderOnGeo(o,t,a,i)},n.prototype.incrementalPrepareRender=function(t,r,i){this.group.removeAll()},n.prototype.incrementalRender=function(t,r,i,a){var o=r.coordinateSystem;o&&(k$(o)?this.render(r,i,a):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(r,a,t.start,t.end,!0)))},n.prototype.eachRendered=function(t){O1(this._progressiveEls||this.group,t)},n.prototype._renderOnCartesianAndCalendar=function(t,r,i,a,o){var c,u,h,d,s=t.coordinateSystem,l=Gb(s,"cartesian2d");if(l){var f=s.getAxis("x"),p=s.getAxis("y");c=f.getBandWidth()+.5,u=p.getBandWidth()+.5,h=f.scale.getExtent(),d=p.scale.getExtent()}for(var g=this.group,m=t.getData(),v=t.getModel(["emphasis","itemStyle"]).getItemStyle(),_=t.getModel(["blur","itemStyle"]).getItemStyle(),y=t.getModel(["select","itemStyle"]).getItemStyle(),b=t.get(["itemStyle","borderRadius"]),w=Ff(t),C=t.getModel("emphasis"),S=C.get("focus"),x=C.get("blurScope"),M=C.get("disabled"),E=l?[m.mapDimension("x"),m.mapDimension("y"),m.mapDimension("value")]:[m.mapDimension("time"),m.mapDimension("value")],T=i;T<a;T++){var A=void 0,N=m.getItemVisual(T,"style");if(l){var R=m.get(E[0],T),z=m.get(E[1],T);if(isNaN(m.get(E[2],T))||isNaN(R)||isNaN(z)||R<h[0]||R>h[1]||z<d[0]||z>d[1])continue;var L=s.dataToPoint([R,z]);A=new Yn({shape:{x:L[0]-c/2,y:L[1]-u/2,width:c,height:u},style:N})}else{if(isNaN(m.get(E[1],T)))continue;A=new Yn({z2:1,shape:s.dataToRect([m.get(E[0],T)]).contentShape,style:N})}if(m.hasItemOption){var V=m.getItemModel(T),F=V.getModel("emphasis");v=F.getModel("itemStyle").getItemStyle(),_=V.getModel(["blur","itemStyle"]).getItemStyle(),y=V.getModel(["select","itemStyle"]).getItemStyle(),b=V.get(["itemStyle","borderRadius"]),S=F.get("focus"),x=F.get("blurScope"),M=F.get("disabled"),w=Ff(V)}A.shape.r=b;var j=t.getRawValue(T),Y="-";j&&null!=j[2]&&(Y=j[2]+""),g1(A,w,{labelFetcher:t,labelDataIndex:T,defaultOpacity:N.opacity,defaultText:Y}),A.ensureState("emphasis").style=v,A.ensureState("blur").style=_,A.ensureState("select").style=y,p1(A,S,x,M),A.incremental=o,o&&(A.states.emphasis.hoverLayer=!0),g.add(A),m.setItemGraphicEl(T,A),this._progressiveEls&&this._progressiveEls.push(A)}},n.prototype._renderOnGeo=function(t,r,i,a){var o=i.targetVisuals.inRange,s=i.targetVisuals.outOfRange,l=r.getData(),c=this._hmLayer||this._hmLayer||new dAe;c.blurSize=r.get("blurSize"),c.pointSize=r.get("pointSize"),c.minOpacity=r.get("minOpacity"),c.maxOpacity=r.get("maxOpacity");var u=t.getViewRect().clone(),h=t.getRoamTransform();u.applyTransform(h);var d=Math.max(u.x,0),f=Math.max(u.y,0),p=Math.min(u.width+u.x,a.getWidth()),g=Math.min(u.height+u.y,a.getHeight()),m=p-d,v=g-f,_=[l.mapDimension("lng"),l.mapDimension("lat"),l.mapDimension("value")],y=l.mapArray(_,function(S,x,M){var E=t.dataToPoint([S,x]);return E[0]-=d,E[1]-=f,E.push(M),E}),b=i.getExtent(),w="visualMap.continuous"===i.type?function pAe(e,n){var t=e[1]-e[0];return n=[(n[0]-e[0])/t,(n[1]-e[0])/t],function(r){return r>=n[0]&&r<=n[1]}}(b,i.option.range):function fAe(e,n,t){var r=e[1]-e[0],i=(n=De(n,function(o){return{interval:[(o.interval[0]-e[0])/r,(o.interval[1]-e[0])/r]}})).length,a=0;return function(o){var s;for(s=a;s<i;s++)if((l=n[s].interval)[0]<=o&&o<=l[1]){a=s;break}if(s===i)for(s=a-1;s>=0;s--){var l;if((l=n[s].interval)[0]<=o&&o<=l[1]){a=s;break}}return s>=0&&s<i&&t[s]}}(b,i.getPieceList(),i.option.selected);c.update(y,m,v,o.color.getNormalizer(),{inRange:o.color.getColorMapper(),outOfRange:s.color.getColorMapper()},w);var C=new qs({style:{width:m,height:v,x:d,y:f,image:c.canvas},silent:!0});this.group.add(C)},n.type="heatmap",n}(Rr);const mAe=gAe;var vAe=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=n.type,t}return ke(n,e),n.prototype.getInitialData=function(t,r){return am(null,this,{generateCoord:"value"})},n.prototype.preventIncremental=function(){var t=S1.get(this.get("coordinateSystem"));if(t&&t.dimensions)return"lng"===t.dimensions[0]&&"lat"===t.dimensions[1]},n.type="series.heatmap",n.dependencies=["grid","geo","calendar"],n.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},n}(si);const _Ae=vAe;var bAe=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=n.type,t.layoutMode={type:"box",ignoreSize:!0},t}return ke(n,e),n.type="title",n.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},n}(cn),CAe=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=n.type,t}return ke(n,e),n.prototype.render=function(t,r,i){if(this.group.removeAll(),t.get("show")){var a=this.group,o=t.getModel("textStyle"),s=t.getModel("subtextStyle"),l=t.get("textAlign"),c=qt(t.get("textBaseline"),t.get("textVerticalAlign")),u=new nr({style:Ti(o,{text:t.get("text"),fill:o.getTextColor()},{disableBox:!0}),z2:10}),h=u.getBoundingRect(),d=t.get("subtext"),f=new nr({style:Ti(s,{text:d,fill:s.getTextColor(),y:h.height+t.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),p=t.get("link"),g=t.get("sublink"),m=t.get("triggerEvent",!0);u.silent=!p&&!m,f.silent=!g&&!m,p&&u.on("click",function(){kU(p,"_"+t.get("target"))}),g&&f.on("click",function(){kU(g,"_"+t.get("subtarget"))}),tn(u).eventData=tn(f).eventData=m?{componentType:"title",componentIndex:t.componentIndex}:null,a.add(u),d&&a.add(f);var v=a.getBoundingRect(),_=t.getBoxLayoutParams();_.width=v.width,_.height=v.height;var y=us(_,{width:i.getWidth(),height:i.getHeight()},t.get("padding"));l||("middle"===(l=t.get("left")||t.get("right"))&&(l="center"),"right"===l?y.x+=y.width:"center"===l&&(y.x+=y.width/2)),c||("center"===(c=t.get("top")||t.get("bottom"))&&(c="middle"),"bottom"===c?y.y+=y.height:"middle"===c&&(y.y+=y.height/2),c=c||"top"),a.x=y.x,a.y=y.y,a.markRedraw();var b={align:l,verticalAlign:c};u.setStyle(b),f.setStyle(b),v=a.getBoundingRect();var w=y.margin,C=t.getItemStyle(["color","opacity"]);C.fill=t.get("backgroundColor");var S=new Yn({shape:{x:v.x-w[3],y:v.y-w[0],width:v.width+w[1]+w[3],height:v.height+w[0]+w[2],r:t.get("borderRadius")},style:C,subPixelOptimize:!0,silent:!0});a.add(S)}},n.type="title",n}(Ei);function o4(e,n){return"all"===e||ne(e)&&sn(e,n)>=0||e===n}function EAe(e){var n=s4(e);if(n){var t=n.axisPointerModel,r=n.axis.scale,i=t.option,a=t.get("status"),o=t.get("value");null!=o&&(o=r.parse(o));var s=l4(t);null==a&&(i.status=s?"show":"hide");var l=r.getExtent().slice();l[0]>l[1]&&l.reverse(),(null==o||o>l[1])&&(o=l[1]),o<l[0]&&(o=l[0]),i.value=o,s&&(i.status=n.axis.scale.isBlank()?"hide":"show")}}function s4(e){var n=(e.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return n&&n.axesInfo[om(e)]}function l4(e){return!!e.get(["handle","show"])}function om(e){return e.type+"||"+e.id}var F$={},NAe=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=n.type,t}return ke(n,e),n.prototype.render=function(t,r,i,a){this.axisPointerClass&&EAe(t),e.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(t,i,!0)},n.prototype.updateAxisPointer=function(t,r,i,a){this._doUpdateAxisPointerClass(t,i,!1)},n.prototype.remove=function(t,r){var i=this._axisPointer;i&&i.remove(r)},n.prototype.dispose=function(t,r){this._disposeAxisPointer(r),e.prototype.dispose.apply(this,arguments)},n.prototype._doUpdateAxisPointerClass=function(t,r,i){var a=n.getAxisPointerClass(this.axisPointerClass);if(a){var o=function AAe(e){var n=s4(e);return n&&n.axisPointerModel}(t);o?(this._axisPointer||(this._axisPointer=new a)).render(t,o,r,i):this._disposeAxisPointer(r)}},n.prototype._disposeAxisPointer=function(t){this._axisPointer&&this._axisPointer.dispose(t),this._axisPointer=null},n.registerAxisPointerClass=function(t,r){F$[t]=r},n.getAxisPointerClass=function(t){return t&&F$[t]},n.type="axis",n}(Ei);const z$=NAe;var Dh=$n(),B$=ht,c4=ln,IAe=function(){function e(){this._dragging=!1,this.animationThreshold=15}return e.prototype.render=function(n,t,r,i){var a=t.get("value"),o=t.get("status");if(this._axisModel=n,this._axisPointerModel=t,this._api=r,i||this._lastValue!==a||this._lastStatus!==o){this._lastValue=a,this._lastStatus=o;var s=this._group,l=this._handle;if(!o||"hide"===o)return s&&s.hide(),void(l&&l.hide());s&&s.show(),l&&l.show();var c={};this.makeElOption(c,a,n,t,r);var u=c.graphicKey;u!==this._lastGraphicKey&&this.clear(r),this._lastGraphicKey=u;var h=this._moveAnimation=this.determineAnimation(n,t);if(s){var d=An(V$,t,h);this.updatePointerEl(s,c,d),this.updateLabelEl(s,c,d,t)}else s=this._group=new $r,this.createPointerEl(s,c,n,t),this.createLabelEl(s,c,n,t),r.getZr().add(s);G$(s,t,!0),this._renderHandle(a)}},e.prototype.remove=function(n){this.clear(n)},e.prototype.dispose=function(n){this.clear(n)},e.prototype.determineAnimation=function(n,t){var r=t.get("animation"),i=n.axis,a="category"===i.type,o=t.get("snap");if(!o&&!a)return!1;if("auto"===r||null==r){var s=this.animationThreshold;if(a&&i.getBandWidth()>s)return!0;if(o){var l=s4(n).seriesDataCount,c=i.getExtent();return Math.abs(c[0]-c[1])/l>s}return!1}return!0===r},e.prototype.makeElOption=function(n,t,r,i,a){},e.prototype.createPointerEl=function(n,t,r,i){var a=t.pointer;if(a){var o=Dh(n).pointerEl=new Ve[a.type](B$(t.pointer));n.add(o)}},e.prototype.createLabelEl=function(n,t,r,i){if(t.label){var a=Dh(n).labelEl=new nr(B$(t.label));n.add(a),U$(a,i)}},e.prototype.updatePointerEl=function(n,t,r){var i=Dh(n).pointerEl;i&&t.pointer&&(i.setStyle(t.pointer.style),r(i,{shape:t.pointer.shape}))},e.prototype.updateLabelEl=function(n,t,r,i){var a=Dh(n).labelEl;a&&(a.setStyle(t.label.style),r(a,{x:t.label.x,y:t.label.y}),U$(a,i))},e.prototype._renderHandle=function(n){if(!this._dragging&&this.updateHandleTransform){var s,t=this._axisPointerModel,r=this._api.getZr(),i=this._handle,a=t.getModel("handle"),o=t.get("status");if(!a.get("show")||!o||"hide"===o)return i&&r.remove(i),void(this._handle=null);this._handle||(s=!0,i=this._handle=fA(a.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(c){Wg(c.event)},onmousedown:c4(this._onHandleDragMove,this,0,0),drift:c4(this._onHandleDragMove,this),ondragend:c4(this._onHandleDragEnd,this)}),r.add(i)),G$(i,t,!1),i.setStyle(a.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var l=a.get("size");ne(l)||(l=[l,l]),i.scaleX=l[0]/2,i.scaleY=l[1]/2,DW(this,"_doDispatchAxisPointer",a.get("throttle")||0,"fixRate"),this._moveHandleToValue(n,s)}},e.prototype._moveHandleToValue=function(n,t){V$(this._axisPointerModel,!t&&this._moveAnimation,this._handle,u4(this.getHandleTransform(n,this._axisModel,this._axisPointerModel)))},e.prototype._onHandleDragMove=function(n,t){var r=this._handle;if(r){this._dragging=!0;var i=this.updateHandleTransform(u4(r),[n,t],this._axisModel,this._axisPointerModel);this._payloadInfo=i,r.stopAnimation(),r.attr(u4(i)),Dh(r).lastProp=null,this._doDispatchAxisPointer()}},e.prototype._doDispatchAxisPointer=function(){if(this._handle){var t=this._payloadInfo,r=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:r.axis.dim,axisIndex:r.componentIndex}]})}},e.prototype._onHandleDragEnd=function(){if(this._dragging=!1,this._handle){var t=this._axisPointerModel.get("value");this._moveHandleToValue(t),this._api.dispatchAction({type:"hideTip"})}},e.prototype.clear=function(n){this._lastValue=null,this._lastStatus=null;var t=n.getZr(),r=this._group,i=this._handle;t&&r&&(this._lastGraphicKey=null,r&&t.remove(r),i&&t.remove(i),this._group=null,this._handle=null,this._payloadInfo=null),_A(this,"_doDispatchAxisPointer")},e.prototype.doClear=function(){},e.prototype.buildLabel=function(n,t,r){return{x:n[r=r||0],y:n[1-r],width:t[r],height:t[1-r]}},e}();function V$(e,n,t,r){H$(Dh(t).lastProp,r)||(Dh(t).lastProp=r,n?Vi(t,r,e):(t.stopAnimation(),t.attr(r)))}function H$(e,n){if(ze(e)&&ze(n)){var t=!0;return I(n,function(r,i){t=t&&H$(e[i],r)}),!!t}return e===n}function U$(e,n){e[n.get(["label","show"])?"show":"hide"]()}function u4(e){return{x:e.x||0,y:e.y||0,rotation:e.rotation||0}}function G$(e,n,t){var r=n.get("z"),i=n.get("zlevel");e&&e.traverse(function(a){"group"!==a.type&&(null!=r&&(a.z=r),null!=i&&(a.zlevel=i),a.silent=t)})}const PAe=IAe;var W$=function(){function e(n){this._setting=n||{},this._extent=[1/0,-1/0]}return e.prototype.getSetting=function(n){return this._setting[n]},e.prototype.unionExtent=function(n){var t=this._extent;n[0]<t[0]&&(t[0]=n[0]),n[1]>t[1]&&(t[1]=n[1])},e.prototype.unionExtentFromData=function(n,t){this.unionExtent(n.getApproximateExtent(t))},e.prototype.getExtent=function(){return this._extent.slice()},e.prototype.setExtent=function(n,t){var r=this._extent;isNaN(n)||(r[0]=n),isNaN(t)||(r[1]=t)},e.prototype.isInExtentRange=function(n){return this._extent[0]<=n&&this._extent[1]>=n},e.prototype.isBlank=function(){return this._isBlank},e.prototype.setBlank=function(n){this._isBlank=n},e}();I2(W$);const Bl=W$;var OAe=0,RAe=function(){function e(n){this.categories=n.categories||[],this._needCollect=n.needCollect,this._deduplication=n.deduplication,this.uid=++OAe}return e.createByAxisModel=function(n){var t=n.option,r=t.data,i=r&&De(r,LAe);return new e({categories:i,needCollect:!i,deduplication:!1!==t.dedplication})},e.prototype.getOrdinal=function(n){return this._getOrCreateMap().get(n)},e.prototype.parseAndCollect=function(n){var t,r=this._needCollect;if(!Fe(n)&&!r)return n;if(r&&!this._deduplication)return this.categories[t=this.categories.length]=n,t;var i=this._getOrCreateMap();return null==(t=i.get(n))&&(r?(this.categories[t=this.categories.length]=n,i.set(n,t)):t=NaN),t},e.prototype._getOrCreateMap=function(){return this._map||(this._map=bt(this.categories))},e}();function LAe(e){return ze(e)&&null!=e.value?e.value:e+""}const Yb=RAe;function h4(e){return"interval"===e.type||"log"===e.type}function d4(e){var n=Math.pow(10,V3(e)),t=e/n;return t?2===t?t=3:3===t?t=5:t*=2:t=1,ur(t*n)}function j$(e){return Ws(e)+2}function $$(e,n,t){e[n]=Math.max(Math.min(e[n],t[1]),t[0])}function Xb(e,n){return e>=n[0]&&e<=n[1]}function qb(e,n){return n[1]===n[0]?.5:(e-n[0])/(n[1]-n[0])}function Zb(e,n){return e*(n[1]-n[0])+n[0]}var Y$=function(e){function n(t){var r=e.call(this,t)||this;r.type="ordinal";var i=r.getSetting("ordinalMeta");return i||(i=new Yb({})),ne(i)&&(i=new Yb({categories:De(i,function(a){return ze(a)?a.value:a})})),r._ordinalMeta=i,r._extent=r.getSetting("extent")||[0,i.categories.length-1],r}return ke(n,e),n.prototype.parse=function(t){return null==t?NaN:Fe(t)?this._ordinalMeta.getOrdinal(t):Math.round(t)},n.prototype.contain=function(t){return Xb(t=this.parse(t),this._extent)&&null!=this._ordinalMeta.categories[t]},n.prototype.normalize=function(t){return qb(t=this._getTickNumber(this.parse(t)),this._extent)},n.prototype.scale=function(t){return t=Math.round(Zb(t,this._extent)),this.getRawOrdinalNumber(t)},n.prototype.getTicks=function(){for(var t=[],r=this._extent,i=r[0];i<=r[1];)t.push({value:i}),i++;return t},n.prototype.getMinorTicks=function(t){},n.prototype.setSortInfo=function(t){if(null!=t){for(var r=t.ordinalNumbers,i=this._ordinalNumbersByTick=[],a=this._ticksByOrdinalNumber=[],o=0,s=this._ordinalMeta.categories.length,l=Math.min(s,r.length);o<l;++o){var c=r[o];i[o]=c,a[c]=o}for(var u=0;o<s;++o){for(;null!=a[u];)u++;i.push(u),a[u]=o}}else this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null},n.prototype._getTickNumber=function(t){var r=this._ticksByOrdinalNumber;return r&&t>=0&&t<r.length?r[t]:t},n.prototype.getRawOrdinalNumber=function(t){var r=this._ordinalNumbersByTick;return r&&t>=0&&t<r.length?r[t]:t},n.prototype.getLabel=function(t){if(!this.isBlank()){var r=this.getRawOrdinalNumber(t.value),i=this._ordinalMeta.categories[r];return null==i?"":i+""}},n.prototype.count=function(){return this._extent[1]-this._extent[0]+1},n.prototype.unionExtentFromData=function(t,r){this.unionExtent(t.getApproximateExtent(r))},n.prototype.isInExtentRange=function(t){return t=this._getTickNumber(t),this._extent[0]<=t&&this._extent[1]>=t},n.prototype.getOrdinalMeta=function(){return this._ordinalMeta},n.prototype.calcNiceTicks=function(){},n.prototype.calcNiceExtent=function(){},n.type="ordinal",n}(Bl);Bl.registerClass(Y$);const X$=Y$;var Eh=ur,q$=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="interval",t._interval=0,t._intervalPrecision=2,t}return ke(n,e),n.prototype.parse=function(t){return t},n.prototype.contain=function(t){return Xb(t,this._extent)},n.prototype.normalize=function(t){return qb(t,this._extent)},n.prototype.scale=function(t){return Zb(t,this._extent)},n.prototype.setExtent=function(t,r){var i=this._extent;isNaN(t)||(i[0]=parseFloat(t)),isNaN(r)||(i[1]=parseFloat(r))},n.prototype.unionExtent=function(t){var r=this._extent;t[0]<r[0]&&(r[0]=t[0]),t[1]>r[1]&&(r[1]=t[1]),this.setExtent(r[0],r[1])},n.prototype.getInterval=function(){return this._interval},n.prototype.setInterval=function(t){this._interval=t,this._niceExtent=this._extent.slice(),this._intervalPrecision=j$(t)},n.prototype.getTicks=function(t){var r=this._interval,i=this._extent,a=this._niceExtent,o=this._intervalPrecision,s=[];if(!r)return s;i[0]<a[0]&&s.push(t?{value:Eh(a[0]-r,o)}:{value:i[0]});for(var c=a[0];c<=a[1]&&(s.push({value:c}),(c=Eh(c+r,o))!==s[s.length-1].value);)if(s.length>1e4)return[];var u=s.length?s[s.length-1].value:a[1];return i[1]>u&&s.push(t?{value:Eh(u+r,o)}:{value:i[1]}),s},n.prototype.getMinorTicks=function(t){for(var r=this.getTicks(!0),i=[],a=this.getExtent(),o=1;o<r.length;o++){for(var l=r[o-1],c=0,u=[],d=(r[o].value-l.value)/t;c<t-1;){var f=Eh(l.value+(c+1)*d);f>a[0]&&f<a[1]&&u.push(f),c++}i.push(u)}return i},n.prototype.getLabel=function(t,r){if(null==t)return"";var i=r&&r.precision;return null==i?i=Ws(t.value)||0:"auto"===i&&(i=this._intervalPrecision),ib(Eh(t.value,i,!0))},n.prototype.calcNiceTicks=function(t,r,i){t=t||5;var a=this._extent,o=a[1]-a[0];if(isFinite(o)){o<0&&(o=-o,a.reverse());var s=function kAe(e,n,t,r){var i={},o=i.interval=eH((e[1]-e[0])/n,!0);null!=t&&o<t&&(o=i.interval=t),null!=r&&o>r&&(o=i.interval=r);var s=i.intervalPrecision=j$(o);return function FAe(e,n){!isFinite(e[0])&&(e[0]=n[0]),!isFinite(e[1])&&(e[1]=n[1]),$$(e,0,n),$$(e,1,n),e[0]>e[1]&&(e[0]=e[1])}(i.niceTickExtent=[ur(Math.ceil(e[0]/o)*o,s),ur(Math.floor(e[1]/o)*o,s)],e),i}(a,t,r,i);this._intervalPrecision=s.intervalPrecision,this._interval=s.interval,this._niceExtent=s.niceTickExtent}},n.prototype.calcNiceExtent=function(t){var r=this._extent;if(r[0]===r[1])if(0!==r[0]){var i=Math.abs(r[0]);t.fixMax||(r[1]+=i/2),r[0]-=i/2}else r[1]=1;isFinite(r[1]-r[0])||(r[0]=0,r[1]=1),this.calcNiceTicks(t.splitNumber,t.minInterval,t.maxInterval);var o=this._interval;t.fixMin||(r[0]=Eh(Math.floor(r[0]/o)*o)),t.fixMax||(r[1]=Eh(Math.ceil(r[1]/o)*o))},n.prototype.setNiceExtent=function(t,r){this._niceExtent=[t,r]},n.type="interval",n}(Bl);Bl.registerClass(q$);const sm=q$;var Z$=function(e){function n(t){var r=e.call(this,t)||this;return r.type="time",r}return ke(n,e),n.prototype.getLabel=function(t){var r=this.getSetting("useUTC");return J2(t.value,SU[function JSe(e){switch(e){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}(Bf(this._minLevelUnit))]||SU.second,r,this.getSetting("locale"))},n.prototype.getFormattedLabel=function(t,r,i){var a=this.getSetting("useUTC");return function exe(e,n,t,r,i){var a=null;if(Fe(t))a=t;else if(Ze(t))a=t(e.value,n,{level:e.level});else{var o=oe({},_1);if(e.level>0)for(var s=0;s<NE.length;++s)o[NE[s]]="{primary|"+o[NE[s]]+"}";var l=t?!1===t.inherit?t:ut(t,o):o,c=MU(e.value,i);if(l[c])a=l[c];else if(l.inherit){for(s=xU.indexOf(c)-1;s>=0;--s)if(l[c]){a=l[c];break}a=a||o.none}if(ne(a)){var h=null==e.level?0:e.level>=0?e.level:a.length+e.level;a=a[h=Math.min(h,a.length-1)]}}return J2(new Date(e.value),a,i,r)}(t,r,i,this.getSetting("locale"),a)},n.prototype.getTicks=function(){var r=this._extent,i=[];if(!this._interval)return i;i.push({value:r[0],level:0});var a=this.getSetting("useUTC"),o=function jAe(e,n,t,r){var a=xU,o=0;function s(E,T,A,N,R,z,L){for(var V=new Date(T),F=T,j=V[N]();F<A&&F<=r[1];)L.push({value:F}),V[R](j+=E),F=V.getTime();L.push({value:F,notAdd:!0})}function l(E,T,A){var N=[],R=!T.length;if(!function BAe(e,n,t,r){var i=ss(n),a=ss(t),o=function(p){return TU(i,p,r)===TU(a,p,r)},s=function(){return o("year")},l=function(){return s()&&o("month")},c=function(){return l()&&o("day")},u=function(){return c()&&o("hour")},h=function(){return u()&&o("minute")},d=function(){return h()&&o("second")};switch(e){case"year":return s();case"month":return l();case"day":return c();case"hour":return u();case"minute":return h();case"second":return d();case"millisecond":return d()&&o("millisecond")}}(Bf(E),r[0],r[1],t)){R&&(T=[{value:WAe(new Date(r[0]),E,t)},{value:r[1]}]);for(var z=0;z<T.length-1;z++){var L=T[z].value,V=T[z+1].value;if(L!==V){var F=void 0,j=void 0,Y=void 0;switch(E){case"year":F=Math.max(1,Math.round(n/Io/365)),j=IE(t),Y=txe(t);break;case"half-year":case"quarter":case"month":F=HAe(n),j=Vf(t),Y=DU(t);break;case"week":case"half-week":case"day":F=VAe(n),j=eb(t),Y=EU(t),!0;break;case"half-day":case"quarter-day":case"hour":F=UAe(n),j=y1(t),Y=AU(t);break;case"minute":F=K$(n,!0),j=tb(t),Y=NU(t);break;case"second":F=K$(n,!1),j=nb(t),Y=IU(t);break;case"millisecond":F=GAe(n),j=rb(t),Y=PU(t)}s(F,L,V,j,Y,0,N),"year"===E&&A.length>1&&0===z&&A.unshift({value:A[0].value-F})}}for(z=0;z<N.length;z++)A.push(N[z]);return N}}for(var c=[],u=[],h=0,d=0,f=0;f<a.length&&o++<1e4;++f){var p=Bf(a[f]);if(QSe(a[f])&&(l(a[f],c[c.length-1]||[],u),p!==(a[f+1]?Bf(a[f+1]):null))){if(u.length){d=h,u.sort(function(E,T){return E.value-T.value});for(var m=[],v=0;v<u.length;++v){var _=u[v].value;(0===v||u[v-1].value!==_)&&(m.push(u[v]),_>=r[0]&&_<=r[1]&&h++)}var y=(r[1]-r[0])/n;if(h>1.5*y&&d>y/1.5||(c.push(m),h>y||e===a[f]))break}u=[]}}var b=Mr(De(c,function(E){return Mr(E,function(T){return T.value>=r[0]&&T.value<=r[1]&&!T.notAdd})}),function(E){return E.length>0}),w=[],C=b.length-1;for(f=0;f<b.length;++f)for(var S=b[f],x=0;x<S.length;++x)w.push({value:S[x].value,level:C-f});w.sort(function(E,T){return E.value-T.value});var M=[];for(f=0;f<w.length;++f)(0===f||w[f].value!==w[f-1].value)&&M.push(w[f]);return M}(this._minLevelUnit,this._approxInterval,a,r);return(i=i.concat(o)).push({value:r[1],level:0}),i},n.prototype.calcNiceExtent=function(t){var r=this._extent;if(r[0]===r[1]&&(r[0]-=Io,r[1]+=Io),r[1]===-1/0&&r[0]===1/0){var i=new Date;r[1]=+new Date(i.getFullYear(),i.getMonth(),i.getDate()),r[0]=r[1]-Io}this.calcNiceTicks(t.splitNumber,t.minInterval,t.maxInterval)},n.prototype.calcNiceTicks=function(t,r,i){var a=this._extent;this._approxInterval=(a[1]-a[0])/(t=t||10),null!=r&&this._approxInterval<r&&(this._approxInterval=r),null!=i&&this._approxInterval>i&&(this._approxInterval=i);var s=Kb.length,l=Math.min(function(e,n,t,r){for(;t<r;){var i=t+r>>>1;e[i][1]<n?t=i+1:r=i}return t}(Kb,this._approxInterval,0,s),s-1);this._interval=Kb[l][1],this._minLevelUnit=Kb[Math.max(l-1,0)][0]},n.prototype.parse=function(t){return Sn(t)?t:+ss(t)},n.prototype.contain=function(t){return Xb(this.parse(t),this._extent)},n.prototype.normalize=function(t){return qb(this.parse(t),this._extent)},n.prototype.scale=function(t){return Zb(t,this._extent)},n.type="time",n}(sm),Kb=[["second",1e3],["minute",6e4],["hour",v1],["quarter-day",6*v1],["half-day",12*v1],["day",1.2*Io],["half-week",3.5*Io],["week",7*Io],["month",31*Io],["quarter",95*Io],["half-year",wU/2],["year",wU]];function VAe(e,n){return(e/=Io)>16?16:e>7.5?7:e>3.5?4:e>1.5?2:1}function HAe(e){return(e/=2592e6)>6?6:e>3?3:e>2?2:1}function UAe(e){return(e/=v1)>12?12:e>6?6:e>3.5?4:e>2?2:1}function K$(e,n){return(e/=n?6e4:1e3)>30?30:e>20?20:e>15?15:e>10?10:e>5?5:e>2?2:1}function GAe(e){return eH(e,!0)}function WAe(e,n,t){var r=new Date(e);switch(Bf(n)){case"year":case"month":r[DU(t)](0);case"day":r[EU(t)](1);case"hour":r[AU(t)](0);case"minute":r[NU(t)](0);case"second":r[IU(t)](0),r[PU(t)](0)}return r.getTime()}Bl.registerClass(Z$);const $Ae=Z$;var Q$=Bl.prototype,lm=sm.prototype,YAe=ur,XAe=Math.floor,qAe=Math.ceil,Qb=Math.pow,ms=Math.log,f4=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="log",t.base=10,t._originalScale=new sm,t._interval=0,t}return ke(n,e),n.prototype.getTicks=function(t){var i=this._extent,a=this._originalScale.getExtent();return De(lm.getTicks.call(this,t),function(s){var l=s.value,c=ur(Qb(this.base,l));return c=l===i[0]&&this._fixMin?Jb(c,a[0]):c,{value:c=l===i[1]&&this._fixMax?Jb(c,a[1]):c}},this)},n.prototype.setExtent=function(t,r){var i=ms(this.base);t=ms(Math.max(0,t))/i,r=ms(Math.max(0,r))/i,lm.setExtent.call(this,t,r)},n.prototype.getExtent=function(){var t=this.base,r=Q$.getExtent.call(this);r[0]=Qb(t,r[0]),r[1]=Qb(t,r[1]);var a=this._originalScale.getExtent();return this._fixMin&&(r[0]=Jb(r[0],a[0])),this._fixMax&&(r[1]=Jb(r[1],a[1])),r},n.prototype.unionExtent=function(t){this._originalScale.unionExtent(t);var r=this.base;t[0]=ms(t[0])/ms(r),t[1]=ms(t[1])/ms(r),Q$.unionExtent.call(this,t)},n.prototype.unionExtentFromData=function(t,r){this.unionExtent(t.getApproximateExtent(r))},n.prototype.calcNiceTicks=function(t){t=t||10;var r=this._extent,i=r[1]-r[0];if(!(i===1/0||i<=0)){var a=function XCe(e){return Math.pow(10,V3(e))}(i);for(t/i*a<=.5&&(a*=10);!isNaN(a)&&Math.abs(a)<1&&Math.abs(a)>0;)a*=10;var s=[ur(qAe(r[0]/a)*a),ur(XAe(r[1]/a)*a)];this._interval=a,this._niceExtent=s}},n.prototype.calcNiceExtent=function(t){lm.calcNiceExtent.call(this,t),this._fixMin=t.fixMin,this._fixMax=t.fixMax},n.prototype.parse=function(t){return t},n.prototype.contain=function(t){return Xb(t=ms(t)/ms(this.base),this._extent)},n.prototype.normalize=function(t){return qb(t=ms(t)/ms(this.base),this._extent)},n.prototype.scale=function(t){return t=Zb(t,this._extent),Qb(this.base,t)},n.type="log",n}(Bl),J$=f4.prototype;function Jb(e,n){return YAe(e,Ws(n))}J$.getMinorTicks=lm.getMinorTicks,J$.getLabel=lm.getLabel,Bl.registerClass(f4);const ZAe=f4;var KAe=function(){function e(n,t,r){this._prepareParams(n,t,r)}return e.prototype._prepareParams=function(n,t,r){r[1]<r[0]&&(r=[NaN,NaN]),this._dataMin=r[0],this._dataMax=r[1];var i=this._isOrdinal="ordinal"===n.type;this._needCrossZero="interval"===n.type&&t.getNeedCrossZero&&t.getNeedCrossZero();var a=this._modelMinRaw=t.get("min",!0);Ze(a)?this._modelMinNum=eC(n,a({min:r[0],max:r[1]})):"dataMin"!==a&&(this._modelMinNum=eC(n,a));var o=this._modelMaxRaw=t.get("max",!0);if(Ze(o)?this._modelMaxNum=eC(n,o({min:r[0],max:r[1]})):"dataMax"!==o&&(this._modelMaxNum=eC(n,o)),i)this._axisDataLen=t.getCategories().length;else{var s=t.get("boundaryGap"),l=ne(s)?s:[s||0,s||0];this._boundaryGapInner="boolean"==typeof l[0]||"boolean"==typeof l[1]?[0,0]:[Nl(l[0],1),Nl(l[1],1)]}},e.prototype.calculate=function(){var n=this._isOrdinal,t=this._dataMin,r=this._dataMax,i=this._axisDataLen,a=this._boundaryGapInner,o=n?null:r-t||Math.abs(t),s="dataMin"===this._modelMinRaw?t:this._modelMinNum,l="dataMax"===this._modelMaxRaw?r:this._modelMaxNum,c=null!=s,u=null!=l;null==s&&(s=n?i?0:NaN:t-a[0]*o),null==l&&(l=n?i?i-1:NaN:r+a[1]*o),(null==s||!isFinite(s))&&(s=NaN),(null==l||!isFinite(l))&&(l=NaN);var h=Qy(s)||Qy(l)||n&&!i;this._needCrossZero&&(s>0&&l>0&&!c&&(s=0),s<0&&l<0&&!u&&(l=0));var d=this._determinedMin,f=this._determinedMax;return null!=d&&(s=d,c=!0),null!=f&&(l=f,u=!0),{min:s,max:l,minFixed:c,maxFixed:u,isBlank:h}},e.prototype.modifyDataMinMax=function(n,t){this[JAe[n]]=t},e.prototype.setDeterminedMinMax=function(n,t){this[QAe[n]]=t},e.prototype.freeze=function(){this.frozen=!0},e}(),QAe={min:"_determinedMin",max:"_determinedMax"},JAe={min:"_dataMin",max:"_dataMax"};function eC(e,n){return null==n?null:Qy(n)?NaN:e.parse(n)}function eY(e,n){var t=e.type,r=function e4e(e,n,t){var r=e.rawExtentInfo;return r||(r=new KAe(e,n,t),e.rawExtentInfo=r,r)}(e,n,e.getExtent()).calculate();e.setBlank(r.isBlank);var i=r.min,a=r.max,o=n.ecModel;if(o&&"time"===t){var s=Kj("bar",o),l=!1;if(I(s,function(h){l=l||h.getBaseAxis()===n.axis}),l){var c=Qj(s),u=function t4e(e,n,t,r){var i=t.axis.getExtent(),a=i[1]-i[0],o=function Y3e(e,n,t){if(e&&n){var r=e[XA(n)];return null!=r&&null!=t?r[YA(t)]:r}}(r,t.axis);if(void 0===o)return{min:e,max:n};var s=1/0;I(o,function(f){s=Math.min(f.offset,s)});var l=-1/0;I(o,function(f){l=Math.max(f.offset+f.width,l)}),s=Math.abs(s),l=Math.abs(l);var c=s+l,u=n-e,d=u/(1-(s+l)/a)-u;return{min:e-=d*(s/c),max:n+=d*(l/c)}}(i,a,n,c);i=u.min,a=u.max}}return{extent:[i,a],fixMin:r.minFixed,fixMax:r.maxFixed}}function p4(e,n){var t=n,r=eY(e,t),i=r.extent,a=t.get("splitNumber");e instanceof ZAe&&(e.base=t.get("logBase"));var o=e.type,s=t.get("interval"),l="interval"===o||"time"===o;e.setExtent(i[0],i[1]),e.calcNiceExtent({splitNumber:a,fixMin:r.fixMin,fixMax:r.fixMax,minInterval:l?t.get("minInterval"):null,maxInterval:l?t.get("maxInterval"):null}),null!=s&&e.setInterval&&e.setInterval(s)}function tY(e,n){if(n=n||e.get("type"))switch(n){case"category":return new X$({ordinalMeta:e.getOrdinalMeta?e.getOrdinalMeta():e.getCategories(),extent:[1/0,-1/0]});case"time":return new $Ae({locale:e.ecModel.getLocaleModel(),useUTC:e.ecModel.get("useUTC")});default:return new(Bl.getClass(n)||sm)}}function cm(e){var r,n=e.getLabelModel().get("formatter"),t="category"===e.type?e.scale.getExtent()[0]:null;return"time"===e.scale.type?(r=n,function(i,a){return e.scale.getFormattedLabel(i,a,r)}):Fe(n)?function(r){return function(i){var a=e.scale.getLabel(i);return r.replace("{value}",a??"")}}(n):Ze(n)?function(r){return function(i,a){return null!=t&&(a=i.value-t),r(g4(e,i),a,null!=i.level?{level:i.level}:null)}}(n):function(r){return e.scale.getLabel(r)}}function g4(e,n){return"category"===e.type?e.scale.getLabel(n):n.value}function i4e(e,n){var t=n*Math.PI/180,r=e.width,i=e.height,a=r*Math.abs(Math.cos(t))+Math.abs(i*Math.sin(t)),o=r*Math.abs(Math.sin(t))+Math.abs(i*Math.cos(t));return new Yt(e.x,e.y,a,o)}function m4(e){return e.get("interval")??"auto"}function nY(e){return"category"===e.type&&0===m4(e.getLabelModel())}function iY(e){for(var n=[],t=0;t<e.length;t++){var r=e[t];if(!r.defaultAttr.ignore){var i=r.label,a=i.getComputedTransform(),o=i.getBoundingRect(),s=!a||a[1]<1e-5&&a[2]<1e-5,l=i.style.margin||0,c=o.clone();c.applyTransform(a),c.x-=l/2,c.y-=l/2,c.width+=l,c.height+=l;var u=s?new bb(o,a):null;n.push({label:i,labelLine:r.labelLine,rect:c,localRect:o,obb:u,priority:r.priority,defaultAttr:r.defaultAttr,layoutOption:r.computedLayoutOption,axisAligned:s,transform:a})}}return n}function aY(e,n,t,r,i,a){var o=e.length;if(!(o<2)){e.sort(function(M,E){return M.rect[n]-E.rect[n]});for(var l,s=0,c=!1,u=[],h=0,d=0;d<o;d++){var f=e[d],p=f.rect;(l=p[n]-s)<0&&(p[n]-=l,f.label[n]-=l,c=!0);var g=Math.max(-l,0);u.push(g),h+=g,s=p[n]+p[t]}h>0&&a&&C(-h/o,0,o);var _,y,m=e[0],v=e[o-1];return b(),_<0&&S(-_,.8),y<0&&S(y,.8),b(),w(_,y,1),w(y,_,-1),b(),_<0&&x(-_),y<0&&x(y),c}function b(){_=m.rect[n]-r,y=i-v.rect[n]-v.rect[t]}function w(M,E,T){if(M<0){var A=Math.min(E,-M);if(A>0){C(A*T,0,o);var N=A+M;N<0&&S(-N*T,1)}else S(-M*T,1)}}function C(M,E,T){0!==M&&(c=!0);for(var A=E;A<T;A++){var N=e[A];N.rect[n]+=M,N.label[n]+=M}}function S(M,E){for(var T=[],A=0,N=1;N<o;N++){var R=e[N-1].rect,z=Math.max(e[N].rect[n]-R[n]-R[t],0);T.push(z),A+=z}if(A){var L=Math.min(Math.abs(M)/A,E);if(M>0)for(N=0;N<o-1;N++)C(T[N]*L,0,N+1);else for(N=o-1;N>0;N--)C(-T[N-1]*L,N,o)}}function x(M){var E=M<0?-1:1;M=Math.abs(M);for(var T=Math.ceil(M/(o-1)),A=0;A<o-1;A++)if(E>0?C(T,0,A+1):C(-T,o-A-1,o),(M-=T)<=0)return}}function oY(e){var n=[];e.sort(function(g,m){return m.priority-g.priority});var t=new Yt(0,0,0,0);function r(g){if(!g.ignore){var m=g.ensureState("emphasis");null==m.ignore&&(m.ignore=!1)}g.ignore=!0}for(var i=0;i<e.length;i++){var a=e[i],o=a.axisAligned,s=a.localRect,l=a.transform,c=a.label,u=a.labelLine;t.copy(a.rect),t.width-=.1,t.height-=.1,t.x+=.05,t.y+=.05;for(var h=a.obb,d=!1,f=0;f<n.length;f++){var p=n[f];if(t.intersect(p.rect)){if(o&&p.axisAligned){d=!0;break}if(p.obb||(p.obb=new bb(p.localRect,p.transform)),h||(h=new bb(s,l)),h.intersect(p.obb)){d=!0;break}}}d?(r(c),u&&r(u)):(c.attr("ignore",a.defaultAttr.ignore),u&&u.attr("ignore",a.defaultAttr.labelGuideIgnore),n.push(a))}}var Pc=Math.PI,Ah=function(){function e(n,t){this.group=new $r,this.opt=t,this.axisModel=n,ut(t,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var r=new $r({x:t.position[0],y:t.position[1],rotation:t.rotation});r.updateTransform(),this._transformGroup=r}return e.prototype.hasBuilder=function(n){return!!sY[n]},e.prototype.add=function(n){sY[n](this.opt,this.axisModel,this.group,this._transformGroup)},e.prototype.getGroup=function(){return this.group},e.innerTextLayout=function(n,t,r){var a,o,i=JV(t-n);return N2(i)?(o=r>0?"top":"bottom",a="center"):N2(i-Pc)?(o=r>0?"bottom":"top",a="center"):(o="middle",a=i>0&&i<Pc?r>0?"right":"left":r>0?"left":"right"),{rotation:i,textAlign:a,textVerticalAlign:o}},e.makeAxisEventDataBase=function(n){var t={componentType:n.mainType,componentIndex:n.componentIndex};return t[n.mainType+"Index"]=n.componentIndex,t},e.isLabelSilent=function(n){var t=n.get("tooltip");return n.get("silent")||!(n.get("triggerEvent")||t&&t.show)},e}(),sY={axisLine:function(e,n,t,r){var i=n.get(["axisLine","show"]);if("auto"===i&&e.handleAutoShown&&(i=e.handleAutoShown("axisLine")),i){var a=n.axis.getExtent(),o=r.transform,s=[a[0],0],l=[a[1],0],c=s[0]>l[0];o&&(zi(s,s,o),zi(l,l,o));var u=oe({lineCap:"round"},n.getModel(["axisLine","lineStyle"]).getLineStyle()),h=new yh({shape:{x1:s[0],y1:s[1],x2:l[0],y2:l[1]},style:u,strokeContainThreshold:e.strokeContainThreshold||5,silent:!0,z2:1});P1(h.shape,h.style.lineWidth),h.anid="line",t.add(h);var d=n.get(["axisLine","symbol"]);if(null!=d){var f=n.get(["axisLine","symbolSize"]);Fe(d)&&(d=[d,d]),(Fe(f)||Sn(f))&&(f=[f,f]);var p=UW(n.get(["axisLine","symbolOffset"])||0,f),g=f[0],m=f[1];I([{rotate:e.rotation+Math.PI/2,offset:p[0],r:0},{rotate:e.rotation-Math.PI/2,offset:p[1],r:Math.sqrt((s[0]-l[0])*(s[0]-l[0])+(s[1]-l[1])*(s[1]-l[1]))}],function(v,_){if("none"!==d[_]&&null!=d[_]){var y=Qs(d[_],-g/2,-m/2,g,m,u.stroke,!0),b=v.r+v.offset,w=c?l:s;y.attr({rotation:v.rotate,x:w[0]+b*Math.cos(e.rotation),y:w[1]-b*Math.sin(e.rotation),silent:!0,z2:11}),t.add(y)}})}}},axisTickLabel:function(e,n,t,r){var i=function c4e(e,n,t,r){var i=t.axis,a=t.getModel("axisTick"),o=a.get("show");if("auto"===o&&r.handleAutoShown&&(o=r.handleAutoShown("axisTick")),o&&!i.scale.isBlank()){for(var s=a.getModel("lineStyle"),l=r.tickDirection*a.get("length"),u=uY(i.getTicksCoords(),n.transform,l,ut(s.getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])}),"ticks"),h=0;h<u.length;h++)e.add(u[h]);return u}}(t,r,n,e),a=function h4e(e,n,t,r){var i=t.axis;if(yf(r.axisLabelShow,t.get(["axisLabel","show"]))&&!i.scale.isBlank()){var o=t.getModel("axisLabel"),s=o.get("margin"),l=i.getViewLabels(),c=(yf(r.labelRotate,o.get("rotate"))||0)*Pc/180,u=Ah.innerTextLayout(r.rotation,c,r.labelDirection),h=t.getCategories&&t.getCategories(!0),d=[],f=Ah.isLabelSilent(t),p=t.get("triggerEvent");return I(l,function(g,m){var v="ordinal"===i.scale.type?i.scale.getRawOrdinalNumber(g.tickValue):g.tickValue,_=g.formattedLabel,y=g.rawLabel,b=o;if(h&&h[v]){var w=h[v];ze(w)&&w.textStyle&&(b=new Tr(w.textStyle,o,t.ecModel))}var C=b.getTextColor()||t.get(["axisLine","lineStyle","color"]),S=i.dataToCoord(v),x=new nr({x:S,y:r.labelOffset+r.labelDirection*s,rotation:u.rotation,silent:f,z2:10+(g.level||0),style:Ti(b,{text:_,align:b.getShallow("align",!0)||u.textAlign,verticalAlign:b.getShallow("verticalAlign",!0)||b.getShallow("baseline",!0)||u.textVerticalAlign,fill:Ze(C)?C("category"===i.type?y:"value"===i.type?v+"":v,m):C})});if(x.anid="label_"+v,p){var M=Ah.makeAxisEventDataBase(t);M.targetType="axisLabel",M.value=y,M.tickIndex=m,"category"===i.type&&(M.dataIndex=v),tn(x).eventData=M}n.add(x),x.updateTransform(),d.push(x),e.add(x),x.decomposeTransform()}),d}}(t,r,n,e);(function l4e(e,n,t){if(!nY(e.axis)){var r=e.get(["axisLabel","showMinLabel"]),i=e.get(["axisLabel","showMaxLabel"]),a=(n=n||[])[0],o=n[1],s=n[n.length-1],l=n[n.length-2],c=(t=t||[])[0],u=t[1],h=t[t.length-1],d=t[t.length-2];!1===r?(ko(a),ko(c)):lY(a,o)&&(r?(ko(o),ko(u)):(ko(a),ko(c))),!1===i?(ko(s),ko(h)):lY(l,s)&&(i?(ko(l),ko(d)):(ko(s),ko(h)))}})(n,a,i),function u4e(e,n,t,r){var i=t.axis,a=t.getModel("minorTick");if(a.get("show")&&!i.scale.isBlank()){var o=i.getMinorTicksCoords();if(o.length)for(var s=a.getModel("lineStyle"),l=r*a.get("length"),c=ut(s.getLineStyle(),ut(t.getModel("axisTick").getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])})),u=0;u<o.length;u++)for(var h=uY(o[u],n.transform,l,c,"minorticks_"+u),d=0;d<h.length;d++)e.add(h[d])}}(t,r,n,e.tickDirection),n.get(["axisLabel","hideOverlap"])&&oY(iY(De(a,function(s){return{label:s,priority:s.z2,defaultAttr:{ignore:s.ignore}}})))},axisName:function(e,n,t,r){var i=yf(e.axisName,n.get("name"));if(i){var d,p,a=n.get("nameLocation"),o=e.nameDirection,s=n.getModel("nameTextStyle"),l=n.get("nameGap")||0,c=n.axis.getExtent(),u=c[0]>c[1]?-1:1,h=["start"===a?c[0]-u*l:"end"===a?c[1]+u*l:(c[0]+c[1])/2,cY(a)?e.labelOffset+o*l:0],f=n.get("nameRotate");null!=f&&(f=f*Pc/180),cY(a)?d=Ah.innerTextLayout(e.rotation,f??e.rotation,o):(d=function s4e(e,n,t,r){var a,o,i=JV(t-e),s=r[0]>r[1],l="start"===n&&!s||"start"!==n&&s;return N2(i-Pc/2)?(o=l?"bottom":"top",a="center"):N2(i-1.5*Pc)?(o=l?"top":"bottom",a="center"):(o="middle",a=i<1.5*Pc&&i>Pc/2?l?"left":"right":l?"right":"left"),{rotation:i,textAlign:a,textVerticalAlign:o}}(e.rotation,a,f||0,c),null!=(p=e.axisNameAvailableWidth)&&(p=Math.abs(p/Math.sin(d.rotation)),!isFinite(p)&&(p=null)));var g=s.getFont(),m=n.get("nameTruncate",!0)||{},v=m.ellipsis,_=yf(e.nameTruncateMaxWidth,m.maxWidth,p),y=new nr({x:h[0],y:h[1],rotation:d.rotation,silent:Ah.isLabelSilent(n),style:Ti(s,{text:i,font:g,overflow:"truncate",width:_,ellipsis:v,fill:s.getTextColor()||n.get(["axisLine","lineStyle","color"]),align:s.get("align")||d.textAlign,verticalAlign:s.get("verticalAlign")||d.textVerticalAlign}),z2:1});if(gA({el:y,componentModel:n,itemName:i}),y.__fullText=i,y.anid="name",n.get("triggerEvent")){var b=Ah.makeAxisEventDataBase(n);b.targetType="axisName",b.name=i,tn(y).eventData=b}r.add(y),y.updateTransform(),t.add(y),y.decomposeTransform()}}};function ko(e){e&&(e.ignore=!0)}function lY(e,n){var t=e&&e.getBoundingRect().clone(),r=n&&n.getBoundingRect().clone();if(t&&r){var i=a2([]);return o3(i,i,-e.rotation),t.applyTransform(Gu([],i,e.getLocalTransform())),r.applyTransform(Gu([],i,n.getLocalTransform())),t.intersect(r)}}function cY(e){return"middle"===e||"center"===e}function uY(e,n,t,r,i){for(var a=[],o=[],s=[],l=0;l<e.length;l++){var c=e[l].coord;o[0]=c,o[1]=0,s[0]=c,s[1]=t,n&&(zi(o,o,n),zi(s,s,n));var u=new yh({shape:{x1:o[0],y1:o[1],x2:s[0],y2:s[1]},style:r,z2:2,autoBatch:!0,silent:!0});P1(u.shape,u.style.lineWidth),u.anid=i+"_"+e[l].tickValue,a.push(u)}return a}const hY=Ah;function dY(e,n,t,r,i){e=n.scale.parse(e);var a=n.scale.getLabel({value:e},{precision:i.precision}),o=i.formatter;if(o){var s={value:g4(n,{value:e}),axisDimension:n.dim,axisIndex:n.index,seriesData:[]};I(r,function(l){var c=t.getSeriesByIndex(l.seriesIndex),h=c&&c.getDataParams(l.dataIndexInside);h&&s.seriesData.push(h)}),Fe(o)?a=o.replace("{value}",a):Ze(o)&&(a=o(s))}return a}function fY(e,n,t){var r=[1,0,0,1,0,0];return o3(r,r,t.rotation),a3(r,r,t.position),Kf([e.dataToCoord(n),(t.labelOffset||0)+(t.labelDirection||1)*(t.labelMargin||0)],r)}function v4e(e,n,t){return{x:e[t=t||0],y:e[1-t],width:n[t],height:n[1-t]}}function v4(e,n,t){t=t||{};var r=e.coordinateSystem,i=n.axis,a={},o=i.getAxesOnZeroOf()[0],s=i.position,l=o?"onZero":s,c=i.dim,u=r.getRect(),h=[u.x,u.x+u.width,u.y,u.y+u.height],d={left:0,right:1,top:0,bottom:1,onZero:2},f=n.get("offset")||0,p="x"===c?[h[2]-f,h[3]+f]:[h[0]-f,h[1]+f];if(o){var g=o.toGlobalCoord(o.dataToCoord(0));p[d.onZero]=Math.max(Math.min(g,p[1]),p[0])}a.position=["y"===c?p[d[l]]:h[0],"x"===c?p[d[l]]:h[3]],a.rotation=Math.PI/2*("x"===c?0:1),a.labelDirection=a.tickDirection=a.nameDirection={top:-1,bottom:1,left:-1,right:1}[s],a.labelOffset=o?p[d[s]]-p[d.onZero]:0,n.get(["axisTick","inside"])&&(a.tickDirection=-a.tickDirection),yf(t.labelInside,n.get(["axisLabel","inside"]))&&(a.labelDirection=-a.labelDirection);var v=n.get(["axisLabel","rotate"]);return a.labelRotate="top"===l?-v:v,a.z2=1,a}function pY(e){return"cartesian2d"===e.get("coordinateSystem")}function gY(e){var n={xAxisModel:null,yAxisModel:null};return I(n,function(t,r){var i=r.replace(/Model$/,""),a=e.getReferringComponents(i,cs).models[0];n[r]=a}),n}var _4e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return ke(n,e),n.prototype.makeElOption=function(t,r,i,a,o){var s=i.axis,l=s.grid,c=a.get("type"),u=mY(l,s).getOtherAxis(s).getGlobalExtent(),h=s.toGlobalCoord(s.dataToCoord(r,!0));if(c&&"none"!==c){var d=function d4e(e){var r,n=e.get("type"),t=e.getModel(n+"Style");return"line"===n?(r=t.getLineStyle()).fill=null:"shadow"===n&&((r=t.getAreaStyle()).stroke=null),r}(a),f=y4e[c](s,h,u);f.style=d,t.graphicKey=f.type,t.pointer=f}!function g4e(e,n,t,r,i,a){var o=hY.innerTextLayout(t.rotation,0,t.labelDirection);t.labelMargin=i.get(["label","margin"]),function f4e(e,n,t,r,i){var o=dY(t.get("value"),n.axis,n.ecModel,t.get("seriesDataIndices"),{precision:t.get(["label","precision"]),formatter:t.get(["label","formatter"])}),s=t.getModel("label"),l=b1(s.get("padding")||0),c=s.getFont(),u=I3(o,c),h=i.position,d=u.width+l[1]+l[3],f=u.height+l[0]+l[2],p=i.align;"right"===p&&(h[0]-=d),"center"===p&&(h[0]-=d/2);var g=i.verticalAlign;"bottom"===g&&(h[1]-=f),"middle"===g&&(h[1]-=f/2),function p4e(e,n,t,r){var i=r.getWidth(),a=r.getHeight();e[0]=Math.min(e[0]+n,i)-n,e[1]=Math.min(e[1]+t,a)-t,e[0]=Math.max(e[0],0),e[1]=Math.max(e[1],0)}(h,d,f,r);var m=s.get("backgroundColor");(!m||"auto"===m)&&(m=n.get(["axisLine","lineStyle","color"])),e.label={x:h[0],y:h[1],style:Ti(s,{text:o,font:c,fill:s.getTextColor(),padding:l,backgroundColor:m}),z2:10}}(n,r,i,a,{position:fY(r.axis,e,t),align:o.textAlign,verticalAlign:o.textVerticalAlign})}(r,t,v4(l.model,i),i,a,o)},n.prototype.getHandleTransform=function(t,r,i){var a=v4(r.axis.grid.model,r,{labelInside:!1});a.labelMargin=i.get(["handle","margin"]);var o=fY(r.axis,t,a);return{x:o[0],y:o[1],rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},n.prototype.updateHandleTransform=function(t,r,i,a){var o=i.axis,s=o.grid,l=o.getGlobalExtent(!0),c=mY(s,o).getOtherAxis(o).getGlobalExtent(),u="x"===o.dim?0:1,h=[t.x,t.y];h[u]+=r[u],h[u]=Math.min(l[1],h[u]),h[u]=Math.max(l[0],h[u]);var d=(c[1]+c[0])/2,f=[d,d];return f[u]=h[u],{x:h[0],y:h[1],rotation:t.rotation,cursorPoint:f,tooltipOption:[{verticalAlign:"middle"},{align:"center"}][u]}},n}(PAe);function mY(e,n){var t={};return t[n.dim+"AxisIndex"]=n.index,e.getCartesian(t)}var y4e={line:function(e,n,t){var r=function m4e(e,n,t){return{x1:e[t=t||0],y1:e[1-t],x2:n[t],y2:n[1-t]}}([n,t[0]],[n,t[1]],vY(e));return{type:"Line",subPixelOptimize:!0,shape:r}},shadow:function(e,n,t){var r=Math.max(1,e.getBandWidth());return{type:"Rect",shape:v4e([n-r/2,t[0]],[r,t[1]-t[0]],vY(e))}}};function vY(e){return"x"===e.dim?0:1}const b4e=_4e;var C4e=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=n.type,t}return ke(n,e),n.type="axisPointer",n.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},n}(cn);const w4e=C4e;var Vl=$n(),S4e=I;function _Y(e,n,t){if(!Bt.node){var r=n.getZr();Vl(r).records||(Vl(r).records={}),function x4e(e,n){function t(r,i){e.on(r,function(a){var o=function D4e(e){var n={showTip:[],hideTip:[]},t=function(r){var i=n[r.type];i?i.push(r):(r.dispatchAction=t,e.dispatchAction(r))};return{dispatchAction:t,pendings:n}}(n);S4e(Vl(e).records,function(s){s&&i(s,a,o.dispatchAction)}),function M4e(e,n){var i,t=e.showTip.length,r=e.hideTip.length;t?i=e.showTip[t-1]:r&&(i=e.hideTip[r-1]),i&&(i.dispatchAction=null,n.dispatchAction(i))}(o.pendings,n)})}Vl(e).initialized||(Vl(e).initialized=!0,t("click",An(yY,"click")),t("mousemove",An(yY,"mousemove")),t("globalout",T4e))}(r,n),(Vl(r).records[e]||(Vl(r).records[e]={})).handler=t}}function T4e(e,n,t){e.handler("leave",null,t)}function yY(e,n,t,r){n.handler(e,t,r)}function _4(e,n){if(!Bt.node){var t=n.getZr();(Vl(t).records||{})[e]&&(Vl(t).records[e]=null)}}var E4e=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=n.type,t}return ke(n,e),n.prototype.render=function(t,r,i){var a=r.getComponent("tooltip"),o=t.get("triggerOn")||a&&a.get("triggerOn")||"mousemove|click";_Y("axisPointer",i,function(s,l,c){"none"!==o&&("leave"===s||o.indexOf(s)>=0)&&c({type:"updateAxisPointer",currTrigger:s,x:l&&l.offsetX,y:l&&l.offsetY})})},n.prototype.remove=function(t,r){_4("axisPointer",r)},n.prototype.dispose=function(t,r){_4("axisPointer",r)},n.type="axisPointer",n}(Ei);const A4e=E4e;function bY(e,n){var i,t=[],r=e.seriesIndex;if(null==r||!(i=n.getSeriesByIndex(r)))return{point:[]};var a=i.getData(),o=Qu(a,e);if(null==o||o<0||ne(o))return{point:[]};var s=a.getItemGraphicEl(o),l=i.coordinateSystem;if(i.getTooltipPosition)t=i.getTooltipPosition(o)||[];else if(l&&l.dataToPoint)if(e.isStacked){var c=l.getBaseAxis(),h=l.getOtherAxis(c).dim,f="x"===h||"radius"===h?1:0,p=a.mapDimension(c.dim),g=[];g[f]=a.get(p,o),g[1-f]=a.get(a.getCalculationInfo("stackResultDimension"),o),t=l.dataToPoint(g)||[]}else t=l.dataToPoint(a.getValues(De(l.dimensions,function(v){return a.mapDimension(v)}),o))||[];else if(s){var m=s.getBoundingRect().clone();m.applyTransform(s.transform),t=[m.x+m.width/2,m.y+m.height/2]}return{point:t,el:s}}var CY=$n();function N4e(e,n,t){var r=e.currTrigger,i=[e.x,e.y],a=e,o=e.dispatchAction||ln(t.dispatchAction,t),s=n.getComponent("axisPointer").coordSysAxesInfo;if(s){tC(i)&&(i=bY({seriesIndex:a.seriesIndex,dataIndex:a.dataIndex},n).point);var l=tC(i),c=a.axesInfo,u=s.axesInfo,h="leave"===r||tC(i),d={},f={},p={list:[],map:{}},g={showPointer:An(P4e,f),showTooltip:An(O4e,p)};I(s.coordSysMap,function(v,_){var y=l||v.containPoint(i);I(s.coordSysAxesInfo[_],function(b,w){var C=b.axis,S=function F4e(e,n){for(var t=0;t<(e||[]).length;t++){var r=e[t];if(n.axis.dim===r.axisDim&&n.axis.model.componentIndex===r.axisIndex)return r}}(c,b);if(!h&&y&&(!c||S)){var x=S&&S.value;null==x&&!l&&(x=C.pointToData(i)),null!=x&&wY(b,x,g,!1,d)}})});var m={};return I(u,function(v,_){var y=v.linkGroup;y&&!f[_]&&I(y.axesInfo,function(b,w){var C=f[w];if(b!==v&&C){var S=C.value;y.mapper&&(S=v.axis.scale.parse(y.mapper(S,SY(b),SY(v)))),m[v.key]=S}})}),I(m,function(v,_){wY(u[_],v,g,!0,d)}),function R4e(e,n,t){var r=t.axesInfo=[];I(n,function(i,a){var o=i.axisPointerModel.option,s=e[a];s?(!i.useHandle&&(o.status="show"),o.value=s.value,o.seriesDataIndices=(s.payloadBatch||[]).slice()):!i.useHandle&&(o.status="hide"),"show"===o.status&&r.push({axisDim:i.axis.dim,axisIndex:i.axis.model.componentIndex,value:o.value})})}(f,u,d),function L4e(e,n,t,r){if(!tC(n)&&e.list.length){var i=((e.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};r({type:"showTip",escapeConnect:!0,x:n[0],y:n[1],tooltipOption:t.tooltipOption,position:t.position,dataIndexInside:i.dataIndexInside,dataIndex:i.dataIndex,seriesIndex:i.seriesIndex,dataByCoordSys:e.list})}else r({type:"hideTip"})}(p,i,e,o),function k4e(e,n,t){var r=t.getZr(),i="axisPointerLastHighlights",a=CY(r)[i]||{},o=CY(r)[i]={};I(e,function(c,u){var h=c.axisPointerModel.option;"show"===h.status&&I(h.seriesDataIndices,function(d){o[d.seriesIndex+" | "+d.dataIndex]=d})});var s=[],l=[];I(a,function(c,u){!o[u]&&l.push(c)}),I(o,function(c,u){!a[u]&&s.push(c)}),l.length&&t.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:l}),s.length&&t.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:s})}(u,0,t),d}}function wY(e,n,t,r,i){var a=e.axis;if(!a.scale.isBlank()&&a.containData(n)){if(!e.involveSeries)return void t.showPointer(e,n);var o=function I4e(e,n){var t=n.axis,r=t.dim,i=e,a=[],o=Number.MAX_VALUE,s=-1;return I(n.seriesModels,function(l,c){var h,d,u=l.getData().mapDimensionsAll(r);if(l.getAxisTooltipData){var f=l.getAxisTooltipData(u,e,t);d=f.dataIndices,h=f.nestestValue}else{if(!(d=l.getData().indicesOfNearest(u[0],e,"category"===t.type?.5:null)).length)return;h=l.getData().get(u[0],d[0])}if(null!=h&&isFinite(h)){var p=e-h,g=Math.abs(p);g<=o&&((g<o||p>=0&&s<0)&&(o=g,s=p,i=h,a.length=0),I(d,function(m){a.push({seriesIndex:l.seriesIndex,dataIndexInside:m,dataIndex:l.getData().getRawIndex(m)})}))}}),{payloadBatch:a,snapToValue:i}}(n,e),s=o.payloadBatch,l=o.snapToValue;s[0]&&null==i.seriesIndex&&oe(i,s[0]),!r&&e.snap&&a.containData(l)&&null!=l&&(n=l),t.showPointer(e,n,s),t.showTooltip(e,o,l)}}function P4e(e,n,t,r){e[n.key]={value:t,payloadBatch:r}}function O4e(e,n,t,r){var i=t.payloadBatch,a=n.axis,o=a.model,s=n.axisPointerModel;if(n.triggerTooltip&&i.length){var l=n.coordSys.model,c=om(l),u=e.map[c];u||(u=e.map[c]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},e.list.push(u)),u.dataByAxis.push({axisDim:a.dim,axisIndex:o.componentIndex,axisType:o.type,axisId:o.id,value:r,valueLabelOpt:{precision:s.get(["label","precision"]),formatter:s.get(["label","formatter"])},seriesDataIndices:i.slice()})}}function SY(e){var n=e.axis.model,t={},r=t.axisDim=e.axis.dim;return t.axisIndex=t[r+"AxisIndex"]=n.componentIndex,t.axisName=t[r+"AxisName"]=n.name,t.axisId=t[r+"AxisId"]=n.id,t}function tC(e){return!e||null==e[0]||isNaN(e[0])||null==e[1]||isNaN(e[1])}function xY(e){z$.registerAxisPointerClass("CartesianAxisPointer",b4e),e.registerComponentModel(w4e),e.registerComponentView(A4e),e.registerPreprocessor(function(n){if(n){(!n.axisPointer||0===n.axisPointer.length)&&(n.axisPointer={});var t=n.axisPointer.link;t&&!ne(t)&&(n.axisPointer.link=[t])}}),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,function(n,t){n.getComponent("axisPointer").coordSysAxesInfo=function SAe(e,n){var t={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return function xAe(e,n,t){var r=n.getComponent("tooltip"),i=n.getComponent("axisPointer"),a=i.get("link",!0)||[],o=[];I(t.getCoordinateSystems(),function(s){if(s.axisPointerEnabled){var l=om(s.model),c=e.coordSysAxesInfo[l]={};e.coordSysMap[l]=s;var h=s.model.getModel("tooltip",r);if(I(s.getAxes(),An(g,!1,null)),s.getTooltipAxes&&r&&h.get("show")){var d="axis"===h.get("trigger"),f="cross"===h.get(["axisPointer","type"]),p=s.getTooltipAxes(h.get(["axisPointer","axis"]));(d||f)&&I(p.baseAxes,An(g,!f||"cross",d)),f&&I(p.otherAxes,An(g,"cross",!1))}}function g(m,v,_){var y=_.model.getModel("axisPointer",i),b=y.get("show");if(b&&("auto"!==b||m||l4(y))){null==v&&(v=y.get("triggerTooltip")),y=m?function MAe(e,n,t,r,i,a){var o=n.getModel("axisPointer"),l={};I(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],function(d){l[d]=ht(o.get(d))}),l.snap="category"!==e.type&&!!a,"cross"===o.get("type")&&(l.type="line");var c=l.label||(l.label={});if(null==c.show&&(c.show=!1),"cross"===i){var u=o.get(["label","show"]);if(c.show=u??!0,!a){var h=l.lineStyle=o.get("crossStyle");h&&ut(c,h.textStyle)}}return e.model.getModel("axisPointer",new Tr(l,t,r))}(_,h,i,n,m,v):y;var w=y.get("snap"),C=om(_.model),S=v||w||"category"===_.type,x=e.axesInfo[C]={key:C,axis:_,coordSys:s,axisPointerModel:y,triggerTooltip:v,involveSeries:S,snap:w,useHandle:l4(y),seriesModels:[],linkGroup:null};c[C]=x,e.seriesInvolved=e.seriesInvolved||S;var M=function DAe(e,n){for(var t=n.model,r=n.dim,i=0;i<e.length;i++){var a=e[i]||{};if(o4(a[r+"AxisId"],t.id)||o4(a[r+"AxisIndex"],t.componentIndex)||o4(a[r+"AxisName"],t.name))return i}}(a,_);if(null!=M){var E=o[M]||(o[M]={axesInfo:{}});E.axesInfo[C]=x,E.mapper=a[M].mapper,x.linkGroup=E}}}})}(t,e,n),t.seriesInvolved&&function TAe(e,n){n.eachSeries(function(t){var r=t.coordinateSystem,i=t.get(["tooltip","trigger"],!0),a=t.get(["tooltip","show"],!0);!r||"none"===i||!1===i||"item"===i||!1===a||!1===t.get(["axisPointer","show"],!0)||I(e.coordSysAxesInfo[om(r.model)],function(o){var s=o.axis;r.getAxis(s.dim)===s&&(o.seriesModels.push(t),null==o.seriesDataCount&&(o.seriesDataCount=0),o.seriesDataCount+=t.getData().count())})})}(t,e),t}(n,t)}),e.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},N4e)}var z4e=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=n.type,t}return ke(n,e),n.type="tooltip",n.dependencies=["axisPointer"],n.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},n}(cn);const B4e=z4e;function MY(e){var n=e.get("confine");return null!=n?!!n:"richText"===e.get("renderMode")}function TY(e){if(Bt.domSupported)for(var n=document.documentElement.style,t=0,r=e.length;t<r;t++)if(e[t]in n)return e[t]}var DY=TY(["transform","webkitTransform","OTransform","MozTransform","msTransform"]);function EY(e,n){if(!e)return n;n=OU(n,!0);var t=e.indexOf(n);return(e=-1===t?n:"-"+e.slice(0,t)+"-"+n).toLowerCase()}var U4e=EY(TY(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),"transition"),y4=EY(DY,"transform"),G4e="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(Bt.transform3dSupported?"will-change:transform;":"");function AY(e,n,t){var r=e.toFixed(0)+"px",i=n.toFixed(0)+"px";if(!Bt.transformSupported)return t?"top:"+i+";left:"+r+";":[["top",i],["left",r]];var a=Bt.transform3dSupported,o="translate"+(a?"3d":"")+"("+r+","+i+(a?",0":"")+")";return t?"top:0;left:0;"+y4+":"+o+";":[["top",0],["left",0],[DY,o]]}function NY(e,n,t,r,i){var a=n&&n.painter;if(t){var o=a&&a.getViewportRoot();o&&function Dbe(e,n,t,r,i){e3(JD,n,r,i,!0)&&e3(e,t,JD[0],JD[1])}(e,o,document.body,r,i)}else{e[0]=r,e[1]=i;var s=a&&a.getViewportRootOffset();s&&(e[0]+=s.offsetLeft,e[1]+=s.offsetTop)}e[2]=e[0]/n.getWidth(),e[3]=e[1]/n.getHeight()}var q4e=function(){function e(n,t,r){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._firstShow=!0,this._longHide=!0,Bt.wxa)return null;var i=document.createElement("div");i.domBelongToZr=!0,this.el=i;var a=this._zr=t.getZr(),o=this._appendToBody=r&&r.appendToBody;NY(this._styleCoord,a,o,t.getWidth()/2,t.getHeight()/2),o?document.body.appendChild(i):n.appendChild(i),this._container=n;var s=this;i.onmouseenter=function(){s._enterable&&(clearTimeout(s._hideTimeout),s._show=!0),s._inContent=!0},i.onmousemove=function(l){if(l=l||window.event,!s._enterable){var c=a.handler;To(a.painter.getViewportRoot(),l,!0),c.dispatch("mousemove",l)}},i.onmouseleave=function(){s._inContent=!1,s._enterable&&s._show&&s.hideLater(s._hideDelay)}}return e.prototype.update=function(n){var t=this._container,r=function H4e(e,n){var t=e.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(e);return t?n?t[n]:t:null}(t,"position"),i=t.style;"absolute"!==i.position&&"absolute"!==r&&(i.position="relative"),n.get("alwaysShowContent")&&this._moveIfResized(),this.el.className=n.get("className")||""},e.prototype.show=function(n,t){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var r=this.el,i=r.style,a=this._styleCoord;r.innerHTML?i.cssText=G4e+function X4e(e,n,t){var r=[],i=e.get("transitionDuration"),a=e.get("backgroundColor"),o=e.get("shadowBlur"),s=e.get("shadowColor"),l=e.get("shadowOffsetX"),c=e.get("shadowOffsetY"),u=e.getModel("textStyle"),h=VG(e,"html");return r.push("box-shadow:"+l+"px "+c+"px "+o+"px "+s),n&&i&&r.push(function $4e(e,n){var t="cubic-bezier(0.23,1,0.32,1)",r=" "+e/2+"s "+t,i="opacity"+r+",visibility"+r;return n||(r=" "+e+"s "+t,i+=Bt.transformSupported?","+y4+r:",left"+r+",top"+r),U4e+":"+i}(i,t)),a&&r.push("background-color:"+a),I(["width","color","radius"],function(f){var p="border-"+f,g=OU(p),m=e.get(g);null!=m&&r.push(p+":"+m+("color"===f?"":"px"))}),r.push(function Y4e(e){var n=[],t=e.get("fontSize"),r=e.getTextColor();r&&n.push("color:"+r),n.push("font:"+e.getFont()),t&&n.push("line-height:"+Math.round(3*t/2)+"px");var i=e.get("textShadowColor"),a=e.get("textShadowBlur")||0,o=e.get("textShadowOffsetX")||0,s=e.get("textShadowOffsetY")||0;return i&&a&&n.push("text-shadow:"+o+"px "+s+"px "+a+"px "+i),I(["decoration","align"],function(l){var c=e.get(l);c&&n.push("text-"+l+":"+c)}),n.join(";")}(u)),null!=h&&r.push("padding:"+b1(h).join("px ")+"px"),r.join(";")+";"}(n,!this._firstShow,this._longHide)+AY(a[0],a[1],!0)+"border-color:"+hh(t)+";"+(n.get("extraCssText")||"")+";pointer-events:"+(this._enterable?"auto":"none"):i.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},e.prototype.setContent=function(n,t,r,i,a){var o=this.el;if(null!=n){var s="";if(Fe(a)&&"item"===r.get("trigger")&&!MY(r)&&(s=function j4e(e,n,t){if(!Fe(t)||"inside"===t)return"";var r=e.get("backgroundColor"),i=e.get("borderWidth");n=hh(n);var c,a=function W4e(e){return"left"===e?"right":"right"===e?"left":"top"===e?"bottom":"top"}(t),o=Math.max(1.5*Math.round(i),6),s="",l=y4+":";sn(["left","right"],a)>-1?(s+="top:50%",l+="translateY(-50%) rotate("+(c="left"===a?-225:-45)+"deg)"):(s+="left:50%",l+="translateX(-50%) rotate("+(c="top"===a?225:45)+"deg)");var u=c*Math.PI/180,h=o+i,d=h*Math.abs(Math.cos(u))+h*Math.abs(Math.sin(u)),p=n+" solid "+i+"px;";return'<div style="'+["position:absolute;width:"+o+"px;height:"+o+"px;z-index:-1;",(s+=";"+a+":-"+Math.round(100*((d-Math.SQRT2*i)/2+Math.SQRT2*i-(d-h)/2))/100+"px")+";"+l+";","border-bottom:"+p,"border-right:"+p,"background-color:"+r+";"].join("")+'"></div>'}(r,i,a)),Fe(n))o.innerHTML=n+s;else if(n){o.innerHTML="",ne(n)||(n=[n]);for(var l=0;l<n.length;l++)Zy(n[l])&&n[l].parentNode!==o&&o.appendChild(n[l]);if(s&&o.childNodes.length){var c=document.createElement("div");c.innerHTML=s,o.appendChild(c)}}}else o.innerHTML=""},e.prototype.setEnterable=function(n){this._enterable=n},e.prototype.getSize=function(){var n=this.el;return[n.offsetWidth,n.offsetHeight]},e.prototype.moveTo=function(n,t){var r=this._styleCoord;if(NY(r,this._zr,this._appendToBody,n,t),null!=r[0]&&null!=r[1]){var i=this.el.style;I(AY(r[0],r[1]),function(o){i[o[0]]=o[1]})}},e.prototype._moveIfResized=function(){var t=this._styleCoord[3];this.moveTo(this._styleCoord[2]*this._zr.getWidth(),t*this._zr.getHeight())},e.prototype.hide=function(){var n=this,t=this.el.style;t.visibility="hidden",t.opacity="0",Bt.transform3dSupported&&(t.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return n._longHide=!0},500)},e.prototype.hideLater=function(n){this._show&&(!this._inContent||!this._enterable)&&(n?(this._hideDelay=n,this._show=!1,this._hideTimeout=setTimeout(ln(this.hide,this),n)):this.hide())},e.prototype.isShow=function(){return this._show},e.prototype.dispose=function(){this.el.parentNode.removeChild(this.el)},e}();const Z4e=q4e;var K4e=function(){function e(n){this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._zr=n.getZr(),PY(this._styleCoord,this._zr,n.getWidth()/2,n.getHeight()/2)}return e.prototype.update=function(n){n.get("alwaysShowContent")&&this._moveIfResized()},e.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},e.prototype.setContent=function(n,t,r,i,a){var o=this;ze(n)&&an(""),this.el&&this._zr.remove(this.el);var s=r.getModel("textStyle");this.el=new nr({style:{rich:t.richTextStyles,text:n,lineHeight:22,borderWidth:1,borderColor:i,textShadowColor:s.get("textShadowColor"),fill:r.get(["textStyle","color"]),padding:VG(r,"richText"),verticalAlign:"top",align:"left"},z:r.get("z")}),I(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(c){o.el.style[c]=r.get(c)}),I(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(c){o.el.style[c]=s.get(c)||0}),this._zr.add(this.el);var l=this;this.el.on("mouseover",function(){l._enterable&&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0}),this.el.on("mouseout",function(){l._enterable&&l._show&&l.hideLater(l._hideDelay),l._inContent=!1})},e.prototype.setEnterable=function(n){this._enterable=n},e.prototype.getSize=function(){var n=this.el,t=this.el.getBoundingRect(),r=IY(n.style);return[t.width+r.left+r.right,t.height+r.top+r.bottom]},e.prototype.moveTo=function(n,t){var r=this.el;if(r){var i=this._styleCoord;PY(i,this._zr,n,t),n=i[0],t=i[1];var a=r.style,o=Oc(a.borderWidth||0),s=IY(a);r.x=n+o+s.left,r.y=t+o+s.top,r.markRedraw()}},e.prototype._moveIfResized=function(){var t=this._styleCoord[3];this.moveTo(this._styleCoord[2]*this._zr.getWidth(),t*this._zr.getHeight())},e.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},e.prototype.hideLater=function(n){this._show&&(!this._inContent||!this._enterable)&&(n?(this._hideDelay=n,this._show=!1,this._hideTimeout=setTimeout(ln(this.hide,this),n)):this.hide())},e.prototype.isShow=function(){return this._show},e.prototype.dispose=function(){this._zr.remove(this.el)},e}();function Oc(e){return Math.max(0,e)}function IY(e){var n=Oc(e.shadowBlur||0),t=Oc(e.shadowOffsetX||0),r=Oc(e.shadowOffsetY||0);return{left:Oc(n-t),right:Oc(n+t),top:Oc(n-r),bottom:Oc(n+r)}}function PY(e,n,t,r){e[0]=t,e[1]=r,e[2]=e[0]/n.getWidth(),e[3]=e[1]/n.getHeight()}const Q4e=K4e;var J4e=new Yn({shape:{x:-1,y:-1,width:2,height:2}}),eNe=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=n.type,t}return ke(n,e),n.prototype.init=function(t,r){if(!Bt.node&&r.getDom()){var i=t.getComponent("tooltip"),a=this._renderMode=function cwe(e){return"auto"===e?Bt.domSupported?"html":"richText":e||"html"}(i.get("renderMode"));this._tooltipContent="richText"===a?new Q4e(r):new Z4e(r.getDom(),r,{appendToBody:i.get("appendToBody",!0)})}},n.prototype.render=function(t,r,i){if(!Bt.node&&i.getDom()){this.group.removeAll(),this._tooltipModel=t,this._ecModel=r,this._api=i,this._alwaysShowContent=t.get("alwaysShowContent");var a=this._tooltipContent;a.update(t),a.setEnterable(t.get("enterable")),this._initGlobalListener(),this._keepShow(),"richText"!==this._renderMode&&t.get("transitionDuration")?DW(this,"_updatePosition",50,"fixRate"):_A(this,"_updatePosition")}},n.prototype._initGlobalListener=function(){var r=this._tooltipModel.get("triggerOn");_Y("itemTooltip",this._api,ln(function(i,a,o){"none"!==r&&(r.indexOf(i)>=0?this._tryShow(a,o):"leave"===i&&this._hide(o))},this))},n.prototype._keepShow=function(){var t=this._tooltipModel,r=this._ecModel,i=this._api,a=t.get("triggerOn");if(null!=this._lastX&&null!=this._lastY&&"none"!==a&&"click"!==a){var o=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!i.isDisposed()&&o.manuallyShowTip(t,r,i,{x:o._lastX,y:o._lastY,dataByCoordSys:o._lastDataByCoordSys})})}},n.prototype.manuallyShowTip=function(t,r,i,a){if(a.from!==this.uid&&!Bt.node&&i.getDom()){var o=OY(a,i);this._ticket="";var s=a.dataByCoordSys,l=function iNe(e,n,t){var r=W3(e).queryOptionMap,i=r.keys()[0];if(i&&"series"!==i){var l,o=l1(n,i,r.get(i),{useDefault:!1,enableAll:!1,enableNone:!1}).models[0];if(o&&(t.getViewOfComponentModel(o).group.traverse(function(c){var u=tn(c).tooltipConfig;if(u&&u.name===e.name)return l=c,!0}),l))return{componentMainType:i,componentIndex:o.componentIndex,el:l}}}(a,r,i);if(l){var c=l.el.getBoundingRect().clone();c.applyTransform(l.el.transform),this._tryShow({offsetX:c.x+c.width/2,offsetY:c.y+c.height/2,target:l.el,position:a.position,positionDefault:"bottom"},o)}else if(a.tooltip&&null!=a.x&&null!=a.y){var u=J4e;u.x=a.x,u.y=a.y,u.update(),tn(u).tooltipConfig={name:null,option:a.tooltip},this._tryShow({offsetX:a.x,offsetY:a.y,target:u},o)}else if(s)this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,dataByCoordSys:s,tooltipOption:a.tooltipOption},o);else if(null!=a.seriesIndex){if(this._manuallyAxisShowTip(t,r,i,a))return;var h=bY(a,r),d=h.point[0],f=h.point[1];null!=d&&null!=f&&this._tryShow({offsetX:d,offsetY:f,target:h.el,position:a.position,positionDefault:"bottom"},o)}else null!=a.x&&null!=a.y&&(i.dispatchAction({type:"updateAxisPointer",x:a.x,y:a.y}),this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,target:i.getZr().findHover(a.x,a.y).target},o))}},n.prototype.manuallyHideTip=function(t,r,i,a){!this._alwaysShowContent&&this._tooltipModel&&this._tooltipContent.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,a.from!==this.uid&&this._hide(OY(a,i))},n.prototype._manuallyAxisShowTip=function(t,r,i,a){var o=a.seriesIndex,s=a.dataIndex,l=r.getComponent("axisPointer").coordSysAxesInfo;if(null!=o&&null!=s&&null!=l){var c=r.getSeriesByIndex(o);if(c&&"axis"===um([c.getData().getItemModel(s),c,(c.coordinateSystem||{}).model],this._tooltipModel).get("trigger"))return i.dispatchAction({type:"updateAxisPointer",seriesIndex:o,dataIndex:s,position:a.position}),!0}},n.prototype._tryShow=function(t,r){var i=t.target;if(this._tooltipModel){this._lastX=t.offsetX,this._lastY=t.offsetY;var o=t.dataByCoordSys;if(o&&o.length)this._showAxisTooltip(o,t);else if(i){var s,l;this._lastDataByCoordSys=null,Jf(i,function(c){return null!=tn(c).dataIndex?(s=c,!0):null!=tn(c).tooltipConfig?(l=c,!0):void 0},!0),s?this._showSeriesItemTooltip(t,s,r):l?this._showComponentItemTooltip(t,l,r):this._hide(r)}else this._lastDataByCoordSys=null,this._hide(r)}},n.prototype._showOrMove=function(t,r){var i=t.get("showDelay");r=ln(r,this),clearTimeout(this._showTimout),i>0?this._showTimout=setTimeout(r,i):r()},n.prototype._showAxisTooltip=function(t,r){var i=this._ecModel,a=this._tooltipModel,o=[r.offsetX,r.offsetY],s=um([r.tooltipOption],a),l=this._renderMode,c=[],u=mh("section",{blocks:[],noHeader:!0}),h=[],d=new JE;I(t,function(_){I(_.dataByAxis,function(y){var b=i.getComponent(y.axisDim+"Axis",y.axisIndex),w=y.value;if(b&&null!=w){var C=dY(w,b.axis,i,y.seriesDataIndices,y.valueLabelOpt),S=mh("section",{header:C,noHeader:!Vs(C),sortBlocks:!0,blocks:[]});u.blocks.push(S),I(y.seriesDataIndices,function(x){var M=i.getSeriesByIndex(x.seriesIndex),E=x.dataIndexInside,T=M.getDataParams(E);if(!(T.dataIndex<0)){T.axisDim=y.axisDim,T.axisIndex=y.axisIndex,T.axisType=y.axisType,T.axisId=y.axisId,T.axisValue=g4(b.axis,{value:w}),T.axisValueLabel=C,T.marker=d.makeTooltipMarker("item",hh(T.color),l);var A=bG(M.formatTooltip(E,!0,null)),N=A.frag;if(N){var R=um([M],a).get("valueFormatter");S.blocks.push(R?oe({valueFormatter:R},N):N)}A.text&&h.push(A.text),c.push(T)}})}})}),u.blocks.reverse(),h.reverse();var f=r.position,p=s.get("order"),g=zG(u,d,l,p,i.get("useUTC"),s.get("textStyle"));g&&h.unshift(g);var v=h.join("richText"===l?"\n\n":"<br/>");this._showOrMove(s,function(){this._updateContentNotChangedOnAxis(t,c)?this._updatePosition(s,f,o[0],o[1],this._tooltipContent,c):this._showTooltipContent(s,v,c,Math.random()+"",o[0],o[1],f,null,d)})},n.prototype._showSeriesItemTooltip=function(t,r,i){var a=this._ecModel,o=tn(r),s=o.seriesIndex,l=a.getSeriesByIndex(s),c=o.dataModel||l,u=o.dataIndex,h=o.dataType,d=c.getData(h),f=this._renderMode,p=t.positionDefault,g=um([d.getItemModel(u),c,l&&(l.coordinateSystem||{}).model],this._tooltipModel,p?{position:p}:null),m=g.get("trigger");if(null==m||"item"===m){var v=c.getDataParams(u,h),_=new JE;v.marker=_.makeTooltipMarker("item",hh(v.color),f);var y=bG(c.formatTooltip(u,!1,h)),b=g.get("order"),w=g.get("valueFormatter"),C=y.frag,S=C?zG(w?oe({valueFormatter:w},C):C,_,f,b,a.get("useUTC"),g.get("textStyle")):y.text,x="item_"+c.name+"_"+u;this._showOrMove(g,function(){this._showTooltipContent(g,S,v,x,t.offsetX,t.offsetY,t.position,t.target,_)}),i({type:"showTip",dataIndexInside:u,dataIndex:d.getRawIndex(u),seriesIndex:s,from:this.uid})}},n.prototype._showComponentItemTooltip=function(t,r,i){var a=tn(r),s=a.tooltipConfig.option||{};Fe(s)&&(s={content:s,formatter:s});var c=[s],u=this._ecModel.getComponent(a.componentMainType,a.componentIndex);u&&c.push(u),c.push({formatter:s.content});var h=t.positionDefault,d=um(c,this._tooltipModel,h?{position:h}:null),f=d.get("content"),p=Math.random()+"",g=new JE;this._showOrMove(d,function(){var m=ht(d.get("formatterParams")||{});this._showTooltipContent(d,f,m,p,t.offsetX,t.offsetY,t.position,r,g)}),i({type:"showTip",from:this.uid})},n.prototype._showTooltipContent=function(t,r,i,a,o,s,l,c,u){if(this._ticket="",t.get("showContent")&&t.get("show")){var h=this._tooltipContent;h.setEnterable(t.get("enterable"));var d=t.get("formatter");l=l||t.get("position");var f=r,g=this._getNearestPoint([o,s],i,t.get("trigger"),t.get("borderColor")).color;if(d)if(Fe(d)){var m=t.ecModel.get("useUTC"),v=ne(i)?i[0]:i;f=d,v&&v.axisType&&v.axisType.indexOf("time")>=0&&(f=J2(v.axisValue,f,m)),f=RE(f,i,!0)}else if(Ze(d)){var y=ln(function(b,w){b===this._ticket&&(h.setContent(w,u,t,g,l),this._updatePosition(t,l,o,s,h,i,c))},this);this._ticket=a,f=d(i,a,y)}else f=d;h.setContent(f,u,t,g,l),h.show(t,g),this._updatePosition(t,l,o,s,h,i,c)}},n.prototype._getNearestPoint=function(t,r,i,a){return"axis"===i||ne(r)?{color:a||("html"===this._renderMode?"#fff":"none")}:ne(r)?void 0:{color:a||r.color||r.borderColor}},n.prototype._updatePosition=function(t,r,i,a,o,s,l){var c=this._api.getWidth(),u=this._api.getHeight();r=r||t.get("position");var h=o.getSize(),d=t.get("align"),f=t.get("verticalAlign"),p=l&&l.getBoundingRect().clone();if(l&&p.applyTransform(l.transform),Ze(r)&&(r=r([i,a],s,o.el,p,{viewSize:[c,u],contentSize:h.slice()})),ne(r))i=oi(r[0],c),a=oi(r[1],u);else if(ze(r)){var g=r;g.width=h[0],g.height=h[1];var m=us(g,{width:c,height:u});i=m.x,a=m.y,d=null,f=null}else if(Fe(r)&&l){var v=function rNe(e,n,t,r){var i=t[0],a=t[1],o=Math.ceil(Math.SQRT2*r)+8,s=0,l=0,c=n.width,u=n.height;switch(e){case"inside":s=n.x+c/2-i/2,l=n.y+u/2-a/2;break;case"top":s=n.x+c/2-i/2,l=n.y-a-o;break;case"bottom":s=n.x+c/2-i/2,l=n.y+u+o;break;case"left":s=n.x-i-o,l=n.y+u/2-a/2;break;case"right":s=n.x+c+o,l=n.y+u/2-a/2}return[s,l]}(r,p,h,t.get("borderWidth"));i=v[0],a=v[1]}else v=function tNe(e,n,t,r,i,a,o){var s=t.getSize(),l=s[0],c=s[1];return null!=a&&(e+l+a+2>r?e-=l+a:e+=a),null!=o&&(n+c+o>i?n-=c+o:n+=o),[e,n]}(i,a,o,c,u,d?null:20,f?null:20),i=v[0],a=v[1];d&&(i-=RY(d)?h[0]/2:"right"===d?h[0]:0),f&&(a-=RY(f)?h[1]/2:"bottom"===f?h[1]:0),MY(t)&&(v=function nNe(e,n,t,r,i){var a=t.getSize(),o=a[0],s=a[1];return e=Math.min(e+o,r)-o,n=Math.min(n+s,i)-s,[e=Math.max(e,0),n=Math.max(n,0)]}(i,a,o,c,u),i=v[0],a=v[1]),o.moveTo(i,a)},n.prototype._updateContentNotChangedOnAxis=function(t,r){var i=this._lastDataByCoordSys,a=this._cbParamsList,o=!!i&&i.length===t.length;return o&&I(i,function(s,l){var c=s.dataByAxis||[],h=(t[l]||{}).dataByAxis||[];(o=o&&c.length===h.length)&&I(c,function(d,f){var p=h[f]||{},g=d.seriesDataIndices||[],m=p.seriesDataIndices||[];(o=o&&d.value===p.value&&d.axisType===p.axisType&&d.axisId===p.axisId&&g.length===m.length)&&I(g,function(v,_){var y=m[_];o=o&&v.seriesIndex===y.seriesIndex&&v.dataIndex===y.dataIndex}),a&&I(d.seriesDataIndices,function(v){var _=v.seriesIndex,y=r[_],b=a[_];y&&b&&b.data!==y.data&&(o=!1)})})}),this._lastDataByCoordSys=t,this._cbParamsList=r,!!o},n.prototype._hide=function(t){this._lastDataByCoordSys=null,t({type:"hideTip",from:this.uid})},n.prototype.dispose=function(t,r){Bt.node||!r.getDom()||(_A(this,"_updatePosition"),this._tooltipContent.dispose(),_4("itemTooltip",r))},n.type="tooltip",n}(Ei);function um(e,n,t){var i,r=n.ecModel;t?(i=new Tr(t,r,r),i=new Tr(n.option,i,r)):i=n;for(var a=e.length-1;a>=0;a--){var o=e[a];o&&(o instanceof Tr&&(o=o.get("tooltip",!0)),Fe(o)&&(o={formatter:o}),o&&(i=new Tr(o,i,r)))}return i}function OY(e,n){return e.dispatchAction||ln(n.dispatchAction,n)}function RY(e){return"center"===e||"middle"===e}const aNe=eNe;var sNe=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return ke(n,e),n.type="grid",n.dependencies=["xAxis","yAxis"],n.layoutMode="box",n.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},n}(cn);const lNe=sNe;var LY=function(){function e(){}return e.prototype.getNeedCrossZero=function(){return!this.option.scale},e.prototype.getCoordSysModel=function(){},e}(),b4=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return ke(n,e),n.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",cs).models[0]},n.type="cartesian2dAxis",n}(cn);Ta(b4,LY);var kY={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},cNe=Ee({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},kY),C4=Ee({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},kY);const dNe={category:cNe,value:C4,time:Ee({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},C4),log:ut({logBase:10},C4)};var fNe={value:1,category:1,time:1,log:1};function FY(e,n,t,r){I(fNe,function(i,a){var o=Ee(Ee({},dNe[a],!0),r,!0),s=function(l){function c(){var u=null!==l&&l.apply(this,arguments)||this;return u.type=n+"Axis."+a,u}return ke(c,l),c.prototype.mergeDefaultAndTheme=function(u,h){var d=C1(this),f=d?ob(u):{};Ee(u,h.getTheme().get(a+"Axis")),Ee(u,this.getDefaultOption()),u.type=zY(u),d&&Uf(u,f,d)},c.prototype.optionUpdated=function(){"category"===this.option.type&&(this.__ordinalMeta=Yb.createByAxisModel(this))},c.prototype.getCategories=function(u){var h=this.option;if("category"===h.type)return u?h.data:this.__ordinalMeta.categories},c.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},c.type=n+"Axis."+a,c.defaultOption=o,c}(t);e.registerComponentModel(s)}),e.registerSubTypeDefaulter(n+"Axis",zY)}function zY(e){return e.type||(e.data?"category":"value")}var pNe=function(){function e(n){this.type="cartesian",this._dimList=[],this._axes={},this.name=n||""}return e.prototype.getAxis=function(n){return this._axes[n]},e.prototype.getAxes=function(){return De(this._dimList,function(n){return this._axes[n]},this)},e.prototype.getAxesByScale=function(n){return n=n.toLowerCase(),Mr(this.getAxes(),function(t){return t.scale.type===n})},e.prototype.addAxis=function(n){var t=n.dim;this._axes[t]=n,this._dimList.push(t)},e}();const w4=pNe;var S4=["x","y"];function BY(e){return"interval"===e.type||"time"===e.type}var gNe=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="cartesian2d",t.dimensions=S4,t}return ke(n,e),n.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var t=this.getAxis("x").scale,r=this.getAxis("y").scale;if(BY(t)&&BY(r)){var i=t.getExtent(),a=r.getExtent(),o=this.dataToPoint([i[0],a[0]]),s=this.dataToPoint([i[1],a[1]]),l=i[1]-i[0],c=a[1]-a[0];if(l&&c){var u=(s[0]-o[0])/l,h=(s[1]-o[1])/c,p=this._transform=[u,0,0,h,o[0]-i[0]*u,o[1]-a[0]*h];this._invTransform=Sf([],p)}}},n.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},n.prototype.containPoint=function(t){var r=this.getAxis("x"),i=this.getAxis("y");return r.contain(r.toLocalCoord(t[0]))&&i.contain(i.toLocalCoord(t[1]))},n.prototype.containData=function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},n.prototype.containZone=function(t,r){var i=this.dataToPoint(t),a=this.dataToPoint(r),o=this.getArea(),s=new Yt(i[0],i[1],a[0]-i[0],a[1]-i[1]);return o.intersect(s)},n.prototype.dataToPoint=function(t,r,i){i=i||[];var a=t[0],o=t[1];if(this._transform&&null!=a&&isFinite(a)&&null!=o&&isFinite(o))return zi(i,t,this._transform);var s=this.getAxis("x"),l=this.getAxis("y");return i[0]=s.toGlobalCoord(s.dataToCoord(a,r)),i[1]=l.toGlobalCoord(l.dataToCoord(o,r)),i},n.prototype.clampData=function(t,r){var i=this.getAxis("x").scale,a=this.getAxis("y").scale,o=i.getExtent(),s=a.getExtent(),l=i.parse(t[0]),c=a.parse(t[1]);return(r=r||[])[0]=Math.min(Math.max(Math.min(o[0],o[1]),l),Math.max(o[0],o[1])),r[1]=Math.min(Math.max(Math.min(s[0],s[1]),c),Math.max(s[0],s[1])),r},n.prototype.pointToData=function(t,r){var i=[];if(this._invTransform)return zi(i,t,this._invTransform);var a=this.getAxis("x"),o=this.getAxis("y");return i[0]=a.coordToData(a.toLocalCoord(t[0]),r),i[1]=o.coordToData(o.toLocalCoord(t[1]),r),i},n.prototype.getOtherAxis=function(t){return this.getAxis("x"===t.dim?"y":"x")},n.prototype.getArea=function(){var t=this.getAxis("x").getGlobalExtent(),r=this.getAxis("y").getGlobalExtent(),i=Math.min(t[0],t[1]),a=Math.min(r[0],r[1]),o=Math.max(t[0],t[1])-i,s=Math.max(r[0],r[1])-a;return new Yt(i,a,o,s)},n}(w4);const mNe=gNe;var hm=$n();function VY(e,n){var a,o,t=HY(e,"labels"),r=m4(n);return UY(t,r)||(Ze(r)?a=jY(e,r):(o="auto"===r?function wNe(e){return hm(e).autoInterval??(hm(e).autoInterval=e.calculateCategoryInterval())}(e):r,a=WY(e,o)),GY(t,r,{labels:a,labelCategoryInterval:o}))}function HY(e,n){return hm(e)[n]||(hm(e)[n]=[])}function UY(e,n){for(var t=0;t<e.length;t++)if(e[t].key===n)return e[t].value}function GY(e,n,t){return e.push({key:n,value:t}),t}function WY(e,n,t){var r=cm(e),i=e.scale,a=i.getExtent(),o=e.getLabelModel(),s=[],l=Math.max((n||0)+1,1),c=a[0],u=i.count();0!==c&&l>1&&u/l>2&&(c=Math.round(Math.ceil(c/l)*l));var h=nY(e),d=o.get("showMinLabel")||h,f=o.get("showMaxLabel")||h;d&&c!==a[0]&&g(a[0]);for(var p=c;p<=a[1];p+=l)g(p);function g(m){var v={value:m};s.push(t?m:{formattedLabel:r(v),rawLabel:i.getLabel(v),tickValue:m})}return f&&p-l!==a[1]&&g(a[1]),s}function jY(e,n,t){var r=e.scale,i=cm(e),a=[];return I(r.getTicks(),function(o){var s=r.getLabel(o),l=o.value;n(o.value,s)&&a.push(t?l:{formattedLabel:i(o),rawLabel:s,tickValue:l})}),a}var $Y=[0,1],MNe=function(){function e(n,t,r){this.onBand=!1,this.inverse=!1,this.dim=n,this.scale=t,this._extent=r||[0,0]}return e.prototype.contain=function(n){var t=this._extent,r=Math.min(t[0],t[1]),i=Math.max(t[0],t[1]);return n>=r&&n<=i},e.prototype.containData=function(n){return this.scale.contain(n)},e.prototype.getExtent=function(){return this._extent.slice()},e.prototype.getPixelPrecision=function(n){return function WCe(e,n){var t=Math.log,r=Math.LN10,i=Math.floor(t(e[1]-e[0])/r),a=Math.round(t(Math.abs(n[1]-n[0]))/r),o=Math.min(Math.max(-i+a,0),20);return isFinite(o)?o:20}(n||this.scale.getExtent(),this._extent)},e.prototype.setExtent=function(n,t){var r=this._extent;r[0]=n,r[1]=t},e.prototype.dataToCoord=function(n,t){var r=this._extent,i=this.scale;return n=i.normalize(n),this.onBand&&"ordinal"===i.type&&YY(r=r.slice(),i.count()),os(n,$Y,r,t)},e.prototype.coordToData=function(n,t){var r=this._extent,i=this.scale;this.onBand&&"ordinal"===i.type&&YY(r=r.slice(),i.count());var a=os(n,r,$Y,t);return this.scale.scale(a)},e.prototype.pointToData=function(n,t){},e.prototype.getTicksCoords=function(n){var t=(n=n||{}).tickModel||this.getTickModel(),a=De(function _Ne(e,n){return"category"===e.type?function bNe(e,n){var a,o,t=HY(e,"ticks"),r=m4(n),i=UY(t,r);if(i)return i;if((!n.get("show")||e.scale.isBlank())&&(a=[]),Ze(r))a=jY(e,r,!0);else if("auto"===r){var s=VY(e,e.getLabelModel());o=s.labelCategoryInterval,a=De(s.labels,function(l){return l.tickValue})}else a=WY(e,o=r,!0);return GY(t,r,{ticks:a,tickCategoryInterval:o})}(e,n):{ticks:De(e.scale.getTicks(),function(t){return t.value})}}(this,t).ticks,function(s){return{coord:this.dataToCoord("ordinal"===this.scale.type?this.scale.getRawOrdinalNumber(s):s),tickValue:s}},this);return function TNe(e,n,t,r){var i=n.length;if(e.onBand&&!t&&i){var o,a=e.getExtent();if(1===i)n[0].coord=a[0],o=n[1]={coord:a[0]};else{var c=(n[i-1].coord-n[0].coord)/(n[i-1].tickValue-n[0].tickValue);I(n,function(f){f.coord-=c/2});var u=e.scale.getExtent();n.push(o={coord:n[i-1].coord+c*(1+u[1]-n[i-1].tickValue)})}var h=a[0]>a[1];d(n[0].coord,a[0])&&(r?n[0].coord=a[0]:n.shift()),r&&d(a[0],n[0].coord)&&n.unshift({coord:a[0]}),d(a[1],o.coord)&&(r?o.coord=a[1]:n.pop()),r&&d(o.coord,a[1])&&n.push({coord:a[1]})}function d(f,p){return f=ur(f),p=ur(p),h?f>p:f<p}}(this,a,t.get("alignWithLabel"),n.clamp),a},e.prototype.getMinorTicksCoords=function(){if("ordinal"===this.scale.type)return[];var t=this.model.getModel("minorTick").get("splitNumber");return t>0&&t<100||(t=5),De(this.scale.getMinorTicks(t),function(a){return De(a,function(o){return{coord:this.dataToCoord(o),tickValue:o}},this)},this)},e.prototype.getViewLabels=function(){return function vNe(e){return"category"===e.type?function yNe(e){var n=e.getLabelModel(),t=VY(e,n);return!n.get("show")||e.scale.isBlank()?{labels:[],labelCategoryInterval:t.labelCategoryInterval}:t}(e):function CNe(e){var n=e.scale.getTicks(),t=cm(e);return{labels:De(n,function(r,i){return{level:r.level,formattedLabel:t(r,i),rawLabel:e.scale.getLabel(r),tickValue:r.value}})}}(e)}(this).labels},e.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},e.prototype.getTickModel=function(){return this.model.getModel("axisTick")},e.prototype.getBandWidth=function(){var n=this._extent,t=this.scale.getExtent(),r=t[1]-t[0]+(this.onBand?1:0);0===r&&(r=1);var i=Math.abs(n[1]-n[0]);return Math.abs(i)/r},e.prototype.calculateCategoryInterval=function(){return function SNe(e){var n=function xNe(e){var n=e.getLabelModel();return{axisRotate:e.getRotate?e.getRotate():e.isHorizontal&&!e.isHorizontal()?90:0,labelRotate:n.get("rotate")||0,font:n.getFont()}}(e),t=cm(e),r=(n.axisRotate-n.labelRotate)/180*Math.PI,i=e.scale,a=i.getExtent(),o=i.count();if(a[1]-a[0]<1)return 0;var s=1;o>40&&(s=Math.max(1,Math.floor(o/40)));for(var l=a[0],c=e.dataToCoord(l+1)-e.dataToCoord(l),u=Math.abs(c*Math.cos(r)),h=Math.abs(c*Math.sin(r)),d=0,f=0;l<=a[1];l+=s){var g,m=I3(t({value:l}),n.font,"center","top");g=1.3*m.height,d=Math.max(d,1.3*m.width,7),f=Math.max(f,g,7)}var v=d/u,_=f/h;isNaN(v)&&(v=1/0),isNaN(_)&&(_=1/0);var y=Math.max(0,Math.floor(Math.min(v,_))),b=hm(e.model),w=e.getExtent(),C=b.lastAutoInterval,S=b.lastTickCount;return null!=C&&null!=S&&Math.abs(C-y)<=1&&Math.abs(S-o)<=1&&C>y&&b.axisExtent0===w[0]&&b.axisExtent1===w[1]?y=C:(b.lastTickCount=o,b.lastAutoInterval=y,b.axisExtent0=w[0],b.axisExtent1=w[1]),y}(this)},e}();function YY(e,n){var i=(e[1]-e[0])/n/2;e[0]+=i,e[1]-=i}const dm=MNe;var DNe=function(e){function n(t,r,i,a,o){var s=e.call(this,t,r,i)||this;return s.index=0,s.type=a||"value",s.position=o||"bottom",s}return ke(n,e),n.prototype.isHorizontal=function(){var t=this.position;return"top"===t||"bottom"===t},n.prototype.getGlobalExtent=function(t){var r=this.getExtent();return r[0]=this.toGlobalCoord(r[0]),r[1]=this.toGlobalCoord(r[1]),t&&r[0]>r[1]&&r.reverse(),r},n.prototype.pointToData=function(t,r){return this.coordToData(this.toLocalCoord(t["x"===this.dim?0:1]),r)},n.prototype.setCategorySortInfo=function(t){if("category"!==this.type)return!1;this.model.option.categorySortInfo=t,this.scale.setSortInfo(t)},n}(dm);const ENe=DNe;var x4=Math.log,NNe=function(){function e(n,t,r){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=S4,this._initCartesian(n,t,r),this.model=n}return e.prototype.getRect=function(){return this._rect},e.prototype.update=function(n,t){var r=this._axesMap;function i(o){var s,l=Bn(o),c=l.length;if(c){for(var u=[],h=c-1;h>=0;h--){var f=o[+l[h]],p=f.model,g=f.scale;h4(g)&&p.get("alignTicks")&&null==p.get("interval")?u.push(f):(p4(g,p),h4(g)&&(s=f))}u.length&&(s||p4((s=u.pop()).scale,s.model),I(u,function(m){!function ANe(e,n,t){var r=sm.prototype,i=r.getTicks.call(t),a=r.getTicks.call(t,!0),o=i.length-1,s=r.getInterval.call(t),l=eY(e,n),c=l.extent,u=l.fixMin,h=l.fixMax;if("log"===e.type){var d=x4(e.base);c=[x4(c[0])/d,x4(c[1])/d]}e.setExtent(c[0],c[1]),e.calcNiceExtent({splitNumber:o,fixMin:u,fixMax:h});var f=r.getExtent.call(e);u&&(c[0]=f[0]),h&&(c[1]=f[1]);var p=r.getInterval.call(e),g=c[0],m=c[1];if(u&&h)p=(m-g)/o;else if(u)for(m=c[0]+p*o;m<c[1]&&isFinite(m)&&isFinite(c[1]);)p=d4(p),m=c[0]+p*o;else if(h)for(g=c[1]-p*o;g>c[0]&&isFinite(g)&&isFinite(c[0]);)p=d4(p),g=c[1]-p*o;else{e.getTicks().length-1>o&&(p=d4(p));var _=p*o;(g=ur((m=Math.ceil(c[1]/p)*p)-_))<0&&c[0]>=0?(g=0,m=ur(_)):m>0&&c[1]<=0&&(m=0,g=-ur(_))}var y=(i[0].value-a[0].value)/s,b=(i[o].value-a[o].value)/s;r.setExtent.call(e,g+p*y,m+p*b),r.setInterval.call(e,p),(y||b)&&r.setNiceExtent.call(e,g+p,m-p)}(m.scale,m.model,s.scale)}))}}this._updateScale(n,this.model),i(r.x),i(r.y);var a={};I(r.x,function(o){XY(r,"y",o,a)}),I(r.y,function(o){XY(r,"x",o,a)}),this.resize(this.model,t)},e.prototype.resize=function(n,t,r){var i=n.getBoxLayoutParams(),a=!r&&n.get("containLabel"),o=us(i,{width:t.getWidth(),height:t.getHeight()});this._rect=o;var s=this._axesList;function l(){I(s,function(c){var u=c.isHorizontal(),h=u?[0,o.width]:[0,o.height],d=c.inverse?1:0;c.setExtent(h[d],h[1-d]),function INe(e,n){var t=e.getExtent(),r=t[0]+t[1];e.toGlobalCoord="x"===e.dim?function(i){return i+n}:function(i){return r-i+n},e.toLocalCoord="x"===e.dim?function(i){return i-n}:function(i){return r-i+n}}(c,u?o.x:o.y)})}l(),a&&(I(s,function(c){if(!c.model.get(["axisLabel","inside"])){var u=function r4e(e){var t=e.scale;if(e.model.get(["axisLabel","show"])&&!t.isBlank()){var r,i,a=t.getExtent();i=t instanceof X$?t.count():(r=t.getTicks()).length;var l,o=e.getLabelModel(),s=cm(e),c=1;i>40&&(c=Math.ceil(i/40));for(var u=0;u<i;u+=c){var d=s(r?r[u]:{value:a[0]+u},u),p=i4e(o.getTextRect(d),o.get("rotate")||0);l?l.union(p):l=p}return l}}(c);if(u){var h=c.isHorizontal()?"height":"width",d=c.model.get(["axisLabel","margin"]);o[h]-=u[h]+d,"top"===c.position?o.y+=u.height+d:"left"===c.position&&(o.x+=u.width+d)}}}),l()),I(this._coordsList,function(c){c.calcAffineTransform()})},e.prototype.getAxis=function(n,t){var r=this._axesMap[n];if(null!=r)return r[t||0]},e.prototype.getAxes=function(){return this._axesList.slice()},e.prototype.getCartesian=function(n,t){if(null!=n&&null!=t)return this._coordsMap["x"+n+"y"+t];ze(n)&&(t=n.yAxisIndex,n=n.xAxisIndex);for(var i=0,a=this._coordsList;i<a.length;i++)if(a[i].getAxis("x").index===n||a[i].getAxis("y").index===t)return a[i]},e.prototype.getCartesians=function(){return this._coordsList.slice()},e.prototype.convertToPixel=function(n,t,r){var i=this._findConvertTarget(t);return i.cartesian?i.cartesian.dataToPoint(r):i.axis?i.axis.toGlobalCoord(i.axis.dataToCoord(r)):null},e.prototype.convertFromPixel=function(n,t,r){var i=this._findConvertTarget(t);return i.cartesian?i.cartesian.pointToData(r):i.axis?i.axis.coordToData(i.axis.toLocalCoord(r)):null},e.prototype._findConvertTarget=function(n){var s,l,t=n.seriesModel,r=n.xAxisModel||t&&t.getReferringComponents("xAxis",cs).models[0],i=n.yAxisModel||t&&t.getReferringComponents("yAxis",cs).models[0],a=n.gridModel;return t?sn(this._coordsList,s=t.coordinateSystem)<0&&(s=null):r&&i?s=this.getCartesian(r.componentIndex,i.componentIndex):r?l=this.getAxis("x",r.componentIndex):i?l=this.getAxis("y",i.componentIndex):a&&a.coordinateSystem===this&&(s=this._coordsList[0]),{cartesian:s,axis:l}},e.prototype.containPoint=function(n){var t=this._coordsList[0];if(t)return t.containPoint(n)},e.prototype._initCartesian=function(n,t,r){var i=this,a=this,o={left:!1,right:!1,top:!1,bottom:!1},s={x:{},y:{}},l={x:0,y:0};if(t.eachComponent("xAxis",c("x"),this),t.eachComponent("yAxis",c("y"),this),!l.x||!l.y)return this._axesMap={},void(this._axesList=[]);function c(u){return function(h,d){if(M4(h,n)){var f=h.get("position");"x"===u?"top"!==f&&"bottom"!==f&&(f=o.bottom?"top":"bottom"):"left"!==f&&"right"!==f&&(f=o.left?"right":"left"),o[f]=!0;var p=new ENe(u,tY(h),[0,0],h.get("type"),f);p.onBand="category"===p.type&&h.get("boundaryGap"),p.inverse=h.get("inverse"),h.axis=p,p.model=h,p.grid=a,p.index=d,a._axesList.push(p),s[u][d]=p,l[u]++}}}this._axesMap=s,I(s.x,function(u,h){I(s.y,function(d,f){var p="x"+h+"y"+f,g=new mNe(p);g.master=i,g.model=n,i._coordsMap[p]=g,i._coordsList.push(g),g.addAxis(u),g.addAxis(d)})})},e.prototype._updateScale=function(n,t){function r(i,a){I(function rY(e,n){var t={};return I(e.mapDimensionsAll(n),function(r){t[qj(e,r)]=!0}),Bn(t)}(i,a.dim),function(o){a.scale.unionExtentFromData(i,o)})}I(this._axesList,function(i){if(i.scale.setExtent(1/0,-1/0),"category"===i.type){var a=i.model.get("categorySortInfo");i.scale.setSortInfo(a)}}),n.eachSeries(function(i){if(pY(i)){var a=gY(i),o=a.xAxisModel,s=a.yAxisModel;if(!M4(o,t)||!M4(s,t))return;var l=this.getCartesian(o.componentIndex,s.componentIndex),c=i.getData(),u=l.getAxis("x"),h=l.getAxis("y");r(c,u),r(c,h)}},this)},e.prototype.getTooltipAxes=function(n){var t=[],r=[];return I(this.getCartesians(),function(i){var a=null!=n&&"auto"!==n?i.getAxis(n):i.getBaseAxis(),o=i.getOtherAxis(a);sn(t,a)<0&&t.push(a),sn(r,o)<0&&r.push(o)}),{baseAxes:t,otherAxes:r}},e.create=function(n,t){var r=[];return n.eachComponent("grid",function(i,a){var o=new e(i,n,t);o.name="grid_"+a,o.resize(i,t,!0),i.coordinateSystem=o,r.push(o)}),n.eachSeries(function(i){if(pY(i)){var a=gY(i),o=a.xAxisModel,s=a.yAxisModel,l=o.getCoordSysModel();i.coordinateSystem=l.coordinateSystem.getCartesian(o.componentIndex,s.componentIndex)}}),r},e.dimensions=S4,e}();function M4(e,n){return e.getCoordSysModel()===n}function XY(e,n,t,r){t.getAxesOnZeroOf=function(){return a?[a]:[]};var a,i=e[n],o=t.model,s=o.get(["axisLine","onZero"]),l=o.get(["axisLine","onZeroAxisIndex"]);if(s){if(null!=l)qY(i[l])&&(a=i[l]);else for(var c in i)if(i.hasOwnProperty(c)&&qY(i[c])&&!r[u(i[c])]){a=i[c];break}a&&(r[u(a)]=!0)}function u(h){return h.dim+"_"+h.index}}function qY(e){return e&&"category"!==e.type&&"time"!==e.type&&function n4e(e){var n=e.scale.getExtent(),t=n[0],r=n[1];return!(t>0&&r>0||t<0&&r<0)}(e)}const PNe=NNe;var T4=$n(),LNe=["axisLine","axisTickLabel","axisName"],kNe=["splitArea","splitLine","minorSplitLine"],ZY=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=n.type,t.axisPointerClass="CartesianAxisPointer",t}return ke(n,e),n.prototype.render=function(t,r,i,a){this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new $r,this.group.add(this._axisGroup),t.get("show")){var s=t.getCoordSysModel(),l=v4(s,t),c=new hY(t,oe({handleAutoShown:function(h){for(var d=s.coordinateSystem.getCartesians(),f=0;f<d.length;f++)if(h4(d[f].getOtherAxis(t.axis).scale))return!0;return!1}},l));I(LNe,c.add,c),this._axisGroup.add(c.getGroup()),I(kNe,function(h){t.get([h,"show"])&&FNe[h](this,this._axisGroup,t,s)},this),a&&"changeAxisOrder"===a.type&&a.isInitSort||yW(o,this._axisGroup,t),e.prototype.render.call(this,t,r,i,a)}},n.prototype.remove=function(){!function RNe(e){T4(e).splitAreaColors=null}(this)},n.type="cartesianAxis",n}(z$),FNe={splitLine:function(e,n,t,r){var i=t.axis;if(!i.scale.isBlank()){var a=t.getModel("splitLine"),o=a.getModel("lineStyle"),s=o.get("color");s=ne(s)?s:[s];for(var l=r.coordinateSystem.getRect(),c=i.isHorizontal(),u=0,h=i.getTicksCoords({tickModel:a}),d=[],f=[],p=o.getLineStyle(),g=0;g<h.length;g++){var m=i.toGlobalCoord(h[g].coord);c?(d[0]=m,d[1]=l.y,f[0]=m,f[1]=l.y+l.height):(d[0]=l.x,d[1]=m,f[0]=l.x+l.width,f[1]=m);var v=u++%s.length,y=new yh({anid:null!=h[g].tickValue?"line_"+h[g].tickValue:null,autoBatch:!0,shape:{x1:d[0],y1:d[1],x2:f[0],y2:f[1]},style:ut({stroke:s[v]},p),silent:!0});P1(y.shape,p.lineWidth),n.add(y)}}},minorSplitLine:function(e,n,t,r){var i=t.axis,o=t.getModel("minorSplitLine").getModel("lineStyle"),s=r.coordinateSystem.getRect(),l=i.isHorizontal(),c=i.getMinorTicksCoords();if(c.length)for(var u=[],h=[],d=o.getLineStyle(),f=0;f<c.length;f++)for(var p=0;p<c[f].length;p++){var g=i.toGlobalCoord(c[f][p].coord);l?(u[0]=g,u[1]=s.y,h[0]=g,h[1]=s.y+s.height):(u[0]=s.x,u[1]=g,h[0]=s.x+s.width,h[1]=g);var m=new yh({anid:"minor_line_"+c[f][p].tickValue,autoBatch:!0,shape:{x1:u[0],y1:u[1],x2:h[0],y2:h[1]},style:d,silent:!0});P1(m.shape,d.lineWidth),n.add(m)}},splitArea:function(e,n,t,r){!function ONe(e,n,t,r){var i=t.axis;if(!i.scale.isBlank()){var a=t.getModel("splitArea"),o=a.getModel("areaStyle"),s=o.get("color"),l=r.coordinateSystem.getRect(),c=i.getTicksCoords({tickModel:a,clamp:!0});if(c.length){var u=s.length,h=T4(e).splitAreaColors,d=bt(),f=0;if(h)for(var p=0;p<c.length;p++){var g=h.get(c[p].tickValue);if(null!=g){f=(g+(u-1)*p)%u;break}}var m=i.toGlobalCoord(c[0].coord),v=o.getAreaStyle();for(s=ne(s)?s:[s],p=1;p<c.length;p++){var _=i.toGlobalCoord(c[p].coord),y=void 0,b=void 0,w=void 0,C=void 0;i.isHorizontal()?(b=l.y,C=l.height,m=(y=m)+(w=_-y)):(y=l.x,w=l.width,m=(b=m)+(C=_-b));var S=c[p-1].tickValue;null!=S&&d.set(S,f),n.add(new Yn({anid:null!=S?"area_"+S:null,shape:{x:y,y:b,width:w,height:C},style:ut({fill:s[f]},v),autoBatch:!0,silent:!0})),f=(f+1)%u}T4(e).splitAreaColors=d}}}(e,n,t,r)}},KY=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=n.type,t}return ke(n,e),n.type="xAxis",n}(ZY),zNe=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=KY.type,t}return ke(n,e),n.type="yAxis",n}(ZY),BNe=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="grid",t}return ke(n,e),n.prototype.render=function(t,r){this.group.removeAll(),t.get("show")&&this.group.add(new Yn({shape:t.coordinateSystem.getRect(),style:ut({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0,z2:-1}))},n.type="grid",n}(Ei),QY={offset:0};function VNe(e){e.registerComponentView(BNe),e.registerComponentModel(lNe),e.registerCoordinateSystem("cartesian2d",PNe),FY(e,"x",b4,QY),FY(e,"y",b4,QY),e.registerComponentView(KY),e.registerComponentView(zNe),e.registerPreprocessor(function(n){n.xAxis&&n.yAxis&&!n.grid&&(n.grid={})})}var UNe=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="dataset",t}return ke(n,e),n.prototype.init=function(t,r,i){e.prototype.init.call(this,t,r,i),this._sourceManager=new IG(this),PG(this)},n.prototype.mergeOption=function(t,r){e.prototype.mergeOption.call(this,t,r),PG(this)},n.prototype.optionUpdated=function(){this._sourceManager.dirty()},n.prototype.getSourceManager=function(){return this._sourceManager},n.type="dataset",n.defaultOption={seriesLayoutBy:Zs},n}(cn),GNe=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="dataset",t}return ke(n,e),n.type="dataset",n}(Ei);function JY(e){e.registerComponentModel(UNe),e.registerComponentView(GNe)}var eX={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},WNe=function(){function e(n){var t=this._condVal=Fe(n)?new RegExp(n):function ube(e){return"[object RegExp]"===_f.call(e)}(n)?n:null;null==t&&an("")}return e.prototype.evaluate=function(n){var t=typeof n;return Fe(t)?this._condVal.test(n):!!Sn(t)&&this._condVal.test(n+"")},e}(),jNe=function(){function e(){}return e.prototype.evaluate=function(){return this.value},e}(),$Ne=function(){function e(){}return e.prototype.evaluate=function(){for(var n=this.children,t=0;t<n.length;t++)if(!n[t].evaluate())return!1;return!0},e}(),YNe=function(){function e(){}return e.prototype.evaluate=function(){for(var n=this.children,t=0;t<n.length;t++)if(n[t].evaluate())return!0;return!1},e}(),XNe=function(){function e(){}return e.prototype.evaluate=function(){return!this.child.evaluate()},e}(),qNe=function(){function e(){}return e.prototype.evaluate=function(){for(var n=!!this.valueParser,r=(0,this.getValue)(this.valueGetterParam),i=n?this.valueParser(r):null,a=0;a<this.subCondList.length;a++)if(!this.subCondList[a].evaluate(n?i:r))return!1;return!0},e}();function D4(e,n){if(!0===e||!1===e){var t=new jNe;return t.value=e,t}return nX(e)||an(""),e.and?tX("and",e,n):e.or?tX("or",e,n):e.not?function ZNe(e,n){var t=e.not;nX(t)||an("");var i=new XNe;return i.child=D4(t,n),i.child||an(""),i}(e,n):function KNe(e,n){for(var r=n.prepareGetValue(e),i=[],a=Bn(e),o=e.parser,s=o?SG(o):null,l=0;l<a.length;l++){var c=a[l];if("parser"!==c&&!n.valueGetterAttrMap.get(c)){var u=El(eX,c)?eX[c]:c,h=e[c],d=s?s(h):h,f=Jxe(u,d)||"reg"===u&&new WNe(d);f||an(""),i.push(f)}}i.length||an("");var p=new qNe;return p.valueGetterParam=r,p.valueParser=s,p.getValue=n.getValue,p.subCondList=i,p}(e,n)}function tX(e,n,t){var r=n[e];ne(r)||an(""),r.length||an("");var a="and"===e?new $Ne:new YNe;return a.children=De(r,function(o){return D4(o,t)}),a.children.length||an(""),a}function nX(e){return ze(e)&&!Ji(e)}var QNe=function(){function e(n,t){this._cond=D4(n,t)}return e.prototype.evaluate=function(){return this._cond.evaluate()},e}(),eIe={type:"echarts:filter",transform:function(e){for(var t,n=e.upstream,r=function JNe(e,n){return new QNe(e,n)}(e.config,{valueGetterAttrMap:bt({dimension:!0}),prepareGetValue:function(s){var c=s.dimension;El(s,"dimension")||an("");var u=n.getDimensionInfo(c);return u||an(""),{dimIdx:u.index}},getValue:function(s){return n.retrieveValueFromItem(t,s.dimIdx)}}),i=[],a=0,o=n.count();a<o;a++)t=n.getRawDataItem(a),r.evaluate()&&i.push(t);return{data:i}}},tIe={type:"echarts:sort",transform:function(e){var n=e.upstream,r="",i=mr(e.config);i.length||an(r);var a=[];I(i,function(u){var h=u.dimension,d=u.order,f=u.parser,p=u.incomparable;null==h&&an(r),"asc"!==d&&"desc"!==d&&an(r),p&&"min"!==p&&"max"!==p&&an(""),"asc"!==d&&"desc"!==d&&an("");var v=n.getDimensionInfo(h);v||an(r);var _=f?SG(f):null;f&&!_&&an(r),a.push({dimIdx:v.index,parser:_,comparator:new MG(d,p)})});var o=n.sourceFormat;o!==ra&&o!==hs&&an(r);for(var s=[],l=0,c=n.count();l<c;l++)s.push(n.getRawDataItem(l));return s.sort(function(u,h){for(var d=0;d<a.length;d++){var f=a[d],p=n.retrieveValueFromItem(u,f.dimIdx),g=n.retrieveValueFromItem(h,f.dimIdx);f.parser&&(p=f.parser(p),g=f.parser(g));var m=f.comparator.evaluate(p,g);if(0!==m)return m}return 0}),{data:s}}},iIe=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=n.type,t.layoutMode={type:"box",ignoreSize:!0},t}return ke(n,e),n.prototype.init=function(t,r,i){this.mergeDefaultAndTheme(t,i),t.selected=t.selected||{},this._updateSelector(t)},n.prototype.mergeOption=function(t,r){e.prototype.mergeOption.call(this,t,r),this._updateSelector(t)},n.prototype._updateSelector=function(t){var r=t.selector,i=this.ecModel;!0===r&&(r=t.selector=["all","inverse"]),ne(r)&&I(r,function(a,o){Fe(a)&&(a={type:a}),r[o]=Ee(a,function(e,n){return"all"===n?{type:"all",title:e.getLocaleModel().get(["legend","selector","all"])}:"inverse"===n?{type:"inverse",title:e.getLocaleModel().get(["legend","selector","inverse"])}:void 0}(i,a.type))})},n.prototype.optionUpdated=function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&"single"===this.get("selectedMode")){for(var r=!1,i=0;i<t.length;i++){var a=t[i].get("name");if(this.isSelected(a)){this.select(a),r=!0;break}}!r&&this.select(t[0].get("name"))}},n.prototype._updateData=function(t){var r=[],i=[];t.eachRawSeries(function(l){var u;if(i.push(l.name),l.legendVisualProvider){var d=l.legendVisualProvider.getAllNames();t.isSeriesFiltered(l)||(i=i.concat(d)),d.length?r=r.concat(d):u=!0}else u=!0;u&&U3(l)&&r.push(l.name)}),this._availableNames=i;var a=this.get("data")||r,o=bt(),s=De(a,function(l){return(Fe(l)||Sn(l))&&(l={name:l}),o.get(l.name)?null:(o.set(l.name,!0),new Tr(l,this,this.ecModel))},this);this._data=Mr(s,function(l){return!!l})},n.prototype.getData=function(){return this._data},n.prototype.select=function(t){var r=this.option.selected;"single"===this.get("selectedMode")&&I(this._data,function(o){r[o.get("name")]=!1}),r[t]=!0},n.prototype.unSelect=function(t){"single"!==this.get("selectedMode")&&(this.option.selected[t]=!1)},n.prototype.toggleSelected=function(t){var r=this.option.selected;r.hasOwnProperty(t)||(r[t]=!0),this[r[t]?"unSelect":"select"](t)},n.prototype.allSelect=function(){var r=this.option.selected;I(this._data,function(i){r[i.get("name",!0)]=!0})},n.prototype.inverseSelect=function(){var r=this.option.selected;I(this._data,function(i){var a=i.get("name",!0);r.hasOwnProperty(a)||(r[a]=!0),r[a]=!r[a]})},n.prototype.isSelected=function(t){var r=this.option.selected;return!(r.hasOwnProperty(t)&&!r[t])&&sn(this._availableNames,t)>=0},n.prototype.getOrient=function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},n.type="legend.plain",n.dependencies=["series"],n.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},n}(cn);const E4=iIe;var ip=An,A4=I,nC=$r,oIe=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=n.type,t.newlineDisabled=!1,t}return ke(n,e),n.prototype.init=function(){this.group.add(this._contentGroup=new nC),this.group.add(this._selectorGroup=new nC),this._isFirstRender=!0},n.prototype.getContentGroup=function(){return this._contentGroup},n.prototype.getSelectorGroup=function(){return this._selectorGroup},n.prototype.render=function(t,r,i){var a=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),t.get("show",!0)){var o=t.get("align"),s=t.get("orient");(!o||"auto"===o)&&(o="right"===t.get("left")&&"vertical"===s?"right":"left");var l=t.get("selector",!0),c=t.get("selectorPosition",!0);l&&(!c||"auto"===c)&&(c="horizontal"===s?"end":"start"),this.renderInner(o,t,r,i,l,s,c);var u=t.getBoxLayoutParams(),h={width:i.getWidth(),height:i.getHeight()},d=t.get("padding"),f=us(u,h,d),p=this.layoutInner(t,o,f,a,l,c),g=us(ut({width:p.width,height:p.height},u),h,d);this.group.x=g.x-p.x,this.group.y=g.y-p.y,this.group.markRedraw(),this.group.add(this._backgroundEl=function aIe(e,n){var t=b1(n.get("padding")),r=n.getItemStyle(["color","opacity"]);return r.fill=n.get("backgroundColor"),new Yn({shape:{x:e.x-t[3],y:e.y-t[0],width:e.width+t[1]+t[3],height:e.height+t[0]+t[2],r:n.get("borderRadius")},style:r,silent:!0,z2:-1})}(p,t))}},n.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},n.prototype.renderInner=function(t,r,i,a,o,s,l){var c=this.getContentGroup(),u=bt(),h=r.get("selectedMode"),d=[];i.eachRawSeries(function(f){!f.get("legendHoverLink")&&d.push(f.id)}),A4(r.getData(),function(f,p){var g=f.get("name");if(!this.newlineDisabled&&(""===g||"\n"===g)){var m=new nC;return m.newline=!0,void c.add(m)}var v=i.getSeriesByName(g)[0];if(!u.get(g))if(v){var _=v.getData(),y=_.getVisual("legendLineStyle")||{},b=_.getVisual("legendIcon"),w=_.getVisual("style");this._createItem(v,g,p,f,r,t,y,w,b,h,a).on("click",ip(rX,g,null,a,d)).on("mouseover",ip(N4,v.name,null,a,d)).on("mouseout",ip(I4,v.name,null,a,d)),u.set(g,!0)}else i.eachRawSeries(function(S){if(!u.get(g)&&S.legendVisualProvider){var x=S.legendVisualProvider;if(!x.containName(g))return;var M=x.indexOfName(g),E=x.getItemVisual(M,"style"),T=x.getItemVisual(M,"legendIcon"),A=ta(E.fill);A&&0===A[3]&&(A[3]=.2,E=oe(oe({},E),{fill:Gs(A,"rgba")})),this._createItem(S,g,p,f,r,t,{},E,T,h,a).on("click",ip(rX,null,g,a,d)).on("mouseover",ip(N4,null,g,a,d)).on("mouseout",ip(I4,null,g,a,d)),u.set(g,!0)}},this)},this),o&&this._createSelector(o,r,a,s,l)},n.prototype._createSelector=function(t,r,i,a,o){var s=this.getSelectorGroup();A4(t,function(c){var u=c.type,h=new nr({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){i.dispatchAction({type:"all"===u?"legendAllSelect":"legendInverseSelect"})}});s.add(h),g1(h,{normal:r.getModel("selectorLabel"),emphasis:r.getModel(["emphasis","selectorLabel"])},{defaultText:c.title}),mE(h)})},n.prototype._createItem=function(t,r,i,a,o,s,l,c,u,h,d){var f=t.visualDrawType,p=o.get("itemWidth"),g=o.get("itemHeight"),m=o.isSelected(r),v=a.get("symbolRotate"),_=a.get("symbolKeepAspect"),y=a.get("icon"),b=function sIe(e,n,t,r,i,a,o){function s(m,v){"auto"===m.lineWidth&&(m.lineWidth=v.lineWidth>0?2:0),A4(m,function(_,y){"inherit"===m[y]&&(m[y]=v[y])})}var l=n.getModel("itemStyle"),c=l.getItemStyle(),u=0===e.lastIndexOf("empty",0)?"fill":"stroke",h=l.getShallow("decal");c.decal=h&&"inherit"!==h?MA(h,o):r.decal,"inherit"===c.fill&&(c.fill=r[i]),"inherit"===c.stroke&&(c.stroke=r[u]),"inherit"===c.opacity&&(c.opacity=("fill"===i?r:t).opacity),s(c,r);var d=n.getModel("lineStyle"),f=d.getLineStyle();if(s(f,t),"auto"===c.fill&&(c.fill=r.fill),"auto"===c.stroke&&(c.stroke=r.fill),"auto"===f.stroke&&(f.stroke=r.fill),!a){var p=n.get("inactiveBorderWidth");c.lineWidth="auto"===p?r.lineWidth>0&&c[u]?2:0:c.lineWidth,c.fill=n.get("inactiveColor"),c.stroke=n.get("inactiveBorderColor"),f.stroke=d.get("inactiveColor"),f.lineWidth=d.get("inactiveWidth")}return{itemStyle:c,lineStyle:f}}(u=y||u||"roundRect",a,l,c,f,m,d),w=new nC,C=a.getModel("textStyle");if(!Ze(t.getLegendIcon)||y&&"inherit"!==y){var S="inherit"===y&&t.getData().getVisual("symbol")?"inherit"===v?t.getData().getVisual("symbolRotate"):v:0;w.add(function lIe(e){var n=e.icon||"roundRect",t=Qs(n,0,0,e.itemWidth,e.itemHeight,e.itemStyle.fill,e.symbolKeepAspect);return t.setStyle(e.itemStyle),t.rotation=(e.iconRotate||0)*Math.PI/180,t.setOrigin([e.itemWidth/2,e.itemHeight/2]),n.indexOf("empty")>-1&&(t.style.stroke=t.style.fill,t.style.fill="#fff",t.style.lineWidth=2),t}({itemWidth:p,itemHeight:g,icon:u,iconRotate:S,itemStyle:b.itemStyle,lineStyle:b.lineStyle,symbolKeepAspect:_}))}else w.add(t.getLegendIcon({itemWidth:p,itemHeight:g,icon:u,iconRotate:v,itemStyle:b.itemStyle,lineStyle:b.lineStyle,symbolKeepAspect:_}));var x="left"===s?p+5:-5,M=s,E=o.get("formatter"),T=r;Fe(E)&&E?T=E.replace("{name}",r??""):Ze(E)&&(T=E(r));var A=a.get("inactiveColor");w.add(new nr({style:Ti(C,{text:T,x,y:g/2,fill:m?C.getTextColor():A,align:M,verticalAlign:"middle"})}));var N=new Yn({shape:w.getBoundingRect(),invisible:!0}),R=a.getModel("tooltip");return R.get("show")&&gA({el:N,componentModel:o,itemName:r,itemTooltipOption:R.option}),w.add(N),w.eachChild(function(z){z.silent=!0}),N.silent=!h,this.getContentGroup().add(w),mE(w),w.__legendDataIndex=i,w},n.prototype.layoutInner=function(t,r,i,a,o,s){var l=this.getContentGroup(),c=this.getSelectorGroup();Hf(t.get("orient"),l,t.get("itemGap"),i.width,i.height);var u=l.getBoundingRect(),h=[-u.x,-u.y];if(c.markRedraw(),l.markRedraw(),o){Hf("horizontal",c,t.get("selectorItemGap",!0));var d=c.getBoundingRect(),f=[-d.x,-d.y],p=t.get("selectorButtonGap",!0),g=t.getOrient().index,m=0===g?"width":"height",v=0===g?"height":"width",_=0===g?"y":"x";"end"===s?f[g]+=u[m]+p:h[g]+=d[m]+p,f[1-g]+=u[v]/2-d[v]/2,c.x=f[0],c.y=f[1],l.x=h[0],l.y=h[1];var y={x:0,y:0};return y[m]=u[m]+p+d[m],y[v]=Math.max(u[v],d[v]),y[_]=Math.min(0,d[_]+f[1-g]),y}return l.x=h[0],l.y=h[1],this.group.getBoundingRect()},n.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},n.type="legend.plain",n}(Ei);function rX(e,n,t,r){I4(e,n,t,r),t.dispatchAction({type:"legendToggleSelect",name:e??n}),N4(e,n,t,r)}function iX(e){for(var t,n=e.getZr().storage.getDisplayList(),r=0,i=n.length;r<i&&!(t=n[r].states.emphasis);)r++;return t&&t.hoverLayer}function N4(e,n,t,r){iX(t)||t.dispatchAction({type:"highlight",seriesName:e,name:n,excludeSeriesId:r})}function I4(e,n,t,r){iX(t)||t.dispatchAction({type:"downplay",seriesName:e,name:n,excludeSeriesId:r})}const aX=oIe;function cIe(e){var n=e.findComponents({mainType:"legend"});n&&n.length&&e.filterSeries(function(t){for(var r=0;r<n.length;r++)if(!n[r].isSelected(t.name))return!1;return!0})}function fm(e,n,t){var a,r={},i="toggleSelected"===e;return t.eachComponent("legend",function(o){i&&null!=a?o[a?"select":"unSelect"](n.name):"allSelect"===e||"inverseSelect"===e?o[e]():(o[e](n.name),a=o.isSelected(n.name)),I(o.getData(),function(l){var c=l.get("name");if("\n"!==c&&""!==c){var u=o.isSelected(c);r[c]=r.hasOwnProperty(c)?r[c]&&u:u}})}),"allSelect"===e||"inverseSelect"===e?{selected:r}:{name:n.name,selected:r}}function oX(e){e.registerComponentModel(E4),e.registerComponentView(aX),e.registerProcessor(e.PRIORITY.PROCESSOR.SERIES_FILTER,cIe),e.registerSubTypeDefaulter("legend",function(){return"plain"}),function uIe(e){e.registerAction("legendToggleSelect","legendselectchanged",An(fm,"toggleSelected")),e.registerAction("legendAllSelect","legendselectall",An(fm,"allSelect")),e.registerAction("legendInverseSelect","legendinverseselect",An(fm,"inverseSelect")),e.registerAction("legendSelect","legendselected",An(fm,"select")),e.registerAction("legendUnSelect","legendunselected",An(fm,"unSelect"))}(e)}var hIe=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=n.type,t}return ke(n,e),n.prototype.setScrollDataIndex=function(t){this.option.scrollDataIndex=t},n.prototype.init=function(t,r,i){var a=ob(t);e.prototype.init.call(this,t,r,i),sX(this,t,a)},n.prototype.mergeOption=function(t,r){e.prototype.mergeOption.call(this,t,r),sX(this,this.option,t)},n.type="legend.scroll",n.defaultOption=q2(E4.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),n}(E4);function sX(e,n,t){var i=[1,1];i[e.getOrient().index]=0,Uf(n,t,{type:"box",ignoreSize:!!i})}const dIe=hIe;var lX=$r,P4=["width","height"],O4=["x","y"],fIe=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=n.type,t.newlineDisabled=!0,t._currentIndex=0,t}return ke(n,e),n.prototype.init=function(){e.prototype.init.call(this),this.group.add(this._containerGroup=new lX),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new lX)},n.prototype.resetInner=function(){e.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},n.prototype.renderInner=function(t,r,i,a,o,s,l){var c=this;e.prototype.renderInner.call(this,t,r,i,a,o,s,l);var u=this._controllerGroup,h=r.get("pageIconSize",!0),d=ne(h)?h:[h,h];p("pagePrev",0);var f=r.getModel("pageTextStyle");function p(g,m){var v=g+"DataIndex",_=fA(r.get("pageIcons",!0)[r.getOrient().name][m],{onclick:ln(c._pageGo,c,v,r,a)},{x:-d[0]/2,y:-d[1]/2,width:d[0],height:d[1]});_.name=g,u.add(_)}u.add(new nr({name:"pageText",style:{text:"xx/xx",fill:f.getTextColor(),font:f.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),p("pageNext",1)},n.prototype.layoutInner=function(t,r,i,a,o,s){var l=this.getSelectorGroup(),c=t.getOrient().index,u=P4[c],h=O4[c],d=P4[1-c],f=O4[1-c];o&&Hf("horizontal",l,t.get("selectorItemGap",!0));var p=t.get("selectorButtonGap",!0),g=l.getBoundingRect(),m=[-g.x,-g.y],v=ht(i);o&&(v[u]=i[u]-g[u]-p);var _=this._layoutContentAndController(t,a,v,c,u,d,f,h);if(o){if("end"===s)m[c]+=_[u]+p;else{var y=g[u]+p;m[c]-=y,_[h]-=y}_[u]+=g[u]+p,m[1-c]+=_[f]+_[d]/2-g[d]/2,_[d]=Math.max(_[d],g[d]),_[f]=Math.min(_[f],g[f]+m[1-c]),l.x=m[0],l.y=m[1],l.markRedraw()}return _},n.prototype._layoutContentAndController=function(t,r,i,a,o,s,l,c){var u=this.getContentGroup(),h=this._containerGroup,d=this._controllerGroup;Hf(t.get("orient"),u,t.get("itemGap"),a?i.width:null,a?null:i.height),Hf("horizontal",d,t.get("pageButtonItemGap",!0));var f=u.getBoundingRect(),p=d.getBoundingRect(),g=this._showController=f[o]>i[o],m=[-f.x,-f.y];r||(m[a]=u[c]);var v=[0,0],_=[-p.x,-p.y],y=qt(t.get("pageButtonGap",!0),t.get("itemGap",!0));g&&("end"===t.get("pageButtonPosition",!0)?_[a]+=i[o]-p[o]:v[a]+=p[o]+y),_[1-a]+=f[s]/2-p[s]/2,u.setPosition(m),h.setPosition(v),d.setPosition(_);var w={x:0,y:0};if(w[o]=g?i[o]:f[o],w[s]=Math.max(f[s],p[s]),w[l]=Math.min(0,p[l]+_[1-a]),h.__rectSize=i[o],g){var C={x:0,y:0};C[o]=Math.max(i[o]-p[o]-y,0),C[s]=w[s],h.setClipPath(new Yn({shape:C})),h.__rectSize=C[o]}else d.eachChild(function(x){x.attr({invisible:!0,silent:!0})});var S=this._getPageInfo(t);return null!=S.pageIndex&&Vi(u,{x:S.contentPosition[0],y:S.contentPosition[1]},g?t:null),this._updatePageInfoView(t,S),w},n.prototype._pageGo=function(t,r,i){var a=this._getPageInfo(r)[t];null!=a&&i.dispatchAction({type:"legendScroll",scrollDataIndex:a,legendId:r.id})},n.prototype._updatePageInfoView=function(t,r){var i=this._controllerGroup;I(["pagePrev","pageNext"],function(u){var d=null!=r[u+"DataIndex"],f=i.childOfName(u);f&&(f.setStyle("fill",t.get(d?"pageIconColor":"pageIconInactiveColor",!0)),f.cursor=d?"pointer":"default")});var a=i.childOfName("pageText"),o=t.get("pageFormatter"),s=r.pageIndex,l=null!=s?s+1:0,c=r.pageCount;a&&o&&a.setStyle("text",Fe(o)?o.replace("{current}",null==l?"":l+"").replace("{total}",null==c?"":c+""):o({current:l,total:c}))},n.prototype._getPageInfo=function(t){var r=t.get("scrollDataIndex",!0),i=this.getContentGroup(),a=this._containerGroup.__rectSize,o=t.getOrient().index,s=P4[o],l=O4[o],c=this._findTargetItemIndex(r),u=i.children(),h=u[c],d=u.length,f=d?1:0,p={contentPosition:[i.x,i.y],pageCount:f,pageIndex:f-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!h)return p;var g=b(h);p.contentPosition[o]=-g.s;for(var m=c+1,v=g,_=g,y=null;m<=d;++m)(!(y=b(u[m]))&&_.e>v.s+a||y&&!w(y,v.s))&&(v=_.i>v.i?_:y)&&(null==p.pageNextDataIndex&&(p.pageNextDataIndex=v.i),++p.pageCount),_=y;for(m=c-1,v=g,_=g,y=null;m>=-1;--m)(!(y=b(u[m]))||!w(_,y.s))&&v.i<_.i&&(_=v,null==p.pagePrevDataIndex&&(p.pagePrevDataIndex=v.i),++p.pageCount,++p.pageIndex),v=y;return p;function b(C){if(C){var S=C.getBoundingRect(),x=S[l]+C[l];return{s:x,e:x+S[s],i:C.__legendDataIndex}}}function w(C,S){return C.e>=S&&C.s<=S+a}},n.prototype._findTargetItemIndex=function(t){return this._showController?(this.getContentGroup().eachChild(function(o,s){var l=o.__legendDataIndex;null==a&&null!=l&&(a=s),l===t&&(r=s)}),r??a):0;var r,a},n.type="legend.scroll",n}(aX);const pIe=fIe;function mIe(e){Vn(oX),e.registerComponentModel(dIe),e.registerComponentView(pIe),function gIe(e){e.registerAction("legendScroll","legendscroll",function(n,t){var r=n.scrollDataIndex;null!=r&&t.eachComponent({mainType:"legend",subType:"scroll",query:n},function(i){i.setScrollDataIndex(r)})})}(e)}function rC(e){H3(e,"label",["show"])}var iC=$n(),cX=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=n.type,t.createdBySelf=!1,t}return ke(n,e),n.prototype.init=function(t,r,i){this.mergeDefaultAndTheme(t,i),this._mergeOption(t,i,!1,!0)},n.prototype.isAnimationEnabled=function(){if(Bt.node)return!1;var t=this.__hostSeries;return this.getShallow("animation")&&t&&t.isAnimationEnabled()},n.prototype.mergeOption=function(t,r){this._mergeOption(t,r,!1,!1)},n.prototype._mergeOption=function(t,r,i,a){var o=this.mainType;i||r.eachSeries(function(s){var l=s.get(this.mainType,!0),c=iC(s)[o];l&&l.data?(c?c._mergeOption(l,r,!0):(a&&rC(l),I(l.data,function(u){u instanceof Array?(rC(u[0]),rC(u[1])):rC(u)}),oe(c=this.createMarkerModelFromSeries(l,this,r),{mainType:this.mainType,seriesIndex:s.seriesIndex,name:s.name,createdBySelf:!0}),c.__hostSeries=s),iC(s)[o]=c):iC(s)[o]=null},this)},n.prototype.formatTooltip=function(t,r,i){var a=this.getData(),o=this.getRawValue(t),s=a.getName(t);return mh("section",{header:this.name,blocks:[mh("nameValue",{name:s,value:o,noName:!s,noValue:null==o})]})},n.prototype.getData=function(){return this._data},n.prototype.setData=function(t){this._data=t},n.getMarkerModelFromSeries=function(t,r){return iC(t)[r]},n.type="marker",n.dependencies=["series","grid","polar","geo"],n}(cn);Ta(cX,yG.prototype);const aC=cX;var yIe=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=n.type,t}return ke(n,e),n.prototype.createMarkerModelFromSeries=function(t,r,i){return new n(t,r,i)},n.type="markPoint",n.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},n}(aC);const bIe=yIe;function oC(e,n,t,r,i,a){var o=[],l=Dc(n,r)?n.getCalculationInfo("stackResultDimension"):r,c=uX(n,l,e),u=n.indicesOfNearest(l,c)[0];o[i]=n.get(t,u),o[a]=n.get(l,u);var h=n.get(r,u),d=Ws(n.get(r,u));return(d=Math.min(d,20))>=0&&(o[a]=+o[a].toFixed(d)),[o,h]}var L4={min:An(oC,"min"),max:An(oC,"max"),average:An(oC,"average"),median:An(oC,"median")};function wIe(e,n){if(n){var t=e.getData(),r=e.coordinateSystem,i=r.dimensions;if(!function CIe(e){return!isNaN(parseFloat(e.x))&&!isNaN(parseFloat(e.y))}(n)&&!ne(n.coord)&&r){var a=function SIe(e,n,t,r){var i={};return null!=e.valueIndex||null!=e.valueDim?(i.valueDataDim=null!=e.valueIndex?n.getDimension(e.valueIndex):e.valueDim,i.valueAxis=t.getAxis(function xIe(e,n){var t=e.getData().getDimensionInfo(n);return t&&t.coordDim}(r,i.valueDataDim)),i.baseAxis=t.getOtherAxis(i.valueAxis),i.baseDataDim=n.mapDimension(i.baseAxis.dim)):(i.baseAxis=r.getBaseAxis(),i.valueAxis=t.getOtherAxis(i.baseAxis),i.baseDataDim=n.mapDimension(i.baseAxis.dim),i.valueDataDim=n.mapDimension(i.valueAxis.dim)),i}(n,t,r,e);if((n=ht(n)).type&&L4[n.type]&&a.baseAxis&&a.valueAxis){var o=sn(i,a.baseAxis.dim),s=sn(i,a.valueAxis.dim),l=L4[n.type](t,a.baseDataDim,a.valueDataDim,o,s);n.coord=l[0],n.value=l[1]}else n.coord=[null!=n.xAxis?n.xAxis:n.radiusAxis,null!=n.yAxis?n.yAxis:n.angleAxis]}if(null==n.coord)n.coord=[];else for(var c=n.coord,u=0;u<2;u++)L4[c[u]]&&(c[u]=uX(t,t.mapDimension(i[u]),c[u]));return n}}function MIe(e,n){return!(e&&e.containData&&n.coord&&!function R4(e){return!(isNaN(parseFloat(e.x))&&isNaN(parseFloat(e.y)))}(n))||e.containData(n.coord)}function uX(e,n,t){if("average"===t){var r=0,i=0;return e.each(n,function(a,o){isNaN(a)||(r+=a,i++)}),r/i}return"median"===t?e.getMedian(n):e.getDataExtent(n)["max"===t?1:0]}var k4=$n(),DIe=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=n.type,t}return ke(n,e),n.prototype.init=function(){this.markerGroupMap=bt()},n.prototype.render=function(t,r,i){var a=this,o=this.markerGroupMap;o.each(function(s){k4(s).keep=!1}),r.eachSeries(function(s){var l=aC.getMarkerModelFromSeries(s,a.type);l&&a.renderSeries(s,l,r,i)}),o.each(function(s){!k4(s).keep&&a.group.remove(s.group)})},n.prototype.markKeep=function(t){k4(t).keep=!0},n.prototype.toggleBlurSeries=function(t,r){var i=this;I(t,function(a){var o=aC.getMarkerModelFromSeries(a,i.type);o&&o.getData().eachItemGraphicEl(function(l){l&&(r?tU(l):dE(l))})})},n.type="marker",n}(Ei);function hX(e,n,t){var r=n.coordinateSystem;e.each(function(i){var o,a=e.getItemModel(i),s=oi(a.get("x"),t.getWidth()),l=oi(a.get("y"),t.getHeight());if(isNaN(s)||isNaN(l)){if(n.getMarkerPosition)o=n.getMarkerPosition(e.getValues(e.dimensions,i));else if(r){var c=e.get(r.dimensions[0],i),u=e.get(r.dimensions[1],i);o=r.dataToPoint([c,u])}}else o=[s,l];isNaN(s)||(o[0]=s),isNaN(l)||(o[1]=l),e.setItemLayout(i,o)})}var AIe=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=n.type,t}return ke(n,e),n.prototype.updateTransform=function(t,r,i){r.eachSeries(function(a){var o=aC.getMarkerModelFromSeries(a,"markPoint");o&&(hX(o.getData(),a,i),this.markerGroupMap.get(a.id).updateLayout())},this)},n.prototype.renderSeries=function(t,r,i,a){var o=t.coordinateSystem,s=t.id,l=t.getData(),c=this.markerGroupMap,u=c.get(s)||c.set(s,new T$),h=function NIe(e,n,t){var r;r=e?De(e&&e.dimensions,function(s){return oe(oe({},n.getData().getDimensionInfo(n.getData().mapDimension(s))||{}),{name:s,ordinalMeta:null})}):[{name:"value",type:"float"}];var i=new Lo(r,t),a=De(t.get("data"),An(wIe,n));e&&(a=Mr(a,An(MIe,e)));var o=function TIe(e,n){return e?function(t,r,i,a){return Yf(a<2?t.coord&&t.coord[a]:t.value,n[a])}:function(t,r,i,a){return Yf(t.value,n[a])}}(!!e,r);return i.initData(a,null,o),i}(o,t,r);r.setData(h),hX(r.getData(),t,a),h.each(function(d){var f=h.getItemModel(d),p=f.getShallow("symbol"),g=f.getShallow("symbolSize"),m=f.getShallow("symbolRotate"),v=f.getShallow("symbolOffset"),_=f.getShallow("symbolKeepAspect");if(Ze(p)||Ze(g)||Ze(m)||Ze(v)){var y=r.getRawValue(d),b=r.getDataParams(d);Ze(p)&&(p=p(y,b)),Ze(g)&&(g=g(y,b)),Ze(m)&&(m=m(y,b)),Ze(v)&&(v=v(y,b))}var w=f.getModel("itemStyle").getItemStyle(),C=bA(l,"color");w.fill||(w.fill=C),h.setItemVisual(d,{symbol:p,symbolSize:g,symbolRotate:m,symbolOffset:v,symbolKeepAspect:_,style:w})}),u.updateData(h),this.group.add(u.group),h.eachItemGraphicEl(function(d){d.traverse(function(f){tn(f).dataModel=r})}),this.markKeep(u),u.group.silent=r.get("silent")||t.get("silent")},n.type="markPoint",n}(DIe);const IIe=AIe;var OIe={get:function(e,n,t){var r=ht((RIe[e]||{})[n]);return t&&ne(r)?r[r.length-1]:r}},RIe={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}};const dX=OIe;var pm=I,LIe=ze,F4=function(){function e(n){var t=n.mappingMethod,r=n.type,i=this.option=ht(n);this.type=r,this.mappingMethod=t,this._normalizeData=zIe[t];var a=e.visualHandlers[r];this.applyVisual=a.applyVisual,this.getColorMapper=a.getColorMapper,this._normalizedToVisual=a._normalizedToVisual[t],"piecewise"===t?(z4(i),function kIe(e){var n=e.pieceList;e.hasSpecialVisual=!1,I(n,function(t,r){t.originIndex=r,null!=t.visual&&(e.hasSpecialVisual=!0)})}(i)):"category"===t?i.categories?function FIe(e){var n=e.categories,t=e.categoryMap={},r=e.visual;if(pm(n,function(o,s){t[o]=s}),!ne(r)){var i=[];ze(r)?pm(r,function(o,s){i[t[s]??-1]=o}):i[-1]=r,r=pX(e,i)}for(var a=n.length-1;a>=0;a--)null==r[a]&&(delete t[n[a]],n.pop())}(i):z4(i,!0):(rs("linear"!==t||i.dataExtent),z4(i))}return e.prototype.mapValueToVisual=function(n){var t=this._normalizeData(n);return this._normalizedToVisual(t,n)},e.prototype.getNormalizer=function(){return ln(this._normalizeData,this)},e.listVisualTypes=function(){return Bn(e.visualHandlers)},e.isValidType=function(n){return e.visualHandlers.hasOwnProperty(n)},e.eachVisual=function(n,t,r){ze(n)?I(n,t,r):t.call(r,n)},e.mapVisual=function(n,t,r){var i,a=ne(n)?[]:ze(n)?{}:(i=!0,null);return e.eachVisual(n,function(o,s){var l=t.call(r,o,s);i?a=l:a[s]=l}),a},e.retrieveVisuals=function(n){var r,t={};return n&&pm(e.visualHandlers,function(i,a){n.hasOwnProperty(a)&&(t[a]=n[a],r=!0)}),r?t:null},e.prepareVisualTypes=function(n){if(ne(n))n=n.slice();else{if(!LIe(n))return[];var t=[];pm(n,function(r,i){t.push(i)}),n=t}return n.sort(function(r,i){return"color"===i&&"color"!==r&&0===r.indexOf("color")?1:-1}),n},e.dependsOn=function(n,t){return"color"===t?!(!n||0!==n.indexOf(t)):n===t},e.findPieceIndex=function(n,t,r){for(var i,a=1/0,o=0,s=t.length;o<s;o++){var l=t[o].value;if(null!=l){if(l===n||Fe(l)&&l===n+"")return o;r&&d(l,o)}}for(o=0,s=t.length;o<s;o++){var c=t[o],u=c.interval,h=c.close;if(u){if(u[0]===-1/0){if(cC(h[1],n,u[1]))return o}else if(u[1]===1/0){if(cC(h[0],u[0],n))return o}else if(cC(h[0],u[0],n)&&cC(h[1],n,u[1]))return o;r&&d(u[0],o),r&&d(u[1],o)}}if(r)return n===1/0?t.length-1:n===-1/0?0:i;function d(f,p){var g=Math.abs(f-n);g<a&&(a=g,i=p)}},e.visualHandlers={color:{applyVisual:gm("color"),getColorMapper:function(){var n=this.option;return ln("category"===n.mappingMethod?function(t,r){return!r&&(t=this._normalizeData(t)),mm.call(this,t)}:function(t,r,i){var a=!!i;return!r&&(t=this._normalizeData(t)),i=m2(t,n.parsedVisual,i),a?i:Gs(i,"rgba")},this)},_normalizedToVisual:{linear:function(n){return Gs(m2(n,this.option.parsedVisual),"rgba")},category:mm,piecewise:function(n,t){var r=V4.call(this,t);return null==r&&(r=Gs(m2(n,this.option.parsedVisual),"rgba")),r},fixed:Nh}},colorHue:lC(function(n,t){return g3(n,t)}),colorSaturation:lC(function(n,t){return g3(n,null,t)}),colorLightness:lC(function(n,t){return g3(n,null,null,t)}),colorAlpha:lC(function(n,t){return function cCe(e,n){var t=ta(e);if(t&&null!=n)return t[3]=Zg(n),Gs(t,"rgba")}(n,t)}),decal:{applyVisual:gm("decal"),_normalizedToVisual:{linear:null,category:mm,piecewise:null,fixed:null}},opacity:{applyVisual:gm("opacity"),_normalizedToVisual:B4([0,1])},liftZ:{applyVisual:gm("liftZ"),_normalizedToVisual:{linear:Nh,category:Nh,piecewise:Nh,fixed:Nh}},symbol:{applyVisual:function(n,t,r){r("symbol",this.mapValueToVisual(n))},_normalizedToVisual:{linear:fX,category:mm,piecewise:function(n,t){var r=V4.call(this,t);return null==r&&(r=fX.call(this,n)),r},fixed:Nh}},symbolSize:{applyVisual:gm("symbolSize"),_normalizedToVisual:B4([0,1])}},e}();function z4(e,n){var t=e.visual,r=[];ze(t)?pm(t,function(a){r.push(a)}):null!=t&&r.push(t),!n&&1===r.length&&!{color:1,symbol:1}.hasOwnProperty(e.type)&&(r[1]=r[0]),pX(e,r)}function lC(e){return{applyVisual:function(n,t,r){var i=this.mapValueToVisual(n);r("color",e(t("color"),i))},_normalizedToVisual:B4([0,1])}}function fX(e){var n=this.option.visual;return n[Math.round(os(e,[0,1],[0,n.length-1],!0))]||{}}function gm(e){return function(n,t,r){r(e,this.mapValueToVisual(n))}}function mm(e){var n=this.option.visual;return n[this.option.loop&&-1!==e?e%n.length:e]}function Nh(){return this.option.visual[0]}function B4(e){return{linear:function(n){return os(n,e,this.option.visual,!0)},category:mm,piecewise:function(n,t){var r=V4.call(this,t);return null==r&&(r=os(n,e,this.option.visual,!0)),r},fixed:Nh}}function V4(e){var n=this.option,t=n.pieceList;if(n.hasSpecialVisual){var i=t[F4.findPieceIndex(e,t)];if(i&&i.visual)return i.visual[this.type]}}function pX(e,n){return e.visual=n,"color"===e.type&&(e.parsedVisual=De(n,function(t){return ta(t)||[0,0,0,1]})),n}var zIe={linear:function(e){return os(e,this.option.dataExtent,[0,1],!0)},piecewise:function(e){var n=this.option.pieceList,t=F4.findPieceIndex(e,n,!0);if(null!=t)return os(t,[0,n.length-1],[0,1],!0)},category:function(e){return(this.option.categories?this.option.categoryMap[e]:e)??-1},fixed:ea};function cC(e,n,t){return e?n<=t:n<t}const Oa=F4;var gX=I;function mX(e){if(e)for(var n in e)if(e.hasOwnProperty(n))return!0}function vX(e,n,t){var r={};return gX(n,function(a){var o=r[a]=function i(){var a=function(){};return a.prototype.__hidden=a.prototype,new a}();gX(e[a],function(s,l){if(Oa.isValidType(l)){var c={type:l,visual:s};t&&t(c,a),o[l]=new Oa(c),"opacity"===l&&((c=ht(c)).type="colorAlpha",o.__hidden.__alphaForOpacity=new Oa(c))}})}),r}var _X=Oa.mapVisual,HIe=Oa.eachVisual,UIe=ne,yX=I,GIe=QV,WIe=os,jIe=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=n.type,t.stateList=["inRange","outOfRange"],t.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],t.layoutMode={type:"box",ignoreSize:!0},t.dataBound=[-1/0,1/0],t.targetVisuals={},t.controllerVisuals={},t}return ke(n,e),n.prototype.init=function(t,r,i){this.mergeDefaultAndTheme(t,i)},n.prototype.optionUpdated=function(t,r){!r&&function BIe(e,n,t){var r;I(t,function(i){n.hasOwnProperty(i)&&mX(n[i])&&(r=!0)}),r&&I(t,function(i){n.hasOwnProperty(i)&&mX(n[i])?e[i]=ht(n[i]):delete e[i]})}(this.option,t,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},n.prototype.resetVisual=function(t){var r=this.stateList;t=ln(t,this),this.controllerVisuals=vX(this.option.controller,r,t),this.targetVisuals=vX(this.option.target,r,t)},n.prototype.getItemSymbol=function(){return null},n.prototype.getTargetSeriesIndices=function(){var t=this.option.seriesIndex,r=[];return null==t||"all"===t?this.ecModel.eachSeries(function(i,a){r.push(a)}):r=mr(t),r},n.prototype.eachTargetSeries=function(t,r){I(this.getTargetSeriesIndices(),function(i){var a=this.ecModel.getSeriesByIndex(i);a&&t.call(r,a)},this)},n.prototype.isTargetSeries=function(t){var r=!1;return this.eachTargetSeries(function(i){i===t&&(r=!0)}),r},n.prototype.formatValueText=function(t,r,i){var c,a=this.option,o=a.precision,s=this.dataBound,l=a.formatter;i=i||["<",">"],ne(t)&&(t=t.slice(),c=!0);var u=r?t:c?[h(t[0]),h(t[1])]:h(t);return Fe(l)?l.replace("{value}",c?u[0]:u).replace("{value2}",c?u[1]:u):Ze(l)?c?l(t[0],t[1]):l(t):c?t[0]===s[0]?i[0]+" "+u[1]:t[1]===s[1]?i[1]+" "+u[0]:u[0]+" - "+u[1]:u;function h(d){return d===s[0]?"min":d===s[1]?"max":(+d).toFixed(Math.min(o,20))}},n.prototype.resetExtent=function(){var t=this.option,r=GIe([t.min,t.max]);this._dataExtent=r},n.prototype.getDataDimensionIndex=function(t){var r=this.option.dimension;if(null!=r)return t.getDimensionIndex(r);for(var i=t.dimensions,a=i.length-1;a>=0;a--){var s=t.getDimensionInfo(i[a]);if(!s.isCalculationCoord)return s.storeDimIndex}},n.prototype.getExtent=function(){return this._dataExtent.slice()},n.prototype.completeVisualOption=function(){var t=this.ecModel,r=this.option,i={inRange:r.inRange,outOfRange:r.outOfRange},a=r.target||(r.target={}),o=r.controller||(r.controller={});Ee(a,i),Ee(o,i);var s=this.isCategory();function l(h){UIe(r.color)&&!h.inRange&&(h.inRange={color:r.color.slice().reverse()}),h.inRange=h.inRange||{color:t.get("gradientColor")}}l.call(this,a),l.call(this,o),function c(h,d,f){var p=h[d],g=h[f];p&&!g&&(g=h[f]={},yX(p,function(m,v){if(Oa.isValidType(v)){var _=dX.get(v,"inactive",s);null!=_&&(g[v]=_,"color"===v&&!g.hasOwnProperty("opacity")&&!g.hasOwnProperty("colorAlpha")&&(g.opacity=[0,0]))}}))}.call(this,a,"inRange","outOfRange"),function u(h){var d=(h.inRange||{}).symbol||(h.outOfRange||{}).symbol,f=(h.inRange||{}).symbolSize||(h.outOfRange||{}).symbolSize,p=this.get("inactiveColor"),m=this.getItemSymbol()||"roundRect";yX(this.stateList,function(v){var _=this.itemSize,y=h[v];y||(y=h[v]={color:s?p:[p]}),null==y.symbol&&(y.symbol=d&&ht(d)||(s?m:[m])),null==y.symbolSize&&(y.symbolSize=f&&ht(f)||(s?_[0]:[_[0],_[0]])),y.symbol=_X(y.symbol,function(C){return"none"===C?m:C});var b=y.symbolSize;if(null!=b){var w=-1/0;HIe(b,function(C){C>w&&(w=C)}),y.symbolSize=_X(b,function(C){return WIe(C,[0,w],[0,_[0]],!0)})}},this)}.call(this,o)},n.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},n.prototype.isCategory=function(){return!!this.option.categories},n.prototype.setSelected=function(t){},n.prototype.getSelected=function(){return null},n.prototype.getValueState=function(t){return null},n.prototype.getVisualMeta=function(t){return null},n.type="visualMap",n.dependencies=["series"],n.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},n}(cn);const uC=jIe;var $Ie=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=n.type,t._pieceList=[],t}return ke(n,e),n.prototype.optionUpdated=function(t,r){e.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var i=this._mode=this._determineMode();this._pieceList=[],YIe[this._mode].call(this,this._pieceList),this._resetSelected(t,r);var a=this.option.categories;this.resetVisual(function(o,s){"categories"===i?(o.mappingMethod="category",o.categories=ht(a)):(o.dataExtent=this.getExtent(),o.mappingMethod="piecewise",o.pieceList=De(this._pieceList,function(l){return l=ht(l),"inRange"!==s&&(l.visual=null),l}))})},n.prototype.completeVisualOption=function(){var t=this.option,r={},i=Oa.listVisualTypes(),a=this.isCategory();function o(s,l,c){return s&&s[l]&&s[l].hasOwnProperty(c)}I(t.pieces,function(s){I(i,function(l){s.hasOwnProperty(l)&&(r[l]=1)})}),I(r,function(s,l){var c=!1;I(this.stateList,function(u){c=c||o(t,u,l)||o(t.target,u,l)},this),!c&&I(this.stateList,function(u){(t[u]||(t[u]={}))[l]=dX.get(l,"inRange"===u?"active":"inactive",a)})},this),e.prototype.completeVisualOption.apply(this,arguments)},n.prototype._resetSelected=function(t,r){var i=this.option,a=this._pieceList,o=(r?i:t).selected||{};if(i.selected=o,I(a,function(l,c){var u=this.getSelectedMapKey(l);o.hasOwnProperty(u)||(o[u]=!0)},this),"single"===i.selectedMode){var s=!1;I(a,function(l,c){var u=this.getSelectedMapKey(l);o[u]&&(s?o[u]=!1:s=!0)},this)}},n.prototype.getItemSymbol=function(){return this.get("itemSymbol")},n.prototype.getSelectedMapKey=function(t){return"categories"===this._mode?t.value+"":t.index+""},n.prototype.getPieceList=function(){return this._pieceList},n.prototype._determineMode=function(){var t=this.option;return t.pieces&&t.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},n.prototype.setSelected=function(t){this.option.selected=ht(t)},n.prototype.getValueState=function(t){var r=Oa.findPieceIndex(t,this._pieceList);return null!=r&&this.option.selected[this.getSelectedMapKey(this._pieceList[r])]?"inRange":"outOfRange"},n.prototype.findTargetDataIndices=function(t){var r=[],i=this._pieceList;return this.eachTargetSeries(function(a){var o=[],s=a.getData();s.each(this.getDataDimensionIndex(s),function(l,c){Oa.findPieceIndex(l,i)===t&&o.push(c)},this),r.push({seriesId:a.id,dataIndex:o})},this),r},n.prototype.getRepresentValue=function(t){var r;if(this.isCategory())r=t.value;else if(null!=t.value)r=t.value;else{var i=t.interval||[];r=i[0]===-1/0&&i[1]===1/0?0:(i[0]+i[1])/2}return r},n.prototype.getVisualMeta=function(t){if(!this.isCategory()){var r=[],i=["",""],a=this,s=this._pieceList.slice();if(s.length){var l=s[0].interval[0];l!==-1/0&&s.unshift({interval:[-1/0,l]}),(l=s[s.length-1].interval[1])!==1/0&&s.push({interval:[l,1/0]})}else s.push({interval:[-1/0,1/0]});var c=-1/0;return I(s,function(u){var h=u.interval;h&&(h[0]>c&&o([c,h[0]],"outOfRange"),o(h.slice()),c=h[1])},this),{stops:r,outerColors:i}}function o(u,h){var d=a.getRepresentValue({interval:u});h||(h=a.getValueState(d));var f=t(d,h);u[0]===-1/0?i[0]=f:u[1]===1/0?i[1]=f:r.push({value:u[0],color:f},{value:u[1],color:f})}},n.type="visualMap.piecewise",n.defaultOption=q2(uC.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),n}(uC),YIe={splitNumber:function(e){var n=this.option,t=Math.min(n.precision,20),r=this.getExtent(),i=n.splitNumber;i=Math.max(parseInt(i,10),1),n.splitNumber=i;for(var a=(r[1]-r[0])/i;+a.toFixed(t)!==a&&t<5;)t++;n.precision=t,a=+a.toFixed(t),n.minOpen&&e.push({interval:[-1/0,r[0]],close:[0,0]});for(var o=0,s=r[0];o<i;s+=a,o++)e.push({interval:[s,o===i-1?r[1]:s+a],close:[1,1]});n.maxOpen&&e.push({interval:[r[1],1/0],close:[0,0]}),tH(e),I(e,function(c,u){c.index=u,c.text=this.formatValueText(c.interval)},this)},categories:function(e){var n=this.option;I(n.categories,function(t){e.push({text:this.formatValueText(t,!0),value:t})},this),bX(n,e)},pieces:function(e){var n=this.option;I(n.pieces,function(t,r){ze(t)||(t={value:t});var i={text:"",index:r};if(null!=t.label&&(i.text=t.label),t.hasOwnProperty("value")){var a=i.value=t.value;i.interval=[a,a],i.close=[1,1]}else{for(var o=i.interval=[],s=i.close=[0,0],l=[1,0,1],c=[-1/0,1/0],u=[],h=0;h<2;h++){for(var d=[["gte","gt","min"],["lte","lt","max"]][h],f=0;f<3&&null==o[h];f++)o[h]=t[d[f]],s[h]=l[f],u[h]=2===f;null==o[h]&&(o[h]=c[h])}u[0]&&o[1]===1/0&&(s[0]=0),u[1]&&o[0]===-1/0&&(s[1]=0),o[0]===o[1]&&s[0]&&s[1]&&(i.value=o[0])}i.visual=Oa.retrieveVisuals(t),e.push(i)},this),bX(n,e),tH(e),I(e,function(t){var r=t.close;t.text=t.text||this.formatValueText(null!=t.value?t.value:t.interval,!1,[["<","\u2264"][r[1]],[">","\u2265"][r[0]]])},this)}};function bX(e,n){var t=e.inverse;("vertical"===e.orient?!t:t)&&n.reverse()}const XIe=$Ie;var qIe=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=n.type,t.autoPositionValues={left:1,right:1,top:1,bottom:1},t}return ke(n,e),n.prototype.init=function(t,r){this.ecModel=t,this.api=r},n.prototype.render=function(t,r,i,a){this.visualMapModel=t,!1!==t.get("show")?this.doRender(t,r,i,a):this.group.removeAll()},n.prototype.renderBackground=function(t){var r=this.visualMapModel,i=b1(r.get("padding")||0),a=t.getBoundingRect();t.add(new Yn({z2:-1,silent:!0,shape:{x:a.x-i[3],y:a.y-i[0],width:a.width+i[3]+i[1],height:a.height+i[0]+i[2]},style:{fill:r.get("backgroundColor"),stroke:r.get("borderColor"),lineWidth:r.get("borderWidth")}}))},n.prototype.getControllerVisual=function(t,r,i){var a=(i=i||{}).forceState,o=this.visualMapModel,s={};if("color"===r){var l=o.get("contentColor");s.color=l}function c(f){return s[f]}function u(f,p){s[f]=p}var h=o.controllerVisuals[a||o.getValueState(t)];return I(Oa.prepareVisualTypes(h),function(f){var p=h[f];i.convertOpacityToAlpha&&"opacity"===f&&(f="colorAlpha",p=h.__alphaForOpacity),Oa.dependsOn(f,r)&&p&&p.applyVisual(t,c,u)}),s[r]},n.prototype.positionGroup=function(t){var i=this.api;!function ixe(e,n,t,r,i,a){var c,o=!i||!i.hv||i.hv[0],s=!i||!i.hv||i.hv[1],l=i&&i.boundingMode||"all";if((a=a||e).x=e.x,a.y=e.y,!o&&!s)return!1;if("raw"===l)c="group"===e.type?new Yt(0,0,+n.width||0,+n.height||0):e.getBoundingRect();else if(c=e.getBoundingRect(),e.needLocalTransform()){var u=e.getLocalTransform();(c=c.clone()).applyTransform(u)}var h=us(ut({width:c.width,height:c.height},n),t,r),d=o?h.x-c.x:0,f=s?h.y-c.y:0;"raw"===l?(a.x=d,a.y=f):(a.x+=d,a.y+=f),a===e&&e.markRedraw()}(t,this.visualMapModel.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()})},n.prototype.doRender=function(t,r,i,a){},n.type="visualMap",n}(Ei);const CX=qIe;var wX=[["left","right","width"],["top","bottom","height"]];function SX(e,n,t){var r=e.option,i=r.align;if(null!=i&&"auto"!==i)return i;for(var a={width:n.getWidth(),height:n.getHeight()},o="horizontal"===r.orient?1:0,s=wX[o],l=[0,null,10],c={},u=0;u<3;u++)c[wX[1-o][u]]=l[u],c[s[u]]=2===u?t[0]:r[s[u]];var h=[["x","width",3],["y","height",0]][o],d=us(c,a,r.padding);return s[(d.margin[h[2]]||0)+d[h[0]]+.5*d[h[1]]<.5*a[h[1]]?0:1]}function hC(e,n){return I(e||[],function(t){null!=t.dataIndex&&(t.dataIndexInside=t.dataIndex,t.dataIndex=null),t.highlightKey="visualMap"+(n?n.componentIndex:"")}),e}var ZIe=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=n.type,t}return ke(n,e),n.prototype.doRender=function(){var t=this.group;t.removeAll();var r=this.visualMapModel,i=r.get("textGap"),a=r.textStyleModel,o=a.getFont(),s=a.getTextColor(),l=this._getItemAlign(),c=r.itemSize,u=this._getViewData(),h=u.endsText,d=yf(r.get("showLabel",!0),!h);h&&this._renderEndsText(t,h[0],c,d,l),I(u.viewPieceList,function(f){var p=f.piece,g=new $r;g.onclick=ln(this._onItemClick,this,p),this._enableHoverLink(g,f.indexInModelPieceList);var m=r.getRepresentValue(p);if(this._createItemSymbol(g,m,[0,0,c[0],c[1]]),d){var v=this.visualMapModel.getValueState(m);g.add(new nr({style:{x:"right"===l?-i:c[0]+i,y:c[1]/2,text:p.text,verticalAlign:"middle",align:l,font:o,fill:s,opacity:"outOfRange"===v?.5:1}}))}t.add(g)},this),h&&this._renderEndsText(t,h[1],c,d,l),Hf(r.get("orient"),t,r.get("itemGap")),this.renderBackground(t),this.positionGroup(t)},n.prototype._enableHoverLink=function(t,r){var i=this;t.on("mouseover",function(){return a("highlight")}).on("mouseout",function(){return a("downplay")});var a=function(o){var s=i.visualMapModel;s.option.hoverLink&&i.api.dispatchAction({type:o,batch:hC(s.findTargetDataIndices(r),s)})}},n.prototype._getItemAlign=function(){var t=this.visualMapModel,r=t.option;if("vertical"===r.orient)return SX(t,this.api,t.itemSize);var i=r.align;return(!i||"auto"===i)&&(i="left"),i},n.prototype._renderEndsText=function(t,r,i,a,o){if(r){var s=new $r;s.add(new nr({style:Ti(this.visualMapModel.textStyleModel,{x:a?"right"===o?i[0]:0:i[0]/2,y:i[1]/2,verticalAlign:"middle",align:a?o:"center",text:r})})),t.add(s)}},n.prototype._getViewData=function(){var t=this.visualMapModel,r=De(t.getPieceList(),function(s,l){return{piece:s,indexInModelPieceList:l}}),i=t.get("text"),a=t.get("orient"),o=t.get("inverse");return("horizontal"===a?o:!o)?r.reverse():i&&(i=i.slice().reverse()),{viewPieceList:r,endsText:i}},n.prototype._createItemSymbol=function(t,r,i){t.add(Qs(this.getControllerVisual(r,"symbol"),i[0],i[1],i[2],i[3],this.getControllerVisual(r,"color")))},n.prototype._onItemClick=function(t){var r=this.visualMapModel,i=r.option,a=i.selectedMode;if(a){var o=ht(i.selected),s=r.getSelectedMapKey(t);"single"===a||!0===a?(o[s]=!0,I(o,function(l,c){o[c]=c===s})):o[s]=!o[s],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:o})}},n.type="visualMap.piecewise",n}(CX);const KIe=ZIe;var QIe={type:"selectDataRange",event:"dataRangeSelected",update:"update"},JIe=function(e,n){n.eachComponent({mainType:"visualMap",query:e},function(t){t.setSelected(e.selected)})},ePe=[{createOnAllSeries:!0,reset:function(e,n){var t=[];return n.eachComponent("visualMap",function(r){var i=e.pipelineContext;!r.isTargetSeries(e)||i&&i.large||t.push(function VIe(e,n,t,r){var i={};return I(e,function(a){var o=Oa.prepareVisualTypes(n[a]);i[a]=o}),{progress:function(o,s){var l;function c(w){return HW(s,h,w)}function u(w,C){!function WTe(e,n,t,r){switch(t){case"color":e.ensureUniqueItemVisual(n,"style")[e.getVisual("drawType")]=r,e.setItemVisual(n,"colorFromPalette",!1);break;case"opacity":e.ensureUniqueItemVisual(n,"style").opacity=r;break;case"symbol":case"symbolSize":case"liftZ":e.setItemVisual(n,t,r)}}(s,h,w,C)}null!=r&&(l=s.getDimensionIndex(r));for(var h,d=s.getStore();null!=(h=o.next());){var f=s.getRawDataItem(h);if(!f||!1!==f.visualMap)for(var p=null!=r?d.get(l,h):h,g=t(p),m=n[g],v=i[g],_=0,y=v.length;_<y;_++){var b=v[_];m[b]&&m[b].applyVisual(p,c,u)}}}}}(r.stateList,r.targetVisuals,ln(r.getValueState,r),r.getDataDimensionIndex(e.getData())))}),t}},{createOnAllSeries:!0,reset:function(e,n){var t=e.getData(),r=[];n.eachComponent("visualMap",function(i){if(i.isTargetSeries(e)){var a=i.getVisualMeta(ln(tPe,null,e,i))||{stops:[],outerColors:[]},o=i.getDataDimensionIndex(t);o>=0&&(a.dimension=o,r.push(a))}}),e.getData().setVisual("visualMeta",r)}}];function tPe(e,n,t,r){for(var i=n.targetVisuals[r],a=Oa.prepareVisualTypes(i),o={color:bA(e.getData(),"color")},s=0,l=a.length;s<l;s++){var c=a[s],u=i["opacity"===c?"__alphaForOpacity":c];u&&u.applyVisual(t,h,d)}return o.color;function h(f){return o[f]}function d(f,p){o[f]=p}}var xX=I;function nPe(e){var n=e&&e.visualMap;ne(n)||(n=n?[n]:[]),xX(n,function(t){if(t){ap(t,"splitList")&&!ap(t,"pieces")&&(t.pieces=t.splitList,delete t.splitList);var r=t.pieces;r&&ne(r)&&xX(r,function(i){ze(i)&&(ap(i,"start")&&!ap(i,"min")&&(i.min=i.start),ap(i,"end")&&!ap(i,"max")&&(i.max=i.end))})}})}function ap(e,n){return e&&e.hasOwnProperty&&e.hasOwnProperty(n)}var MX=!1;function TX(e){MX||(MX=!0,e.registerSubTypeDefaulter("visualMap",function(n){return n.categories||(n.pieces?n.pieces.length>0:n.splitNumber>0)&&!n.calculable?"piecewise":"continuous"}),e.registerAction(QIe,JIe),I(ePe,function(n){e.registerVisual(e.PRIORITY.VISUAL.COMPONENT,n)}),e.registerPreprocessor(nPe))}var DX=[20,140],iPe=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=n.type,t}return ke(n,e),n.prototype.optionUpdated=function(t,r){e.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(i){i.mappingMethod="linear",i.dataExtent=this.getExtent()}),this._resetRange()},n.prototype.resetItemSize=function(){e.prototype.resetItemSize.apply(this,arguments);var t=this.itemSize;(null==t[0]||isNaN(t[0]))&&(t[0]=DX[0]),(null==t[1]||isNaN(t[1]))&&(t[1]=DX[1])},n.prototype._resetRange=function(){var t=this.getExtent(),r=this.option.range;!r||r.auto?(t.auto=1,this.option.range=t):ne(r)&&(r[0]>r[1]&&r.reverse(),r[0]=Math.max(r[0],t[0]),r[1]=Math.min(r[1],t[1]))},n.prototype.completeVisualOption=function(){e.prototype.completeVisualOption.apply(this,arguments),I(this.stateList,function(t){var r=this.option.controller[t].symbolSize;r&&r[0]!==r[1]&&(r[0]=r[1]/3)},this)},n.prototype.setSelected=function(t){this.option.range=t.slice(),this._resetRange()},n.prototype.getSelected=function(){var t=this.getExtent(),r=QV((this.get("range")||[]).slice());return r[0]>t[1]&&(r[0]=t[1]),r[1]>t[1]&&(r[1]=t[1]),r[0]<t[0]&&(r[0]=t[0]),r[1]<t[0]&&(r[1]=t[0]),r},n.prototype.getValueState=function(t){var r=this.option.range,i=this.getExtent();return(r[0]<=i[0]||r[0]<=t)&&(r[1]>=i[1]||t<=r[1])?"inRange":"outOfRange"},n.prototype.findTargetDataIndices=function(t){var r=[];return this.eachTargetSeries(function(i){var a=[],o=i.getData();o.each(this.getDataDimensionIndex(o),function(s,l){t[0]<=s&&s<=t[1]&&a.push(l)},this),r.push({seriesId:i.id,dataIndex:a})},this),r},n.prototype.getVisualMeta=function(t){var r=EX(0,0,this.getExtent()),i=EX(0,0,this.option.range.slice()),a=[];function o(f,p){a.push({value:f,color:t(f,p)})}for(var s=0,l=0,c=i.length,u=r.length;l<u&&(!i.length||r[l]<=i[0]);l++)r[l]<i[s]&&o(r[l],"outOfRange");for(var h=1;s<c;s++,h=0)h&&a.length&&o(i[s],"outOfRange"),o(i[s],"inRange");for(h=1;l<u;l++)(!i.length||i[i.length-1]<r[l])&&(h&&(a.length&&o(a[a.length-1].value,"outOfRange"),h=0),o(r[l],"outOfRange"));var d=a.length;return{stops:a,outerColors:[d?a[0].color:"transparent",d?a[d-1].color:"transparent"]}},n.type="visualMap.continuous",n.defaultOption=q2(uC.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),n}(uC);function EX(e,n,t){if(t[0]===t[1])return t.slice();for(var i=(t[1]-t[0])/200,a=t[0],o=[],s=0;s<=200&&a<t[1];s++)o.push(a),a+=i;return o.push(t[1]),o}const aPe=iPe;function H4(e,n){var t=e[n]-e[1-n];return{span:Math.abs(t),sign:t>0?-1:t<0?1:n?-1:1}}function op(e,n){return Math.min(null!=n[1]?n[1]:1/0,Math.max(null!=n[0]?n[0]:-1/0,e))}var Js=os,sPe=I,AX=Math.min,U4=Math.max,uPe=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=n.type,t._shapes={},t._dataInterval=[],t._handleEnds=[],t._hoverLinkDataIndices=[],t}return ke(n,e),n.prototype.doRender=function(t,r,i,a){this._api=i,(!a||"selectDataRange"!==a.type||a.from!==this.uid)&&this._buildView()},n.prototype._buildView=function(){this.group.removeAll();var t=this.visualMapModel,r=this.group;this._orient=t.get("orient"),this._useHandle=t.get("calculable"),this._resetInterval(),this._renderBar(r);var i=t.get("text");this._renderEndsText(r,i,0),this._renderEndsText(r,i,1),this._updateView(!0),this.renderBackground(r),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(r)},n.prototype._renderEndsText=function(t,r,i){if(r){var a=r[1-i];a=null!=a?a+"":"";var o=this.visualMapModel,s=o.get("textGap"),l=o.itemSize,c=this._shapes.mainGroup,u=this._applyTransform([l[0]/2,0===i?-s:l[1]+s],c),h=this._applyTransform(0===i?"bottom":"top",c),d=this._orient;this.group.add(new nr({style:Ti(this.visualMapModel.textStyleModel,{x:u[0],y:u[1],verticalAlign:"horizontal"===d?"middle":h,align:"horizontal"===d?h:"center",text:a})}))}},n.prototype._renderBar=function(t){var r=this.visualMapModel,i=this._shapes,a=r.itemSize,o=this._orient,s=this._useHandle,l=SX(r,this.api,a),c=i.mainGroup=this._createBarGroup(l),u=new $r;c.add(u),u.add(i.outOfRange=NX()),u.add(i.inRange=NX(null,s?PX(this._orient):null,ln(this._dragHandle,this,"all",!1),ln(this._dragHandle,this,"all",!0))),u.setClipPath(new Yn({shape:{x:0,y:0,width:a[0],height:a[1],r:3}}));var h=r.textStyleModel.getTextRect("\u56fd"),d=U4(h.width,h.height);s&&(i.handleThumbs=[],i.handleLabels=[],i.handleLabelPoints=[],this._createHandle(r,c,0,a,d,o),this._createHandle(r,c,1,a,d,o)),this._createIndicator(r,c,a,d,o),t.add(c)},n.prototype._createHandle=function(t,r,i,a,o,s){var l=ln(this._dragHandle,this,i,!1),c=ln(this._dragHandle,this,i,!0),u=Nl(t.get("handleSize"),a[0]),h=Qs(t.get("handleIcon"),-u/2,-u/2,u,u,null,!0),d=PX(this._orient);h.attr({cursor:d,draggable:!0,drift:l,ondragend:c,onmousemove:function(v){Wg(v.event)}}),h.x=a[0]/2,h.useStyle(t.getModel("handleStyle").getItemStyle()),h.setStyle({strokeNoScale:!0,strokeFirst:!0}),h.style.lineWidth*=2,h.ensureState("emphasis").style=t.getModel(["emphasis","handleStyle"]).getItemStyle(),_E(h,!0),r.add(h);var p=new nr({cursor:d,draggable:!0,drift:l,onmousemove:function(v){Wg(v.event)},ondragend:c,style:Ti(this.visualMapModel.textStyleModel,{x:0,y:0,text:""})});p.ensureState("blur").style={opacity:.1},p.stateTransition={duration:200},this.group.add(p);var g=[u,0],m=this._shapes;m.handleThumbs[i]=h,m.handleLabelPoints[i]=g,m.handleLabels[i]=p},n.prototype._createIndicator=function(t,r,i,a,o){var s=Nl(t.get("indicatorSize"),i[0]),l=Qs(t.get("indicatorIcon"),-s/2,-s/2,s,s,null,!0);l.attr({cursor:"move",invisible:!0,silent:!0,x:i[0]/2});var c=t.getModel("indicatorStyle").getItemStyle();if(l instanceof qs){var u=l.style;l.useStyle(oe({image:u.image,x:u.x,y:u.y,width:u.width,height:u.height},c))}else l.useStyle(c);r.add(l);var d=new nr({silent:!0,invisible:!0,style:Ti(this.visualMapModel.textStyleModel,{x:0,y:0,text:""})});this.group.add(d);var f=[("horizontal"===o?a/2:6)+i[0]/2,0],p=this._shapes;p.indicator=l,p.indicatorLabel=d,p.indicatorLabelPoint=f,this._firstShowIndicator=!0},n.prototype._dragHandle=function(t,r,i,a){if(this._useHandle){if(this._dragging=!r,!r){var o=this._applyTransform([i,a],this._shapes.mainGroup,!0);this._updateInterval(t,o[1]),this._hideIndicator(),this._updateView()}r===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),r?!this._hovering&&this._clearHoverLinkToSeries():IX(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[t],!1)}},n.prototype._resetInterval=function(){var t=this.visualMapModel,r=this._dataInterval=t.getSelected(),i=t.getExtent(),a=[0,t.itemSize[1]];this._handleEnds=[Js(r[0],i,a,!0),Js(r[1],i,a,!0)]},n.prototype._updateInterval=function(t,r){var i=this.visualMapModel,a=this._handleEnds,o=[0,i.itemSize[1]];!function oPe(e,n,t,r,i,a){e=e||0;var o=t[1]-t[0];if(null!=i&&(i=op(i,[0,o])),null!=a&&(a=Math.max(a,i??0)),"all"===r){var s=Math.abs(n[1]-n[0]);s=op(s,[0,o]),i=a=op(s,[i,a]),r=0}n[0]=op(n[0],t),n[1]=op(n[1],t);var l=H4(n,r);n[r]+=e;var h,c=i||0,u=t.slice();l.sign<0?u[0]+=c:u[1]-=c,n[r]=op(n[r],u),h=H4(n,r),null!=i&&(h.sign!==l.sign||h.span<i)&&(n[1-r]=n[r]+l.sign*i),h=H4(n,r),null!=a&&h.span>a&&(n[1-r]=n[r]+h.sign*a)}(r=r||0,a,o,t,0);var s=i.getExtent();this._dataInterval=[Js(a[0],o,s,!0),Js(a[1],o,s,!0)]},n.prototype._updateView=function(t){var r=this.visualMapModel,i=r.getExtent(),a=this._shapes,o=[0,r.itemSize[1]],s=t?o:this._handleEnds,l=this._createBarVisual(this._dataInterval,i,s,"inRange"),c=this._createBarVisual(i,i,o,"outOfRange");a.inRange.setStyle({fill:l.barColor}).setShape("points",l.barPoints),a.outOfRange.setStyle({fill:c.barColor}).setShape("points",c.barPoints),this._updateHandle(s,l)},n.prototype._createBarVisual=function(t,r,i,a){var o={forceState:a,convertOpacityToAlpha:!0},s=this._makeColorGradient(t,o),l=[this.getControllerVisual(t[0],"symbolSize",o),this.getControllerVisual(t[1],"symbolSize",o)],c=this._createBarPoints(i,l);return{barColor:new uA(0,0,0,1,s),barPoints:c,handlesColor:[s[0].color,s[s.length-1].color]}},n.prototype._makeColorGradient=function(t,r){var a=[],o=(t[1]-t[0])/100;a.push({color:this.getControllerVisual(t[0],"color",r),offset:0});for(var s=1;s<100;s++){var l=t[0]+o*s;if(l>t[1])break;a.push({color:this.getControllerVisual(l,"color",r),offset:s/100})}return a.push({color:this.getControllerVisual(t[1],"color",r),offset:1}),a},n.prototype._createBarPoints=function(t,r){var i=this.visualMapModel.itemSize;return[[i[0]-r[0],t[0]],[i[0],t[0]],[i[0],t[1]],[i[0]-r[1],t[1]]]},n.prototype._createBarGroup=function(t){var r=this._orient,i=this.visualMapModel.get("inverse");return new $r("horizontal"!==r||i?"horizontal"===r&&i?{scaleX:"bottom"===t?-1:1,rotation:-Math.PI/2}:"vertical"!==r||i?{scaleX:"left"===t?1:-1}:{scaleX:"left"===t?1:-1,scaleY:-1}:{scaleX:"bottom"===t?1:-1,rotation:Math.PI/2})},n.prototype._updateHandle=function(t,r){if(this._useHandle){var i=this._shapes,a=this.visualMapModel,o=i.handleThumbs,s=i.handleLabels,l=a.itemSize,c=a.getExtent();sPe([0,1],function(u){var h=o[u];h.setStyle("fill",r.handlesColor[u]),h.y=t[u];var d=Js(t[u],[0,l[1]],c,!0),f=this.getControllerVisual(d,"symbolSize");h.scaleX=h.scaleY=f/l[0],h.x=l[0]-f/2;var p=Kf(i.handleLabelPoints[u],Sb(h,this.group));s[u].setStyle({x:p[0],y:p[1],text:a.formatValueText(this._dataInterval[u]),verticalAlign:"middle",align:"vertical"===this._orient?this._applyTransform("left",i.mainGroup):"center"})},this)}},n.prototype._showIndicator=function(t,r,i,a){var o=this.visualMapModel,s=o.getExtent(),l=o.itemSize,c=[0,l[1]],u=this._shapes,h=u.indicator;if(h){h.attr("invisible",!1);var f=this.getControllerVisual(t,"color",{convertOpacityToAlpha:!0}),p=this.getControllerVisual(t,"symbolSize"),g=Js(t,s,c,!0),m=l[0]-p/2,v={x:h.x,y:h.y};h.y=g,h.x=m;var _=Kf(u.indicatorLabelPoint,Sb(h,this.group)),y=u.indicatorLabel;y.attr("invisible",!1);var b=this._applyTransform("left",u.mainGroup),C="horizontal"===this._orient;y.setStyle({text:(i||"")+o.formatValueText(r),verticalAlign:C?b:"middle",align:C?"center":b});var S={x:m,y:g,style:{fill:f}},x={style:{x:_[0],y:_[1]}};if(o.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var M={duration:100,easing:"cubicInOut",additive:!0};h.x=v.x,h.y=v.y,h.animateTo(S,M),y.animateTo(x,M)}else h.attr(S),y.attr(x);this._firstShowIndicator=!1;var E=this._shapes.handleLabels;if(E)for(var T=0;T<E.length;T++)this._api.enterBlur(E[T])}},n.prototype._enableHoverLinkToSeries=function(){var t=this;this._shapes.mainGroup.on("mousemove",function(r){if(t._hovering=!0,!t._dragging){var i=t.visualMapModel.itemSize,a=t._applyTransform([r.offsetX,r.offsetY],t._shapes.mainGroup,!0,!0);a[1]=AX(U4(0,a[1]),i[1]),t._doHoverLinkToSeries(a[1],0<=a[0]&&a[0]<=i[0])}}).on("mouseout",function(){t._hovering=!1,!t._dragging&&t._clearHoverLinkToSeries()})},n.prototype._enableHoverLinkFromSeries=function(){var t=this.api.getZr();this.visualMapModel.option.hoverLink?(t.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),t.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},n.prototype._doHoverLinkToSeries=function(t,r){var i=this.visualMapModel;if(i.option.hoverLink){var o=[0,i.itemSize[1]],s=i.getExtent();t=AX(U4(o[0],t),o[1]);var l=function hPe(e,n,t){var r=6,i=e.get("hoverLinkDataSize");return i&&(r=Js(i,n,t,!0)/2),r}(i,s,o),c=[t-l,t+l],u=Js(t,o,s,!0),h=[Js(c[0],o,s,!0),Js(c[1],o,s,!0)];c[0]<o[0]&&(h[0]=-1/0),c[1]>o[1]&&(h[1]=1/0),r&&(h[0]===-1/0?this._showIndicator(u,h[1],"< ",l):h[1]===1/0?this._showIndicator(u,h[0],"> ",l):this._showIndicator(u,u,"\u2248 ",l));var d=this._hoverLinkDataIndices,f=[];(r||IX(i))&&(f=this._hoverLinkDataIndices=i.findTargetDataIndices(h));var p=function owe(e,n){var t={},r={};return i(e||[],t),i(n||[],r,t),[a(t),a(r)];function i(o,s,l){for(var c=0,u=o.length;c<u;c++){var h=ls(o[c].seriesId,null);if(null==h)return;for(var d=mr(o[c].dataIndex),f=l&&l[h],p=0,g=d.length;p<g;p++){var m=d[p];f&&f[m]?f[m]=null:(s[h]||(s[h]={}))[m]=1}}}function a(o,s){var l=[];for(var c in o)if(o.hasOwnProperty(c)&&null!=o[c])if(s)l.push(+c);else{var u=a(o[c],!0);u.length&&l.push({seriesId:c,dataIndex:u})}return l}}(d,f);this._dispatchHighDown("downplay",hC(p[0],i)),this._dispatchHighDown("highlight",hC(p[1],i))}},n.prototype._hoverLinkFromSeriesMouseOver=function(t){var r;if(Jf(t.target,function(l){var c=tn(l);if(null!=c.dataIndex)return r=c,!0},!0),r){var i=this.ecModel.getSeriesByIndex(r.seriesIndex),a=this.visualMapModel;if(a.isTargetSeries(i)){var o=i.getData(r.dataType),s=o.getStore().get(a.getDataDimensionIndex(o),r.dataIndex);isNaN(s)||this._showIndicator(s,s)}}},n.prototype._hideIndicator=function(){var t=this._shapes;t.indicator&&t.indicator.attr("invisible",!0),t.indicatorLabel&&t.indicatorLabel.attr("invisible",!0);var r=this._shapes.handleLabels;if(r)for(var i=0;i<r.length;i++)this._api.leaveBlur(r[i])},n.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var t=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",hC(t,this.visualMapModel)),t.length=0},n.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var t=this.api.getZr();t.off("mouseover",this._hoverLinkFromSeriesMouseOver),t.off("mouseout",this._hideIndicator)},n.prototype._applyTransform=function(t,r,i,a){var o=Sb(r,a?null:this.group);return ne(t)?Kf(t,o,i):vW(t,o,i)},n.prototype._dispatchHighDown=function(t,r){r&&r.length&&this.api.dispatchAction({type:t,batch:r})},n.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},n.prototype.remove=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},n.type="visualMap.continuous",n}(CX);function NX(e,n,t,r){return new vb({shape:{points:e},draggable:!!t,cursor:n,drift:t,onmousemove:function(i){Wg(i.event)},ondragend:r})}function IX(e){return!!(e.get("hoverLinkOnHandle")??e.get("realtime"))}function PX(e){return"vertical"===e?"ns-resize":"ew-resize"}const dPe=uPe;var vm=2*Math.PI,Ih=Pl.CMD,pPe=["top","right","bottom","left"];function gPe(e,n,t,r,i){var a=t.width,o=t.height;switch(e){case"top":r.set(t.x+a/2,t.y-n),i.set(0,-1);break;case"bottom":r.set(t.x+a/2,t.y+o+n),i.set(0,1);break;case"left":r.set(t.x-n,t.y+o/2),i.set(-1,0);break;case"right":r.set(t.x+a+n,t.y+o/2),i.set(1,0)}}function mPe(e,n,t,r,i,a,o,s,l){o-=e,s-=n;var c=Math.sqrt(o*o+s*s),u=(o/=c)*t+e,h=(s/=c)*t+n;if(Math.abs(r-i)%vm<1e-4)return l[0]=u,l[1]=h,c-t;if(a){var d=r;r=wc(i),i=wc(d)}else r=wc(r),i=wc(i);r>i&&(i+=vm);var f=Math.atan2(s,o);if(f<0&&(f+=vm),f>=r&&f<=i||f+vm>=r&&f+vm<=i)return l[0]=u,l[1]=h,c-t;var p=t*Math.cos(r)+e,g=t*Math.sin(r)+n,m=t*Math.cos(i)+e,v=t*Math.sin(i)+n,_=(p-o)*(p-o)+(g-s)*(g-s),y=(m-o)*(m-o)+(v-s)*(v-s);return _<y?(l[0]=p,l[1]=g,Math.sqrt(_)):(l[0]=m,l[1]=v,Math.sqrt(y))}function dC(e,n,t,r,i,a,o,s){var l=i-e,c=a-n,u=t-e,h=r-n,d=Math.sqrt(u*u+h*h),p=(l*(u/=d)+c*(h/=d))/d;s&&(p=Math.min(Math.max(p,0),1));var g=o[0]=e+(p*=d)*u,m=o[1]=n+p*h;return Math.sqrt((g-i)*(g-i)+(m-a)*(m-a))}function OX(e,n,t,r,i,a,o){t<0&&(e+=t,t=-t),r<0&&(n+=r,r=-r);var s=e+t,l=n+r,c=o[0]=Math.min(Math.max(i,e),s),u=o[1]=Math.min(Math.max(a,n),l);return Math.sqrt((c-i)*(c-i)+(u-a)*(u-a))}var vs=[];function vPe(e,n,t){var r=OX(n.x,n.y,n.width,n.height,e.x,e.y,vs);return t.set(vs[0],vs[1]),r}function _Pe(e,n,t){for(var s,l,r=0,i=0,a=0,o=0,c=1/0,u=n.data,h=e.x,d=e.y,f=0;f<u.length;){var p=u[f++];1===f&&(a=r=u[f],o=i=u[f+1]);var g=c;switch(p){case Ih.M:r=a=u[f++],i=o=u[f++];break;case Ih.L:g=dC(r,i,u[f],u[f+1],h,d,vs,!0),r=u[f++],i=u[f++];break;case Ih.C:g=SV(r,i,u[f++],u[f++],u[f++],u[f++],u[f],u[f+1],h,d,vs),r=u[f++],i=u[f++];break;case Ih.Q:g=TV(r,i,u[f++],u[f++],u[f],u[f+1],h,d,vs),r=u[f++],i=u[f++];break;case Ih.A:var m=u[f++],v=u[f++],_=u[f++],y=u[f++],b=u[f++],w=u[f++];f+=1;var C=!!(1-u[f++]);s=Math.cos(b)*_+m,l=Math.sin(b)*y+v,f<=1&&(a=s,o=l),g=mPe(m,v,y,b,b+w,C,(h-m)*y/_+m,d,vs),r=Math.cos(b+w)*_+m,i=Math.sin(b+w)*y+v;break;case Ih.R:g=OX(a=r=u[f++],o=i=u[f++],u[f++],u[f++],h,d,vs);break;case Ih.Z:g=dC(r,i,a,o,h,d,vs,!0),r=a,i=o}g<c&&(c=g,t.set(vs[0],vs[1]))}return c}var _s=new dt,Nn=new dt,Dr=new dt,el=new dt,tl=new dt;function RX(e,n){if(e){var t=e.getTextGuideLine(),r=e.getTextContent();if(r&&t){var i=e.textGuideLineConfig||{},a=[[0,0],[0,0],[0,0]],o=i.candidates||pPe,s=r.getBoundingRect().clone();s.applyTransform(r.getComputedTransform());var l=1/0,c=i.anchor,u=e.getComputedTransform(),h=u&&Sf([],u),d=n.get("length2")||0;c&&Dr.copy(c);for(var f=0;f<o.length;f++){gPe(o[f],0,s,_s,el),dt.scaleAndAdd(Nn,_s,el,d),Nn.transform(h);var g=e.getBoundingRect(),m=c?c.distance(Nn):e instanceof Zt?_Pe(Nn,e.path,Dr):vPe(Nn,g,Dr);m<l&&(l=m,Nn.transform(u),Dr.transform(u),Dr.toArray(a[0]),Nn.toArray(a[1]),_s.toArray(a[2]))}(function yPe(e,n){if(n<=180&&n>0){n=n/180*Math.PI,_s.fromArray(e[0]),Nn.fromArray(e[1]),Dr.fromArray(e[2]),dt.sub(el,_s,Nn),dt.sub(tl,Dr,Nn);var t=el.len(),r=tl.len();if(!(t<.001||r<.001)){el.scale(1/t),tl.scale(1/r);var i=el.dot(tl);if(Math.cos(n)<i){var o=dC(Nn.x,Nn.y,Dr.x,Dr.y,_s.x,_s.y,fC,!1);la.fromArray(fC),la.scaleAndAdd(tl,o/Math.tan(Math.PI-n));var s=Dr.x!==Nn.x?(la.x-Nn.x)/(Dr.x-Nn.x):(la.y-Nn.y)/(Dr.y-Nn.y);if(isNaN(s))return;s<0?dt.copy(la,Nn):s>1&&dt.copy(la,Dr),la.toArray(e[1])}}}})(a,n.get("minTurnAngle")),t.setShape({points:a})}}}var fC=[],la=new dt;function LX(e,n,t,r){var i="normal"===t,a=i?e:e.ensureState(t);a.ignore=n;var o=r.get("smooth");o&&!0===o&&(o=.3),a.shape=a.shape||{},o>0&&(a.shape.smooth=o);var s=r.getModel("lineStyle").getLineStyle();i?e.useStyle(s):a.style=s}function bPe(e,n){var t=n.smooth,r=n.points;if(r)if(e.moveTo(r[0][0],r[0][1]),t>0&&r.length>=3){var i=KD(r[0],r[1]),a=KD(r[1],r[2]);if(!i||!a)return e.lineTo(r[1][0],r[1][1]),void e.lineTo(r[2][0],r[2][1]);var o=Math.min(i,a)*t,s=r2([],r[1],r[0],o/i),l=r2([],r[1],r[2],o/a),c=r2([],s,l,.5);e.bezierCurveTo(s[0],s[1],s[0],s[1],c[0],c[1]),e.bezierCurveTo(l[0],l[1],l[0],l[1],r[2][0],r[2][1])}else for(var u=1;u<r.length;u++)e.lineTo(r[u][0],r[u][1])}function SPe(e){if(e){for(var n=[],t=0;t<e.length;t++)n.push(e[t].slice());return n}}function xPe(e,n){var t=e.label,r=n&&n.getTextGuideLine();return{dataIndex:e.dataIndex,dataType:e.dataType,seriesIndex:e.seriesModel.seriesIndex,text:e.label.style.text,rect:e.hostRect,labelRect:e.rect,align:t.style.align,verticalAlign:t.style.verticalAlign,labelLinePoints:SPe(r&&r.shape.points)}}var kX=["align","verticalAlign","width","height","fontSize"],ao=new n1,G4=$n(),MPe=$n();function pC(e,n,t){for(var r=0;r<t.length;r++){var i=t[r];null!=n[i]&&(e[i]=n[i])}}var gC=["x","y","rotation"],TPe=function(){function e(){this._labelList=[],this._chartViewList=[]}return e.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},e.prototype._addLabel=function(n,t,r,i,a){var o=i.style,l=i.__hostTarget.textConfig||{},c=i.getComputedTransform(),u=i.getBoundingRect().plain();Yt.applyTransform(u,u,c),c?ao.setLocalTransform(c):(ao.x=ao.y=ao.rotation=ao.originX=ao.originY=0,ao.scaleX=ao.scaleY=1);var d,h=i.__hostTarget;if(h){d=h.getBoundingRect().plain();var f=h.getComputedTransform();Yt.applyTransform(d,d,f)}var p=d&&h.getTextGuideLine();this._labelList.push({label:i,labelLine:p,seriesModel:r,dataIndex:n,dataType:t,layoutOption:a,computedLayoutOption:null,rect:u,hostRect:d,priority:d?d.width*d.height:0,defaultAttr:{ignore:i.ignore,labelGuideIgnore:p&&p.ignore,x:ao.x,y:ao.y,scaleX:ao.scaleX,scaleY:ao.scaleY,rotation:ao.rotation,style:{x:o.x,y:o.y,align:o.align,verticalAlign:o.verticalAlign,width:o.width,height:o.height,fontSize:o.fontSize},cursor:i.cursor,attachedPos:l.position,attachedRot:l.rotation}})},e.prototype.addLabelsOfSeries=function(n){var t=this;this._chartViewList.push(n);var r=n.__model,i=r.get("labelLayout");!Ze(i)&&!Bn(i).length||n.group.traverse(function(a){if(a.ignore)return!0;var o=a.getTextContent(),s=tn(a);o&&!o.disableLabelLayout&&t._addLabel(s.dataIndex,s.dataType,r,o,i)})},e.prototype.updateLayoutConfig=function(n){var t=n.getWidth(),r=n.getHeight();function i(y,b){return function(){RX(y,b)}}for(var a=0;a<this._labelList.length;a++){var o=this._labelList[a],s=o.label,l=s.__hostTarget,c=o.defaultAttr,u=void 0;u=Ze(o.layoutOption)?o.layoutOption(xPe(o,l)):o.layoutOption,o.computedLayoutOption=u=u||{};var h=Math.PI/180;l&&l.setTextConfig({local:!1,position:null!=u.x||null!=u.y?null:c.attachedPos,rotation:null!=u.rotate?u.rotate*h:c.attachedRot,offset:[u.dx||0,u.dy||0]});var d=!1;if(null!=u.x?(s.x=oi(u.x,t),s.setStyle("x",0),d=!0):(s.x=c.x,s.setStyle("x",c.style.x)),null!=u.y?(s.y=oi(u.y,r),s.setStyle("y",0),d=!0):(s.y=c.y,s.setStyle("y",c.style.y)),u.labelLinePoints){var f=l.getTextGuideLine();f&&(f.setShape({points:u.labelLinePoints}),d=!1)}G4(s).needsUpdateLabelLine=d,s.rotation=null!=u.rotate?u.rotate*h:c.rotation,s.scaleX=c.scaleX,s.scaleY=c.scaleY;for(var g=0;g<kX.length;g++){var m=kX[g];s.setStyle(m,null!=u[m]?u[m]:c.style[m])}if(u.draggable){if(s.draggable=!0,s.cursor="move",l){var v=o.seriesModel;null!=o.dataIndex&&(v=o.seriesModel.getData(o.dataType).getItemModel(o.dataIndex)),s.on("drag",i(l,v.getModel("labelLine")))}}else s.off("drag"),s.cursor=c.cursor}},e.prototype.layout=function(n){var t=n.getWidth(),r=n.getHeight(),i=iY(this._labelList),a=Mr(i,function(l){return"shiftX"===l.layoutOption.moveOverlap}),o=Mr(i,function(l){return"shiftY"===l.layoutOption.moveOverlap});(function a4e(e,n,t,r){aY(e,"x","width",n,t,r)})(a,0,t),function o4e(e,n,t,r){aY(e,"y","height",n,t,r)}(o,0,r),oY(Mr(i,function(l){return l.layoutOption.hideOverlap}))},e.prototype.processLabelsOverall=function(){var n=this;I(this._chartViewList,function(t){var r=t.__model,i=t.ignoreLabelLineUpdate,a=r.isAnimationEnabled();t.group.traverse(function(o){if(o.ignore&&!o.forceLabelAnimation)return!0;var s=!i,l=o.getTextContent();!s&&l&&(s=G4(l).needsUpdateLabelLine),s&&n._updateLabelLine(o,r),a&&n._animateLabels(o,r)})})},e.prototype._updateLabelLine=function(n,t){var r=n.getTextContent(),i=tn(n),a=i.dataIndex;if(r&&null!=a){var o=t.getData(i.dataType),s=o.getItemModel(a),l={},c=o.getItemVisual(a,"style"),u=o.getVisual("drawType");l.stroke=c[u];var h=s.getModel("labelLine");(function CPe(e,n,t){var r=e.getTextGuideLine(),i=e.getTextContent();if(i){for(var a=n.normal,o=a.get("show"),s=i.ignore,l=0;l<B2.length;l++){var c=B2[l],u=n[c],h="normal"===c;if(u){var d=u.get("show");if((h?s:qt(i.states[c]&&i.states[c].ignore,s))||!qt(d,o)){var p=h?r:r&&r.states[c];p&&(p.ignore=!0);continue}r||(r=new lA,e.setTextGuideLine(r),!h&&(s||!o)&&LX(r,!0,"normal",n.normal),e.stateProxy&&(r.stateProxy=e.stateProxy)),LX(r,!1,c,u)}}if(r){ut(r.style,t),r.style.fill=null;var g=a.get("showAbove");(e.textGuideLineConfig=e.textGuideLineConfig||{}).showAbove=g||!1,r.buildPath=bPe}}else r&&e.removeTextGuideLine()})(n,function wPe(e,n){for(var t={normal:e.getModel(n=n||"labelLine")},r=0;r<No.length;r++){var i=No[r];t[i]=e.getModel([i,n])}return t}(s),l),RX(n,h)}},e.prototype._animateLabels=function(n,t){var r=n.getTextContent(),i=n.getTextGuideLine();if(r&&(n.forceLabelAnimation||!r.ignore&&!r.invisible&&!n.disableLabelAnimation&&!kf(n))){var o=(a=G4(r)).oldLayout,s=tn(n),l=s.dataIndex,c={x:r.x,y:r.y,rotation:r.rotation},u=t.getData(s.dataType);if(o){r.attr(o);var d=n.prevStates;d&&(sn(d,"select")>=0&&r.attr(a.oldLayoutSelect),sn(d,"emphasis")>=0&&r.attr(a.oldLayoutEmphasis)),Vi(r,c,t,l)}else if(r.attr(c),!zf(r).valueAnimation){var h=qt(r.style.opacity,1);r.style.opacity=0,ro(r,{style:{opacity:h}},t,l)}if(a.oldLayout=c,r.states.select){var f=a.oldLayoutSelect={};pC(f,c,gC),pC(f,r.states.select,gC)}if(r.states.emphasis){var p=a.oldLayoutEmphasis={};pC(p,c,gC),pC(p,r.states.emphasis,gC)}!function kSe(e,n,t,r,i){var a=zf(e);if(a.valueAnimation&&a.prevValue!==a.value){var o=a.defaultInterpolatedText,s=qt(a.interpolatedValue,a.prevValue),l=a.value;e.percent=0,(null==a.prevValue?ro:Vi)(e,{percent:1},r,n,null,function c(u){var h=hH(t,a.precision,s,l,u);a.interpolatedValue=1===u?null:h;var d=SE({labelDataIndex:n,labelFetcher:i,defaultText:o?o(h):h+""},a.statesModels,h);dU(e,d)})}}(r,l,u,t,t)}if(i&&!i.ignore&&!i.invisible){var a=MPe(i),g={points:i.shape.points};(o=a.oldLayout)?(i.attr({shape:o}),Vi(i,{shape:g},t)):(i.setShape(g),i.style.strokePercent=0,ro(i,{style:{strokePercent:1}},t)),a.oldLayout=g}},e}();const DPe=TPe;var W4=$n();function j4(e){e.registerUpdateLifecycle("series:beforeupdate",function(n,t,r){var i=W4(t).labelManager;i||(i=W4(t).labelManager=new DPe),i.clearLabels()}),e.registerUpdateLifecycle("series:layoutlabels",function(n,t,r){var i=W4(t).labelManager;r.updatedSeries.forEach(function(a){i.addLabelsOfSeries(t.getViewOfSeriesModel(a))}),i.updateLayoutConfig(t),i.layout(t),i.processLabelsOverall()})}var nl=Pl.CMD;function sp(e,n){return Math.abs(e-n)<1e-5}function $4(e){var i,N,R,z,L,V,F,j,Y,se,de,we,pe,Le,Rt,ct,pt,Se,n=e.data,t=e.len(),r=[],a=0,o=0,s=0,l=0;function c(N,R){i&&i.length>2&&r.push(i),i=[N,R]}function u(N,R,z,L){sp(N,z)&&sp(R,L)||i.push(N,R,z,L,z,L)}for(var d,f,p,g,m=0;m<t;){var v=n[m++],_=1===m;switch(_&&(s=a=n[m],l=o=n[m+1],(v===nl.L||v===nl.C||v===nl.Q)&&(i=[s,l])),v){case nl.M:a=s=n[m++],o=l=n[m++],c(s,l);break;case nl.L:u(a,o,d=n[m++],f=n[m++]),a=d,o=f;break;case nl.C:i.push(n[m++],n[m++],n[m++],n[m++],a=n[m++],o=n[m++]);break;case nl.Q:d=n[m++],f=n[m++],p=n[m++],g=n[m++],i.push(a+2/3*(d-a),o+2/3*(f-o),p+2/3*(d-p),g+2/3*(f-g),p,g),a=p,o=g;break;case nl.A:var y=n[m++],b=n[m++],w=n[m++],C=n[m++],S=n[m++],x=n[m++]+S;m+=1;var M=!n[m++];d=Math.cos(S)*w+y,f=Math.sin(S)*C+b,_?c(s=d,l=f):u(a,o,d,f),a=Math.cos(x)*w+y,o=Math.sin(x)*C+b;for(var E=(M?-1:1)*Math.PI/2,T=S;M?T>x:T<x;T+=E){N=T,R=M?Math.max(T+E,x):Math.min(T+E,x),z=y,L=b,V=w,F=C,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,j=Math.abs(R-N),Y=4*Math.tan(j/4)/3,se=R<N?-1:1,de=Math.cos(N),we=Math.sin(N),pe=Math.cos(R),Le=Math.sin(R),i.push(de*V+z-(pt=V*Y*se)*we,we*F+L+(Se=F*Y*se)*de,(Rt=pe*V+z)+pt*Le,(ct=Le*F+L)-Se*pe,Rt,ct)}break;case nl.R:s=a=n[m++],l=o=n[m++],d=s+n[m++],f=l+n[m++],c(d,l),u(d,l,d,f),u(d,f,s,f),u(s,f,s,l),u(s,l,d,l);break;case nl.Z:i&&u(a,o,s,l),a=s,o=l}}return i&&i.length>2&&r.push(i),r}function Y4(e,n,t,r,i,a,o,s,l,c){if(sp(e,t)&&sp(n,r)&&sp(i,o)&&sp(a,s))l.push(o,s);else{var u=2/c,h=u*u,d=o-e,f=s-n,p=Math.sqrt(d*d+f*f);d/=p,f/=p;var g=t-e,m=r-n,v=i-o,_=a-s,y=g*g+m*m,b=v*v+_*_;if(y<h&&b<h)l.push(o,s);else{var w=d*g+f*m,C=-d*v-f*_;if(y-w*w<h&&w>=0&&b-C*C<h&&C>=0)l.push(o,s);else{var M=[],E=[];vc(e,t,i,o,.5,M),vc(n,r,a,s,.5,E),Y4(M[0],E[0],M[1],E[1],M[2],E[2],M[3],E[3],l,c),Y4(M[4],E[4],M[5],E[5],M[6],E[6],M[7],E[7],l,c)}}}}function FX(e,n,t){var a=Math.abs(e[n]/e[1-n]),o=Math.ceil(Math.sqrt(a*t)),s=Math.floor(t/o);0===s&&(s=1,o=t);for(var l=[],c=0;c<o;c++)l.push(s);var h=t-o*s;if(h>0)for(c=0;c<h;c++)l[c%o]+=1;return l}function zX(e,n,t){for(var r=e.r0,i=e.r,a=e.startAngle,s=Math.abs(e.endAngle-a),l=s*i,c=i-r,u=l>Math.abs(c),h=FX([l,c],u?0:1,n),d=(u?s:c)/h.length,f=0;f<h.length;f++)for(var p=(u?c:s)/h[f],g=0;g<h[f];g++){var m={};u?(m.startAngle=a+d*f,m.endAngle=a+d*(f+1),m.r0=r+p*g,m.r=r+p*(g+1)):(m.startAngle=a+p*g,m.endAngle=a+p*(g+1),m.r0=r+d*f,m.r=r+d*(f+1)),m.clockwise=e.clockwise,m.cx=e.cx,m.cy=e.cy,t.push(m)}}function BX(e,n,t,r){return e*r-t*n}function NPe(e,n,t,r,i,a,o,s){var l=t-e,c=r-n,u=o-i,h=s-a,d=BX(u,h,l,c);if(Math.abs(d)<1e-6)return null;var g=BX(e-i,n-a,u,h)/d;return g<0||g>1?null:new dt(g*l+e,g*c+n)}function IPe(e,n,t){var r=new dt;dt.sub(r,t,n),r.normalize();var i=new dt;return dt.sub(i,e,n),i.dot(r)}function lp(e,n){var t=e[e.length-1];t&&t[0]===n[0]&&t[1]===n[1]||e.push(n)}function VX(e){var n=e.points,t=[],r=[];CH(n,t,r);var i=new Yt(t[0],t[1],r[0]-t[0],r[1]-t[1]),a=i.width,o=i.height,s=i.x,l=i.y,c=new dt,u=new dt;return a>o?(c.x=u.x=s+a/2,c.y=l,u.y=l+o):(c.y=u.y=l+o/2,c.x=s,u.x=s+a),function PPe(e,n,t){for(var r=e.length,i=[],a=0;a<r;a++){var o=e[a],s=e[(a+1)%r],l=NPe(o[0],o[1],s[0],s[1],n.x,n.y,t.x,t.y);l&&i.push({projPt:IPe(l,n,t),pt:l,idx:a})}if(i.length<2)return[{points:e},{points:e}];i.sort(function(m,v){return m.projPt-v.projPt});var c=i[0],u=i[i.length-1];if(u.idx<c.idx){var h=c;c=u,u=h}var d=[c.pt.x,c.pt.y],f=[u.pt.x,u.pt.y],p=[d],g=[f];for(a=c.idx+1;a<=u.idx;a++)lp(p,e[a].slice());for(lp(p,f),lp(p,d),a=u.idx+1;a<=c.idx+r;a++)lp(g,e[a%r].slice());return lp(g,d),lp(g,f),[{points:p},{points:g}]}(n,c,u)}function mC(e,n,t,r){if(1===t)r.push(n);else{var i=Math.floor(t/2),a=e(n);mC(e,a[0],i,r),mC(e,a[1],t-i,r)}return r}function RPe(e,n){n.setStyle(e.style),n.z=e.z,n.z2=e.z2,n.zlevel=e.zlevel}function FPe(e,n){var t=e.length,r=n.length;if(t===r)return[e,n];for(var i=[],a=[],o=t<r?e:n,s=Math.min(t,r),l=Math.abs(r-t)/6,u=Math.ceil(l/((s-2)/6))+1,h=[o[0],o[1]],d=l,f=2;f<s;){var p=o[f-2],g=o[f-1],m=o[f++],v=o[f++],_=o[f++],y=o[f++],b=o[f++],w=o[f++];if(d<=0)h.push(m,v,_,y,b,w);else{for(var C=Math.min(d,u-1)+1,S=1;S<=C;S++){var x=S/C;vc(p,m,_,b,x,i),vc(g,v,y,w,x,a),h.push(i[1],a[1],i[2],a[2],p=i[3],g=a[3]),m=i[5],v=a[5],_=i[6],y=a[6]}d-=C-1}}return o===e?[h,n]:[e,h]}function HX(e,n){for(var t=e.length,r=e[t-2],i=e[t-1],a=[],o=0;o<n.length;)a[o++]=r,a[o++]=i;return a}function UX(e){for(var n=0,t=0,r=0,i=e.length,a=0,o=i-2;a<i;o=a,a+=2){var s=e[o],l=e[o+1],c=e[a],u=e[a+1],h=s*u-c*l;n+=h,t+=(s+c)*h,r+=(l+u)*h}return 0===n?[e[0]||0,e[1]||0]:[t/n/3,r/n/3,n]}function BPe(e,n,t,r){for(var i=(e.length-2)/6,a=1/0,o=0,s=e.length,l=s-2,c=0;c<i;c++){for(var u=6*c,h=0,d=0;d<s;d+=2){var f=0===d?u:(u+d-2)%l+2,_=n[d]-r[0]-(e[f]-t[0]),y=n[d+1]-r[1]-(e[f+1]-t[1]);h+=_*_+y*y}h<a&&(a=h,o=c)}return o}function VPe(e){for(var n=[],t=e.length,r=0;r<t;r+=2)n[r]=e[t-r-2],n[r+1]=e[t-r-1];return n}function vC(e){return e.__isCombineMorphing}var GX="__mOriginal_";function _C(e,n,t){var r=GX+n,i=e[r]||e[n];e[r]||(e[r]=e[n]);var a=t.replace,o=t.after,s=t.before;e[n]=function(){var c,l=arguments;return s&&s.apply(this,l),c=a?a.apply(this,l):i.apply(this,l),o&&o.apply(this,l),c}}function _m(e,n){var t=GX+n;e[t]&&(e[n]=e[t],e[t]=null)}function WX(e,n){for(var t=0;t<e.length;t++)for(var r=e[t],i=0;i<r.length;){var a=r[i],o=r[i+1];r[i++]=n[0]*a+n[2]*o+n[4],r[i++]=n[1]*a+n[3]*o+n[5]}}function jX(e,n){var t=e.getUpdatedPathProxy(),r=n.getUpdatedPathProxy(),i=function zPe(e,n){for(var t,r,i,a=[],o=[],s=0;s<Math.max(e.length,n.length);s++){var l=e[s],c=n[s],u=void 0,h=void 0;l?c?(r=u=(t=FPe(l,c))[0],i=h=t[1]):(h=HX(i||l,l),u=l):(u=HX(r||c,c),h=c),a.push(u),o.push(h)}return[a,o]}($4(t),$4(r)),a=i[0],o=i[1],s=e.getComputedTransform(),l=n.getComputedTransform();s&&WX(a,s),l&&WX(o,l),_C(n,"updateTransform",{replace:function c(){this.transform=null}}),n.transform=null;var u=function HPe(e,n,t,r){for(var a,i=[],o=0;o<e.length;o++){var s=e[o],l=n[o],c=UX(s),u=UX(l);null==a&&(a=c[2]<0!=u[2]<0);var h=[],d=[],f=0,p=1/0,g=[],m=s.length;a&&(s=VPe(s));for(var v=6*BPe(s,l,c,u),_=m-2,y=0;y<_;y+=2){var b=(v+y)%_+2;h[y+2]=s[b]-c[0],h[y+3]=s[b+1]-c[1]}if(h[0]=s[v]-c[0],h[1]=s[v+1]-c[1],t>0)for(var w=r/t,C=-r/2;C<=r/2;C+=w){var S=Math.sin(C),x=Math.cos(C),M=0;for(y=0;y<s.length;y+=2){var E=h[y],T=h[y+1],A=l[y]-u[0],N=l[y+1]-u[1],R=A*x-N*S,z=A*S+N*x;g[y]=R,g[y+1]=z;var L=R-E,V=z-T;M+=L*L+V*V}if(M<p){p=M,f=C;for(var F=0;F<g.length;F++)d[F]=g[F]}}else for(var j=0;j<m;j+=2)d[j]=l[j]-u[0],d[j+1]=l[j+1]-u[1];i.push({from:h,to:d,fromCp:c,toCp:u,rotation:-f})}return i}(a,o,10,Math.PI),h=[];_C(n,"buildPath",{replace:function(d){for(var f=n.__morphT,p=1-f,g=[],m=0;m<u.length;m++){var v=u[m],_=v.from,y=v.to,b=v.rotation*f,w=v.fromCp,C=v.toCp,S=Math.sin(b),x=Math.cos(b);r2(g,w,C,f);for(var M=0;M<_.length;M+=2){var R=_[M]*p+(A=y[M])*f,z=_[M+1]*p+(N=y[M+1])*f;h[M]=R*x-z*S+g[0],h[M+1]=R*S+z*x+g[1]}var L=h[0],V=h[1];for(d.moveTo(L,V),M=2;M<_.length;){var A=h[M++],N=h[M++],F=h[M++],j=h[M++],Y=h[M++],se=h[M++];L===A&&V===N&&F===Y&&j===se?d.lineTo(Y,se):d.bezierCurveTo(A,N,F,j,Y,se),L=Y,V=se}}}})}function X4(e,n,t){if(!e||!n)return n;var r=t.done,i=t.during;return jX(e,n),n.__morphT=0,n.animateTo({__morphT:1},ut({during:function(o){n.dirtyShape(),i&&i(o)},done:function(){(function a(){_m(n,"buildPath"),_m(n,"updateTransform"),n.__morphT=-1,n.createPathProxy(),n.dirtyShape()})(),r&&r()}},t)),n}function UPe(e,n,t,r,i,a){e=i===t?0:Math.round(32767*(e-t)/(i-t)),n=a===r?0:Math.round(32767*(n-r)/(a-r));for(var l,s=0,c=32768;c>0;c/=2){var u=0,h=0;(e&c)>0&&(u=1),(n&c)>0&&(h=1),s+=c*c*(3*u^h),0===h&&(1===u&&(e=c-1-e,n=c-1-n),l=e,e=n,n=l)}return s}function yC(e){var n=1/0,t=1/0,r=-1/0,i=-1/0,a=De(e,function(s){var l=s.getBoundingRect(),c=s.getComputedTransform(),u=l.x+l.width/2+(c?c[4]:0),h=l.y+l.height/2+(c?c[5]:0);return n=Math.min(u,n),t=Math.min(h,t),r=Math.max(u,r),i=Math.max(h,i),[u,h]});return De(a,function(s,l){return{cp:s,z:UPe(s[0],s[1],n,t,r,i),path:e[l]}}).sort(function(s,l){return s.z-l.z}).map(function(s){return s.path})}function $X(e){return function kPe(e,n){var i,t=[],r=e.shape;switch(e.type){case"rect":(function APe(e,n,t){for(var r=e.width,i=e.height,a=r>i,o=FX([r,i],a?0:1,n),s=a?"width":"height",l=a?"height":"width",c=a?"x":"y",u=a?"y":"x",h=e[s]/o.length,d=0;d<o.length;d++)for(var f=e[l]/o[d],p=0;p<o[d];p++){var g={};g[c]=d*h,g[u]=p*f,g[s]=h,g[l]=f,g.x+=e.x,g.y+=e.y,t.push(g)}})(r,n,t),i=Yn;break;case"sector":zX(r,n,t),i=_h;break;case"circle":zX({r0:0,r:r.r,startAngle:0,endAngle:2*Math.PI,cx:r.cx,cy:r.cy},n,t),i=_h;break;default:var a=e.getComputedTransform(),o=a?Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1],a[2]*a[2]+a[3]*a[3])):1,s=De(function EPe(e,n){var t=$4(e),r=[];n=n||1;for(var i=0;i<t.length;i++){var a=t[i],o=[],s=a[0],l=a[1];o.push(s,l);for(var c=2;c<a.length;){var u=a[c++],h=a[c++],d=a[c++],f=a[c++],p=a[c++],g=a[c++];Y4(s,l,u,h,d,f,p,g,o,n),s=p,l=g}r.push(o)}return r}(e.getUpdatedPathProxy(),o),function(v){return function LPe(e){for(var n=[],t=0;t<e.length;)n.push([e[t++],e[t++]]);return n}(v)}),l=s.length;if(0===l)mC(VX,{points:s[0]},n,t);else if(l===n)for(var c=0;c<l;c++)t.push({points:s[c]});else{var u=0,h=De(s,function(v){var _=[],y=[];CH(v,_,y);var b=(y[1]-_[1])*(y[0]-_[0]);return u+=b,{poly:v,area:b}});h.sort(function(v,_){return _.area-v.area});var d=n;for(c=0;c<l;c++){var f=h[c];if(d<=0)break;var p=c===l-1?d:Math.ceil(f.area/u*n);p<0||(mC(VX,{points:f.poly},p,t),d-=p)}}i=vb}if(!i)return function OPe(e,n){for(var t=[],r=0;r<n;r++)t.push(aA(e));return t}(e,n);var g=[];for(c=0;c<t.length;c++){var m=new i;m.setShape(t[c]),RPe(e,m),g.push(m)}return g}(e.path,e.count)}function YX(e){return ne(e[0])}function XX(e,n){for(var t=[],r=e.length,i=0;i<r;i++)t.push({one:e[i],many:[]});for(i=0;i<n.length;i++){var a=n[i].length,o=void 0;for(o=0;o<a;o++)t[o%r].many.push(n[i][o])}var s=0;for(i=r-1;i>=0;i--)if(!t[i].many.length){var l=t[s].many;if(l.length<=1){if(!s)return t;s=0}a=l.length;var c=Math.ceil(a/2);t[i].many=l.slice(c,a),t[s].many=l.slice(0,c),s++}return t}var jPe={clone:function(e){for(var n=[],t=1-Math.pow(1-e.path.style.opacity,1/e.count),r=0;r<e.count;r++){var i=aA(e.path);i.setStyle("opacity",t),n.push(i)}return n},split:null};function Z4(e,n,t,r,i,a){if(e.length&&n.length){var o=j2("update",r,i);if(o&&o.duration>0){var c,u,s=r.getModel("universalTransition").get("delay"),l=Object.assign({setToFinal:!0},o);YX(e)&&(c=e,u=n),YX(n)&&(c=n,u=e);for(var d=c?c===e:e.length>n.length,f=c?XX(u,c):XX(d?n:e,[d?e:n]),p=0,g=0;g<f.length;g++)p+=f[g].many.length;var m=0;for(g=0;g<f.length;g++)h(f[g],d,m,p),m+=f[g].many.length}}function h(v,_,y,b,w){var C=v.many,S=v.one;if(1!==C.length||w)for(var T=ut({dividePath:jPe[t],individualDelay:s&&function(V,F,j,Y){return s(V+y,b)}},l),A=_?function GPe(e,n,t){var r=[];!function i(w){for(var C=0;C<w.length;C++){var S=w[C];vC(S)?i(S.childrenRef()):S instanceof Zt&&r.push(S)}}(e);var a=r.length;if(!a)return{fromIndividuals:[],toIndividuals:[],count:0};var s=(t.dividePath||$X)({path:n,count:a});if(s.length!==a)return console.error("Invalid morphing: unmatched splitted path"),{fromIndividuals:[],toIndividuals:[],count:0};r=yC(r),s=yC(s);for(var l=t.done,c=t.during,u=t.individualDelay,h=new n1,d=0;d<a;d++){var f=r[d],p=s[d];p.parent=n,p.copyTransform(h),u||jX(f,p)}function g(w){for(var C=0;C<s.length;C++)s[C].addSelfToZr(w)}function m(){n.__isCombineMorphing=!1,n.__morphT=-1,n.childrenRef=null,_m(n,"addSelfToZr"),_m(n,"removeSelfFromZr")}n.__isCombineMorphing=!0,n.childrenRef=function(){return s},_C(n,"addSelfToZr",{after:function(w){g(w)}}),_C(n,"removeSelfFromZr",{after:function(w){for(var C=0;C<s.length;C++)s[C].removeSelfFromZr(w)}});var v=s.length;if(u){var _=v,y=function(){0==--_&&(m(),l&&l())};for(d=0;d<v;d++){var b=u?ut({delay:(t.delay||0)+u(d,v,r[d],s[d]),done:y},t):t;X4(r[d],s[d],b)}}else n.__morphT=0,n.animateTo({__morphT:1},ut({during:function(w){for(var C=0;C<v;C++){var S=s[C];S.__morphT=n.__morphT,S.dirtyShape()}c&&c(w)},done:function(){m();for(var w=0;w<e.length;w++)_m(e[w],"updateTransform");l&&l()}},t));return n.__zr&&g(n.__zr),{fromIndividuals:r,toIndividuals:s,count:v}}(C,S,T):function WPe(e,n,t){var r=n.length,i=[],a=t.dividePath||$X;if(vC(e)){!function o(f){for(var p=0;p<f.length;p++){var g=f[p];vC(g)?o(g.childrenRef()):g instanceof Zt&&i.push(g)}}(e.childrenRef());var s=i.length;if(s<r)for(var l=0,c=s;c<r;c++)i.push(aA(i[l++%s]));i.length=r}else{i=a({path:e,count:r});var u=e.getComputedTransform();for(c=0;c<i.length;c++)i[c].setLocalTransform(u);if(i.length!==r)return console.error("Invalid morphing: unmatched splitted path"),{fromIndividuals:[],toIndividuals:[],count:0}}i=yC(i),n=yC(n);var h=t.individualDelay;for(c=0;c<r;c++){var d=h?ut({delay:(t.delay||0)+h(c,r,i[c],n[c])},t):t;X4(i[c],n[c],d)}return{fromIndividuals:i,toIndividuals:n,count:n.length}}(S,C,T),N=A.fromIndividuals,R=A.toIndividuals,z=N.length,L=0;L<z;L++)E=s?ut({delay:s(L,z)},l):l,a(N[L],R[L],_?C[L]:v.one,_?v.one:C[L],E);else{var E,x=_?C[0]:S,M=_?S:C[0];vC(x)?h({many:[x],one:M},!0,y,b,!0):(X4(x,M,E=s?ut({delay:s(y,b)},l):l),a(x,M,x,M,E))}}}function Ph(e){if(!e)return[];if(ne(e)){for(var n=[],t=0;t<e.length;t++)n.push(Ph(e[t]));return n}var r=[];return e.traverse(function(i){i instanceof Zt&&!i.disableMorphing&&!i.invisible&&!i.ignore&&r.push(i)}),r}var $Pe=$n();function ZX(e){var n=[];return I(e,function(t){var r=t.data;if(!(r.count()>1e4))for(var i=r.getIndices(),a=function YPe(e){for(var n=e.dimensions,t=0;t<n.length;t++){var r=e.getDimensionInfo(n[t]);if(r&&0===r.otherDims.itemGroupId)return n[t]}}(r),o=0;o<i.length;o++)n.push({dataGroupId:t.dataGroupId,data:r,dim:t.dim||a,divide:t.divide,dataIndex:o})}),n}function K4(e,n,t){e.traverse(function(r){r instanceof Zt&&ro(r,{style:{opacity:0}},n,{dataIndex:t,isFrom:!0})})}function Q4(e){if(e.parent){var n=e.getComputedTransform();e.setLocalTransform(n),e.parent.remove(e)}}function cp(e){e.stopAnimation(),e.isGroup&&e.traverse(function(n){n.stopAnimation()})}function KX(e,n,t){var r=ZX(e),i=ZX(n);function a(v,_,y,b,w){(y||v)&&_.animateFrom({style:y&&y!==v?oe(oe({},y.style),v.style):v.style},w)}function o(v){for(var _=0;_<v.length;_++)if(v[_].dim)return v[_].dim}var s=o(r),l=o(i),c=!1;function u(v,_){return function(y){var b=y.data,w=y.dataIndex;if(_)return b.getId(w);var C=y.dataGroupId,S=v?s||l:l||s,x=S&&b.getDimensionInfo(S),M=x&&x.ordinalMeta;if(x){var E=b.get(x.name,w);return M&&M.categories[E]||E+""}var T=b.getRawDataItem(w);return T&&T.groupId?T.groupId+"":C||b.getId(w)}}var h=function qPe(e,n){var t=e.length;if(t!==n.length)return!1;for(var r=0;r<t;r++){var i=e[r],a=n[r];if(i.data.getId(i.dataIndex)!==a.data.getId(a.dataIndex))return!1}return!0}(r,i),d={};if(!h)for(var f=0;f<i.length;f++){var p=i[f],g=p.data.getItemGraphicEl(p.dataIndex);g&&(d[g.id]=!0)}function m(v,_){var y=r[_],b=i[v],w=b.data.hostModel,C=y.data.getItemGraphicEl(y.dataIndex),S=b.data.getItemGraphicEl(b.dataIndex);C!==S?C&&d[C.id]||S&&(cp(S),C?(cp(C),Q4(C),c=!0,Z4(Ph(C),Ph(S),b.divide,w,v,a)):K4(S,w,v)):S&&function XPe(e,n,t){var r=j2("update",t,n);r&&e.traverse(function(i){if(i instanceof Of){var a=function ISe(e){return cU(e).oldStyle}(i);a&&i.animateFrom({style:a},r)}})}(S,b.dataIndex,w)}new qA(r,i,u(!0,h),u(!1,h),null,"multiple").update(m).updateManyToOne(function(v,_){var y=i[v],b=y.data,w=b.hostModel,C=b.getItemGraphicEl(y.dataIndex),S=Mr(De(_,function(x){return r[x].data.getItemGraphicEl(r[x].dataIndex)}),function(x){return x&&x!==C&&!d[x.id]});C&&(cp(C),S.length?(I(S,function(x){cp(x),Q4(x)}),c=!0,Z4(Ph(S),Ph(C),y.divide,w,v,a)):K4(C,w,y.dataIndex))}).updateOneToMany(function(v,_){var y=r[_],b=y.data.getItemGraphicEl(y.dataIndex);if(!b||!d[b.id]){var w=Mr(De(v,function(S){return i[S].data.getItemGraphicEl(i[S].dataIndex)}),function(S){return S&&S!==b}),C=i[v[0]].data.hostModel;w.length&&(I(w,function(S){return cp(S)}),b?(cp(b),Q4(b),c=!0,Z4(Ph(b),Ph(w),y.divide,C,v[0],a)):I(w,function(S){return K4(S,C,v[0])}))}}).updateManyToMany(function(v,_){new qA(_,v,function(y){return r[y].data.getId(r[y].dataIndex)},function(y){return i[y].data.getId(i[y].dataIndex)}).update(function(y,b){m(v[y],_[b])}).execute()}).execute(),c&&I(n,function(v){var y=v.data.hostModel,b=y&&t.getViewOfSeriesModel(y),w=j2("update",y,0);b&&y.isAnimationEnabled()&&w&&w.duration>0&&b.group.traverse(function(C){C instanceof Zt&&!C.animators.length&&C.animateFrom({style:{opacity:0}},w)})})}function QX(e){return e.getModel("universalTransition").get("seriesKey")||e.id}function JX(e){return ne(e)?e.sort().join(","):e}function Rc(e){if(e.hostModel)return e.hostModel.getModel("universalTransition").get("divideShape")}function eq(e,n){for(var t=0;t<e.length;t++)if(null!=n.seriesIndex&&n.seriesIndex===e[t].seriesIndex||null!=n.seriesId&&n.seriesId===e[t].id)return t}function tq(e,n,t){var r=ns.createCanvas(),i=n.getWidth(),a=n.getHeight(),o=r.style;return o&&(o.position="absolute",o.left="0",o.top="0",o.width=i+"px",o.height=a+"px",r.setAttribute("data-zr-dom-id",e)),r.width=i*t,r.height=a*t,r}var JPe=function(e){function n(t,r,i){var o,a=e.call(this)||this;a.motionBlur=!1,a.lastFrameAlpha=.7,a.dpr=1,a.virtual=!1,a.config={},a.incremental=!1,a.zlevel=0,a.maxRepaintRectCount=5,a.__dirty=!0,a.__firstTimePaint=!0,a.__used=!1,a.__drawIndex=0,a.__startIndex=0,a.__endIndex=0,a.__prevStartIndex=null,a.__prevEndIndex=null,i=i||D2,"string"==typeof t?o=tq(t,r,i):ze(t)&&(t=(o=t).id),a.id=t,a.dom=o;var s=o.style;return s&&(q9(o),o.onselectstart=function(){return!1},s.padding="0",s.margin="0",s.borderWidth="0"),a.painter=r,a.dpr=i,a}return On(n,e),n.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},n.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},n.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},n.prototype.setUnpainted=function(){this.__firstTimePaint=!0},n.prototype.createBackBuffer=function(){var t=this.dpr;this.domBack=tq("back-"+this.id,this.painter,t),this.ctxBack=this.domBack.getContext("2d"),1!==t&&this.ctxBack.scale(t,t)},n.prototype.createRepaintRects=function(t,r,i,a){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var m,o=[],s=this.maxRepaintRectCount,l=!1,c=new Yt(0,0,0,0);function u(_){if(_.isFinite()&&!_.isZero())if(0===o.length)(y=new Yt(0,0,0,0)).copy(_),o.push(y);else{for(var b=!1,w=1/0,C=0,S=0;S<o.length;++S){var x=o[S];if(x.intersect(_)){var M=new Yt(0,0,0,0);M.copy(x),M.union(_),o[S]=M,b=!0;break}if(l){c.copy(_),c.union(x);var N=c.width*c.height-_.width*_.height-x.width*x.height;N<w&&(w=N,C=S)}}var y;l&&(o[C].union(_),b=!0),b||((y=new Yt(0,0,0,0)).copy(_),o.push(y)),l||(l=o.length>=s)}}for(var h=this.__startIndex;h<this.__endIndex;++h)if(d=t[h]){var f=d.shouldBePainted(i,a,!0,!0);(p=d.__isRendered&&(1&d.__dirty||!f)?d.getPrevPaintRect():null)&&u(p);var g=f&&(1&d.__dirty||!d.__isRendered)?d.getPaintRect():null;g&&u(g)}for(h=this.__prevStartIndex;h<this.__prevEndIndex;++h){var d,p;f=(d=r[h]).shouldBePainted(i,a,!0,!0),!d||f&&d.__zr||!d.__isRendered||(p=d.getPrevPaintRect())&&u(p)}do{for(m=!1,h=0;h<o.length;)if(o[h].isZero())o.splice(h,1);else{for(var v=h+1;v<o.length;)o[h].intersect(o[v])?(m=!0,o[h].union(o[v]),o.splice(v,1)):v++;h++}}while(m);return this._paintRects=o,o},n.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},n.prototype.resize=function(t,r){var i=this.dpr,a=this.dom,o=a.style,s=this.domBack;o&&(o.width=t+"px",o.height=r+"px"),a.width=t*i,a.height=r*i,s&&(s.width=t*i,s.height=r*i,1!==i&&this.ctxBack.scale(i,i))},n.prototype.clear=function(t,r,i){var a=this.dom,o=this.ctx,s=a.width,l=a.height;r=r||this.clearColor;var c=this.motionBlur&&!t,u=this.lastFrameAlpha,h=this.dpr,d=this;c&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(a,0,0,s/h,l/h));var f=this.domBack;function p(g,m,v,_){if(o.clearRect(g,m,v,_),r&&"transparent"!==r){var y=void 0;Ky(r)?(y=(r.global||r.__width===v&&r.__height===_)&&r.__canvasGradient||wA(o,r,{x:0,y:0,width:v,height:_}),r.__canvasGradient=y,r.__width=v,r.__height=_):function cbe(e){return null!=e.image}(r)&&(r.scaleX=r.scaleX||h,r.scaleY=r.scaleY||h,y=SA(o,r,{dirty:function(){d.setUnpainted(),d.__painter.refresh()}})),o.save(),o.fillStyle=y||r,o.fillRect(g,m,v,_),o.restore()}c&&(o.save(),o.globalAlpha=u,o.drawImage(f,g,m,v,_),o.restore())}!i||c?p(0,0,s,l):i.length&&I(i,function(g){p(g.x*h,g.y*h,g.width*h,g.height*h)})},n}(Hs);const J4=JPe;var Oh=314159,rOe=function(){function e(n,t,r,i){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var a=!n.nodeName||"CANVAS"===n.nodeName.toUpperCase();this._opts=r=oe({},r||{}),this.dpr=r.devicePixelRatio||D2,this._singleCanvas=a,this.root=n,n.style&&(q9(n),n.innerHTML=""),this.storage=t;var s=this._zlevelList;this._prevDisplayList=[];var l=this._layers;if(a){var u=n,h=u.width,d=u.height;null!=r.width&&(h=r.width),null!=r.height&&(d=r.height),this.dpr=r.devicePixelRatio||1,u.width=h*this.dpr,u.height=d*this.dpr,this._width=h,this._height=d;var f=new J4(u,this,this.dpr);f.__builtin__=!0,f.initContext(),l[Oh]=f,f.zlevel=Oh,s.push(Oh),this._domRoot=n}else{this._width=Ab(n,0,r),this._height=Ab(n,1,r);var c=this._domRoot=function nOe(e,n){var t=document.createElement("div");return t.style.cssText=["position:relative","width:"+e+"px","height:"+n+"px","padding:0","margin:0","border-width:0"].join(";")+";",t}(this._width,this._height);n.appendChild(c)}}return e.prototype.getType=function(){return"canvas"},e.prototype.isSingleCanvas=function(){return this._singleCanvas},e.prototype.getViewportRoot=function(){return this._domRoot},e.prototype.getViewportRootOffset=function(){var n=this.getViewportRoot();if(n)return{offsetLeft:n.offsetLeft||0,offsetTop:n.offsetTop||0}},e.prototype.refresh=function(n){var t=this.storage.getDisplayList(!0),r=this._prevDisplayList,i=this._zlevelList;this._redrawId=Math.random(),this._paintList(t,r,n,this._redrawId);for(var a=0;a<i.length;a++){var s=this._layers[i[a]];!s.__builtin__&&s.refresh&&s.refresh(0===a?this._backgroundColor:null)}return this._opts.useDirtyRect&&(this._prevDisplayList=t.slice()),this},e.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},e.prototype._paintHoverList=function(n){var t=n.length,r=this._hoverlayer;if(r&&r.clear(),t){for(var a,i={inHover:!0,viewWidth:this._width,viewHeight:this._height},o=0;o<t;o++){var s=n[o];s.__inHover&&(r||(r=this._hoverlayer=this.getLayer(1e5)),a||(a=r.ctx).save(),Sh(a,s,i,o===t-1))}a&&a.restore()}},e.prototype.getHoverLayer=function(){return this.getLayer(1e5)},e.prototype.paintOne=function(n,t){Pb(n,t)},e.prototype._paintList=function(n,t,r,i){if(this._redrawId===i){r=r||!1,this._updateLayerStatus(n);var a=this._doPaintList(n,t,r),o=a.finished,s=a.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),s&&this._paintHoverList(n),o)this.eachLayer(function(c){c.afterBrush&&c.afterBrush()});else{var l=this;Mf(function(){l._paintList(n,t,r,i)})}}},e.prototype._compositeManually=function(){var n=this.getLayer(Oh).ctx,t=this._domRoot.width,r=this._domRoot.height;n.clearRect(0,0,t,r),this.eachBuiltinLayer(function(i){i.virtual&&n.drawImage(i.dom,0,0,t,r)})},e.prototype._doPaintList=function(n,t,r){for(var i=this,a=[],o=this._opts.useDirtyRect,s=0;s<this._zlevelList.length;s++){var c=this._layers[this._zlevelList[s]];c.__builtin__&&c!==this._hoverlayer&&(c.__dirty||r)&&a.push(c)}for(var u=!0,h=!1,d=function(g){var m=a[g],v=m.ctx,_=o&&m.createRepaintRects(n,t,f._width,f._height),y=r?m.__startIndex:m.__drawIndex,b=!r&&m.incremental&&Date.now,w=b&&Date.now(),C=m.zlevel===f._zlevelList[0]?f._backgroundColor:null;if(m.__startIndex===m.__endIndex)m.clear(!1,C,_);else if(y===m.__startIndex){var S=n[y];(!S.incremental||!S.notClear||r)&&m.clear(!1,C,_)}-1===y&&(console.error("For some unknown reason. drawIndex is -1"),y=m.__startIndex);var x,M=function(N){var R={inHover:!1,allClipped:!1,prevEl:null,viewWidth:i._width,viewHeight:i._height};for(x=y;x<m.__endIndex;x++){var z=n[x];if(z.__inHover&&(h=!0),i._doPaintEl(z,m,o,N,R,x===m.__endIndex-1),b&&Date.now()-w>15)break}R.prevElClipPaths&&v.restore()};if(_)if(0===_.length)x=m.__endIndex;else for(var E=f.dpr,T=0;T<_.length;++T){var A=_[T];v.save(),v.beginPath(),v.rect(A.x*E,A.y*E,A.width*E,A.height*E),v.clip(),M(A),v.restore()}else v.save(),M(),v.restore();m.__drawIndex=x,m.__drawIndex<m.__endIndex&&(u=!1)},f=this,p=0;p<a.length;p++)d(p);return Bt.wxa&&I(this._layers,function(g){g&&g.ctx&&g.ctx.draw&&g.ctx.draw()}),{finished:u,needsRefreshHover:h}},e.prototype._doPaintEl=function(n,t,r,i,a,o){var s=t.ctx;if(r){var l=n.getPaintRect();(!i||l&&l.intersect(i))&&(Sh(s,n,a,o),n.setPrevPaintRect(l))}else Sh(s,n,a,o)},e.prototype.getLayer=function(n,t){this._singleCanvas&&!this._needsManuallyCompositing&&(n=Oh);var r=this._layers[n];return r||((r=new J4("zr_"+n,this,this.dpr)).zlevel=n,r.__builtin__=!0,this._layerConfig[n]?Ee(r,this._layerConfig[n],!0):this._layerConfig[n-.01]&&Ee(r,this._layerConfig[n-.01],!0),t&&(r.virtual=t),this.insertLayer(n,r),r.initContext()),r},e.prototype.insertLayer=function(n,t){var r=this._layers,i=this._zlevelList,a=i.length,o=this._domRoot,s=null,l=-1;if(!r[n]&&function tOe(e){return!(!e||!e.__builtin__&&("function"!=typeof e.resize||"function"!=typeof e.refresh))}(t)){if(a>0&&n>i[0]){for(l=0;l<a-1&&!(i[l]<n&&i[l+1]>n);l++);s=r[i[l]]}if(i.splice(l+1,0,n),r[n]=t,!t.virtual)if(s){var c=s.dom;c.nextSibling?o.insertBefore(t.dom,c.nextSibling):o.appendChild(t.dom)}else o.firstChild?o.insertBefore(t.dom,o.firstChild):o.appendChild(t.dom);t.__painter=this}},e.prototype.eachLayer=function(n,t){for(var r=this._zlevelList,i=0;i<r.length;i++){var a=r[i];n.call(t,this._layers[a],a)}},e.prototype.eachBuiltinLayer=function(n,t){for(var r=this._zlevelList,i=0;i<r.length;i++){var a=r[i],o=this._layers[a];o.__builtin__&&n.call(t,o,a)}},e.prototype.eachOtherLayer=function(n,t){for(var r=this._zlevelList,i=0;i<r.length;i++){var a=r[i],o=this._layers[a];o.__builtin__||n.call(t,o,a)}},e.prototype.getLayers=function(){return this._layers},e.prototype._updateLayerStatus=function(n){function t(h){a&&(a.__endIndex!==h&&(a.__dirty=!0),a.__endIndex=h)}if(this.eachBuiltinLayer(function(h,d){h.__dirty=h.__used=!1}),this._singleCanvas)for(var r=1;r<n.length;r++)if((i=n[r]).zlevel!==n[r-1].zlevel||i.incremental){this._needsManuallyCompositing=!0;break}var s,l,a=null,o=0;for(l=0;l<n.length;l++){var i,c=(i=n[l]).zlevel,u=void 0;s!==c&&(s=c,o=0),i.incremental?((u=this.getLayer(c+.001,this._needsManuallyCompositing)).incremental=!0,o=1):u=this.getLayer(c+(o>0?.01:0),this._needsManuallyCompositing),u.__builtin__||GD("ZLevel "+c+" has been used by unkown layer "+u.id),u!==a&&(u.__used=!0,u.__startIndex!==l&&(u.__dirty=!0),u.__startIndex=l,u.__drawIndex=u.incremental?-1:l,t(l),a=u),1&i.__dirty&&!i.__inHover&&(u.__dirty=!0,u.incremental&&u.__drawIndex<0&&(u.__drawIndex=l))}t(l),this.eachBuiltinLayer(function(h,d){!h.__used&&h.getElementCount()>0&&(h.__dirty=!0,h.__startIndex=h.__endIndex=h.__drawIndex=0),h.__dirty&&h.__drawIndex<0&&(h.__drawIndex=h.__startIndex)})},e.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},e.prototype._clearLayer=function(n){n.clear()},e.prototype.setBackgroundColor=function(n){this._backgroundColor=n,I(this._layers,function(t){t.setUnpainted()})},e.prototype.configLayer=function(n,t){if(t){var r=this._layerConfig;r[n]?Ee(r[n],t,!0):r[n]=t;for(var i=0;i<this._zlevelList.length;i++){var a=this._zlevelList[i];a!==n&&a!==n+.01||Ee(this._layers[a],r[n],!0)}}},e.prototype.delLayer=function(n){var t=this._layers,r=this._zlevelList,i=t[n];!i||(i.dom.parentNode.removeChild(i.dom),delete t[n],r.splice(sn(r,n),1))},e.prototype.resize=function(n,t){if(this._domRoot.style){var r=this._domRoot;r.style.display="none";var i=this._opts,a=this.root;if(null!=n&&(i.width=n),null!=t&&(i.height=t),n=Ab(a,0,i),t=Ab(a,1,i),r.style.display="",this._width!==n||t!==this._height){for(var o in r.style.width=n+"px",r.style.height=t+"px",this._layers)this._layers.hasOwnProperty(o)&&this._layers[o].resize(n,t);this.refresh(!0)}this._width=n,this._height=t}else{if(null==n||null==t)return;this._width=n,this._height=t,this.getLayer(Oh).resize(n,t)}return this},e.prototype.clearLayer=function(n){var t=this._layers[n];t&&t.clear()},e.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},e.prototype.getRenderedCanvas=function(n){if(this._singleCanvas&&!this._compositeManually)return this._layers[Oh].dom;var t=new J4("image",this,(n=n||{}).pixelRatio||this.dpr);t.initContext(),t.clear(!1,n.backgroundColor||this._backgroundColor);var r=t.ctx;if(n.pixelRatio<=this.dpr){this.refresh();var i=t.dom.width,a=t.dom.height;this.eachLayer(function(h){h.__builtin__?r.drawImage(h.dom,0,0,i,a):h.renderToCanvas&&(r.save(),h.renderToCanvas(r),r.restore())})}else for(var o={inHover:!1,viewWidth:this._width,viewHeight:this._height},s=this.storage.getDisplayList(!0),l=0,c=s.length;l<c;l++)Sh(r,s[l],o,l===c-1);return t.dom},e.prototype.getWidth=function(){return this._width},e.prototype.getHeight=function(){return this._height},e}();const iOe=rOe;function rq(e){e.registerPainter("canvas",iOe)}var eN={isDimensionStacked:Dc,enableDataStack:Xj,getStackedDimension:qj};function tN(e,n){var t=n;n instanceof Tr||(t=new Tr(n));var r=tY(t);return r.setExtent(e[0],e[1]),p4(r,t),r}function iq(e,n){return Math.abs(e-n)<1e-8}function aq(e,n,t){var r=0,i=e[0];if(!i)return!1;for(var a=1;a<e.length;a++){var o=e[a];r+=Ol(i[0],i[1],o[0],o[1],n,t),i=o}var s=e[0];return(!iq(i[0],s[0])||!iq(i[1],s[1]))&&(r+=Ol(i[0],i[1],s[0],s[1],n,t)),0!==r}var lOe=[];function nN(e,n){for(var t=0;t<e.length;t++)zi(e[t],e[t],n)}function oq(e,n,t,r){for(var i=0;i<e.length;i++){var a=e[i];r&&(a=r.project(a)),a&&isFinite(a[0])&&isFinite(a[1])&&(Vu(n,n,a),Hu(t,t,a))}}var sq=function(){function e(n){this.name=n}return e.prototype.setCenter=function(n){this._center=n},e.prototype.getCenter=function(){var n=this._center;return n||(n=this._center=this.calcCenter()),n},e}(),lq=function e(n,t){this.type="polygon",this.exterior=n,this.interiors=t},cq=function e(n){this.type="linestring",this.points=n},uOe=function(e){function n(t,r,i){var a=e.call(this,t)||this;return a.type="geoJSON",a.geometries=r,a._center=i&&[i[0],i[1]],a}return ke(n,e),n.prototype.calcCenter=function(){for(var r,t=this.geometries,i=0,a=0;a<t.length;a++){var o=t[a],s=o.exterior,l=s&&s.length;l>i&&(r=o,i=l)}if(r)return function cOe(e){for(var n=0,t=0,r=0,i=e.length,a=e[i-1][0],o=e[i-1][1],s=0;s<i;s++){var l=e[s][0],c=e[s][1],u=a*c-l*o;n+=u,t+=(a+l)*u,r+=(o+c)*u,a=l,o=c}return n?[t/n/3,r/n/3,n]:[e[0][0]||0,e[0][1]||0]}(r.exterior);var c=this.getBoundingRect();return[c.x+c.width/2,c.y+c.height/2]},n.prototype.getBoundingRect=function(t){var r=this._rect;if(r&&!t)return r;var i=[1/0,1/0],a=[-1/0,-1/0];return I(this.geometries,function(s){"polygon"===s.type?oq(s.exterior,i,a,t):I(s.points,function(l){oq(l,i,a,t)})}),isFinite(i[0])&&isFinite(i[1])&&isFinite(a[0])&&isFinite(a[1])||(i[0]=i[1]=a[0]=a[1]=0),r=new Yt(i[0],i[1],a[0]-i[0],a[1]-i[1]),t||(this._rect=r),r},n.prototype.contain=function(t){var r=this.getBoundingRect(),i=this.geometries;if(!r.contain(t[0],t[1]))return!1;e:for(var a=0,o=i.length;a<o;a++){var s=i[a];if("polygon"===s.type){var c=s.interiors;if(aq(s.exterior,t[0],t[1])){for(var u=0;u<(c?c.length:0);u++)if(aq(c[u],t[0],t[1]))continue e;return!0}}}return!1},n.prototype.transformTo=function(t,r,i,a){var o=this.getBoundingRect(),s=o.width/o.height;i?a||(a=i/s):i=s*a;for(var l=new Yt(t,r,i,a),c=o.calculateTransform(l),u=this.geometries,h=0;h<u.length;h++){var d=u[h];"polygon"===d.type?(nN(d.exterior,c),I(d.interiors,function(f){nN(f,c)})):I(d.points,function(f){nN(f,c)})}(o=this._rect).copy(l),this._center=[o.x+o.width/2,o.y+o.height/2]},n.prototype.cloneShallow=function(t){null==t&&(t=this.name);var r=new n(t,this.geometries,this._center);return r._rect=this._rect,r.transformTo=null,r},n}(sq);function rN(e,n,t){for(var r=0;r<e.length;r++)e[r]=uq(e[r],n[r],t)}function uq(e,n,t){for(var r=[],i=n[0],a=n[1],o=0;o<e.length;o+=2){var s=e.charCodeAt(o)-64,l=e.charCodeAt(o+1)-64;s=s>>1^-(1&s),l=l>>1^-(1&l),i=s+=i,a=l+=a,r.push([s/t,l/t])}return r}function hq(e,n){return e=function hOe(e){if(!e.UTF8Encoding)return e;var n=e,t=n.UTF8Scale;return null==t&&(t=1024),I(n.features,function(i){var a=i.geometry,o=a.encodeOffsets,s=a.coordinates;if(o)switch(a.type){case"LineString":a.coordinates=uq(s,o,t);break;case"Polygon":case"MultiLineString":rN(s,o,t);break;case"MultiPolygon":I(s,function(l,c){return rN(l,o[c],t)})}}),n.UTF8Encoding=!1,n}(e),De(Mr(e.features,function(t){return t.geometry&&t.properties&&t.geometry.coordinates.length>0}),function(t){var r=t.properties,i=t.geometry,a=[];switch(i.type){case"Polygon":var o=i.coordinates;a.push(new lq(o[0],o.slice(1)));break;case"MultiPolygon":I(i.coordinates,function(l){l[0]&&a.push(new lq(l[0],l.slice(1)))});break;case"LineString":a.push(new cq([i.coordinates]));break;case"MultiLineString":a.push(new cq(i.coordinates))}var s=new uOe(r[n||"name"],a,r.cp);return s.properties=r,s})}function dq(e,n,t){"object"==typeof n&&(t=n,n=null);var i,r=this;if(!(e instanceof Function))for(var a in i=[],e)e.hasOwnProperty(a)&&i.push(a);var o=function(l){if(r.apply(this,arguments),e instanceof Function?fq(this,e.call(this,l)):dOe(this,e,i),this.constructor===o)for(var c=o.__initializers__,u=0;u<c.length;u++)c[u].apply(this,arguments)};o.__super__=r,o.__initializers__=r.__initializers__?r.__initializers__.slice():[],n&&o.__initializers__.push(n);var s=function(){};return s.prototype=r.prototype,o.prototype=new s,o.prototype.constructor=o,fq(o.prototype,t),o.extend=r.extend,o.derive=r.extend,o}function fq(e,n){if(n)for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])}function dOe(e,n,t){for(var r=0;r<t.length;r++){var i=t[r];e[i]=n[i]}}!function(e){function n(t,r){var i=e.call(this,t)||this;return i.type="geoSVG",i._elOnlyForCalculate=r,i}ke(n,e),n.prototype.calcCenter=function(){for(var t=this._elOnlyForCalculate,r=t.getBoundingRect(),i=[r.x+r.width/2,r.y+r.height/2],a=a2(lOe),o=t;o&&!o.isGeoSVGGraphicRoot;)Gu(a,o.getLocalTransform(),a),o=o.parent;return Sf(a,a),zi(i,i,a),i}}(sq),Vn(j4),Vn([rq,JY]),Vn(j4);const fOe={extend:dq,derive:dq};function pOe(e,n){this.action=e,this.context=n}var gOe={trigger:function(e){if(this.hasOwnProperty("__handlers__")&&this.__handlers__.hasOwnProperty(e)){var n=this.__handlers__[e],t=n.length,r=-1,i=arguments;switch(i.length){case 1:for(;++r<t;)n[r].action.call(n[r].context);return;case 2:for(;++r<t;)n[r].action.call(n[r].context,i[1]);return;case 3:for(;++r<t;)n[r].action.call(n[r].context,i[1],i[2]);return;case 4:for(;++r<t;)n[r].action.call(n[r].context,i[1],i[2],i[3]);return;case 5:for(;++r<t;)n[r].action.call(n[r].context,i[1],i[2],i[3],i[4]);return;default:for(;++r<t;)n[r].action.apply(n[r].context,Array.prototype.slice.call(i,1));return}}},on:function(e,n,t){if(e&&n){var r=this.__handlers__||(this.__handlers__={});if(r[e]){if(this.has(e,n))return}else r[e]=[];var i=new pOe(n,t||this);return r[e].push(i),this}},once:function(e,n,t){if(e&&n){var r=this;return this.on(e,function i(){r.off(e,i),n.apply(this,arguments)},t)}},before:function(e,n,t){if(e&&n)return this.on(e="before"+e,n,t)},after:function(e,n,t){if(e&&n)return this.on(e="after"+e,n,t)},success:function(e,n){return this.once("success",e,n)},error:function(e,n){return this.once("error",e,n)},off:function(e,n){var t=this.__handlers__||(this.__handlers__={});if(n){if(t[e]){for(var r=t[e],i=[],a=0;a<r.length;a++)n&&r[a].action!==n&&i.push(r[a]);t[e]=i}return this}t[e]=[]},has:function(e,n){var t=this.__handlers__;if(!t||!t[e])return!1;for(var r=t[e],i=0;i<r.length;i++)if(r[i].action===n)return!0}};const iN=gOe;var mOe=0,_Oe=Array.prototype.forEach,ym={genGUID:function(){return++mOe},relative2absolute:function(e,n){if(!n||e.match(/^\//))return e;for(var t=e.split("/"),r=n.split("/"),i=t[0];"."===i||".."===i;)".."===i&&r.pop(),t.shift(),i=t[0];return r.join("/")+"/"+t.join("/")},extend:function(e,n){if(n)for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t]);return e},defaults:function(e,n){if(n)for(var t in n)void 0===e[t]&&(e[t]=n[t]);return e},extendWithPropList:function(e,n,t){if(n)for(var r=0;r<t.length;r++){var i=t[r];e[i]=n[i]}return e},defaultsWithPropList:function(e,n,t){if(n)for(var r=0;r<t.length;r++){var i=t[r];null==e[i]&&(e[i]=n[i])}return e},each:function(e,n,t){if(e&&n)if(e.forEach&&e.forEach===_Oe)e.forEach(n,t);else if(e.length===+e.length)for(var r=0,i=e.length;r<i;r++)n.call(t,e[r],r,e);else for(var a in e)e.hasOwnProperty(a)&&n.call(t,e[a],a,e)},isObject:function(e){return e===Object(e)},isArray:function(e){return Array.isArray(e)},isArrayLike:function(e){return!!e&&e.length===+e.length},clone:function(e){if(ym.isObject(e)){if(ym.isArray(e))return e.slice();if(ym.isArrayLike(e)){for(var n=new e.constructor(e.length),t=0;t<e.length;t++)n[t]=e[t];return n}return ym.extend({},e)}return e}};const mi=ym;var CC=function(){this.__uid__=mi.genGUID()};CC.__initializers__=[function(e){mi.extend(this,e)}],mi.extend(CC,fOe),mi.extend(CC.prototype,iN);const ca=CC;var pq=["OES_texture_float","OES_texture_half_float","OES_texture_float_linear","OES_texture_half_float_linear","OES_standard_derivatives","OES_vertex_array_object","OES_element_index_uint","WEBGL_compressed_texture_s3tc","WEBGL_depth_texture","EXT_texture_filter_anisotropic","EXT_shader_texture_lod","WEBGL_draw_buffers","EXT_frag_depth","EXT_sRGB","ANGLE_instanced_arrays"],gq=["MAX_TEXTURE_SIZE","MAX_CUBE_MAP_TEXTURE_SIZE"];const bOe=function yOe(e){for(var n={},t={},r=0;r<pq.length;r++)o(pq[r]);for(r=0;r<gq.length;r++){var a=gq[r];t[a]=e.getParameter(e[a])}function o(s){if(e.getExtension){var l=e.getExtension(s);l||(l=e.getExtension("MOZ_"+s)),l||(l=e.getExtension("WEBKIT_"+s)),n[s]=l}}this.getExtension=function(s){return s in n||o(s),n[s]},this.getParameter=function(s){return t[s]}},wOe={get:function COe(e){var n=new XMLHttpRequest;n.open("get",e.url),n.responseType=e.responseType||"text",e.onprogress&&(n.onprogress=function(t){t.lengthComputable?e.onprogress(t.loaded/t.total,t.loaded,t.total):e.onprogress(null)}),n.onload=function(t){n.status>=400?e.onerror&&e.onerror():e.onload&&e.onload(n.response)},e.onerror&&(n.onerror=e.onerror),n.send(null)}};var aN,ua={supportWebGL:function(){if(null==aN)try{var e=document.createElement("canvas");if(!e.getContext("webgl")&&!e.getContext("experimental-webgl"))throw new Error}catch{aN=!1}return aN}};ua.Int8Array=typeof Int8Array>"u"?Array:Int8Array,ua.Uint8Array=typeof Uint8Array>"u"?Array:Uint8Array,ua.Uint16Array=typeof Uint16Array>"u"?Array:Uint16Array,ua.Uint32Array=typeof Uint32Array>"u"?Array:Uint32Array,ua.Int16Array=typeof Int16Array>"u"?Array:Int16Array,ua.Float32Array=typeof Float32Array>"u"?Array:Float32Array,ua.Float64Array=typeof Float64Array>"u"?Array:Float64Array;var Rh={};typeof window<"u"?Rh=window:typeof global<"u"&&(Rh=global),ua.requestAnimationFrame=Rh.requestAnimationFrame||Rh.msRequestAnimationFrame||Rh.mozRequestAnimationFrame||Rh.webkitRequestAnimationFrame||function(e){setTimeout(e,16)},ua.createCanvas=function(){return document.createElement("canvas")},ua.createImage=function(){return new Rh.Image},ua.request={get:wOe.get},ua.addEventListener=function(e,n,t,r){e.addEventListener(n,t,r)},ua.removeEventListener=function(e,n,t){e.removeEventListener(n,t)};const Lr=ua;var li=function(){this.head=null,this.tail=null,this._length=0};li.prototype.insert=function(e){var n=new li.Entry(e);return this.insertEntry(n),n},li.prototype.insertAt=function(e,n){if(!(e<0)){for(var t=this.head,r=0;t&&r!=e;)t=t.next,r++;if(t){var i=new li.Entry(n),a=t.prev;a?(a.next=i,i.prev=a):this.head=i,i.next=t,t.prev=i}else this.insert(n)}},li.prototype.insertBeforeEntry=function(e,n){var t=new li.Entry(e),r=n.prev;r?(r.next=t,t.prev=r):this.head=t,t.next=n,n.prev=t,this._length++},li.prototype.insertEntry=function(e){this.head?(this.tail.next=e,e.prev=this.tail,this.tail=e):this.head=this.tail=e,this._length++},li.prototype.remove=function(e){var n=e.prev,t=e.next;n?n.next=t:this.head=t,t?t.prev=n:this.tail=n,e.next=e.prev=null,this._length--},li.prototype.removeAt=function(e){if(!(e<0)){for(var n=this.head,t=0;n&&t!=e;)n=n.next,t++;if(n)return this.remove(n),n.value}},li.prototype.getHead=function(){if(this.head)return this.head.value},li.prototype.getTail=function(){if(this.tail)return this.tail.value},li.prototype.getAt=function(e){if(!(e<0)){for(var n=this.head,t=0;n&&t!=e;)n=n.next,t++;return n.value}},li.prototype.indexOf=function(e){for(var n=this.head,t=0;n;){if(n.value===e)return t;n=n.next,t++}},li.prototype.length=function(){return this._length},li.prototype.isEmpty=function(){return 0===this._length},li.prototype.forEach=function(e,n){for(var t=this.head,r=0,i=typeof n<"u";t;)i?e.call(n,t.value,r):e(t.value,r),t=t.next,r++},li.prototype.clear=function(){this.tail=this.head=null,this._length=0},li.Entry=function(e){this.value=e,this.next=null,this.prev=null};const SOe=li;var up=function(e){this._list=new SOe,this._map={},this._maxSize=e||10};up.prototype.setMaxSize=function(e){this._maxSize=e},up.prototype.put=function(e,n){if(!this._map.hasOwnProperty(e)){var t=this._list.length();if(t>=this._maxSize&&t>0){var r=this._list.head;this._list.remove(r),delete this._map[r.key]}var i=this._list.insert(n);i.key=e,this._map[e]=i}},up.prototype.get=function(e){var n=this._map[e];if(this._map.hasOwnProperty(e))return n!==this._list.tail&&(this._list.remove(n),this._list.insertEntry(n)),n.value},up.prototype.remove=function(e){var n=this._map[e];typeof n<"u"&&(delete this._map[e],this._list.remove(n))},up.prototype.clear=function(){this._list.clear(),this._map={}};const mq=up;var rr={},vq={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function ys(e){return(e=Math.round(e))<0?0:e>255?255:e}function bm(e){return e<0?0:e>1?1:e}function oN(e){return e.length&&"%"===e.charAt(e.length-1)?ys(parseFloat(e)/100*255):ys(parseInt(e,10))}function hp(e){return e.length&&"%"===e.charAt(e.length-1)?bm(parseFloat(e)/100):bm(parseFloat(e))}function sN(e,n,t){return t<0?t+=1:t>1&&(t-=1),6*t<1?e+(n-e)*t*6:2*t<1?n:3*t<2?e+(n-e)*(2/3-t)*6:e}function Lc(e,n,t){return e+(n-e)*t}function bs(e,n,t,r,i){return e[0]=n,e[1]=t,e[2]=r,e[3]=i,e}function lN(e,n){return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e}var _q=new mq(20),wC=null;function dp(e,n){wC&&lN(wC,n),wC=_q.put(e,wC||n.slice())}function cN(e,n){var t=(parseFloat(e[0])%360+360)%360/360,r=hp(e[1]),i=hp(e[2]),a=i<=.5?i*(r+1):i+r-i*r,o=2*i-a;return bs(n=n||[],ys(255*sN(o,a,t+1/3)),ys(255*sN(o,a,t)),ys(255*sN(o,a,t-1/3)),1),4===e.length&&(n[3]=e[3]),n}rr.parse=function(e,n){if(e){n=n||[];var t=_q.get(e);if(t)return lN(n,t);var i,r=(e+="").replace(/ /g,"").toLowerCase();if(r in vq)return lN(n,vq[r]),dp(e,n),n;if("#"===r.charAt(0))return 4===r.length?(i=parseInt(r.substr(1),16))>=0&&i<=4095?(bs(n,(3840&i)>>4|(3840&i)>>8,240&i|(240&i)>>4,15&i|(15&i)<<4,1),dp(e,n),n):void bs(n,0,0,0,1):7===r.length?(i=parseInt(r.substr(1),16))>=0&&i<=16777215?(bs(n,(16711680&i)>>16,(65280&i)>>8,255&i,1),dp(e,n),n):void bs(n,0,0,0,1):void 0;var a=r.indexOf("("),o=r.indexOf(")");if(-1!==a&&o+1===r.length){var s=r.substr(0,a),l=r.substr(a+1,o-(a+1)).split(","),c=1;switch(s){case"rgba":if(4!==l.length)return void bs(n,0,0,0,1);c=hp(l.pop());case"rgb":return 3!==l.length?void bs(n,0,0,0,1):(bs(n,oN(l[0]),oN(l[1]),oN(l[2]),c),dp(e,n),n);case"hsla":return 4!==l.length?void bs(n,0,0,0,1):(l[3]=hp(l[3]),cN(l,n),dp(e,n),n);case"hsl":return 3!==l.length?void bs(n,0,0,0,1):(cN(l,n),dp(e,n),n);default:return}}bs(n,0,0,0,1)}},rr.parseToFloat=function(e,n){if(n=rr.parse(e,n))return n[0]/=255,n[1]/=255,n[2]/=255,n},rr.lift=function(e,n){var t=rr.parse(e);if(t){for(var r=0;r<3;r++)t[r]=n<0?t[r]*(1-n)|0:(255-t[r])*n+t[r]|0;return rr.stringify(t,4===t.length?"rgba":"rgb")}},rr.toHex=function(e){var n=rr.parse(e);if(n)return((1<<24)+(n[0]<<16)+(n[1]<<8)+ +n[2]).toString(16).slice(1)},rr.fastLerp=function(e,n,t){if(n&&n.length&&e>=0&&e<=1){t=t||[];var r=e*(n.length-1),i=Math.floor(r),a=Math.ceil(r),o=n[i],s=n[a],l=r-i;return t[0]=ys(Lc(o[0],s[0],l)),t[1]=ys(Lc(o[1],s[1],l)),t[2]=ys(Lc(o[2],s[2],l)),t[3]=bm(Lc(o[3],s[3],l)),t}},rr.fastMapToColor=rr.fastLerp,rr.lerp=function(e,n,t){if(n&&n.length&&e>=0&&e<=1){var r=e*(n.length-1),i=Math.floor(r),a=Math.ceil(r),o=rr.parse(n[i]),s=rr.parse(n[a]),l=r-i,c=rr.stringify([ys(Lc(o[0],s[0],l)),ys(Lc(o[1],s[1],l)),ys(Lc(o[2],s[2],l)),bm(Lc(o[3],s[3],l))],"rgba");return t?{color:c,leftIndex:i,rightIndex:a,value:r}:c}},rr.mapToColor=rr.lerp,rr.modifyHSL=function(e,n,t,r){if(e=rr.parse(e))return e=function MOe(e){if(e){var l,c,n=e[0]/255,t=e[1]/255,r=e[2]/255,i=Math.min(n,t,r),a=Math.max(n,t,r),o=a-i,s=(a+i)/2;if(0===o)l=0,c=0;else{c=s<.5?o/(a+i):o/(2-a-i);var u=((a-n)/6+o/2)/o,h=((a-t)/6+o/2)/o,d=((a-r)/6+o/2)/o;n===a?l=d-h:t===a?l=1/3+u-d:r===a&&(l=2/3+h-u),l<0&&(l+=1),l>1&&(l-=1)}var f=[360*l,c,s];return null!=e[3]&&f.push(e[3]),f}}(e),null!=n&&(e[0]=function xOe(e){return(e=Math.round(e))<0?0:e>360?360:e}(n)),null!=t&&(e[1]=hp(t)),null!=r&&(e[2]=hp(r)),rr.stringify(cN(e),"rgba")},rr.modifyAlpha=function(e,n){if((e=rr.parse(e))&&null!=n)return e[3]=bm(n),rr.stringify(e,"rgba")},rr.stringify=function(e,n){if(e&&e.length){var t=e[0]+","+e[1]+","+e[2];return("rgba"===n||"hsva"===n||"hsla"===n)&&(t+=","+e[3]),n+"("+t+")"}};var TOe=rr.parseToFloat,uN={};function yq(e){var n=Object.keys(e);n.sort();for(var t=[],r=0;r<n.length;r++){var i=n[r],a=e[i];t.push(null===a?i:i+" "+a.toString())}return t.join("\n")}var EOe=ca.extend(function(){return{name:"",depthTest:!0,depthMask:!0,transparent:!1,blend:null,autoUpdateTextureStatus:!0,uniforms:{},vertexDefines:{},fragmentDefines:{},_textureStatus:{},_enabledUniforms:null}},function(){this.name||(this.name="MATERIAL_"+this.__uid__),this.shader&&this.attachShader(this.shader,!0)},{precision:"highp",setUniform:function(e,n){void 0===n&&console.warn('Uniform value "'+e+'" is undefined');var t=this.uniforms[e];t&&("string"==typeof n&&(n=TOe(n)||n),t.value=n,this.autoUpdateTextureStatus&&"t"===t.type&&(n?this.enableTexture(e):this.disableTexture(e)))},setUniforms:function(e){for(var n in e)this.setUniform(n,e[n])},isUniformEnabled:function(e){return this._enabledUniforms.indexOf(e)>=0},getEnabledUniforms:function(){return this._enabledUniforms},getTextureUniforms:function(){return this._textureUniforms},set:function(e,n){if("object"==typeof e)for(var t in e)this.setUniform(t,e[t]);else this.setUniform(e,n)},get:function(e){var n=this.uniforms[e];if(n)return n.value},attachShader:function(e,n){var t=this.uniforms;this.uniforms=e.createUniforms(),this.shader=e;var r=this.uniforms;this._enabledUniforms=Object.keys(r),this._enabledUniforms.sort(),this._textureUniforms=this._enabledUniforms.filter(function(c){var u=this.uniforms[c].type;return"t"===u||"tv"===u},this);var i=this.vertexDefines,a=this.fragmentDefines;if(this.vertexDefines=mi.clone(e.vertexDefines),this.fragmentDefines=mi.clone(e.fragmentDefines),n){for(var o in t)r[o]&&(r[o].value=t[o].value);mi.defaults(this.vertexDefines,i),mi.defaults(this.fragmentDefines,a)}var s={};for(var l in e.textures)s[l]={shaderType:e.textures[l].shaderType,type:e.textures[l].type,enabled:!(!n||!this._textureStatus[l])&&this._textureStatus[l].enabled};this._textureStatus=s,this._programKey=""},clone:function(){var e=new this.constructor({name:this.name,shader:this.shader});for(var n in this.uniforms)e.uniforms[n].value=this.uniforms[n].value;return e.depthTest=this.depthTest,e.depthMask=this.depthMask,e.transparent=this.transparent,e.blend=this.blend,e.vertexDefines=mi.clone(this.vertexDefines),e.fragmentDefines=mi.clone(this.fragmentDefines),e.enableTexture(this.getEnabledTextures()),e.precision=this.precision,e},define:function(e,n,t){var r=this.vertexDefines,i=this.fragmentDefines;"vertex"!==e&&"fragment"!==e&&"both"!==e&&arguments.length<3&&(t=n,n=e,e="both"),t=t??null,("vertex"===e||"both"===e)&&r[n]!==t&&(r[n]=t,this._programKey=""),("fragment"===e||"both"===e)&&i[n]!==t&&(i[n]=t,"both"!==e&&(this._programKey=""))},undefine:function(e,n){"vertex"!==e&&"fragment"!==e&&"both"!==e&&arguments.length<2&&(n=e,e="both"),("vertex"===e||"both"===e)&&this.isDefined("vertex",n)&&(delete this.vertexDefines[n],this._programKey=""),("fragment"===e||"both"===e)&&this.isDefined("fragment",n)&&(delete this.fragmentDefines[n],"both"!==e&&(this._programKey=""))},isDefined:function(e,n){switch(e){case"vertex":return void 0!==this.vertexDefines[n];case"fragment":return void 0!==this.fragmentDefines[n]}},getDefine:function(e,n){switch(e){case"vertex":return this.vertexDefines[n];case"fragment":return this.fragmentDefines[n]}},enableTexture:function(e){if(Array.isArray(e))for(var n=0;n<e.length;n++)this.enableTexture(e[n]);else{var t=this._textureStatus[e];t&&(t.enabled||(t.enabled=!0,this._programKey=""))}},enableTexturesAll:function(){var e=this._textureStatus;for(var n in e)e[n].enabled=!0;this._programKey=""},disableTexture:function(e){if(Array.isArray(e))for(var n=0;n<e.length;n++)this.disableTexture(e[n]);else{var t=this._textureStatus[e];t&&(!t.enabled||(t.enabled=!1,this._programKey=""))}},disableTexturesAll:function(){var e=this._textureStatus;for(var n in e)e[n].enabled=!1;this._programKey=""},isTextureEnabled:function(e){var n=this._textureStatus;return!!n[e]&&n[e].enabled},getEnabledTextures:function(){var e=[],n=this._textureStatus;for(var t in n)n[t].enabled&&e.push(t);return e},dirtyDefines:function(){this._programKey=""},getProgramKey:function(){return this._programKey||(this._programKey=function DOe(e,n,t){t.sort();for(var r=[],i=0;i<t.length;i++)r.push(t[i]);var o=yq(e)+"\n"+yq(n)+"\n"+r.join("\n");if(uN[o])return uN[o];var s=mi.genGUID();return uN[o]=s,s}(this.vertexDefines,this.fragmentDefines,this.getEnabledTextures())),this._programKey}});const Fo=EOe;var SC=1e-6,vi=Array,fp=Math.random,ft={create:function(){var e=new vi(2);return e[0]=0,e[1]=0,e},clone:function(e){var n=new vi(2);return n[0]=e[0],n[1]=e[1],n},fromValues:function(e,n){var t=new vi(2);return t[0]=e,t[1]=n,t},copy:function(e,n){return e[0]=n[0],e[1]=n[1],e},set:function(e,n,t){return e[0]=n,e[1]=t,e},add:function(e,n,t){return e[0]=n[0]+t[0],e[1]=n[1]+t[1],e},subtract:function(e,n,t){return e[0]=n[0]-t[0],e[1]=n[1]-t[1],e}};ft.sub=ft.subtract,ft.multiply=function(e,n,t){return e[0]=n[0]*t[0],e[1]=n[1]*t[1],e},ft.mul=ft.multiply,ft.divide=function(e,n,t){return e[0]=n[0]/t[0],e[1]=n[1]/t[1],e},ft.div=ft.divide,ft.min=function(e,n,t){return e[0]=Math.min(n[0],t[0]),e[1]=Math.min(n[1],t[1]),e},ft.max=function(e,n,t){return e[0]=Math.max(n[0],t[0]),e[1]=Math.max(n[1],t[1]),e},ft.scale=function(e,n,t){return e[0]=n[0]*t,e[1]=n[1]*t,e},ft.scaleAndAdd=function(e,n,t,r){return e[0]=n[0]+t[0]*r,e[1]=n[1]+t[1]*r,e},ft.distance=function(e,n){var t=n[0]-e[0],r=n[1]-e[1];return Math.sqrt(t*t+r*r)},ft.dist=ft.distance,ft.squaredDistance=function(e,n){var t=n[0]-e[0],r=n[1]-e[1];return t*t+r*r},ft.sqrDist=ft.squaredDistance,ft.length=function(e){var n=e[0],t=e[1];return Math.sqrt(n*n+t*t)},ft.len=ft.length,ft.squaredLength=function(e){var n=e[0],t=e[1];return n*n+t*t},ft.sqrLen=ft.squaredLength,ft.negate=function(e,n){return e[0]=-n[0],e[1]=-n[1],e},ft.inverse=function(e,n){return e[0]=1/n[0],e[1]=1/n[1],e},ft.normalize=function(e,n){var t=n[0],r=n[1],i=t*t+r*r;return i>0&&(i=1/Math.sqrt(i),e[0]=n[0]*i,e[1]=n[1]*i),e},ft.dot=function(e,n){return e[0]*n[0]+e[1]*n[1]},ft.cross=function(e,n,t){var r=n[0]*t[1]-n[1]*t[0];return e[0]=e[1]=0,e[2]=r,e},ft.lerp=function(e,n,t,r){var i=n[0],a=n[1];return e[0]=i+r*(t[0]-i),e[1]=a+r*(t[1]-a),e},ft.random=function(e,n){n=n||1;var t=2*GLMAT_RANDOM()*Math.PI;return e[0]=Math.cos(t)*n,e[1]=Math.sin(t)*n,e},ft.transformMat2=function(e,n,t){var r=n[0],i=n[1];return e[0]=t[0]*r+t[2]*i,e[1]=t[1]*r+t[3]*i,e},ft.transformMat2d=function(e,n,t){var r=n[0],i=n[1];return e[0]=t[0]*r+t[2]*i+t[4],e[1]=t[1]*r+t[3]*i+t[5],e},ft.transformMat3=function(e,n,t){var r=n[0],i=n[1];return e[0]=t[0]*r+t[3]*i+t[6],e[1]=t[1]*r+t[4]*i+t[7],e},ft.transformMat4=function(e,n,t){var r=n[0],i=n[1];return e[0]=t[0]*r+t[4]*i+t[12],e[1]=t[1]*r+t[5]*i+t[13],e},ft.forEach=function(){var e=ft.create();return function(n,t,r,i,a,o){var s,l;for(t||(t=2),r||(r=0),l=i?Math.min(i*t+r,n.length):n.length,s=r;s<l;s+=t)e[0]=n[s],e[1]=n[s+1],a(e,e,o),n[s]=e[0],n[s+1]=e[1];return n}}();const Ge=ft;var Et=function(e,n){this.array=Ge.fromValues(e=e||0,n=n||0),this._dirty=!0};if(Et.prototype={constructor:Et,add:function(e){return Ge.add(this.array,this.array,e.array),this._dirty=!0,this},set:function(e,n){return this.array[0]=e,this.array[1]=n,this._dirty=!0,this},setArray:function(e){return this.array[0]=e[0],this.array[1]=e[1],this._dirty=!0,this},clone:function(){return new Et(this.x,this.y)},copy:function(e){return Ge.copy(this.array,e.array),this._dirty=!0,this},cross:function(e,n){return Ge.cross(e.array,this.array,n.array),e._dirty=!0,this},dist:function(e){return Ge.dist(this.array,e.array)},distance:function(e){return Ge.distance(this.array,e.array)},div:function(e){return Ge.div(this.array,this.array,e.array),this._dirty=!0,this},divide:function(e){return Ge.divide(this.array,this.array,e.array),this._dirty=!0,this},dot:function(e){return Ge.dot(this.array,e.array)},len:function(){return Ge.len(this.array)},length:function(){return Ge.length(this.array)},lerp:function(e,n,t){return Ge.lerp(this.array,e.array,n.array,t),this._dirty=!0,this},min:function(e){return Ge.min(this.array,this.array,e.array),this._dirty=!0,this},max:function(e){return Ge.max(this.array,this.array,e.array),this._dirty=!0,this},mul:function(e){return Ge.mul(this.array,this.array,e.array),this._dirty=!0,this},multiply:function(e){return Ge.multiply(this.array,this.array,e.array),this._dirty=!0,this},negate:function(){return Ge.negate(this.array,this.array),this._dirty=!0,this},normalize:function(){return Ge.normalize(this.array,this.array),this._dirty=!0,this},random:function(e){return Ge.random(this.array,e),this._dirty=!0,this},scale:function(e){return Ge.scale(this.array,this.array,e),this._dirty=!0,this},scaleAndAdd:function(e,n){return Ge.scaleAndAdd(this.array,this.array,e.array,n),this._dirty=!0,this},sqrDist:function(e){return Ge.sqrDist(this.array,e.array)},squaredDistance:function(e){return Ge.squaredDistance(this.array,e.array)},sqrLen:function(){return Ge.sqrLen(this.array)},squaredLength:function(){return Ge.squaredLength(this.array)},sub:function(e){return Ge.sub(this.array,this.array,e.array),this._dirty=!0,this},subtract:function(e){return Ge.subtract(this.array,this.array,e.array),this._dirty=!0,this},transformMat2:function(e){return Ge.transformMat2(this.array,this.array,e.array),this._dirty=!0,this},transformMat2d:function(e){return Ge.transformMat2d(this.array,this.array,e.array),this._dirty=!0,this},transformMat3:function(e){return Ge.transformMat3(this.array,this.array,e.array),this._dirty=!0,this},transformMat4:function(e){return Ge.transformMat4(this.array,this.array,e.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}},Object.defineProperty){var bq=Et.prototype;Object.defineProperty(bq,"x",{get:function(){return this.array[0]},set:function(e){this.array[0]=e,this._dirty=!0}}),Object.defineProperty(bq,"y",{get:function(){return this.array[1]},set:function(e){this.array[1]=e,this._dirty=!0}})}Et.add=function(e,n,t){return Ge.add(e.array,n.array,t.array),e._dirty=!0,e},Et.set=function(e,n,t){return Ge.set(e.array,n,t),e._dirty=!0,e},Et.copy=function(e,n){return Ge.copy(e.array,n.array),e._dirty=!0,e},Et.cross=function(e,n,t){return Ge.cross(e.array,n.array,t.array),e._dirty=!0,e},Et.distance=Et.dist=function(e,n){return Ge.distance(e.array,n.array)},Et.divide=Et.div=function(e,n,t){return Ge.divide(e.array,n.array,t.array),e._dirty=!0,e},Et.dot=function(e,n){return Ge.dot(e.array,n.array)},Et.len=function(e){return Ge.length(e.array)},Et.lerp=function(e,n,t,r){return Ge.lerp(e.array,n.array,t.array,r),e._dirty=!0,e},Et.min=function(e,n,t){return Ge.min(e.array,n.array,t.array),e._dirty=!0,e},Et.max=function(e,n,t){return Ge.max(e.array,n.array,t.array),e._dirty=!0,e},Et.multiply=Et.mul=function(e,n,t){return Ge.multiply(e.array,n.array,t.array),e._dirty=!0,e},Et.negate=function(e,n){return Ge.negate(e.array,n.array),e._dirty=!0,e},Et.normalize=function(e,n){return Ge.normalize(e.array,n.array),e._dirty=!0,e},Et.random=function(e,n){return Ge.random(e.array,n),e._dirty=!0,e},Et.scale=function(e,n,t){return Ge.scale(e.array,n.array,t),e._dirty=!0,e},Et.scaleAndAdd=function(e,n,t,r){return Ge.scaleAndAdd(e.array,n.array,t.array,r),e._dirty=!0,e},Et.squaredDistance=Et.sqrDist=function(e,n){return Ge.sqrDist(e.array,n.array)},Et.squaredLength=Et.sqrLen=function(e){return Ge.sqrLen(e.array)},Et.subtract=Et.sub=function(e,n,t){return Ge.subtract(e.array,n.array,t.array),e._dirty=!0,e},Et.transformMat2=function(e,n,t){return Ge.transformMat2(e.array,n.array,t.array),e._dirty=!0,e},Et.transformMat2d=function(e,n,t){return Ge.transformMat2d(e.array,n.array,t.array),e._dirty=!0,e},Et.transformMat3=function(e,n,t){return Ge.transformMat3(e.array,n.array,t.array),e._dirty=!0,e},Et.transformMat4=function(e,n,t){return Ge.transformMat4(e.array,n.array,t.array),e._dirty=!0,e};const oo=Et;var Sq={};function AOe(e){for(var n=e.split("\n"),t=0,r=n.length;t<r;t++)n[t]=t+1+": "+n[t];return n.join("\n")}function xq(e,n,t){if(!e.getShaderParameter(n,e.COMPILE_STATUS))return[e.getShaderInfoLog(n),AOe(t)].join("\n")}var Mq=new Lr.Float32Array(16),NOe=ca.extend({uniformSemantics:{},attributes:{}},function(){this._locations={},this._textureSlot=0,this._program=null},{bind:function(e){this._textureSlot=0,e.gl.useProgram(this._program)},hasUniform:function(e){return null!=this._locations[e]},useTextureSlot:function(e,n,t){n&&(e.gl.activeTexture(e.gl.TEXTURE0+t),n.isRenderable()?n.bind(e):n.unbind(e))},currentTextureSlot:function(){return this._textureSlot},resetTextureSlot:function(e){this._textureSlot=e||0},takeCurrentTextureSlot:function(e,n){var t=this._textureSlot;return this.useTextureSlot(e,n,t),this._textureSlot++,t},setUniform:function(e,n,t,r){var a=this._locations[t];if(null==a)return!1;switch(n){case"m4":if(!(r instanceof Float32Array)){for(var o=0;o<r.length;o++)Mq[o]=r[o];r=Mq}e.uniformMatrix4fv(a,!1,r);break;case"2i":e.uniform2i(a,r[0],r[1]);break;case"2f":e.uniform2f(a,r[0],r[1]);break;case"3i":e.uniform3i(a,r[0],r[1],r[2]);break;case"3f":e.uniform3f(a,r[0],r[1],r[2]);break;case"4i":e.uniform4i(a,r[0],r[1],r[2],r[3]);break;case"4f":e.uniform4f(a,r[0],r[1],r[2],r[3]);break;case"1i":e.uniform1i(a,r);break;case"1f":e.uniform1f(a,r);break;case"1fv":e.uniform1fv(a,r);break;case"1iv":e.uniform1iv(a,r);break;case"2iv":e.uniform2iv(a,r);break;case"2fv":e.uniform2fv(a,r);break;case"3iv":e.uniform3iv(a,r);break;case"3fv":e.uniform3fv(a,r);break;case"4iv":e.uniform4iv(a,r);break;case"4fv":e.uniform4fv(a,r);break;case"m2":case"m2v":e.uniformMatrix2fv(a,!1,r);break;case"m3":case"m3v":e.uniformMatrix3fv(a,!1,r);break;case"m4v":if(Array.isArray(r)&&Array.isArray(r[0])){var s=new Lr.Float32Array(16*r.length),l=0;for(o=0;o<r.length;o++)for(var c=r[o],u=0;u<16;u++)s[l++]=c[u];e.uniformMatrix4fv(a,!1,s)}else e.uniformMatrix4fv(a,!1,r)}return!0},setUniformOfSemantic:function(e,n,t){var r=this.uniformSemantics[n];return!!r&&this.setUniform(e,r.type,r.symbol,t)},enableAttributes:function(e,n,t){var o,r=e.gl,i=this._program,a=this._locations;(o=t?t.__enabledAttributeList:Sq[e.__uid__])||(o=t?t.__enabledAttributeList=[]:Sq[e.__uid__]=[]);for(var s=[],l=0;l<n.length;l++){var c=n[l];if(this.attributes[c]){var u=a[c];if(null==u){if(-1===(u=r.getAttribLocation(i,c))){s[l]=-1;continue}a[c]=u}s[l]=u,o[u]=o[u]?2:1}else s[l]=-1}for(l=0;l<o.length;l++)switch(o[l]){case 1:r.enableVertexAttribArray(l),o[l]=3;break;case 2:o[l]=3;break;case 3:r.disableVertexAttribArray(l),o[l]=0}return s},getAttribLocation:function(e,n){var t=this._locations,r=t[n];return null==r&&(r=e.getAttribLocation(this._program,n),t[n]=r),r},buildProgram:function(e,n,t,r){var i=e.createShader(e.VERTEX_SHADER),a=e.createProgram();e.shaderSource(i,t),e.compileShader(i);var o=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(o,r),e.compileShader(o);var s=xq(e,i,t);if(s||(s=xq(e,o,r)))return s;if(e.attachShader(a,i),e.attachShader(a,o),n.attributeSemantics.POSITION)e.bindAttribLocation(a,0,n.attributeSemantics.POSITION.symbol);else{var l=Object.keys(this.attributes);e.bindAttribLocation(a,0,l[0])}if(e.linkProgram(a),e.deleteShader(i),e.deleteShader(o),this._program=a,this.vertexCode=t,this.fragmentCode=r,!e.getProgramParameter(a,e.LINK_STATUS))return"Could not link program\n"+e.getProgramInfoLog(a);for(var c=0;c<n.uniforms.length;c++){var u=n.uniforms[c];this._locations[u]=e.getUniformLocation(a,u)}}});const IOe=NOe;var POe=/for\s*?\(int\s*?_idx_\s*\=\s*([\w-]+)\;\s*_idx_\s*<\s*([\w-]+);\s*_idx_\s*\+\+\s*\)\s*\{\{([\s\S]+?)(?=\}\})\}\}/g;function Tq(e,n,t){var i={};for(var a in t)i[a+"_COUNT"]=t[a];return e.replace(POe,function r(o,s,l,c){var u="";isNaN(s)&&(s=s in n?n[s]:i[s]),isNaN(l)&&(l=l in n?n[l]:i[l]);for(var h=parseInt(s);h<parseInt(l);h++)u+="{"+c.replace(/float\s*\(\s*_idx_\s*\)/g,h.toFixed(1)).replace(/_idx_/g,h)+"}";return u})}function dN(e,n,t){var r=[];if(n)for(var i in n){var a=n[i];a>0&&r.push("#define "+i.toUpperCase()+"_COUNT "+a)}if(t)for(var o=0;o<t.length;o++)r.push("#define "+(s=t[o]).toUpperCase()+"_ENABLED");for(var s in e){var l=e[s];r.push(null===l?"#define "+s:"#define "+s+" "+l.toString())}return r.join("\n")}function Dq(e){this._renderer=e,this._cache={}}Dq.prototype.getProgram=function(e,n,t){var r=this._cache,i=e.isSkinnedMesh&&e.isSkinnedMesh(),a=e.isInstancedMesh&&e.isInstancedMesh(),o="s"+n.shader.shaderID+"m"+n.getProgramKey();if(t&&(o+="se"+t.getProgramKey(e.lightGroup)),i&&(o+=",sk"+e.joints.length),a&&(o+=",is"),b=r[o])return b;var s=t?t.getLightsNumbers(e.lightGroup):{},l=this._renderer,c=l.gl,u=n.getEnabledTextures(),h="";if(i){var d={SKINNING:null,JOINT_COUNT:e.joints.length};e.joints.length>l.getMaxJointNumber()&&(d.USE_SKIN_MATRICES_TEXTURE=null),h+="\n"+dN(d)+"\n"}a&&(h+="\n#define INSTANCING\n");var f=h+dN(n.vertexDefines,s,u),p=h+dN(n.fragmentDefines,s,u),g=f+"\n"+n.shader.vertex,m=["OES_standard_derivatives","EXT_shader_texture_lod"].filter(function(C){return null!=l.getGLExtension(C)});m.indexOf("EXT_shader_texture_lod")>=0&&(p+="\n#define SUPPORT_TEXTURE_LOD"),m.indexOf("OES_standard_derivatives")>=0&&(p+="\n#define SUPPORT_STANDARD_DERIVATIVES");var b,v=function OOe(e){for(var n=[],t=0;t<e.length;t++)n.push("#extension GL_"+e[t]+" : enable");return n.join("\n")}(m)+"\n"+function ROe(e){return["precision",e,"float"].join(" ")+";\n"+["precision",e,"int"].join(" ")+";\n"+["precision",e,"sampler2D"].join(" ")+";\n"}(n.precision)+"\n"+p+"\n"+n.shader.fragment,_=Tq(g,n.vertexDefines,s),y=Tq(v,n.fragmentDefines,s);(b=new IOe).uniformSemantics=n.shader.uniformSemantics,b.attributes=n.shader.attributes;var w=b.buildProgram(c,n.shader,_,y);return b.__error=w,r[o]=b,b};const LOe=Dq;var Eq=/uniform\s+(bool|float|int|vec2|vec3|vec4|ivec2|ivec3|ivec4|mat2|mat3|mat4|sampler2D|samplerCube)\s+([\s\S]*?);/g,kOe=/attribute\s+(float|int|vec2|vec3|vec4)\s+([\s\S]*?);/g,Aq=/#define\s+(\w+)?(\s+[\d-.]+)?\s*;?\s*\n/g,FOe={bool:"1i",int:"1i",sampler2D:"t",samplerCube:"t",float:"1f",vec2:"2f",vec3:"3f",vec4:"4f",ivec2:"2i",ivec3:"3i",ivec4:"4i",mat2:"m2",mat3:"m3",mat4:"m4"};function Hl(e){for(var n=[],t=0;t<e;t++)n[t]=0;return n}var Nq={bool:function(){return!0},int:function(){return 0},float:function(){return 0},sampler2D:function(){return null},samplerCube:function(){return null},vec2:function(){return Hl(2)},vec3:function(){return Hl(3)},vec4:function(){return Hl(4)},ivec2:function(){return Hl(2)},ivec3:function(){return Hl(3)},ivec4:function(){return Hl(4)},mat2:function(){return Hl(4)},mat3:function(){return Hl(9)},mat4:function(){return Hl(16)},array:function(){return[]}},fN=["POSITION","NORMAL","BINORMAL","TANGENT","TEXCOORD","TEXCOORD_0","TEXCOORD_1","COLOR","JOINT","WEIGHT"],Iq=["SKIN_MATRIX","VIEWPORT_SIZE","VIEWPORT","DEVICEPIXELRATIO","WINDOW_SIZE","NEAR","FAR","TIME"],Pq=["WORLD","VIEW","PROJECTION","WORLDVIEW","VIEWPROJECTION","WORLDVIEWPROJECTION","WORLDINVERSE","VIEWINVERSE","PROJECTIONINVERSE","WORLDVIEWINVERSE","VIEWPROJECTIONINVERSE","WORLDVIEWPROJECTIONINVERSE","WORLDTRANSPOSE","VIEWTRANSPOSE","PROJECTIONTRANSPOSE","WORLDVIEWTRANSPOSE","VIEWPROJECTIONTRANSPOSE","WORLDVIEWPROJECTIONTRANSPOSE","WORLDINVERSETRANSPOSE","VIEWINVERSETRANSPOSE","PROJECTIONINVERSETRANSPOSE","WORLDVIEWINVERSETRANSPOSE","VIEWPROJECTIONINVERSETRANSPOSE","WORLDVIEWPROJECTIONINVERSETRANSPOSE"],zOe={vec4:4,vec3:3,vec2:2,float:1},pN={},Oq={};function Rq(e){return e.replace(/[ \t]*\/\/.*\n/g,"").replace(/[ \t]*\/\*[\s\S]*?\*\//g,"")}function pp(){console.error("Wrong uniform/attributes syntax")}function Lq(e,n){for(var t=/[,=\(\):]/,r=n.replace(/:\s*\[\s*(.*)\s*\]/g,"="+e+"($1)").replace(/\s+/g,"").split(/(?=[,=\(\):])/g),i=[],a=0;a<r.length;a++)r[a].match(t)?i.push(r[a].charAt(0),r[a].slice(1)):i.push(r[a]);var g,d=0,f={},p=null;function m(y){y||pp();var b=y.match(/\[(.*?)\]/);g=y.replace(/\[(.*?)\]/,""),f[g]={},b&&(f[g].isArray=!0,f[g].arraySize=b[1])}for(m((r=i)[0]),a=1;a<r.length;a++){var v=r[a];if(v){if("="===v){if(0!==d&&3!==d){pp();break}d=1;continue}if(":"===v){d=4;continue}if(","===v){if(2===d){if(!(p instanceof Array)){pp();break}p.push(+r[++a])}else d=5;continue}if(")"===v){f[g].value=new Lr.Float32Array(p),p=null,d=5;continue}if("("===v){if(2!==d){pp();break}if(!(p instanceof Array)){pp();break}p.push(+r[++a]);continue}if(v.indexOf("vec")>=0){if(1!==d&&4!==d){pp();break}d=2,p=[];continue}if(1===d){f[g].value="bool"===e?"true"===v:parseFloat(v),p=null;continue}if(4===d){var _=v;fN.indexOf(_)>=0||Iq.indexOf(_)>=0||Pq.indexOf(_)>=0?f[g].semantic=_:"ignore"===_||"unconfigurable"===_?f[g].ignore=!0:f[g].value="bool"===e?"true"===_:parseFloat(_);continue}m(v),d=0}}return f}function Yr(e,n){"object"==typeof e&&(n=e.fragment,e=e.vertex),e=Rq(e),n=Rq(n),this._shaderID=function BOe(e,n){var t="vertex:"+e+"fragment:"+n;if(pN[t])return pN[t];var r=mi.genGUID();return pN[t]=r,Oq[r]={vertex:e,fragment:n},r}(e,n),this._vertexCode=Yr.parseImport(e),this._fragmentCode=Yr.parseImport(n),this.attributeSemantics={},this.matrixSemantics={},this.uniformSemantics={},this.matrixSemanticKeys=[],this.uniformTemplates={},this.attributes={},this.textures={},this.vertexDefines={},this.fragmentDefines={},this._parseAttributes(),this._parseUniforms(),this._parseDefines()}Yr.prototype={constructor:Yr,createUniforms:function(){var e={};for(var n in this.uniformTemplates){var t=this.uniformTemplates[n];e[n]={type:t.type,value:t.value()}}return e},_parseImport:function(){this._vertexCode=Yr.parseImport(this.vertex),this._fragmentCode=Yr.parseImport(this.fragment)},_addSemanticUniform:function(e,n,t){if(fN.indexOf(t)>=0)this.attributeSemantics[t]={symbol:e,type:n};else if(Pq.indexOf(t)>=0){var r=!1,i=t;t.match(/TRANSPOSE$/)&&(r=!0,i=t.slice(0,-9)),this.matrixSemantics[t]={symbol:e,type:n,isTranspose:r,semanticNoTranspose:i}}else Iq.indexOf(t)>=0&&(this.uniformSemantics[t]={symbol:e,type:n})},_addMaterialUniform:function(e,n,t,r,i,a){a[e]={type:t,value:i?Nq.array:r||Nq[n],semantic:null}},_parseUniforms:function(){var e={},n=this;function r(a){return null!=a?function(){return a}:null}function i(a,o,s){var l=Lq(o,s),c=[];for(var u in l){var h=l[u],d=h.semantic,f=u,p=FOe[o],g=r(l[u].value);l[u].isArray&&(f+="["+l[u].arraySize+"]",p+="v"),c.push(f),n._uniformList.push(u),h.ignore||(("sampler2D"===o||"samplerCube"===o)&&(n.textures[u]={shaderType:"fragment",type:o}),d?n._addSemanticUniform(u,p,d):n._addMaterialUniform(u,o,p,g,l[u].isArray,e))}return c.length>0?"uniform "+o+" "+c.join(",")+";\n":""}this._uniformList=[],this._vertexCode=this._vertexCode.replace(Eq,i),this._fragmentCode=this._fragmentCode.replace(Eq,i),n.matrixSemanticKeys=Object.keys(this.matrixSemantics),this.uniformTemplates=e},_parseAttributes:function(){var e={},n=this;this._vertexCode=this._vertexCode.replace(kOe,function t(r,i,a){var o=Lq(i,a),s=zOe[i]||1,l=[];for(var c in o){var u=o[c].semantic;if(e[c]={type:"float",size:s,semantic:u||null},u){if(fN.indexOf(u)<0)throw new Error('Unkown semantic "'+u+'"');n.attributeSemantics[u]={symbol:c,type:i}}l.push(c)}return"attribute "+i+" "+l.join(",")+";\n"}),this.attributes=e},_parseDefines:function(){var e=this;function t(r,i,a){var o=e.fragmentDefines;return o[i]||(o[i]="false"!==a&&("true"===a||(a?isNaN(parseFloat(a))?a.trim():parseFloat(a):null))),""}this._vertexCode=this._vertexCode.replace(Aq,t),this._fragmentCode=this._fragmentCode.replace(Aq,t)},clone:function(){var e=Oq[this._shaderID];return new Yr(e.vertex,e.fragment)}},Object.defineProperty&&(Object.defineProperty(Yr.prototype,"shaderID",{get:function(){return this._shaderID}}),Object.defineProperty(Yr.prototype,"vertex",{get:function(){return this._vertexCode}}),Object.defineProperty(Yr.prototype,"fragment",{get:function(){return this._fragmentCode}}),Object.defineProperty(Yr.prototype,"uniforms",{get:function(){return this._uniformList}}));var VOe=/(@import)\s*([0-9a-zA-Z_\-\.]*)/g;Yr.parseImport=function(e){return e.replace(VOe,function(i,t,r){return(i=Yr.source(r))?Yr.parseImport(i):(console.error('Shader chunk "'+r+'" not existed in library'),"")})};var HOe=/(@export)\s*([0-9a-zA-Z_\-\.]*)\s*\n([\s\S]*?)@end/g;Yr.import=function(e){e.replace(HOe,function(n,t,r,a){if(a=a.replace(/(^[\s\t\xa0\u3000]+)|([\u3000\xa0\s\t]+\x24)/g,"")){for(var c,o=r.split("."),s=Yr.codes,l=0;l<o.length-1;)s[c=o[l++]]||(s[c]={}),s=s[c];s[c=o[l]]=a}return a})},Yr.codes={},Yr.source=function(e){for(var n=e.split("."),t=Yr.codes,r=0;t&&r<n.length;)t=t[n[r++]];return"string"!=typeof t?(console.error('Shader "'+e+'" not existed in library'),""):t};const ve=Yr,kq="@export clay.prez.vertex\nuniform mat4 WVP : WORLDVIEWPROJECTION;\nattribute vec3 pos : POSITION;\nattribute vec2 uv : TEXCOORD_0;\nuniform vec2 uvRepeat : [1.0, 1.0];\nuniform vec2 uvOffset : [0.0, 0.0];\n@import clay.chunk.skinning_header\n@import clay.chunk.instancing_header\nvarying vec2 v_Texcoord;\nvoid main()\n{\n vec4 P = vec4(pos, 1.0);\n#ifdef SKINNING\n @import clay.chunk.skin_matrix\n P = skinMatrixWS * P;\n#endif\n#ifdef INSTANCING\n @import clay.chunk.instancing_matrix\n P = instanceMat * P;\n#endif\n gl_Position = WVP * P;\n v_Texcoord = uv * uvRepeat + uvOffset;\n}\n@end\n@export clay.prez.fragment\nuniform sampler2D alphaMap;\nuniform float alphaCutoff: 0.0;\nvarying vec2 v_Texcoord;\nvoid main()\n{\n if (alphaCutoff > 0.0) {\n if (texture2D(alphaMap, v_Texcoord).a <= alphaCutoff) {\n discard;\n }\n }\n gl_FragColor = vec4(0.0,0.0,0.0,1.0);\n}\n@end";var In={create:function(){var e=new vi(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},clone:function(e){var n=new vi(16);return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n[6]=e[6],n[7]=e[7],n[8]=e[8],n[9]=e[9],n[10]=e[10],n[11]=e[11],n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15],n},copy:function(e,n){return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],e},identity:function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},transpose:function(e,n){if(e===n){var t=n[1],r=n[2],i=n[3],a=n[6],o=n[7],s=n[11];e[1]=n[4],e[2]=n[8],e[3]=n[12],e[4]=t,e[6]=n[9],e[7]=n[13],e[8]=r,e[9]=a,e[11]=n[14],e[12]=i,e[13]=o,e[14]=s}else e[0]=n[0],e[1]=n[4],e[2]=n[8],e[3]=n[12],e[4]=n[1],e[5]=n[5],e[6]=n[9],e[7]=n[13],e[8]=n[2],e[9]=n[6],e[10]=n[10],e[11]=n[14],e[12]=n[3],e[13]=n[7],e[14]=n[11],e[15]=n[15];return e},invert:function(e,n){var t=n[0],r=n[1],i=n[2],a=n[3],o=n[4],s=n[5],l=n[6],c=n[7],u=n[8],h=n[9],d=n[10],f=n[11],p=n[12],g=n[13],m=n[14],v=n[15],_=t*s-r*o,y=t*l-i*o,b=t*c-a*o,w=r*l-i*s,C=r*c-a*s,S=i*c-a*l,x=u*g-h*p,M=u*m-d*p,E=u*v-f*p,T=h*m-d*g,A=h*v-f*g,N=d*v-f*m,R=_*N-y*A+b*T+w*E-C*M+S*x;return R?(e[0]=(s*N-l*A+c*T)*(R=1/R),e[1]=(i*A-r*N-a*T)*R,e[2]=(g*S-m*C+v*w)*R,e[3]=(d*C-h*S-f*w)*R,e[4]=(l*E-o*N-c*M)*R,e[5]=(t*N-i*E+a*M)*R,e[6]=(m*b-p*S-v*y)*R,e[7]=(u*S-d*b+f*y)*R,e[8]=(o*A-s*E+c*x)*R,e[9]=(r*E-t*A-a*x)*R,e[10]=(p*C-g*b+v*_)*R,e[11]=(h*b-u*C-f*_)*R,e[12]=(s*M-o*T-l*x)*R,e[13]=(t*T-r*M+i*x)*R,e[14]=(g*y-p*w-m*_)*R,e[15]=(u*w-h*y+d*_)*R,e):null},adjoint:function(e,n){var t=n[0],r=n[1],i=n[2],a=n[3],o=n[4],s=n[5],l=n[6],c=n[7],u=n[8],h=n[9],d=n[10],f=n[11],p=n[12],g=n[13],m=n[14],v=n[15];return e[0]=s*(d*v-f*m)-h*(l*v-c*m)+g*(l*f-c*d),e[1]=-(r*(d*v-f*m)-h*(i*v-a*m)+g*(i*f-a*d)),e[2]=r*(l*v-c*m)-s*(i*v-a*m)+g*(i*c-a*l),e[3]=-(r*(l*f-c*d)-s*(i*f-a*d)+h*(i*c-a*l)),e[4]=-(o*(d*v-f*m)-u*(l*v-c*m)+p*(l*f-c*d)),e[5]=t*(d*v-f*m)-u*(i*v-a*m)+p*(i*f-a*d),e[6]=-(t*(l*v-c*m)-o*(i*v-a*m)+p*(i*c-a*l)),e[7]=t*(l*f-c*d)-o*(i*f-a*d)+u*(i*c-a*l),e[8]=o*(h*v-f*g)-u*(s*v-c*g)+p*(s*f-c*h),e[9]=-(t*(h*v-f*g)-u*(r*v-a*g)+p*(r*f-a*h)),e[10]=t*(s*v-c*g)-o*(r*v-a*g)+p*(r*c-a*s),e[11]=-(t*(s*f-c*h)-o*(r*f-a*h)+u*(r*c-a*s)),e[12]=-(o*(h*m-d*g)-u*(s*m-l*g)+p*(s*d-l*h)),e[13]=t*(h*m-d*g)-u*(r*m-i*g)+p*(r*d-i*h),e[14]=-(t*(s*m-l*g)-o*(r*m-i*g)+p*(r*l-i*s)),e[15]=t*(s*d-l*h)-o*(r*d-i*h)+u*(r*l-i*s),e},determinant:function(e){var n=e[0],t=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],l=e[7],c=e[8],u=e[9],h=e[10],d=e[11],f=e[12],p=e[13],g=e[14],m=e[15];return(n*o-t*a)*(h*m-d*g)-(n*s-r*a)*(u*m-d*p)+(n*l-i*a)*(u*g-h*p)+(t*s-r*o)*(c*m-d*f)-(t*l-i*o)*(c*g-h*f)+(r*l-i*s)*(c*p-u*f)},multiply:function(e,n,t){var r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],l=n[5],c=n[6],u=n[7],h=n[8],d=n[9],f=n[10],p=n[11],g=n[12],m=n[13],v=n[14],_=n[15],y=t[0],b=t[1],w=t[2],C=t[3];return e[0]=y*r+b*s+w*h+C*g,e[1]=y*i+b*l+w*d+C*m,e[2]=y*a+b*c+w*f+C*v,e[3]=y*o+b*u+w*p+C*_,e[4]=(y=t[4])*r+(b=t[5])*s+(w=t[6])*h+(C=t[7])*g,e[5]=y*i+b*l+w*d+C*m,e[6]=y*a+b*c+w*f+C*v,e[7]=y*o+b*u+w*p+C*_,e[8]=(y=t[8])*r+(b=t[9])*s+(w=t[10])*h+(C=t[11])*g,e[9]=y*i+b*l+w*d+C*m,e[10]=y*a+b*c+w*f+C*v,e[11]=y*o+b*u+w*p+C*_,e[12]=(y=t[12])*r+(b=t[13])*s+(w=t[14])*h+(C=t[15])*g,e[13]=y*i+b*l+w*d+C*m,e[14]=y*a+b*c+w*f+C*v,e[15]=y*o+b*u+w*p+C*_,e},multiplyAffine:function(e,n,t){var r=n[0],i=n[1],a=n[2],o=n[4],s=n[5],l=n[6],c=n[8],u=n[9],h=n[10],d=n[12],f=n[13],p=n[14],g=t[0],m=t[1],v=t[2];return e[0]=g*r+m*o+v*c,e[1]=g*i+m*s+v*u,e[2]=g*a+m*l+v*h,e[4]=(g=t[4])*r+(m=t[5])*o+(v=t[6])*c,e[5]=g*i+m*s+v*u,e[6]=g*a+m*l+v*h,e[8]=(g=t[8])*r+(m=t[9])*o+(v=t[10])*c,e[9]=g*i+m*s+v*u,e[10]=g*a+m*l+v*h,e[12]=(g=t[12])*r+(m=t[13])*o+(v=t[14])*c+d,e[13]=g*i+m*s+v*u+f,e[14]=g*a+m*l+v*h+p,e}};In.mul=In.multiply,In.mulAffine=In.multiplyAffine,In.translate=function(e,n,t){var o,s,l,c,u,h,d,f,p,g,m,v,r=t[0],i=t[1],a=t[2];return n===e?(e[12]=n[0]*r+n[4]*i+n[8]*a+n[12],e[13]=n[1]*r+n[5]*i+n[9]*a+n[13],e[14]=n[2]*r+n[6]*i+n[10]*a+n[14],e[15]=n[3]*r+n[7]*i+n[11]*a+n[15]):(s=n[1],l=n[2],c=n[3],u=n[4],h=n[5],d=n[6],f=n[7],p=n[8],g=n[9],m=n[10],v=n[11],e[0]=o=n[0],e[1]=s,e[2]=l,e[3]=c,e[4]=u,e[5]=h,e[6]=d,e[7]=f,e[8]=p,e[9]=g,e[10]=m,e[11]=v,e[12]=o*r+u*i+p*a+n[12],e[13]=s*r+h*i+g*a+n[13],e[14]=l*r+d*i+m*a+n[14],e[15]=c*r+f*i+v*a+n[15]),e},In.scale=function(e,n,t){var r=t[0],i=t[1],a=t[2];return e[0]=n[0]*r,e[1]=n[1]*r,e[2]=n[2]*r,e[3]=n[3]*r,e[4]=n[4]*i,e[5]=n[5]*i,e[6]=n[6]*i,e[7]=n[7]*i,e[8]=n[8]*a,e[9]=n[9]*a,e[10]=n[10]*a,e[11]=n[11]*a,e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],e},In.rotate=function(e,n,t,r){var l,c,u,h,d,f,p,g,m,v,_,y,b,w,C,S,x,M,E,T,A,N,R,z,i=r[0],a=r[1],o=r[2],s=Math.sqrt(i*i+a*a+o*o);return Math.abs(s)<SC?null:(i*=s=1/s,a*=s,o*=s,l=Math.sin(t),c=Math.cos(t),d=n[1],f=n[2],p=n[3],m=n[5],v=n[6],_=n[7],b=n[9],w=n[10],C=n[11],E=i*a*(u=1-c)-o*l,T=a*a*u+c,A=o*a*u+i*l,N=i*o*u+a*l,R=a*o*u-i*l,z=o*o*u+c,e[0]=(h=n[0])*(S=i*i*u+c)+(g=n[4])*(x=a*i*u+o*l)+(y=n[8])*(M=o*i*u-a*l),e[1]=d*S+m*x+b*M,e[2]=f*S+v*x+w*M,e[3]=p*S+_*x+C*M,e[4]=h*E+g*T+y*A,e[5]=d*E+m*T+b*A,e[6]=f*E+v*T+w*A,e[7]=p*E+_*T+C*A,e[8]=h*N+g*R+y*z,e[9]=d*N+m*R+b*z,e[10]=f*N+v*R+w*z,e[11]=p*N+_*R+C*z,n!==e&&(e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15]),e)},In.rotateX=function(e,n,t){var r=Math.sin(t),i=Math.cos(t),a=n[4],o=n[5],s=n[6],l=n[7],c=n[8],u=n[9],h=n[10],d=n[11];return n!==e&&(e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15]),e[4]=a*i+c*r,e[5]=o*i+u*r,e[6]=s*i+h*r,e[7]=l*i+d*r,e[8]=c*i-a*r,e[9]=u*i-o*r,e[10]=h*i-s*r,e[11]=d*i-l*r,e},In.rotateY=function(e,n,t){var r=Math.sin(t),i=Math.cos(t),a=n[0],o=n[1],s=n[2],l=n[3],c=n[8],u=n[9],h=n[10],d=n[11];return n!==e&&(e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15]),e[0]=a*i-c*r,e[1]=o*i-u*r,e[2]=s*i-h*r,e[3]=l*i-d*r,e[8]=a*r+c*i,e[9]=o*r+u*i,e[10]=s*r+h*i,e[11]=l*r+d*i,e},In.rotateZ=function(e,n,t){var r=Math.sin(t),i=Math.cos(t),a=n[0],o=n[1],s=n[2],l=n[3],c=n[4],u=n[5],h=n[6],d=n[7];return n!==e&&(e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15]),e[0]=a*i+c*r,e[1]=o*i+u*r,e[2]=s*i+h*r,e[3]=l*i+d*r,e[4]=c*i-a*r,e[5]=u*i-o*r,e[6]=h*i-s*r,e[7]=d*i-l*r,e},In.fromRotationTranslation=function(e,n,t){var r=n[0],i=n[1],a=n[2],o=n[3],s=r+r,l=i+i,c=a+a,u=r*s,h=r*l,d=r*c,f=i*l,p=i*c,g=a*c,m=o*s,v=o*l,_=o*c;return e[0]=1-(f+g),e[1]=h+_,e[2]=d-v,e[3]=0,e[4]=h-_,e[5]=1-(u+g),e[6]=p+m,e[7]=0,e[8]=d+v,e[9]=p-m,e[10]=1-(u+f),e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e},In.fromQuat=function(e,n){var t=n[0],r=n[1],i=n[2],a=n[3],o=t+t,s=r+r,l=i+i,c=t*o,u=r*o,h=r*s,d=i*o,f=i*s,p=i*l,g=a*o,m=a*s,v=a*l;return e[0]=1-h-p,e[1]=u+v,e[2]=d-m,e[3]=0,e[4]=u-v,e[5]=1-c-p,e[6]=f+g,e[7]=0,e[8]=d+m,e[9]=f-g,e[10]=1-c-h,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},In.frustum=function(e,n,t,r,i,a,o){var s=1/(t-n),l=1/(i-r),c=1/(a-o);return e[0]=2*a*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*a*l,e[6]=0,e[7]=0,e[8]=(t+n)*s,e[9]=(i+r)*l,e[10]=(o+a)*c,e[11]=-1,e[12]=0,e[13]=0,e[14]=o*a*2*c,e[15]=0,e},In.perspective=function(e,n,t,r,i){var a=1/Math.tan(n/2),o=1/(r-i);return e[0]=a/t,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(i+r)*o,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*i*r*o,e[15]=0,e},In.ortho=function(e,n,t,r,i,a,o){var s=1/(n-t),l=1/(r-i),c=1/(a-o);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(n+t)*s,e[13]=(i+r)*l,e[14]=(o+a)*c,e[15]=1,e},In.lookAt=function(e,n,t,r){var i,a,o,s,l,c,u,h,d,f,p=n[0],g=n[1],m=n[2],v=r[0],_=r[1],y=r[2],b=t[0],w=t[1],C=t[2];return Math.abs(p-b)<SC&&Math.abs(g-w)<SC&&Math.abs(m-C)<SC?In.identity(e):(u=p-b,h=g-w,d=m-C,i=_*(d*=f=1/Math.sqrt(u*u+h*h+d*d))-y*(h*=f),a=y*(u*=f)-v*d,o=v*h-_*u,(f=Math.sqrt(i*i+a*a+o*o))?(i*=f=1/f,a*=f,o*=f):(i=0,a=0,o=0),s=h*o-d*a,l=d*i-u*o,c=u*a-h*i,(f=Math.sqrt(s*s+l*l+c*c))?(s*=f=1/f,l*=f,c*=f):(s=0,l=0,c=0),e[0]=i,e[1]=s,e[2]=u,e[3]=0,e[4]=a,e[5]=l,e[6]=h,e[7]=0,e[8]=o,e[9]=c,e[10]=d,e[11]=0,e[12]=-(i*p+a*g+o*m),e[13]=-(s*p+l*g+c*m),e[14]=-(u*p+h*g+d*m),e[15]=1,e)},In.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+Math.pow(e[6],2)+Math.pow(e[7],2)+Math.pow(e[8],2)+Math.pow(e[9],2)+Math.pow(e[10],2)+Math.pow(e[11],2)+Math.pow(e[12],2)+Math.pow(e[13],2)+Math.pow(e[14],2)+Math.pow(e[15],2))};const ce=In;var je={create:function(){var e=new vi(3);return e[0]=0,e[1]=0,e[2]=0,e},clone:function(e){var n=new vi(3);return n[0]=e[0],n[1]=e[1],n[2]=e[2],n},fromValues:function(e,n,t){var r=new vi(3);return r[0]=e,r[1]=n,r[2]=t,r},copy:function(e,n){return e[0]=n[0],e[1]=n[1],e[2]=n[2],e},set:function(e,n,t,r){return e[0]=n,e[1]=t,e[2]=r,e},add:function(e,n,t){return e[0]=n[0]+t[0],e[1]=n[1]+t[1],e[2]=n[2]+t[2],e},subtract:function(e,n,t){return e[0]=n[0]-t[0],e[1]=n[1]-t[1],e[2]=n[2]-t[2],e}};je.sub=je.subtract,je.multiply=function(e,n,t){return e[0]=n[0]*t[0],e[1]=n[1]*t[1],e[2]=n[2]*t[2],e},je.mul=je.multiply,je.divide=function(e,n,t){return e[0]=n[0]/t[0],e[1]=n[1]/t[1],e[2]=n[2]/t[2],e},je.div=je.divide,je.min=function(e,n,t){return e[0]=Math.min(n[0],t[0]),e[1]=Math.min(n[1],t[1]),e[2]=Math.min(n[2],t[2]),e},je.max=function(e,n,t){return e[0]=Math.max(n[0],t[0]),e[1]=Math.max(n[1],t[1]),e[2]=Math.max(n[2],t[2]),e},je.scale=function(e,n,t){return e[0]=n[0]*t,e[1]=n[1]*t,e[2]=n[2]*t,e},je.scaleAndAdd=function(e,n,t,r){return e[0]=n[0]+t[0]*r,e[1]=n[1]+t[1]*r,e[2]=n[2]+t[2]*r,e},je.distance=function(e,n){var t=n[0]-e[0],r=n[1]-e[1],i=n[2]-e[2];return Math.sqrt(t*t+r*r+i*i)},je.dist=je.distance,je.squaredDistance=function(e,n){var t=n[0]-e[0],r=n[1]-e[1],i=n[2]-e[2];return t*t+r*r+i*i},je.sqrDist=je.squaredDistance,je.length=function(e){var n=e[0],t=e[1],r=e[2];return Math.sqrt(n*n+t*t+r*r)},je.len=je.length,je.squaredLength=function(e){var n=e[0],t=e[1],r=e[2];return n*n+t*t+r*r},je.sqrLen=je.squaredLength,je.negate=function(e,n){return e[0]=-n[0],e[1]=-n[1],e[2]=-n[2],e},je.inverse=function(e,n){return e[0]=1/n[0],e[1]=1/n[1],e[2]=1/n[2],e},je.normalize=function(e,n){var t=n[0],r=n[1],i=n[2],a=t*t+r*r+i*i;return a>0&&(a=1/Math.sqrt(a),e[0]=n[0]*a,e[1]=n[1]*a,e[2]=n[2]*a),e},je.dot=function(e,n){return e[0]*n[0]+e[1]*n[1]+e[2]*n[2]},je.cross=function(e,n,t){var r=n[0],i=n[1],a=n[2],o=t[0],s=t[1],l=t[2];return e[0]=i*l-a*s,e[1]=a*o-r*l,e[2]=r*s-i*o,e},je.lerp=function(e,n,t,r){var i=n[0],a=n[1],o=n[2];return e[0]=i+r*(t[0]-i),e[1]=a+r*(t[1]-a),e[2]=o+r*(t[2]-o),e},je.random=function(e,n){n=n||1;var t=2*fp()*Math.PI,r=2*fp()-1,i=Math.sqrt(1-r*r)*n;return e[0]=Math.cos(t)*i,e[1]=Math.sin(t)*i,e[2]=r*n,e},je.transformMat4=function(e,n,t){var r=n[0],i=n[1],a=n[2],o=t[3]*r+t[7]*i+t[11]*a+t[15];return e[0]=(t[0]*r+t[4]*i+t[8]*a+t[12])/(o=o||1),e[1]=(t[1]*r+t[5]*i+t[9]*a+t[13])/o,e[2]=(t[2]*r+t[6]*i+t[10]*a+t[14])/o,e},je.transformMat3=function(e,n,t){var r=n[0],i=n[1],a=n[2];return e[0]=r*t[0]+i*t[3]+a*t[6],e[1]=r*t[1]+i*t[4]+a*t[7],e[2]=r*t[2]+i*t[5]+a*t[8],e},je.transformQuat=function(e,n,t){var r=n[0],i=n[1],a=n[2],o=t[0],s=t[1],l=t[2],c=t[3],u=c*r+s*a-l*i,h=c*i+l*r-o*a,d=c*a+o*i-s*r,f=-o*r-s*i-l*a;return e[0]=u*c+f*-o+h*-l-d*-s,e[1]=h*c+f*-s+d*-o-u*-l,e[2]=d*c+f*-l+u*-s-h*-o,e},je.rotateX=function(e,n,t,r){var i=[],a=[];return i[0]=n[0]-t[0],i[1]=n[1]-t[1],i[2]=n[2]-t[2],a[0]=i[0],a[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),a[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),e[0]=a[0]+t[0],e[1]=a[1]+t[1],e[2]=a[2]+t[2],e},je.rotateY=function(e,n,t,r){var i=[],a=[];return i[0]=n[0]-t[0],i[1]=n[1]-t[1],i[2]=n[2]-t[2],a[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),a[1]=i[1],a[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),e[0]=a[0]+t[0],e[1]=a[1]+t[1],e[2]=a[2]+t[2],e},je.rotateZ=function(e,n,t,r){var i=[],a=[];return i[0]=n[0]-t[0],i[1]=n[1]-t[1],i[2]=n[2]-t[2],a[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),a[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),a[2]=i[2],e[0]=a[0]+t[0],e[1]=a[1]+t[1],e[2]=a[2]+t[2],e},je.forEach=function(){var e=je.create();return function(n,t,r,i,a,o){var s,l;for(t||(t=3),r||(r=0),l=i?Math.min(i*t+r,n.length):n.length,s=r;s<l;s+=t)e[0]=n[s],e[1]=n[s+1],e[2]=n[s+2],a(e,e,o),n[s]=e[0],n[s+1]=e[1],n[s+2]=e[2];return n}}(),je.angle=function(e,n){var t=je.fromValues(e[0],e[1],e[2]),r=je.fromValues(n[0],n[1],n[2]);je.normalize(t,t),je.normalize(r,r);var i=je.dot(t,r);return i>1?0:Math.acos(i)};const U=je;ve.import(kq);var Xn=ce.create,Fq={};function zq(e){return e.material}function UOe(e,n,t){return n.uniforms[t].value}function GOe(e,n,t,r){return t!==r}function WOe(e){return!0}function Bq(){}var Vq={float:5126,byte:5120,ubyte:5121,short:5122,ushort:5123};function jOe(e,n,t){this.availableAttributes=e,this.availableAttributeSymbols=n,this.indicesBuffer=t,this.vao=null}function $Oe(e){var n,t;this.bind=function(r){n||((n=Lr.createCanvas()).width=n.height=1,n.getContext("2d"));var i=r.gl,a=!t;a&&(t=i.createTexture()),i.bindTexture(i.TEXTURE_2D,t),a&&i.texImage2D(i.TEXTURE_2D,0,i.RGBA,i.RGBA,i.UNSIGNED_BYTE,n)},this.unbind=function(r){r.gl.bindTexture(r.gl.TEXTURE_2D,null)},this.isRenderable=function(){return!0}}var kc=ca.extend(function(){return{canvas:null,_width:100,_height:100,devicePixelRatio:typeof window<"u"&&window.devicePixelRatio||1,clearColor:[0,0,0,0],clearBit:17664,alpha:!0,depth:!0,stencil:!1,antialias:!0,premultipliedAlpha:!0,preserveDrawingBuffer:!1,throwError:!0,gl:null,viewport:{},maxJointNumber:20,__currentFrameBuffer:null,_viewportStack:[],_clearStack:[],_sceneRendering:null}},function(){this.canvas||(this.canvas=Lr.createCanvas());var e=this.canvas;try{var n={alpha:this.alpha,depth:this.depth,stencil:this.stencil,antialias:this.antialias,premultipliedAlpha:this.premultipliedAlpha,preserveDrawingBuffer:this.preserveDrawingBuffer};if(this.gl=e.getContext("webgl",n)||e.getContext("experimental-webgl",n),!this.gl)throw new Error;this._glinfo=new bOe(this.gl),this.gl.targetRenderer&&console.error("Already created a renderer"),this.gl.targetRenderer=this,this.resize()}catch(t){throw"Error creating WebGL Context "+t}this._programMgr=new LOe(this),this._placeholderTexture=new $Oe(this)},{resize:function(e,n){var t=this.canvas,r=this.devicePixelRatio;null!=e?(t.style&&(t.style.width=e+"px",t.style.height=n+"px"),t.width=e*r,t.height=n*r,this._width=e,this._height=n):(this._width=t.width/r,this._height=t.height/r),this.setViewport(0,0,this._width,this._height)},getWidth:function(){return this._width},getHeight:function(){return this._height},getViewportAspect:function(){var e=this.viewport;return e.width/e.height},setDevicePixelRatio:function(e){this.devicePixelRatio=e,this.resize(this._width,this._height)},getDevicePixelRatio:function(){return this.devicePixelRatio},getGLExtension:function(e){return this._glinfo.getExtension(e)},getGLParameter:function(e){return this._glinfo.getParameter(e)},setViewport:function(e,n,t,r,i){if("object"==typeof e){var a=e;e=a.x,n=a.y,t=a.width,r=a.height,i=a.devicePixelRatio}this.gl.viewport(e*(i=i||this.devicePixelRatio),n*i,t*i,r*i),this.viewport={x:e,y:n,width:t,height:r,devicePixelRatio:i}},saveViewport:function(){this._viewportStack.push(this.viewport)},restoreViewport:function(){this._viewportStack.length>0&&this.setViewport(this._viewportStack.pop())},saveClear:function(){this._clearStack.push({clearBit:this.clearBit,clearColor:this.clearColor})},restoreClear:function(){if(this._clearStack.length>0){var e=this._clearStack.pop();this.clearColor=e.clearColor,this.clearBit=e.clearBit}},bindSceneRendering:function(e){this._sceneRendering=e},render:function(e,n,t,r){var i=this.gl,a=this.clearColor;if(this.clearBit){i.colorMask(!0,!0,!0,!0),i.depthMask(!0);var o=this.viewport,s=!1,l=o.devicePixelRatio;(o.width!==this._width||o.height!==this._height||l&&l!==this.devicePixelRatio||o.x||o.y)&&(s=!0,i.enable(i.SCISSOR_TEST),i.scissor(o.x*l,o.y*l,o.width*l,o.height*l)),i.clearColor(a[0],a[1],a[2],a[3]),i.clear(this.clearBit),s&&i.disable(i.SCISSOR_TEST)}if(t||e.update(!1),e.updateLights(),n=n||e.getMainCamera()){n.update();var c=e.updateRenderList(n,!0);this._sceneRendering=e;var u=c.opaque,h=c.transparent,d=e.material;e.trigger("beforerender",this,e,n,c),r?(this.renderPreZ(u,e,n),i.depthFunc(i.LEQUAL)):i.depthFunc(i.LESS);for(var f=Xn(),p=U.create(),g=0;g<h.length;g++){var m=h[g];ce.multiplyAffine(f,n.viewMatrix.array,m.worldTransform.array),U.transformMat4(p,m.position.array,f),m.__depth=p[2]}this.renderPass(u,n,{getMaterial:function(v){return d||v.material},sortCompare:this.opaqueSortCompare}),this.renderPass(h,n,{getMaterial:function(v){return d||v.material},sortCompare:this.transparentSortCompare}),e.trigger("afterrender",this,e,n,c),this._sceneRendering=null}else console.error("Can't find camera in the scene.")},getProgram:function(e,n,t){return this._programMgr.getProgram(e,n=n||e.material,t)},validateProgram:function(e){if(e.__error){var n=e.__error;if(Fq[e.__uid__])return;if(Fq[e.__uid__]=!0,this.throwError)throw new Error(n);this.trigger("error",n)}},updatePrograms:function(e,n,t){var r=t&&t.getMaterial||zq;n=n||null;for(var i=0;i<e.length;i++){var a=e[i],o=r.call(this,a);if(i>0){var s=e[i-1];if((a.joints?a.joints.length:0)===(s.joints?s.joints.length:0)&&a.material===s.material&&a.lightGroup===s.lightGroup){a.__program=s.__program;continue}}var u=this._programMgr.getProgram(a,o,n);this.validateProgram(u),a.__program=u}},renderPass:function(e,n,t){this.trigger("beforerenderpass",this,e,n,t),(t=t||{}).getMaterial=t.getMaterial||zq,t.getUniform=t.getUniform||UOe,t.isMaterialChanged=t.isMaterialChanged||GOe,t.beforeRender=t.beforeRender||Bq,t.afterRender=t.afterRender||Bq;var r=t.ifRender||WOe;this.updatePrograms(e,this._sceneRendering,t),t.sortCompare&&e.sort(t.sortCompare);var i=this.viewport,a=i.devicePixelRatio,o=[i.x*a,i.y*a,i.width*a,i.height*a],s=this.devicePixelRatio,l=this.__currentFrameBuffer?[this.__currentFrameBuffer.getTextureWidth(),this.__currentFrameBuffer.getTextureHeight()]:[this._width*s,this._height*s],c=[o[2],o[3]],u=Date.now();n?(ce.copy(qn.VIEW,n.viewMatrix.array),ce.copy(qn.PROJECTION,n.projectionMatrix.array),ce.copy(qn.VIEWINVERSE,n.worldTransform.array)):(ce.identity(qn.VIEW),ce.identity(qn.PROJECTION),ce.identity(qn.VIEWINVERSE)),ce.multiply(qn.VIEWPROJECTION,qn.PROJECTION,qn.VIEW),ce.invert(qn.PROJECTIONINVERSE,qn.PROJECTION),ce.invert(qn.VIEWPROJECTIONINVERSE,qn.VIEWPROJECTION);for(var f,p,g,m,v,_,y,b,w,C,S,x,h=this.gl,d=this._sceneRendering,E=0;E<e.length;E++){var N,T=e[E],A=null!=T.worldTransform;if(r(T)){A&&(N=T.isSkinnedMesh&&T.isSkinnedMesh()?T.offsetMatrix?T.offsetMatrix.array:qn.IDENTITY:T.worldTransform.array);var R=T.geometry,z=t.getMaterial.call(this,T),L=T.__program,V=z.shader,F=R.__uid__+"-"+L.__uid__,j=F!==C;C=F,A&&(ce.copy(qn.WORLD,N),ce.multiply(qn.WORLDVIEWPROJECTION,qn.VIEWPROJECTION,N),ce.multiplyAffine(qn.WORLDVIEW,qn.VIEW,N),(V.matrixSemantics.WORLDINVERSE||V.matrixSemantics.WORLDINVERSETRANSPOSE)&&ce.invert(qn.WORLDINVERSE,N),(V.matrixSemantics.WORLDVIEWINVERSE||V.matrixSemantics.WORLDVIEWINVERSETRANSPOSE)&&ce.invert(qn.WORLDVIEWINVERSE,qn.WORLDVIEW),(V.matrixSemantics.WORLDVIEWPROJECTIONINVERSE||V.matrixSemantics.WORLDVIEWPROJECTIONINVERSETRANSPOSE)&&ce.invert(qn.WORLDVIEWPROJECTIONINVERSE,qn.WORLDVIEWPROJECTION)),T.beforeRender&&T.beforeRender(this),t.beforeRender.call(this,T,z,f);var Y=L!==p;Y?(L.bind(this),L.setUniformOfSemantic(h,"VIEWPORT",o),L.setUniformOfSemantic(h,"WINDOW_SIZE",l),n&&(L.setUniformOfSemantic(h,"NEAR",n.near),L.setUniformOfSemantic(h,"FAR",n.far)),L.setUniformOfSemantic(h,"DEVICEPIXELRATIO",a),L.setUniformOfSemantic(h,"TIME",u),L.setUniformOfSemantic(h,"VIEWPORT_SIZE",c),d&&d.setLightUniforms(L,T.lightGroup,this)):L=p,(Y||t.isMaterialChanged(T,g,z,f))&&(z.depthTest!==m&&(z.depthTest?h.enable(h.DEPTH_TEST):h.disable(h.DEPTH_TEST),m=z.depthTest),z.depthMask!==v&&(h.depthMask(z.depthMask),v=z.depthMask),z.transparent!==w&&(z.transparent?h.enable(h.BLEND):h.disable(h.BLEND),w=z.transparent),z.transparent&&(z.blend?z.blend(h):(h.blendEquationSeparate(h.FUNC_ADD,h.FUNC_ADD),h.blendFuncSeparate(h.SRC_ALPHA,h.ONE_MINUS_SRC_ALPHA,h.ONE,h.ONE_MINUS_SRC_ALPHA))),x=this._bindMaterial(T,z,L,g||null,f||null,p||null,t.getUniform),f=z);var se=V.matrixSemanticKeys;if(A)for(var de=0;de<se.length;de++){var we=se[de],pe=V.matrixSemantics[we],Le=qn[we];pe.isTranspose&&ce.transpose(Le,qn[pe.semanticNoTranspose]),L.setUniform(h,pe.type,pe.symbol,Le)}T.cullFace!==y&&h.cullFace(y=T.cullFace),T.frontFace!==b&&h.frontFace(b=T.frontFace),T.culling!==_&&((_=T.culling)?h.enable(h.CULL_FACE):h.disable(h.CULL_FACE)),this._updateSkeleton(T,L,x),j&&(S=this._bindVAO(null,V,R,L)),this._renderObject(T,S,L),t.afterRender(this,T),T.afterRender&&T.afterRender(this),p=L,g=T}}this.trigger("afterrenderpass",this,e,n,t)},getMaxJointNumber:function(){return this.maxJointNumber},_updateSkeleton:function(e,n,t){var r=this.gl,i=e.skeleton;if(i)if(i.update(),e.joints.length>this.getMaxJointNumber()){var a=i.getSubSkinMatricesTexture(e.__uid__,e.joints);n.useTextureSlot(this,a,t),n.setUniform(r,"1i","skinMatricesTexture",t),n.setUniform(r,"1f","skinMatricesTextureSize",a.width)}else{var o=i.getSubSkinMatrices(e.__uid__,e.joints);n.setUniformOfSemantic(r,"SKIN_MATRIX",o)}},_renderObject:function(e,n,t){var r=this.gl,i=e.geometry,a=e.mode;null==a&&(a=4);var o=null,s=e.isInstancedMesh&&e.isInstancedMesh();if(!s||(o=this.getGLExtension("ANGLE_instanced_arrays"))){var l;if(s&&(l=this._bindInstancedAttributes(e,t,o)),n.indicesBuffer){var h=this.getGLExtension("OES_element_index_uint")&&i.indices instanceof Uint32Array?r.UNSIGNED_INT:r.UNSIGNED_SHORT;s?o.drawElementsInstancedANGLE(a,n.indicesBuffer.count,h,0,e.getInstanceCount()):r.drawElements(a,n.indicesBuffer.count,h,0)}else s?o.drawArraysInstancedANGLE(a,0,i.vertexCount,e.getInstanceCount()):r.drawArrays(a,0,i.vertexCount);if(s)for(var d=0;d<l.length;d++)r.disableVertexAttribArray(l[d])}else console.warn("Device not support ANGLE_instanced_arrays extension")},_bindInstancedAttributes:function(e,n,t){for(var r=this.gl,i=e.getInstancedAttributesBuffers(this),a=[],o=0;o<i.length;o++){var s=i[o],l=n.getAttribLocation(r,s.symbol);if(!(l<0)){var c=Vq[s.type]||r.FLOAT;r.enableVertexAttribArray(l),r.bindBuffer(r.ARRAY_BUFFER,s.buffer),r.vertexAttribPointer(l,s.size,c,!1,0,0),t.vertexAttribDivisorANGLE(l,s.divisor),a.push(l)}}return a},_bindMaterial:function(e,n,t,r,i,a,o){for(var s=this.gl,l=a===t,c=t.currentTextureSlot(),u=n.getEnabledUniforms(),h=n.getTextureUniforms(),d=this._placeholderTexture,f=0;f<h.length;f++){var g=o(e,n,p=h[f]);if("t"===(m=n.uniforms[p].type)&&g)g.__slot=-1;else if("tv"===m)for(var v=0;v<g.length;v++)g[v]&&(g[v].__slot=-1)}for(d.__slot=-1,f=0;f<u.length;f++){var p,m,_=n.uniforms[p=u[f]],y=(g=o(e,n,p),"t"===(m=_.type));if(y&&(!g||!g.isRenderable())&&(g=d),i&&l){var b=o(r,i,p);if(y&&(!b||!b.isRenderable())&&(b=d),b===g){if(y)t.takeCurrentTextureSlot(this,null);else if("tv"===m&&g)for(v=0;v<g.length;v++)t.takeCurrentTextureSlot(this,null);continue}}if(null!=g)if(y)if(g.__slot<0){var w=t.currentTextureSlot();t.setUniform(s,"1i",p,w)&&(t.takeCurrentTextureSlot(this,g),g.__slot=w)}else t.setUniform(s,"1i",p,g.__slot);else if(Array.isArray(g)){if(0===g.length)continue;if("tv"===m){if(!t.hasUniform(p))continue;var S=[];for(v=0;v<g.length;v++){var x=g[v];x.__slot<0?(w=t.currentTextureSlot(),S.push(w),t.takeCurrentTextureSlot(this,x),x.__slot=w):S.push(x.__slot)}t.setUniform(s,"1iv",p,S)}else t.setUniform(s,_.type,p,g)}else t.setUniform(s,_.type,p,g)}var M=t.currentTextureSlot();return t.resetTextureSlot(c),M},_bindVAO:function(e,n,t,r){var i=!t.dynamic,a=this.gl,o=this.__uid__+"-"+r.__uid__,s=t.__vaoCache[o];if(!s){var l=t.getBufferChunks(this);if(!l||!l.length)return;for(var c=l[0],u=c.attributeBuffers,b=c.indicesBuffer,y=[],h=[],d=0;d<u.length;d++){var m,g=(f=u[d]).semantic;if(g){var v=n.attributeSemantics[g];m=v&&v.symbol}else m=f.name;m&&r.attributes[m]&&(y.push(f),h.push(m))}s=new jOe(y,h,b),i&&(t.__vaoCache[o]=s)}var _=!0;if(e&&i&&(null==s.vao?s.vao=e.createVertexArrayOES():_=!1,e.bindVertexArrayOES(s.vao)),y=s.availableAttributes,b=s.indicesBuffer,_){var w=r.enableAttributes(this,s.availableAttributeSymbols,e&&i&&s);for(d=0;d<y.length;d++){var C=w[d];if(-1!==C){var f,x=(f=y[d]).size,M=Vq[f.type]||a.FLOAT;a.bindBuffer(a.ARRAY_BUFFER,f.buffer),a.vertexAttribPointer(C,x,M,!1,0,0)}}t.isUseIndices()&&a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,b.buffer)}return s},renderPreZ:function(e,n,t){var r=this.gl,i=this._prezMaterial||new Fo({shader:new ve(ve.source("clay.prez.vertex"),ve.source("clay.prez.fragment"))});this._prezMaterial=i,r.colorMask(!1,!1,!1,!1),r.depthMask(!0),this.renderPass(e,t,{ifRender:function(a){return!a.ignorePreZ},isMaterialChanged:function(a,o){var s=a.material,l=o.material;return s.get("diffuseMap")!==l.get("diffuseMap")||(s.get("alphaCutoff")||0)!==(l.get("alphaCutoff")||0)},getUniform:function(a,o,s){return"alphaMap"===s?a.material.get("diffuseMap"):"alphaCutoff"===s?a.material.isDefined("fragment","ALPHA_TEST")&&a.material.get("diffuseMap")&&a.material.get("alphaCutoff")||0:"uvRepeat"===s?a.material.get("uvRepeat"):"uvOffset"===s?a.material.get("uvOffset"):o.get(s)},getMaterial:function(){return i},sort:this.opaqueSortCompare}),r.colorMask(!0,!0,!0,!0),r.depthMask(!0)},disposeScene:function(e){this.disposeNode(e,!0,!0),e.dispose()},disposeNode:function(e,n,t){e.getParent()&&e.getParent().remove(e);var r={};e.traverse(function(i){var a=i.material;if(i.geometry&&n&&i.geometry.dispose(this),t&&a&&!r[a.__uid__]){for(var o=a.getTextureUniforms(),s=0;s<o.length;s++){var l=o[s],c=a.uniforms[l].value,u=a.uniforms[l].type;if(c)if("t"===u)c.dispose&&c.dispose(this);else if("tv"===u)for(var h=0;h<c.length;h++)c[h]&&c[h].dispose&&c[h].dispose(this)}r[a.__uid__]=!0}i.dispose&&i.dispose(this)},this)},disposeGeometry:function(e){e.dispose(this)},disposeTexture:function(e){e.dispose(this)},disposeFrameBuffer:function(e){e.dispose(this)},dispose:function(){},screenToNDC:function(e,n,t){t||(t=new oo),n=this._height-n;var r=this.viewport,i=t.array;return i[0]=(e-r.x)/r.width,i[0]=2*i[0]-1,i[1]=(n-r.y)/r.height,i[1]=2*i[1]-1,t}});kc.opaqueSortCompare=kc.prototype.opaqueSortCompare=function(e,n){return e.renderOrder===n.renderOrder?e.__program===n.__program?e.material===n.material?e.geometry.__uid__-n.geometry.__uid__:e.material.__uid__-n.material.__uid__:e.__program&&n.__program?e.__program.__uid__-n.__program.__uid__:0:e.renderOrder-n.renderOrder},kc.transparentSortCompare=kc.prototype.transparentSortCompare=function(e,n){return e.renderOrder===n.renderOrder?e.__depth===n.__depth?e.__program===n.__program?e.material===n.material?e.geometry.__uid__-n.geometry.__uid__:e.material.__uid__-n.material.__uid__:e.__program&&n.__program?e.__program.__uid__-n.__program.__uid__:0:e.__depth-n.__depth:e.renderOrder-n.renderOrder};var qn={IDENTITY:Xn(),WORLD:Xn(),VIEW:Xn(),PROJECTION:Xn(),WORLDVIEW:Xn(),VIEWPROJECTION:Xn(),WORLDVIEWPROJECTION:Xn(),WORLDINVERSE:Xn(),VIEWINVERSE:Xn(),PROJECTIONINVERSE:Xn(),WORLDVIEWINVERSE:Xn(),VIEWPROJECTIONINVERSE:Xn(),WORLDVIEWPROJECTIONINVERSE:Xn(),WORLDTRANSPOSE:Xn(),VIEWTRANSPOSE:Xn(),PROJECTIONTRANSPOSE:Xn(),WORLDVIEWTRANSPOSE:Xn(),VIEWPROJECTIONTRANSPOSE:Xn(),WORLDVIEWPROJECTIONTRANSPOSE:Xn(),WORLDINVERSETRANSPOSE:Xn(),VIEWINVERSETRANSPOSE:Xn(),PROJECTIONINVERSETRANSPOSE:Xn(),WORLDVIEWINVERSETRANSPOSE:Xn(),VIEWPROJECTIONINVERSETRANSPOSE:Xn(),WORLDVIEWPROJECTIONINVERSETRANSPOSE:Xn()};kc.COLOR_BUFFER_BIT=16384,kc.DEPTH_BUFFER_BIT=256,kc.STENCIL_BUFFER_BIT=1024;const Cm=kc;var $e=function(e,n,t){this.array=U.fromValues(e=e||0,n=n||0,t=t||0),this._dirty=!0};$e.prototype={constructor:$e,add:function(e){return U.add(this.array,this.array,e.array),this._dirty=!0,this},set:function(e,n,t){return this.array[0]=e,this.array[1]=n,this.array[2]=t,this._dirty=!0,this},setArray:function(e){return this.array[0]=e[0],this.array[1]=e[1],this.array[2]=e[2],this._dirty=!0,this},clone:function(){return new $e(this.x,this.y,this.z)},copy:function(e){return U.copy(this.array,e.array),this._dirty=!0,this},cross:function(e,n){return U.cross(this.array,e.array,n.array),this._dirty=!0,this},dist:function(e){return U.dist(this.array,e.array)},distance:function(e){return U.distance(this.array,e.array)},div:function(e){return U.div(this.array,this.array,e.array),this._dirty=!0,this},divide:function(e){return U.divide(this.array,this.array,e.array),this._dirty=!0,this},dot:function(e){return U.dot(this.array,e.array)},len:function(){return U.len(this.array)},length:function(){return U.length(this.array)},lerp:function(e,n,t){return U.lerp(this.array,e.array,n.array,t),this._dirty=!0,this},min:function(e){return U.min(this.array,this.array,e.array),this._dirty=!0,this},max:function(e){return U.max(this.array,this.array,e.array),this._dirty=!0,this},mul:function(e){return U.mul(this.array,this.array,e.array),this._dirty=!0,this},multiply:function(e){return U.multiply(this.array,this.array,e.array),this._dirty=!0,this},negate:function(){return U.negate(this.array,this.array),this._dirty=!0,this},normalize:function(){return U.normalize(this.array,this.array),this._dirty=!0,this},random:function(e){return U.random(this.array,e),this._dirty=!0,this},scale:function(e){return U.scale(this.array,this.array,e),this._dirty=!0,this},scaleAndAdd:function(e,n){return U.scaleAndAdd(this.array,this.array,e.array,n),this._dirty=!0,this},sqrDist:function(e){return U.sqrDist(this.array,e.array)},squaredDistance:function(e){return U.squaredDistance(this.array,e.array)},sqrLen:function(){return U.sqrLen(this.array)},squaredLength:function(){return U.squaredLength(this.array)},sub:function(e){return U.sub(this.array,this.array,e.array),this._dirty=!0,this},subtract:function(e){return U.subtract(this.array,this.array,e.array),this._dirty=!0,this},transformMat3:function(e){return U.transformMat3(this.array,this.array,e.array),this._dirty=!0,this},transformMat4:function(e){return U.transformMat4(this.array,this.array,e.array),this._dirty=!0,this},transformQuat:function(e){return U.transformQuat(this.array,this.array,e.array),this._dirty=!0,this},applyProjection:function(e){var n=this.array;if(0===(e=e.array)[15]){var t=-1/n[2];n[0]=e[0]*n[0]*t,n[1]=e[5]*n[1]*t,n[2]=(e[10]*n[2]+e[14])*t}else n[0]=e[0]*n[0]+e[12],n[1]=e[5]*n[1]+e[13],n[2]=e[10]*n[2]+e[14];return this._dirty=!0,this},eulerFromQuat:function(e,n){$e.eulerFromQuat(this,e,n)},eulerFromMat3:function(e,n){$e.eulerFromMat3(this,e,n)},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};var xC=Object.defineProperty;if(xC){var gN=$e.prototype;xC(gN,"x",{get:function(){return this.array[0]},set:function(e){this.array[0]=e,this._dirty=!0}}),xC(gN,"y",{get:function(){return this.array[1]},set:function(e){this.array[1]=e,this._dirty=!0}}),xC(gN,"z",{get:function(){return this.array[2]},set:function(e){this.array[2]=e,this._dirty=!0}})}function zo(e,n,t){return e<n?n:e>t?t:e}$e.add=function(e,n,t){return U.add(e.array,n.array,t.array),e._dirty=!0,e},$e.set=function(e,n,t,r){U.set(e.array,n,t,r),e._dirty=!0},$e.copy=function(e,n){return U.copy(e.array,n.array),e._dirty=!0,e},$e.cross=function(e,n,t){return U.cross(e.array,n.array,t.array),e._dirty=!0,e},$e.distance=$e.dist=function(e,n){return U.distance(e.array,n.array)},$e.divide=$e.div=function(e,n,t){return U.divide(e.array,n.array,t.array),e._dirty=!0,e},$e.dot=function(e,n){return U.dot(e.array,n.array)},$e.len=function(e){return U.length(e.array)},$e.lerp=function(e,n,t,r){return U.lerp(e.array,n.array,t.array,r),e._dirty=!0,e},$e.min=function(e,n,t){return U.min(e.array,n.array,t.array),e._dirty=!0,e},$e.max=function(e,n,t){return U.max(e.array,n.array,t.array),e._dirty=!0,e},$e.multiply=$e.mul=function(e,n,t){return U.multiply(e.array,n.array,t.array),e._dirty=!0,e},$e.negate=function(e,n){return U.negate(e.array,n.array),e._dirty=!0,e},$e.normalize=function(e,n){return U.normalize(e.array,n.array),e._dirty=!0,e},$e.random=function(e,n){return U.random(e.array,n),e._dirty=!0,e},$e.scale=function(e,n,t){return U.scale(e.array,n.array,t),e._dirty=!0,e},$e.scaleAndAdd=function(e,n,t,r){return U.scaleAndAdd(e.array,n.array,t.array,r),e._dirty=!0,e},$e.squaredDistance=$e.sqrDist=function(e,n){return U.sqrDist(e.array,n.array)},$e.squaredLength=$e.sqrLen=function(e){return U.sqrLen(e.array)},$e.subtract=$e.sub=function(e,n,t){return U.subtract(e.array,n.array,t.array),e._dirty=!0,e},$e.transformMat3=function(e,n,t){return U.transformMat3(e.array,n.array,t.array),e._dirty=!0,e},$e.transformMat4=function(e,n,t){return U.transformMat4(e.array,n.array,t.array),e._dirty=!0,e},$e.transformQuat=function(e,n,t){return U.transformQuat(e.array,n.array,t.array),e._dirty=!0,e};var Mn=Math.atan2,Bo=Math.asin,gp=Math.abs;$e.eulerFromQuat=function(e,n,d){e._dirty=!0;var r=e.array,i=(n=n.array)[0],a=n[1],o=n[2],s=n[3],l=i*i,c=a*a,u=o*o,h=s*s;switch(d=(d||"XYZ").toUpperCase()){case"XYZ":r[0]=Mn(2*(i*s-a*o),h-l-c+u),r[1]=Bo(zo(2*(i*o+a*s),-1,1)),r[2]=Mn(2*(o*s-i*a),h+l-c-u);break;case"YXZ":r[0]=Bo(zo(2*(i*s-a*o),-1,1)),r[1]=Mn(2*(i*o+a*s),h-l-c+u),r[2]=Mn(2*(i*a+o*s),h-l+c-u);break;case"ZXY":r[0]=Bo(zo(2*(i*s+a*o),-1,1)),r[1]=Mn(2*(a*s-o*i),h-l-c+u),r[2]=Mn(2*(o*s-i*a),h-l+c-u);break;case"ZYX":r[0]=Mn(2*(i*s+o*a),h-l-c+u),r[1]=Bo(zo(2*(a*s-i*o),-1,1)),r[2]=Mn(2*(i*a+o*s),h+l-c-u);break;case"YZX":r[0]=Mn(2*(i*s-o*a),h-l+c-u),r[1]=Mn(2*(a*s-i*o),h+l-c-u),r[2]=Bo(zo(2*(i*a+o*s),-1,1));break;case"XZY":r[0]=Mn(2*(i*s+a*o),h-l+c-u),r[1]=Mn(2*(i*o+a*s),h+l-c-u),r[2]=Bo(zo(2*(o*s-i*a),-1,1));break;default:console.warn("Unkown order: "+d)}return e},$e.eulerFromMat3=function(e,n,p){var r=n.array,i=r[0],a=r[3],o=r[6],s=r[1],l=r[4],c=r[7],u=r[2],h=r[5],d=r[8],f=e.array;switch(p=(p||"XYZ").toUpperCase()){case"XYZ":f[1]=Bo(zo(o,-1,1)),gp(o)<.99999?(f[0]=Mn(-c,d),f[2]=Mn(-a,i)):(f[0]=Mn(h,l),f[2]=0);break;case"YXZ":f[0]=Bo(-zo(c,-1,1)),gp(c)<.99999?(f[1]=Mn(o,d),f[2]=Mn(s,l)):(f[1]=Mn(-u,i),f[2]=0);break;case"ZXY":f[0]=Bo(zo(h,-1,1)),gp(h)<.99999?(f[1]=Mn(-u,d),f[2]=Mn(-a,l)):(f[1]=0,f[2]=Mn(s,i));break;case"ZYX":f[1]=Bo(-zo(u,-1,1)),gp(u)<.99999?(f[0]=Mn(h,d),f[2]=Mn(s,i)):(f[0]=0,f[2]=Mn(-a,l));break;case"YZX":f[2]=Bo(zo(s,-1,1)),gp(s)<.99999?(f[0]=Mn(-c,l),f[1]=Mn(-u,i)):(f[0]=0,f[1]=Mn(o,d));break;case"XZY":f[2]=Bo(-zo(a,-1,1)),gp(a)<.99999?(f[0]=Mn(h,l),f[1]=Mn(o,i)):(f[0]=Mn(-c,d),f[1]=0);break;default:console.warn("Unkown order: "+p)}return e._dirty=!0,e},Object.defineProperties($e,{POSITIVE_X:{get:function(){return new $e(1,0,0)}},NEGATIVE_X:{get:function(){return new $e(-1,0,0)}},POSITIVE_Y:{get:function(){return new $e(0,1,0)}},NEGATIVE_Y:{get:function(){return new $e(0,-1,0)}},POSITIVE_Z:{get:function(){return new $e(0,0,1)}},NEGATIVE_Z:{get:function(){return new $e(0,0,-1)}},UP:{get:function(){return new $e(0,1,0)}},ZERO:{get:function(){return new $e}}});const fe=$e;var mN=1e-5,MC=function(e,n){this.origin=e||new fe,this.direction=n||new fe};MC.prototype={constructor:MC,intersectPlane:function(e,n){var t=e.normal.array,r=e.distance,i=this.origin.array,a=this.direction.array,o=U.dot(t,a);if(0===o)return null;n||(n=new fe);var s=(U.dot(t,i)-r)/o;return U.scaleAndAdd(n.array,i,a,-s),n._dirty=!0,n},mirrorAgainstPlane:function(e){var n=U.dot(e.normal.array,this.direction.array);U.scaleAndAdd(this.direction.array,this.direction.array,e.normal.array,2*-n),this.direction._dirty=!0},distanceToPoint:function(){var e=U.create();return function(n){U.sub(e,n,this.origin.array);var t=U.dot(e,this.direction.array);if(t<0)return U.distance(this.origin.array,n);var r=U.lenSquared(e);return Math.sqrt(r-t*t)}}(),intersectSphere:function(){var e=U.create();return function(n,t,r){var i=this.origin.array,a=this.direction.array;U.sub(e,n=n.array,i);var o=U.dot(e,a),l=U.squaredLength(e)-o*o,c=t*t;if(!(l>c)){var u=Math.sqrt(c-l),h=o-u,d=o+u;return r||(r=new fe),h<0?d<0?null:(U.scaleAndAdd(r.array,i,a,d),r):(U.scaleAndAdd(r.array,i,a,h),r)}}}(),intersectBoundingBox:function(e,n){var c,u,h,d,f,p,t=this.direction.array,r=this.origin.array,i=e.min.array,a=e.max.array,o=1/t[0],s=1/t[1],l=1/t[2];if(o>=0?(c=(i[0]-r[0])*o,u=(a[0]-r[0])*o):(u=(i[0]-r[0])*o,c=(a[0]-r[0])*o),s>=0?(h=(i[1]-r[1])*s,d=(a[1]-r[1])*s):(d=(i[1]-r[1])*s,h=(a[1]-r[1])*s),c>d||h>u||((h>c||c!=c)&&(c=h),(d<u||u!=u)&&(u=d),l>=0?(f=(i[2]-r[2])*l,p=(a[2]-r[2])*l):(p=(i[2]-r[2])*l,f=(a[2]-r[2])*l),c>p||f>u)||((f>c||c!=c)&&(c=f),(p<u||u!=u)&&(u=p),u<0))return null;var g=c>=0?c:u;return n||(n=new fe),U.scaleAndAdd(n.array,r,t,g),n},intersectTriangle:function(){var e=U.create(),n=U.create(),t=U.create(),r=U.create();return function(i,a,o,s,l,c){var u=this.direction.array,h=this.origin.array;o=o.array,U.sub(e,a=a.array,i=i.array),U.sub(n,o,i),U.cross(r,n,u);var d=U.dot(e,r);if(s){if(d>-mN)return null}else if(d>-mN&&d<mN)return null;U.sub(t,h,i);var f=U.dot(r,t)/d;if(f<0||f>1)return null;U.cross(r,e,t);var p=U.dot(u,r)/d;if(p<0||p>1||f+p>1)return null;U.cross(r,e,n);var g=-U.dot(t,r)/d;return g<0?null:(l||(l=new fe),c&&fe.set(c,1-f-p,f,p),U.scaleAndAdd(l.array,h,u,g),l)}}(),applyTransform:function(e){fe.add(this.direction,this.direction,this.origin),fe.transformMat4(this.origin,this.origin,e),fe.transformMat4(this.direction,this.direction,e),fe.sub(this.direction,this.direction,this.origin),fe.normalize(this.direction,this.direction)},copy:function(e){fe.copy(this.origin,e.origin),fe.copy(this.direction,e.direction)},clone:function(){var e=new MC;return e.copy(this),e}};const TC=MC;var _t={create:function(){var e=new vi(4);return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e},clone:function(e){var n=new vi(4);return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n},fromValues:function(e,n,t,r){var i=new vi(4);return i[0]=e,i[1]=n,i[2]=t,i[3]=r,i},copy:function(e,n){return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e},set:function(e,n,t,r,i){return e[0]=n,e[1]=t,e[2]=r,e[3]=i,e},add:function(e,n,t){return e[0]=n[0]+t[0],e[1]=n[1]+t[1],e[2]=n[2]+t[2],e[3]=n[3]+t[3],e},subtract:function(e,n,t){return e[0]=n[0]-t[0],e[1]=n[1]-t[1],e[2]=n[2]-t[2],e[3]=n[3]-t[3],e}};_t.sub=_t.subtract,_t.multiply=function(e,n,t){return e[0]=n[0]*t[0],e[1]=n[1]*t[1],e[2]=n[2]*t[2],e[3]=n[3]*t[3],e},_t.mul=_t.multiply,_t.divide=function(e,n,t){return e[0]=n[0]/t[0],e[1]=n[1]/t[1],e[2]=n[2]/t[2],e[3]=n[3]/t[3],e},_t.div=_t.divide,_t.min=function(e,n,t){return e[0]=Math.min(n[0],t[0]),e[1]=Math.min(n[1],t[1]),e[2]=Math.min(n[2],t[2]),e[3]=Math.min(n[3],t[3]),e},_t.max=function(e,n,t){return e[0]=Math.max(n[0],t[0]),e[1]=Math.max(n[1],t[1]),e[2]=Math.max(n[2],t[2]),e[3]=Math.max(n[3],t[3]),e},_t.scale=function(e,n,t){return e[0]=n[0]*t,e[1]=n[1]*t,e[2]=n[2]*t,e[3]=n[3]*t,e},_t.scaleAndAdd=function(e,n,t,r){return e[0]=n[0]+t[0]*r,e[1]=n[1]+t[1]*r,e[2]=n[2]+t[2]*r,e[3]=n[3]+t[3]*r,e},_t.distance=function(e,n){var t=n[0]-e[0],r=n[1]-e[1],i=n[2]-e[2],a=n[3]-e[3];return Math.sqrt(t*t+r*r+i*i+a*a)},_t.dist=_t.distance,_t.squaredDistance=function(e,n){var t=n[0]-e[0],r=n[1]-e[1],i=n[2]-e[2],a=n[3]-e[3];return t*t+r*r+i*i+a*a},_t.sqrDist=_t.squaredDistance,_t.length=function(e){var n=e[0],t=e[1],r=e[2],i=e[3];return Math.sqrt(n*n+t*t+r*r+i*i)},_t.len=_t.length,_t.squaredLength=function(e){var n=e[0],t=e[1],r=e[2],i=e[3];return n*n+t*t+r*r+i*i},_t.sqrLen=_t.squaredLength,_t.negate=function(e,n){return e[0]=-n[0],e[1]=-n[1],e[2]=-n[2],e[3]=-n[3],e},_t.inverse=function(e,n){return e[0]=1/n[0],e[1]=1/n[1],e[2]=1/n[2],e[3]=1/n[3],e},_t.normalize=function(e,n){var t=n[0],r=n[1],i=n[2],a=n[3],o=t*t+r*r+i*i+a*a;return o>0&&(o=1/Math.sqrt(o),e[0]=n[0]*o,e[1]=n[1]*o,e[2]=n[2]*o,e[3]=n[3]*o),e},_t.dot=function(e,n){return e[0]*n[0]+e[1]*n[1]+e[2]*n[2]+e[3]*n[3]},_t.lerp=function(e,n,t,r){var i=n[0],a=n[1],o=n[2],s=n[3];return e[0]=i+r*(t[0]-i),e[1]=a+r*(t[1]-a),e[2]=o+r*(t[2]-o),e[3]=s+r*(t[3]-s),e},_t.random=function(e,n){return n=n||1,e[0]=fp(),e[1]=fp(),e[2]=fp(),e[3]=fp(),_t.normalize(e,e),_t.scale(e,e,n),e},_t.transformMat4=function(e,n,t){var r=n[0],i=n[1],a=n[2],o=n[3];return e[0]=t[0]*r+t[4]*i+t[8]*a+t[12]*o,e[1]=t[1]*r+t[5]*i+t[9]*a+t[13]*o,e[2]=t[2]*r+t[6]*i+t[10]*a+t[14]*o,e[3]=t[3]*r+t[7]*i+t[11]*a+t[15]*o,e},_t.transformQuat=function(e,n,t){var r=n[0],i=n[1],a=n[2],o=t[0],s=t[1],l=t[2],c=t[3],u=c*r+s*a-l*i,h=c*i+l*r-o*a,d=c*a+o*i-s*r,f=-o*r-s*i-l*a;return e[0]=u*c+f*-o+h*-l-d*-s,e[1]=h*c+f*-s+d*-o-u*-l,e[2]=d*c+f*-l+u*-s-h*-o,e},_t.forEach=function(){var e=_t.create();return function(n,t,r,i,a,o){var s,l;for(t||(t=4),r||(r=0),l=i?Math.min(i*t+r,n.length):n.length,s=r;s<l;s+=t)e[0]=n[s],e[1]=n[s+1],e[2]=n[s+2],e[3]=n[s+3],a(e,e,o),n[s]=e[0],n[s+1]=e[1],n[s+2]=e[2],n[s+3]=e[3];return n}}();const be=_t;var Xr={create:function(){var e=new vi(9);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},fromMat4:function(e,n){return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[4],e[4]=n[5],e[5]=n[6],e[6]=n[8],e[7]=n[9],e[8]=n[10],e},clone:function(e){var n=new vi(9);return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n[6]=e[6],n[7]=e[7],n[8]=e[8],n},copy:function(e,n){return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e},identity:function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},transpose:function(e,n){if(e===n){var t=n[1],r=n[2],i=n[5];e[1]=n[3],e[2]=n[6],e[3]=t,e[5]=n[7],e[6]=r,e[7]=i}else e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8];return e},invert:function(e,n){var t=n[0],r=n[1],i=n[2],a=n[3],o=n[4],s=n[5],l=n[6],c=n[7],u=n[8],h=u*o-s*c,d=-u*a+s*l,f=c*a-o*l,p=t*h+r*d+i*f;return p?(e[0]=h*(p=1/p),e[1]=(-u*r+i*c)*p,e[2]=(s*r-i*o)*p,e[3]=d*p,e[4]=(u*t-i*l)*p,e[5]=(-s*t+i*a)*p,e[6]=f*p,e[7]=(-c*t+r*l)*p,e[8]=(o*t-r*a)*p,e):null},adjoint:function(e,n){var t=n[0],r=n[1],i=n[2],a=n[3],o=n[4],s=n[5],l=n[6],c=n[7],u=n[8];return e[0]=o*u-s*c,e[1]=i*c-r*u,e[2]=r*s-i*o,e[3]=s*l-a*u,e[4]=t*u-i*l,e[5]=i*a-t*s,e[6]=a*c-o*l,e[7]=r*l-t*c,e[8]=t*o-r*a,e},determinant:function(e){var i=e[3],a=e[4],o=e[5],s=e[6],l=e[7],c=e[8];return e[0]*(c*a-o*l)+e[1]*(-c*i+o*s)+e[2]*(l*i-a*s)},multiply:function(e,n,t){var r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],l=n[5],c=n[6],u=n[7],h=n[8],d=t[0],f=t[1],p=t[2],g=t[3],m=t[4],v=t[5],_=t[6],y=t[7],b=t[8];return e[0]=d*r+f*o+p*c,e[1]=d*i+f*s+p*u,e[2]=d*a+f*l+p*h,e[3]=g*r+m*o+v*c,e[4]=g*i+m*s+v*u,e[5]=g*a+m*l+v*h,e[6]=_*r+y*o+b*c,e[7]=_*i+y*s+b*u,e[8]=_*a+y*l+b*h,e}};Xr.mul=Xr.multiply,Xr.translate=function(e,n,t){var r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],l=n[5],c=n[6],u=n[7],h=n[8],d=t[0],f=t[1];return e[0]=r,e[1]=i,e[2]=a,e[3]=o,e[4]=s,e[5]=l,e[6]=d*r+f*o+c,e[7]=d*i+f*s+u,e[8]=d*a+f*l+h,e},Xr.rotate=function(e,n,t){var r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],l=n[5],c=n[6],u=n[7],h=n[8],d=Math.sin(t),f=Math.cos(t);return e[0]=f*r+d*o,e[1]=f*i+d*s,e[2]=f*a+d*l,e[3]=f*o-d*r,e[4]=f*s-d*i,e[5]=f*l-d*a,e[6]=c,e[7]=u,e[8]=h,e},Xr.scale=function(e,n,t){var r=t[0],i=t[1];return e[0]=r*n[0],e[1]=r*n[1],e[2]=r*n[2],e[3]=i*n[3],e[4]=i*n[4],e[5]=i*n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e},Xr.fromMat2d=function(e,n){return e[0]=n[0],e[1]=n[1],e[2]=0,e[3]=n[2],e[4]=n[3],e[5]=0,e[6]=n[4],e[7]=n[5],e[8]=1,e},Xr.fromQuat=function(e,n){var t=n[0],r=n[1],i=n[2],a=n[3],o=t+t,s=r+r,l=i+i,c=t*o,u=r*o,h=r*s,d=i*o,f=i*s,p=i*l,g=a*o,m=a*s,v=a*l;return e[0]=1-h-p,e[3]=u-v,e[6]=d+m,e[1]=u+v,e[4]=1-c-p,e[7]=f-g,e[2]=d-m,e[5]=f+g,e[8]=1-c-h,e},Xr.normalFromMat4=function(e,n){var t=n[0],r=n[1],i=n[2],a=n[3],o=n[4],s=n[5],l=n[6],c=n[7],u=n[8],h=n[9],d=n[10],f=n[11],p=n[12],g=n[13],m=n[14],v=n[15],_=t*s-r*o,y=t*l-i*o,b=t*c-a*o,w=r*l-i*s,C=r*c-a*s,S=i*c-a*l,x=u*g-h*p,M=u*m-d*p,E=u*v-f*p,T=h*m-d*g,A=h*v-f*g,N=d*v-f*m,R=_*N-y*A+b*T+w*E-C*M+S*x;return R?(e[0]=(s*N-l*A+c*T)*(R=1/R),e[1]=(l*E-o*N-c*M)*R,e[2]=(o*A-s*E+c*x)*R,e[3]=(i*A-r*N-a*T)*R,e[4]=(t*N-i*E+a*M)*R,e[5]=(r*E-t*A-a*x)*R,e[6]=(g*S-m*C+v*w)*R,e[7]=(m*b-p*S-v*y)*R,e[8]=(p*C-g*b+v*_)*R,e):null},Xr.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+Math.pow(e[6],2)+Math.pow(e[7],2)+Math.pow(e[8],2))};const Vt=Xr;var Kt={create:function(){var e=new vi(4);return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e}};Kt.rotationTo=function(){var e=U.create(),n=U.fromValues(1,0,0),t=U.fromValues(0,1,0);return function(r,i,a){var o=U.dot(i,a);return o<-.999999?(U.cross(e,n,i),U.length(e)<1e-6&&U.cross(e,t,i),U.normalize(e,e),Kt.setAxisAngle(r,e,Math.PI),r):o>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(U.cross(e,i,a),r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=1+o,Kt.normalize(r,r))}}(),Kt.setAxes=function(){var e=Vt.create();return function(n,t,r,i){return e[0]=r[0],e[3]=r[1],e[6]=r[2],e[1]=i[0],e[4]=i[1],e[7]=i[2],e[2]=-t[0],e[5]=-t[1],e[8]=-t[2],Kt.normalize(n,Kt.fromMat3(n,e))}}(),Kt.clone=be.clone,Kt.fromValues=be.fromValues,Kt.copy=be.copy,Kt.set=be.set,Kt.identity=function(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e},Kt.setAxisAngle=function(e,n,t){t*=.5;var r=Math.sin(t);return e[0]=r*n[0],e[1]=r*n[1],e[2]=r*n[2],e[3]=Math.cos(t),e},Kt.add=be.add,Kt.multiply=function(e,n,t){var r=n[0],i=n[1],a=n[2],o=n[3],s=t[0],l=t[1],c=t[2],u=t[3];return e[0]=r*u+o*s+i*c-a*l,e[1]=i*u+o*l+a*s-r*c,e[2]=a*u+o*c+r*l-i*s,e[3]=o*u-r*s-i*l-a*c,e},Kt.mul=Kt.multiply,Kt.scale=be.scale,Kt.rotateX=function(e,n,t){t*=.5;var r=n[0],i=n[1],a=n[2],o=n[3],s=Math.sin(t),l=Math.cos(t);return e[0]=r*l+o*s,e[1]=i*l+a*s,e[2]=a*l-i*s,e[3]=o*l-r*s,e},Kt.rotateY=function(e,n,t){t*=.5;var r=n[0],i=n[1],a=n[2],o=n[3],s=Math.sin(t),l=Math.cos(t);return e[0]=r*l-a*s,e[1]=i*l+o*s,e[2]=a*l+r*s,e[3]=o*l-i*s,e},Kt.rotateZ=function(e,n,t){t*=.5;var r=n[0],i=n[1],a=n[2],o=n[3],s=Math.sin(t),l=Math.cos(t);return e[0]=r*l+i*s,e[1]=i*l-r*s,e[2]=a*l+o*s,e[3]=o*l-a*s,e},Kt.calculateW=function(e,n){var t=n[0],r=n[1],i=n[2];return e[0]=t,e[1]=r,e[2]=i,e[3]=Math.sqrt(Math.abs(1-t*t-r*r-i*i)),e},Kt.dot=be.dot,Kt.lerp=be.lerp,Kt.slerp=function(e,n,t,r){var d,f,p,g,m,i=n[0],a=n[1],o=n[2],s=n[3],l=t[0],c=t[1],u=t[2],h=t[3];return(f=i*l+a*c+o*u+s*h)<0&&(f=-f,l=-l,c=-c,u=-u,h=-h),1-f>1e-6?(d=Math.acos(f),p=Math.sin(d),g=Math.sin((1-r)*d)/p,m=Math.sin(r*d)/p):(g=1-r,m=r),e[0]=g*i+m*l,e[1]=g*a+m*c,e[2]=g*o+m*u,e[3]=g*s+m*h,e},Kt.invert=function(e,n){var t=n[0],r=n[1],i=n[2],a=n[3],o=t*t+r*r+i*i+a*a,s=o?1/o:0;return e[0]=-t*s,e[1]=-r*s,e[2]=-i*s,e[3]=a*s,e},Kt.conjugate=function(e,n){return e[0]=-n[0],e[1]=-n[1],e[2]=-n[2],e[3]=n[3],e},Kt.length=be.length,Kt.len=Kt.length,Kt.squaredLength=be.squaredLength,Kt.sqrLen=Kt.squaredLength,Kt.normalize=be.normalize,Kt.fromMat3=function(e,n){var r,t=n[0]+n[4]+n[8];if(t>0)r=Math.sqrt(t+1),e[3]=.5*r,e[0]=(n[5]-n[7])*(r=.5/r),e[1]=(n[6]-n[2])*r,e[2]=(n[1]-n[3])*r;else{var i=0;n[4]>n[0]&&(i=1),n[8]>n[3*i+i]&&(i=2);var a=(i+1)%3,o=(i+2)%3;r=Math.sqrt(n[3*i+i]-n[3*a+a]-n[3*o+o]+1),e[i]=.5*r,e[3]=(n[3*a+o]-n[3*o+a])*(r=.5/r),e[a]=(n[3*a+i]+n[3*i+a])*r,e[o]=(n[3*o+i]+n[3*i+o])*r}return e};const Je=Kt;var Hn=function(){this._axisX=new fe,this._axisY=new fe,this._axisZ=new fe,this.array=ce.create(),this._dirty=!0};Hn.prototype={constructor:Hn,setArray:function(e){for(var n=0;n<this.array.length;n++)this.array[n]=e[n];return this._dirty=!0,this},adjoint:function(){return ce.adjoint(this.array,this.array),this._dirty=!0,this},clone:function(){return(new Hn).copy(this)},copy:function(e){return ce.copy(this.array,e.array),this._dirty=!0,this},determinant:function(){return ce.determinant(this.array)},fromQuat:function(e){return ce.fromQuat(this.array,e.array),this._dirty=!0,this},fromRotationTranslation:function(e,n){return ce.fromRotationTranslation(this.array,e.array,n.array),this._dirty=!0,this},fromMat2d:function(e){return Hn.fromMat2d(this,e),this},frustum:function(e,n,t,r,i,a){return ce.frustum(this.array,e,n,t,r,i,a),this._dirty=!0,this},identity:function(){return ce.identity(this.array),this._dirty=!0,this},invert:function(){return ce.invert(this.array,this.array),this._dirty=!0,this},lookAt:function(e,n,t){return ce.lookAt(this.array,e.array,n.array,t.array),this._dirty=!0,this},mul:function(e){return ce.mul(this.array,this.array,e.array),this._dirty=!0,this},mulLeft:function(e){return ce.mul(this.array,e.array,this.array),this._dirty=!0,this},multiply:function(e){return ce.multiply(this.array,this.array,e.array),this._dirty=!0,this},multiplyLeft:function(e){return ce.multiply(this.array,e.array,this.array),this._dirty=!0,this},ortho:function(e,n,t,r,i,a){return ce.ortho(this.array,e,n,t,r,i,a),this._dirty=!0,this},perspective:function(e,n,t,r){return ce.perspective(this.array,e,n,t,r),this._dirty=!0,this},rotate:function(e,n){return ce.rotate(this.array,this.array,e,n.array),this._dirty=!0,this},rotateX:function(e){return ce.rotateX(this.array,this.array,e),this._dirty=!0,this},rotateY:function(e){return ce.rotateY(this.array,this.array,e),this._dirty=!0,this},rotateZ:function(e){return ce.rotateZ(this.array,this.array,e),this._dirty=!0,this},scale:function(e){return ce.scale(this.array,this.array,e.array),this._dirty=!0,this},translate:function(e){return ce.translate(this.array,this.array,e.array),this._dirty=!0,this},transpose:function(){return ce.transpose(this.array,this.array),this._dirty=!0,this},decomposeMatrix:function(){var e=U.create(),n=U.create(),t=U.create(),r=Vt.create();return function(i,a,o){var s=this.array;U.set(e,s[0],s[1],s[2]),U.set(n,s[4],s[5],s[6]),U.set(t,s[8],s[9],s[10]);var l=U.length(e),c=U.length(n),u=U.length(t);this.determinant()<0&&(l=-l),i&&i.set(l,c,u),o.set(s[12],s[13],s[14]),Vt.fromMat4(r,s),r[0]/=l,r[1]/=l,r[2]/=l,r[3]/=c,r[4]/=c,r[5]/=c,r[6]/=u,r[7]/=u,r[8]/=u,Je.fromMat3(a.array,r),Je.normalize(a.array,a.array),a._dirty=!0,o._dirty=!0}}(),toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};var DC=Object.defineProperty;if(DC){var vN=Hn.prototype;DC(vN,"z",{get:function(){var e=this.array;return this._axisZ.set(e[8],e[9],e[10]),this._axisZ},set:function(e){var n=this.array;n[8]=(e=e.array)[0],n[9]=e[1],n[10]=e[2],this._dirty=!0}}),DC(vN,"y",{get:function(){var e=this.array;return this._axisY.set(e[4],e[5],e[6]),this._axisY},set:function(e){var n=this.array;n[4]=(e=e.array)[0],n[5]=e[1],n[6]=e[2],this._dirty=!0}}),DC(vN,"x",{get:function(){var e=this.array;return this._axisX.set(e[0],e[1],e[2]),this._axisX},set:function(e){var n=this.array;n[0]=(e=e.array)[0],n[1]=e[1],n[2]=e[2],this._dirty=!0}})}Hn.adjoint=function(e,n){return ce.adjoint(e.array,n.array),e._dirty=!0,e},Hn.copy=function(e,n){return ce.copy(e.array,n.array),e._dirty=!0,e},Hn.determinant=function(e){return ce.determinant(e.array)},Hn.identity=function(e){return ce.identity(e.array),e._dirty=!0,e},Hn.ortho=function(e,n,t,r,i,a,o){return ce.ortho(e.array,n,t,r,i,a,o),e._dirty=!0,e},Hn.perspective=function(e,n,t,r,i){return ce.perspective(e.array,n,t,r,i),e._dirty=!0,e},Hn.lookAt=function(e,n,t,r){return ce.lookAt(e.array,n.array,t.array,r.array),e._dirty=!0,e},Hn.invert=function(e,n){return ce.invert(e.array,n.array),e._dirty=!0,e},Hn.multiply=Hn.mul=function(e,n,t){return ce.mul(e.array,n.array,t.array),e._dirty=!0,e},Hn.fromQuat=function(e,n){return ce.fromQuat(e.array,n.array),e._dirty=!0,e},Hn.fromRotationTranslation=function(e,n,t){return ce.fromRotationTranslation(e.array,n.array,t.array),e._dirty=!0,e},Hn.fromMat2d=function(r,t){return r._dirty=!0,(r=r.array)[0]=(t=t.array)[0],r[4]=t[2],r[12]=t[4],r[1]=t[1],r[5]=t[3],r[13]=t[5],r},Hn.rotate=function(e,n,t,r){return ce.rotate(e.array,n.array,t,r.array),e._dirty=!0,e},Hn.rotateX=function(e,n,t){return ce.rotateX(e.array,n.array,t),e._dirty=!0,e},Hn.rotateY=function(e,n,t){return ce.rotateY(e.array,n.array,t),e._dirty=!0,e},Hn.rotateZ=function(e,n,t){return ce.rotateZ(e.array,n.array,t),e._dirty=!0,e},Hn.scale=function(e,n,t){return ce.scale(e.array,n.array,t.array),e._dirty=!0,e},Hn.transpose=function(e,n){return ce.transpose(e.array,n.array),e._dirty=!0,e},Hn.translate=function(e,n,t){return ce.translate(e.array,n.array,t.array),e._dirty=!0,e};const Oe=Hn;var hn=function(e,n,t,r){this.array=Je.fromValues(e=e||0,n=n||0,t=t||0,r=void 0===r?1:r),this._dirty=!0};hn.prototype={constructor:hn,add:function(e){return Je.add(this.array,this.array,e.array),this._dirty=!0,this},calculateW:function(){return Je.calculateW(this.array,this.array),this._dirty=!0,this},set:function(e,n,t,r){return this.array[0]=e,this.array[1]=n,this.array[2]=t,this.array[3]=r,this._dirty=!0,this},setArray:function(e){return this.array[0]=e[0],this.array[1]=e[1],this.array[2]=e[2],this.array[3]=e[3],this._dirty=!0,this},clone:function(){return new hn(this.x,this.y,this.z,this.w)},conjugate:function(){return Je.conjugate(this.array,this.array),this._dirty=!0,this},copy:function(e){return Je.copy(this.array,e.array),this._dirty=!0,this},dot:function(e){return Je.dot(this.array,e.array)},fromMat3:function(e){return Je.fromMat3(this.array,e.array),this._dirty=!0,this},fromMat4:function(){var e=Vt.create();return function(n){return Vt.fromMat4(e,n.array),Vt.transpose(e,e),Je.fromMat3(this.array,e),this._dirty=!0,this}}(),identity:function(){return Je.identity(this.array),this._dirty=!0,this},invert:function(){return Je.invert(this.array,this.array),this._dirty=!0,this},len:function(){return Je.len(this.array)},length:function(){return Je.length(this.array)},lerp:function(e,n,t){return Je.lerp(this.array,e.array,n.array,t),this._dirty=!0,this},mul:function(e){return Je.mul(this.array,this.array,e.array),this._dirty=!0,this},mulLeft:function(e){return Je.multiply(this.array,e.array,this.array),this._dirty=!0,this},multiply:function(e){return Je.multiply(this.array,this.array,e.array),this._dirty=!0,this},multiplyLeft:function(e){return Je.multiply(this.array,e.array,this.array),this._dirty=!0,this},normalize:function(){return Je.normalize(this.array,this.array),this._dirty=!0,this},rotateX:function(e){return Je.rotateX(this.array,this.array,e),this._dirty=!0,this},rotateY:function(e){return Je.rotateY(this.array,this.array,e),this._dirty=!0,this},rotateZ:function(e){return Je.rotateZ(this.array,this.array,e),this._dirty=!0,this},rotationTo:function(e,n){return Je.rotationTo(this.array,e.array,n.array),this._dirty=!0,this},setAxes:function(e,n,t){return Je.setAxes(this.array,e.array,n.array,t.array),this._dirty=!0,this},setAxisAngle:function(e,n){return Je.setAxisAngle(this.array,e.array,n),this._dirty=!0,this},slerp:function(e,n,t){return Je.slerp(this.array,e.array,n.array,t),this._dirty=!0,this},sqrLen:function(){return Je.sqrLen(this.array)},squaredLength:function(){return Je.squaredLength(this.array)},fromEuler:function(e,n){return hn.fromEuler(this,e,n)},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};var wm=Object.defineProperty;if(wm){var EC=hn.prototype;wm(EC,"x",{get:function(){return this.array[0]},set:function(e){this.array[0]=e,this._dirty=!0}}),wm(EC,"y",{get:function(){return this.array[1]},set:function(e){this.array[1]=e,this._dirty=!0}}),wm(EC,"z",{get:function(){return this.array[2]},set:function(e){this.array[2]=e,this._dirty=!0}}),wm(EC,"w",{get:function(){return this.array[3]},set:function(e){this.array[3]=e,this._dirty=!0}})}hn.add=function(e,n,t){return Je.add(e.array,n.array,t.array),e._dirty=!0,e},hn.set=function(e,n,t,r,i){Je.set(e.array,n,t,r,i),e._dirty=!0},hn.copy=function(e,n){return Je.copy(e.array,n.array),e._dirty=!0,e},hn.calculateW=function(e,n){return Je.calculateW(e.array,n.array),e._dirty=!0,e},hn.conjugate=function(e,n){return Je.conjugate(e.array,n.array),e._dirty=!0,e},hn.identity=function(e){return Je.identity(e.array),e._dirty=!0,e},hn.invert=function(e,n){return Je.invert(e.array,n.array),e._dirty=!0,e},hn.dot=function(e,n){return Je.dot(e.array,n.array)},hn.len=function(e){return Je.length(e.array)},hn.lerp=function(e,n,t,r){return Je.lerp(e.array,n.array,t.array,r),e._dirty=!0,e},hn.slerp=function(e,n,t,r){return Je.slerp(e.array,n.array,t.array,r),e._dirty=!0,e},hn.multiply=hn.mul=function(e,n,t){return Je.multiply(e.array,n.array,t.array),e._dirty=!0,e},hn.rotateX=function(e,n,t){return Je.rotateX(e.array,n.array,t),e._dirty=!0,e},hn.rotateY=function(e,n,t){return Je.rotateY(e.array,n.array,t),e._dirty=!0,e},hn.rotateZ=function(e,n,t){return Je.rotateZ(e.array,n.array,t),e._dirty=!0,e},hn.setAxisAngle=function(e,n,t){return Je.setAxisAngle(e.array,n.array,t),e._dirty=!0,e},hn.normalize=function(e,n){return Je.normalize(e.array,n.array),e._dirty=!0,e},hn.squaredLength=hn.sqrLen=function(e){return Je.sqrLen(e.array)},hn.fromMat3=function(e,n){return Je.fromMat3(e.array,n.array),e._dirty=!0,e},hn.setAxes=function(e,n,t,r){return Je.setAxes(e.array,n.array,t.array,r.array),e._dirty=!0,e},hn.rotationTo=function(e,n,t){return Je.rotationTo(e.array,n.array,t.array),e._dirty=!0,e},hn.fromEuler=function(e,n,u){e._dirty=!0,n=n.array;var r=e.array,i=Math.cos(n[0]/2),a=Math.cos(n[1]/2),o=Math.cos(n[2]/2),s=Math.sin(n[0]/2),l=Math.sin(n[1]/2),c=Math.sin(n[2]/2);switch(u=(u||"XYZ").toUpperCase()){case"XYZ":r[0]=s*a*o+i*l*c,r[1]=i*l*o-s*a*c,r[2]=i*a*c+s*l*o,r[3]=i*a*o-s*l*c;break;case"YXZ":r[0]=s*a*o+i*l*c,r[1]=i*l*o-s*a*c,r[2]=i*a*c-s*l*o,r[3]=i*a*o+s*l*c;break;case"ZXY":r[0]=s*a*o-i*l*c,r[1]=i*l*o+s*a*c,r[2]=i*a*c+s*l*o,r[3]=i*a*o-s*l*c;break;case"ZYX":r[0]=s*a*o-i*l*c,r[1]=i*l*o+s*a*c,r[2]=i*a*c-s*l*o,r[3]=i*a*o+s*l*c;break;case"YZX":r[0]=s*a*o+i*l*c,r[1]=i*l*o+s*a*c,r[2]=i*a*c-s*l*o,r[3]=i*a*o-s*l*c;break;case"XZY":r[0]=s*a*o-i*l*c,r[1]=i*l*o-s*a*c,r[2]=i*a*c+s*l*o,r[3]=i*a*o+s*l*c}};const Hq=hn;var Fc=U.set,AC=U.copy,NC=function(e,n){this.min=e||new fe(1/0,1/0,1/0),this.max=n||new fe(-1/0,-1/0,-1/0),this.vertices=null};NC.prototype={constructor:NC,updateFromVertices:function(e){if(e.length>0){var n=this.min,t=this.max,r=n.array,i=t.array;AC(r,e[0]),AC(i,e[0]);for(var a=1;a<e.length;a++){var o=e[a];o[0]<r[0]&&(r[0]=o[0]),o[1]<r[1]&&(r[1]=o[1]),o[2]<r[2]&&(r[2]=o[2]),o[0]>i[0]&&(i[0]=o[0]),o[1]>i[1]&&(i[1]=o[1]),o[2]>i[2]&&(i[2]=o[2])}n._dirty=!0,t._dirty=!0}},union:function(e){var n=this.min,t=this.max;return U.min(n.array,n.array,e.min.array),U.max(t.array,t.array,e.max.array),n._dirty=!0,t._dirty=!0,this},intersection:function(e){var n=this.min,t=this.max;return U.max(n.array,n.array,e.min.array),U.min(t.array,t.array,e.max.array),n._dirty=!0,t._dirty=!0,this},intersectBoundingBox:function(e){var n=this.min.array,t=this.max.array,r=e.min.array,i=e.max.array;return!(n[0]>i[0]||n[1]>i[1]||n[2]>i[2]||t[0]<r[0]||t[1]<r[1]||t[2]<r[2])},containBoundingBox:function(e){var n=this.min.array,t=this.max.array,r=e.min.array,i=e.max.array;return n[0]<=r[0]&&n[1]<=r[1]&&n[2]<=r[2]&&t[0]>=i[0]&&t[1]>=i[1]&&t[2]>=i[2]},containPoint:function(e){var n=this.min.array,t=this.max.array,r=e.array;return n[0]<=r[0]&&n[1]<=r[1]&&n[2]<=r[2]&&t[0]>=r[0]&&t[1]>=r[1]&&t[2]>=r[2]},isFinite:function(){var e=this.min.array,n=this.max.array;return isFinite(e[0])&&isFinite(e[1])&&isFinite(e[2])&&isFinite(n[0])&&isFinite(n[1])&&isFinite(n[2])},applyTransform:function(e){this.transformFrom(this,e)},transformFrom:function(){var e=U.create(),n=U.create(),t=U.create(),r=U.create(),i=U.create(),a=U.create();return function(o,s){var l=o.min.array,c=o.max.array,u=s.array;return e[0]=u[0]*l[0],e[1]=u[1]*l[0],e[2]=u[2]*l[0],n[0]=u[0]*c[0],n[1]=u[1]*c[0],n[2]=u[2]*c[0],t[0]=u[4]*l[1],t[1]=u[5]*l[1],t[2]=u[6]*l[1],r[0]=u[4]*c[1],r[1]=u[5]*c[1],r[2]=u[6]*c[1],i[0]=u[8]*l[2],i[1]=u[9]*l[2],i[2]=u[10]*l[2],a[0]=u[8]*c[2],a[1]=u[9]*c[2],a[2]=u[10]*c[2],c=this.max.array,(l=this.min.array)[0]=Math.min(e[0],n[0])+Math.min(t[0],r[0])+Math.min(i[0],a[0])+u[12],l[1]=Math.min(e[1],n[1])+Math.min(t[1],r[1])+Math.min(i[1],a[1])+u[13],l[2]=Math.min(e[2],n[2])+Math.min(t[2],r[2])+Math.min(i[2],a[2])+u[14],c[0]=Math.max(e[0],n[0])+Math.max(t[0],r[0])+Math.max(i[0],a[0])+u[12],c[1]=Math.max(e[1],n[1])+Math.max(t[1],r[1])+Math.max(i[1],a[1])+u[13],c[2]=Math.max(e[2],n[2])+Math.max(t[2],r[2])+Math.max(i[2],a[2])+u[14],this.min._dirty=!0,this.max._dirty=!0,this}}(),applyProjection:function(e){var n=this.min.array,t=this.max.array,r=e.array,i=n[0],a=n[1],o=n[2],s=t[0],l=t[1],c=n[2],u=t[0],h=t[1],d=t[2];if(1===r[15])n[0]=r[0]*i+r[12],n[1]=r[5]*a+r[13],t[2]=r[10]*o+r[14],t[0]=r[0]*u+r[12],t[1]=r[5]*h+r[13],n[2]=r[10]*d+r[14];else{var f=-1/o;n[0]=r[0]*i*f,n[1]=r[5]*a*f,t[2]=(r[10]*o+r[14])*f,t[0]=r[0]*s*(f=-1/c),t[1]=r[5]*l*f,n[2]=(r[10]*d+r[14])*(f=-1/d)}return this.min._dirty=!0,this.max._dirty=!0,this},updateVertices:function(){var e=this.vertices;if(!e){e=[];for(var n=0;n<8;n++)e[n]=U.fromValues(0,0,0);this.vertices=e}var t=this.min.array,r=this.max.array;return Fc(e[0],t[0],t[1],t[2]),Fc(e[1],t[0],r[1],t[2]),Fc(e[2],r[0],t[1],t[2]),Fc(e[3],r[0],r[1],t[2]),Fc(e[4],t[0],t[1],r[2]),Fc(e[5],t[0],r[1],r[2]),Fc(e[6],r[0],t[1],r[2]),Fc(e[7],r[0],r[1],r[2]),this},copy:function(e){var n=this.min,t=this.max;return AC(n.array,e.min.array),AC(t.array,e.max.array),n._dirty=!0,t._dirty=!0,this},clone:function(){var e=new NC;return e.copy(this),e}};const ha=NC;var YOe=0,XOe=ca.extend({name:"",position:null,rotation:null,scale:null,worldTransform:null,localTransform:null,autoUpdateLocalTransform:!0,_parent:null,_scene:null,_needsUpdateWorldTransform:!0,_inIterating:!1,__depth:0},function(){this.name||(this.name=(this.type||"NODE")+"_"+YOe++),this.position||(this.position=new fe),this.rotation||(this.rotation=new Hq),this.scale||(this.scale=new fe(1,1,1)),this.worldTransform=new Oe,this.localTransform=new Oe,this._children=[]},{target:null,invisible:!1,isSkinnedMesh:function(){return!1},isRenderable:function(){return!1},setName:function(e){var n=this._scene;if(n){var t=n._nodeRepository;delete t[this.name],t[e]=this}this.name=e},add:function(e){var n=e._parent;if(n!==this){n&&n.remove(e),e._parent=this,this._children.push(e);var t=this._scene;t&&t!==e.scene&&e.traverse(this._addSelfToScene,this),e._needsUpdateWorldTransform=!0}},remove:function(e){var n=this._children,t=n.indexOf(e);t<0||(n.splice(t,1),e._parent=null,this._scene&&e.traverse(this._removeSelfFromScene,this))},removeAll:function(){for(var e=this._children,n=0;n<e.length;n++)e[n]._parent=null,this._scene&&e[n].traverse(this._removeSelfFromScene,this);this._children=[]},getScene:function(){return this._scene},getParent:function(){return this._parent},_removeSelfFromScene:function(e){e._scene.removeFromScene(e),e._scene=null},_addSelfToScene:function(e){this._scene.addToScene(e),e._scene=this._scene},isAncestor:function(e){for(var n=e._parent;n;){if(n===this)return!0;n=n._parent}return!1},children:function(){return this._children.slice()},childAt:function(e){return this._children[e]},getChildByName:function(e){for(var n=this._children,t=0;t<n.length;t++)if(n[t].name===e)return n[t]},getDescendantByName:function(e){for(var n=this._children,t=0;t<n.length;t++){var r=n[t];if(r.name===e)return r;var i=r.getDescendantByName(e);if(i)return i}},queryNode:function(e){if(e){for(var n=e.split("/"),t=this,r=0;r<n.length;r++){var i=n[r];if(i){for(var a=!1,o=t._children,s=0;s<o.length;s++){var l=o[s];if(l.name===i){t=l,a=!0;break}}if(!a)return}}return t}},getPath:function(e){if(!this._parent)return"/";for(var n=this._parent,t=this.name;n._parent&&(t=n.name+"/"+t,n._parent!=e);)n=n._parent;return!n._parent&&e?null:t},traverse:function(e,n){e.call(n,this);for(var t=this._children,r=0,i=t.length;r<i;r++)t[r].traverse(e,n)},eachChild:function(e,n){for(var t=this._children,r=0,i=t.length;r<i;r++)e.call(n,t[r],r)},setLocalTransform:function(e){ce.copy(this.localTransform.array,e.array),this.decomposeLocalTransform()},decomposeLocalTransform:function(e){this.localTransform.decomposeMatrix(e?null:this.scale,this.rotation,this.position)},setWorldTransform:function(e){ce.copy(this.worldTransform.array,e.array),this.decomposeWorldTransform()},decomposeWorldTransform:function(){var e=ce.create();return function(n){var t=this.localTransform,r=this.worldTransform;this._parent?(ce.invert(e,this._parent.worldTransform.array),ce.multiply(t.array,e,r.array)):ce.copy(t.array,r.array),t.decomposeMatrix(n?null:this.scale,this.rotation,this.position)}}(),transformNeedsUpdate:function(){return this.position._dirty||this.rotation._dirty||this.scale._dirty},updateLocalTransform:function(){var e=this.position,n=this.rotation,t=this.scale;if(this.transformNeedsUpdate()){var r=this.localTransform.array;ce.fromRotationTranslation(r,n.array,e.array),ce.scale(r,r,t.array),n._dirty=!1,t._dirty=!1,e._dirty=!1,this._needsUpdateWorldTransform=!0}},_updateWorldTransformTopDown:function(){var e=this.localTransform.array,n=this.worldTransform.array;this._parent?ce.multiplyAffine(n,this._parent.worldTransform.array,e):ce.copy(n,e)},updateWorldTransform:function(){for(var e=this;e&&e.getParent()&&e.getParent().transformNeedsUpdate();)e=e.getParent();e.update()},update:function(e){this.autoUpdateLocalTransform?this.updateLocalTransform():e=!0,(e||this._needsUpdateWorldTransform)&&(this._updateWorldTransformTopDown(),e=!0,this._needsUpdateWorldTransform=!1);for(var n=this._children,t=0,r=n.length;t<r;t++)n[t].update(e)},getBoundingBox:function(){function e(i){return!i.invisible&&i.geometry}var n=new ha,t=new Oe,r=new Oe;return function(i,a){return a=a||new ha,i=i||e,this._parent?Oe.invert(r,this._parent.worldTransform):Oe.identity(r),this.traverse(function(o){o.geometry&&o.geometry.boundingBox&&(n.copy(o.geometry.boundingBox),Oe.multiply(t,r,o.worldTransform),n.applyTransform(t),a.union(n))},this,e),a}}(),getWorldPosition:function(e){this.transformNeedsUpdate()&&this.updateWorldTransform();var n=this.worldTransform.array;if(e){var t=e.array;return t[0]=n[12],t[1]=n[13],t[2]=n[14],e}return new fe(n[12],n[13],n[14])},clone:function(){var e=new this.constructor,n=this._children;e.setName(this.name),e.position.copy(this.position),e.rotation.copy(this.rotation),e.scale.copy(this.scale);for(var t=0;t<n.length;t++)e.add(n[t].clone());return e},rotateAround:function(){var e=new fe,n=new Oe;return function(t,r,i){e.copy(this.position).subtract(t);var a=this.localTransform;a.identity(),a.translate(t),a.rotate(i,r),n.fromRotationTranslation(this.rotation,e),a.multiply(n),a.scale(this.scale),this.decomposeLocalTransform(),this._needsUpdateWorldTransform=!0}}(),lookAt:function(){var e=new Oe;return function(n,t){e.lookAt(this.position,n,t||this.localTransform.y).invert(),this.setLocalTransform(e),this.target=n}}()});const rl=XOe;var so=rl.extend({material:null,geometry:null,mode:4,_renderInfo:null},{__program:null,lightGroup:0,renderOrder:0,culling:!0,cullFace:1029,frontFace:2305,frustumCulling:!0,receiveShadow:!0,castShadow:!0,ignorePicking:!1,ignorePreZ:!1,ignoreGBuffer:!1,isRenderable:function(){return this.geometry&&this.material&&this.material.shader&&!this.invisible&&this.geometry.vertexCount>0},beforeRender:function(e){},afterRender:function(e,n){},getBoundingBox:function(e,n){return n=rl.prototype.getBoundingBox.call(this,e,n),this.geometry&&this.geometry.boundingBox&&n.union(this.geometry.boundingBox),n},clone:function(){var e=["castShadow","receiveShadow","mode","culling","cullFace","frontFace","frustumCulling","renderOrder","lineWidth","ignorePicking","ignorePreZ","ignoreGBuffer"];return function(){var n=rl.prototype.clone.call(this);n.geometry=this.geometry,n.material=this.material;for(var t=0;t<e.length;t++){var r=e[t];n[r]!==this[r]&&(n[r]=this[r])}return n}}()});so.POINTS=0,so.LINES=1,so.LINE_LOOP=2,so.LINE_STRIP=3,so.TRIANGLES=4,so.TRIANGLE_STRIP=5,so.TRIANGLE_FAN=6,so.BACK=1029,so.FRONT=1028,so.FRONT_AND_BACK=1032,so.CW=2304,so.CCW=2305;const _N=so;var yN=ca.extend({scene:null,camera:null,renderer:null},function(){this._ray=new TC,this._ndc=new oo},{pick:function(e,n,t){return this.pickAll(e,n,[],t)[0]||null},pickAll:function(e,n,t,r){return this.renderer.screenToNDC(e,n,this._ndc),this.camera.castRay(this._ndc,this._ray),this._intersectNode(this.scene,t=t||[],r||!1),t.sort(this._intersectionCompareFunc),t},_intersectNode:function(e,n,t){e instanceof _N&&e.isRenderable()&&(!e.ignorePicking||t)&&(4===e.mode&&e.geometry.isUseIndices()||e.geometry.pickByRay||e.geometry.pick)&&this._intersectRenderable(e,n);for(var r=0;r<e._children.length;r++)this._intersectNode(e._children[r],n,t)},_intersectRenderable:function(){var e=new fe,n=new fe,t=new fe,r=new TC,i=new Oe;return function(a,o){var s=a.isSkinnedMesh();r.copy(this._ray),Oe.invert(i,a.worldTransform),s||r.applyTransform(i);var l=a.geometry,c=s?a.skeleton.boundingBox:l.boundingBox;if(!c||r.intersectBoundingBox(c)){if(l.pick)return void l.pick(this._ndc.x,this._ndc.y,this.renderer,this.camera,a,o);if(l.pickByRay)return void l.pickByRay(r,a,o);var h,m,u=1029===a.cullFace&&2305===a.frontFace||1028===a.cullFace&&2304===a.frontFace,d=l.indices,f=l.attributes.position,p=l.attributes.weight,g=l.attributes.joint,v=[];if(f&&f.value&&d){if(s){m=a.skeleton.getSubSkinMatrices(a.__uid__,a.joints);for(var _=0;_<a.joints.length;_++){v[_]=v[_]||[];for(var y=0;y<16;y++)v[_][y]=m[16*_+y]}var b=[],w=[],C=[],S=[],x=[],M=l.attributes.skinnedPosition;for((!M||!M.value)&&(l.createAttribute("skinnedPosition","f",3),(M=l.attributes.skinnedPosition).init(l.vertexCount)),_=0;_<l.vertexCount;_++){for(f.get(_,b),p.get(_,w),g.get(_,C),w[3]=1-w[0]-w[1]-w[2],U.set(S,0,0,0),y=0;y<4;y++)C[y]>=0&&w[y]>1e-4&&(U.transformMat4(x,b,v[C[y]]),U.scaleAndAdd(S,S,x,w[y]));M.set(_,S)}}for(_=0;_<d.length;_+=3){var E=d[_],T=d[_+1],A=d[_+2],N=s?l.attributes.skinnedPosition:f;if(N.get(E,e.array),N.get(T,n.array),N.get(A,t.array),h=u?r.intersectTriangle(e,n,t,a.culling):r.intersectTriangle(e,t,n,a.culling)){var R=new fe;s?fe.copy(R,h):fe.transformMat4(R,h,a.worldTransform),o.push(new yN.Intersection(h,R,a,[E,T,A],_/3,fe.dist(R,this._ray.origin)))}}}}}}(),_intersectionCompareFunc:function(e,n){return e.distance-n.distance}});yN.Intersection=function(e,n,t,r,i,a){this.point=e,this.pointWorld=n,this.target=t,this.triangle=r,this.triangleIndex=i,this.distance=a};const qOe=yN;var Sm="__dt__",IC=function(){this._contextId=0,this._caches=[],this._context={}};(IC.prototype={use:function(e,n){var t=this._caches;t[e]||(t[e]={},n&&(t[e]=n())),this._contextId=e,this._context=t[e]},put:function(e,n){this._context[e]=n},get:function(e){return this._context[e]},dirty:function(e){this.put(Sm+(e=e||""),!0)},dirtyAll:function(e){for(var n=Sm+(e=e||""),t=this._caches,r=0;r<t.length;r++)t[r]&&(t[r][n]=!0)},fresh:function(e){this.put(Sm+(e=e||""),!1)},freshAll:function(e){for(var n=Sm+(e=e||""),t=this._caches,r=0;r<t.length;r++)t[r]&&(t[r][n]=!1)},isDirty:function(e){var n=Sm+(e=e||""),t=this._context;return!t.hasOwnProperty(n)||!0===t[n]},deleteContext:function(e){delete this._caches[e],this._context={}},delete:function(e){delete this._context[e]},clearAll:function(){this._caches={}},getContext:function(){return this._context},eachContext:function(e,n){Object.keys(this._caches).forEach(function(r){e&&e.call(n,r)})},miss:function(e){return!this._context.hasOwnProperty(e)}}).constructor=IC;const bN=IC;var Wt=ca.extend({width:512,height:512,type:5121,format:6408,wrapS:10497,wrapT:10497,minFilter:9987,magFilter:9729,useMipmap:!0,anisotropic:1,flipY:!0,sRGB:!0,unpackAlignment:4,premultiplyAlpha:!1,dynamic:!1,NPOT:!1,__used:0},function(){this._cache=new bN},{getWebGLTexture:function(e){var n=e.gl,t=this._cache;return t.use(e.__uid__),t.miss("webgl_texture")&&t.put("webgl_texture",n.createTexture()),this.dynamic?this.update(e):t.isDirty()&&(this.update(e),t.fresh()),t.get("webgl_texture")},bind:function(){},unbind:function(){},dirty:function(){this._cache&&this._cache.dirtyAll()},update:function(e){},updateCommon:function(e){var n=e.gl;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,this.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,this.unpackAlignment),6402===this.format&&(this.useMipmap=!1);var t=e.getGLExtension("EXT_sRGB");this.format===Wt.SRGB&&!t&&(this.format=Wt.RGB),this.format===Wt.SRGB_ALPHA&&!t&&(this.format=Wt.RGBA),this.NPOT=!this.isPowerOfTwo()},getAvailableWrapS:function(){return this.NPOT?33071:this.wrapS},getAvailableWrapT:function(){return this.NPOT?33071:this.wrapT},getAvailableMinFilter:function(){var e=this.minFilter;return this.NPOT||!this.useMipmap?9984===e||9986===e?9728:9987===e||9985===e?9729:e:e},getAvailableMagFilter:function(){return this.magFilter},nextHighestPowerOfTwo:function(e){--e;for(var n=1;n<32;n<<=1)e|=e>>n;return e+1},dispose:function(e){var n=this._cache;n.use(e.__uid__);var t=n.get("webgl_texture");t&&e.gl.deleteTexture(t),n.deleteContext(e.__uid__)},isRenderable:function(){},isPowerOfTwo:function(){}});Object.defineProperty(Wt.prototype,"width",{get:function(){return this._width},set:function(e){this._width=e}}),Object.defineProperty(Wt.prototype,"height",{get:function(){return this._height},set:function(e){this._height=e}}),Wt.BYTE=5120,Wt.UNSIGNED_BYTE=5121,Wt.SHORT=5122,Wt.UNSIGNED_SHORT=5123,Wt.INT=5124,Wt.UNSIGNED_INT=5125,Wt.FLOAT=5126,Wt.HALF_FLOAT=36193,Wt.UNSIGNED_INT_24_8_WEBGL=34042,Wt.DEPTH_COMPONENT=6402,Wt.DEPTH_STENCIL=34041,Wt.ALPHA=6406,Wt.RGB=6407,Wt.RGBA=6408,Wt.LUMINANCE=6409,Wt.LUMINANCE_ALPHA=6410,Wt.SRGB=35904,Wt.SRGB_ALPHA=35906,Wt.COMPRESSED_RGB_S3TC_DXT1_EXT=33776,Wt.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777,Wt.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778,Wt.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779,Wt.NEAREST=9728,Wt.LINEAR=9729,Wt.NEAREST_MIPMAP_NEAREST=9984,Wt.LINEAR_MIPMAP_NEAREST=9985,Wt.NEAREST_MIPMAP_LINEAR=9986,Wt.LINEAR_MIPMAP_LINEAR=9987,Wt.REPEAT=10497,Wt.CLAMP_TO_EDGE=33071,Wt.MIRRORED_REPEAT=33648;const Be=Wt;var lo=_N.extend({skeleton:null,joints:null},function(){this.joints||(this.joints=[])},{offsetMatrix:null,isInstancedMesh:function(){return!1},isSkinnedMesh:function(){return!!(this.skeleton&&this.joints&&this.joints.length>0)},clone:function(){var e=_N.prototype.clone.call(this);return e.skeleton=this.skeleton,this.joints&&(e.joints=this.joints.slice()),e}});lo.POINTS=0,lo.LINES=1,lo.LINE_LOOP=2,lo.LINE_STRIP=3,lo.TRIANGLES=4,lo.TRIANGLE_STRIP=5,lo.TRIANGLE_FAN=6,lo.BACK=1029,lo.FRONT=1028,lo.FRONT_AND_BACK=1032,lo.CW=2304,lo.CCW=2305;const Lh=lo;var PC={isPowerOfTwo:function(e){return 0==(e&e-1)},nextPowerOfTwo:function(e){return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e},nearestPowerOfTwo:function(e){return Math.pow(2,Math.round(Math.log(e)/Math.LN2))}};const Uq=PC;var Gq=Uq.isPowerOfTwo;function Wq(e){return Math.pow(2,Math.round(Math.log(e)/Math.LN2))}var CN=Be.extend(function(){return{image:null,pixels:null,mipmaps:[],convertToPOT:!1}},{textureType:"texture2D",update:function(e){var n=e.gl;n.bindTexture(n.TEXTURE_2D,this._cache.get("webgl_texture")),this.updateCommon(e);var t=this.format,r=this.type,i=!(!this.convertToPOT||this.mipmaps.length||!this.image||this.wrapS!==Be.REPEAT&&this.wrapT!==Be.REPEAT||!this.NPOT);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,i?this.wrapS:this.getAvailableWrapS()),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,i?this.wrapT:this.getAvailableWrapT()),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,i?this.magFilter:this.getAvailableMagFilter()),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,i?this.minFilter:this.getAvailableMinFilter());var a=e.getGLExtension("EXT_texture_filter_anisotropic");if(a&&this.anisotropic>1&&n.texParameterf(n.TEXTURE_2D,a.TEXTURE_MAX_ANISOTROPY_EXT,this.anisotropic),36193===r&&(e.getGLExtension("OES_texture_half_float")||(r=5126)),this.mipmaps.length)for(var s=this.width,l=this.height,c=0;c<this.mipmaps.length;c++)this._updateTextureData(n,this.mipmaps[c],c,s,l,t,r,!1),s/=2,l/=2;else this._updateTextureData(n,this,0,this.width,this.height,t,r,i),this.useMipmap&&(!this.NPOT||i)&&n.generateMipmap(n.TEXTURE_2D);n.bindTexture(n.TEXTURE_2D,null)},_updateTextureData:function(e,n,t,r,i,a,o,s){if(n.image){var l=n.image;s&&(this._potCanvas=function ZOe(e,n){var t=Wq(e.width),r=Wq(e.height);return(n=n||document.createElement("canvas")).width=t,n.height=r,n.getContext("2d").drawImage(e.image,0,0,t,r),n}(this,this._potCanvas),l=this._potCanvas),e.texImage2D(e.TEXTURE_2D,t,a,a,o,l)}else a<=Be.COMPRESSED_RGBA_S3TC_DXT5_EXT&&a>=Be.COMPRESSED_RGB_S3TC_DXT1_EXT?e.compressedTexImage2D(e.TEXTURE_2D,t,a,r,i,0,n.pixels):e.texImage2D(e.TEXTURE_2D,t,a,r,i,0,a,o,n.pixels)},generateMipmap:function(e){var n=e.gl;this.useMipmap&&!this.NPOT&&(n.bindTexture(n.TEXTURE_2D,this._cache.get("webgl_texture")),n.generateMipmap(n.TEXTURE_2D))},isPowerOfTwo:function(){return Gq(this.width)&&Gq(this.height)},isRenderable:function(){return this.image?this.image.width>0&&this.image.height>0:!(!this.width||!this.height)},bind:function(e){e.gl.bindTexture(e.gl.TEXTURE_2D,this.getWebGLTexture(e))},unbind:function(e){e.gl.bindTexture(e.gl.TEXTURE_2D,null)},load:function(e,n){var t=Lr.createImage();n&&(t.crossOrigin=n);var r=this;return t.onload=function(){r.dirty(),r.trigger("success",r)},t.onerror=function(){r.trigger("error",r)},t.src=e,this.image=t,this}});Object.defineProperty(CN.prototype,"width",{get:function(){return this.image?this.image.width:this._width},set:function(e){this.image?console.warn("Texture from image can't set width"):(this._width!==e&&this.dirty(),this._width=e)}}),Object.defineProperty(CN.prototype,"height",{get:function(){return this.image?this.image.height:this._height},set:function(e){this.image?console.warn("Texture from image can't set height"):(this._height!==e&&this.dirty(),this._height=e)}});const yt=CN;function jq(e){return{byte:Lr.Int8Array,ubyte:Lr.Uint8Array,short:Lr.Int16Array,ushort:Lr.Uint16Array}[e]||Lr.Float32Array}function wN(e){return"attr_"+e}function mp(e,n,t,r){switch(this.name=e,this.type=n,this.size=t,this.semantic=r||"",this.value=null,t){case 1:this.get=function(i){return this.value[i]},this.set=function(i,a){this.value[i]=a},this.copy=function(i,a){this.value[i]=this.value[i]};break;case 2:this.get=function(i,a){var o=this.value;return a[0]=o[2*i],a[1]=o[2*i+1],a},this.set=function(i,a){var o=this.value;o[2*i]=a[0],o[2*i+1]=a[1]},this.copy=function(i,a){var o=this.value;o[i*=2]=o[a*=2],o[i+1]=o[a+1]};break;case 3:this.get=function(i,a){var o=3*i,s=this.value;return a[0]=s[o],a[1]=s[o+1],a[2]=s[o+2],a},this.set=function(i,a){var o=3*i,s=this.value;s[o]=a[0],s[o+1]=a[1],s[o+2]=a[2]},this.copy=function(i,a){var o=this.value;o[i*=3]=o[a*=3],o[i+1]=o[a+1],o[i+2]=o[a+2]};break;case 4:this.get=function(i,a){var o=this.value,s=4*i;return a[0]=o[s],a[1]=o[s+1],a[2]=o[s+2],a[3]=o[s+3],a},this.set=function(i,a){var o=this.value,s=4*i;o[s]=a[0],o[s+1]=a[1],o[s+2]=a[2],o[s+3]=a[3]},this.copy=function(i,a){var o=this.value;o[i*=4]=o[a*=4],o[i+1]=o[a+1],o[i+2]=o[a+2],o[i+3]=o[a+3]}}}function $q(e,n,t,r,i){this.name=e,this.type=n,this.buffer=t,this.size=r,this.semantic=i,this.symbol="",this.needsRemove=!1}function Yq(e){this.buffer=e,this.count=0}mp.prototype.init=function(e){if(!this.value||this.value.length!==e*this.size){var n=jq(this.type);this.value=new n(e*this.size)}},mp.prototype.fromArray=function(e){var t,n=jq(this.type);if(e[0]&&e[0].length){var r=0,i=this.size;t=new n(e.length*i);for(var a=0;a<e.length;a++)for(var o=0;o<i;o++)t[r++]=e[a][o]}else t=new n(e);this.value=t},mp.prototype.clone=function(e){var n=new mp(this.name,this.type,this.size,this.semantic);return e&&console.warn("todo"),n};var Ul=ca.extend(function(){return{attributes:{},indices:null,dynamic:!0,_enabledAttributes:null,__used:0}},function(){this._cache=new bN,this._attributeList=Object.keys(this.attributes),this.__vaoCache={}},{mainAttribute:"",pick:null,pickByRay:null,dirty:function(){for(var e=this.getEnabledAttributes(),n=0;n<e.length;n++)this.dirtyAttribute(e[n]);this.dirtyIndices(),this._enabledAttributes=null,this._cache.dirty("any")},dirtyIndices:function(){this._cache.dirtyAll("indices")},dirtyAttribute:function(e){this._cache.dirtyAll(wN(e)),this._cache.dirtyAll("attributes")},getTriangleIndices:function(e,n){if(e<this.triangleCount&&e>=0){n||(n=[]);var t=this.indices;return n[0]=t[3*e],n[1]=t[3*e+1],n[2]=t[3*e+2],n}},setTriangleIndices:function(e,n){var t=this.indices;t[3*e]=n[0],t[3*e+1]=n[1],t[3*e+2]=n[2]},isUseIndices:function(){return!!this.indices},initIndicesFromArray:function(e){var n,t=this.vertexCount>65535?Lr.Uint32Array:Lr.Uint16Array;if(e[0]&&e[0].length){var r=0;n=new t(3*e.length);for(var a=0;a<e.length;a++)for(var o=0;o<3;o++)n[r++]=e[a][o]}else n=new t(e);this.indices=n},createAttribute:function(e,n,t,r){var i=new mp(e,n,t,r);return this.attributes[e]&&this.removeAttribute(e),this.attributes[e]=i,this._attributeList.push(e),i},removeAttribute:function(e){var n=this._attributeList,t=n.indexOf(e);return t>=0&&(n.splice(t,1),delete this.attributes[e],!0)},getAttribute:function(e){return this.attributes[e]},getEnabledAttributes:function(){var e=this._enabledAttributes,n=this._attributeList;if(e)return e;for(var t=[],r=this.vertexCount,i=0;i<n.length;i++){var a=n[i],o=this.attributes[a];o.value&&o.value.length===r*o.size&&t.push(a)}return this._enabledAttributes=t,t},getBufferChunks:function(e){var n=this._cache;n.use(e.__uid__);var t=n.isDirty("attributes"),r=n.isDirty("indices");if(t||r){this._updateBuffer(e.gl,t,r);for(var i=this.getEnabledAttributes(),a=0;a<i.length;a++)n.fresh(wN(i[a]));n.fresh("attributes"),n.fresh("indices")}return n.fresh("any"),n.get("chunks")},_updateBuffer:function(e,n,t){var r=this._cache,i=r.get("chunks"),a=!1;i||((i=[])[0]={attributeBuffers:[],indicesBuffer:null},r.put("chunks",i),a=!0);var o=i[0],s=o.attributeBuffers,l=o.indicesBuffer;if(n||a){var c=this.getEnabledAttributes(),u={};if(!a)for(var h=0;h<s.length;h++)u[s[h].name]=s[h];for(var d=0;d<c.length;d++){var g,m,f=c[d],p=this.attributes[f];a||(g=u[f]),m=g?g.buffer:e.createBuffer(),r.isDirty(wN(f))&&(e.bindBuffer(e.ARRAY_BUFFER,m),e.bufferData(e.ARRAY_BUFFER,p.value,this.dynamic?e.DYNAMIC_DRAW:e.STATIC_DRAW)),s[d]=new $q(f,p.type,m,p.size,p.semantic)}for(h=d;h<s.length;h++)e.deleteBuffer(s[h].buffer);s.length=d}this.isUseIndices()&&(t||a)&&(l||(l=new Yq(e.createBuffer()),o.indicesBuffer=l),l.count=this.indices.length,e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,l.buffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,this.indices,this.dynamic?e.DYNAMIC_DRAW:e.STATIC_DRAW))},dispose:function(e){var n=this._cache;n.use(e.__uid__);var t=n.get("chunks");if(t)for(var r=0;r<t.length;r++){for(var i=t[r],a=0;a<i.attributeBuffers.length;a++)e.gl.deleteBuffer(i.attributeBuffers[a].buffer);i.indicesBuffer&&e.gl.deleteBuffer(i.indicesBuffer.buffer)}if(this.__vaoCache){var s=e.getGLExtension("OES_vertex_array_object");for(var l in this.__vaoCache){var c=this.__vaoCache[l].vao;c&&s.deleteVertexArrayOES(c)}}this.__vaoCache={},n.deleteContext(e.__uid__)}});Object.defineProperty&&(Object.defineProperty(Ul.prototype,"vertexCount",{enumerable:!1,get:function(){var e=this.attributes[this.mainAttribute];return e||(e=this.attributes[this._attributeList[0]]),e&&e.value?e.value.length/e.size:0}}),Object.defineProperty(Ul.prototype,"triangleCount",{enumerable:!1,get:function(){var e=this.indices;return e?e.length/3:0}})),Ul.STATIC_DRAW=35044,Ul.DYNAMIC_DRAW=35048,Ul.STREAM_DRAW=35040,Ul.AttributeBuffer=$q,Ul.IndicesBuffer=Yq,Ul.Attribute=mp;const kh=Ul;var da=U.create,vp=U.add,Fh=U.set,il=kh.Attribute,zh=kh.extend(function(){return{attributes:{position:new il("position","float",3,"POSITION"),texcoord0:new il("texcoord0","float",2,"TEXCOORD_0"),texcoord1:new il("texcoord1","float",2,"TEXCOORD_1"),normal:new il("normal","float",3,"NORMAL"),tangent:new il("tangent","float",4,"TANGENT"),color:new il("color","float",4,"COLOR"),weight:new il("weight","float",3,"WEIGHT"),joint:new il("joint","float",4,"JOINT"),barycentric:new il("barycentric","float",3,null)},boundingBox:null}},{mainAttribute:"position",updateBoundingBox:function(){var e=this.boundingBox;e||(e=this.boundingBox=new ha);var n=this.attributes.position.value;if(n&&n.length){var t=e.min,r=e.max,i=t.array,a=r.array;U.set(i,n[0],n[1],n[2]),U.set(a,n[0],n[1],n[2]);for(var o=3;o<n.length;){var s=n[o++],l=n[o++],c=n[o++];s<i[0]&&(i[0]=s),l<i[1]&&(i[1]=l),c<i[2]&&(i[2]=c),s>a[0]&&(a[0]=s),l>a[1]&&(a[1]=l),c>a[2]&&(a[2]=c)}t._dirty=!0,r._dirty=!0}},generateVertexNormals:function(){if(this.vertexCount){var e=this.indices,n=this.attributes,t=n.position.value,r=n.normal.value;if(r&&r.length===t.length)for(var i=0;i<r.length;i++)r[i]=0;else r=n.normal.value=new Lr.Float32Array(t.length);for(var d,f,p,a=da(),o=da(),s=da(),l=da(),c=da(),u=da(),h=e?e.length:this.vertexCount,g=0;g<h;)for(e?(d=e[g++],f=e[g++],p=e[g++]):(d=g++,f=g++,p=g++),Fh(a,t[3*d],t[3*d+1],t[3*d+2]),Fh(o,t[3*f],t[3*f+1],t[3*f+2]),Fh(s,t[3*p],t[3*p+1],t[3*p+2]),U.sub(l,a,o),U.sub(c,o,s),U.cross(u,l,c),i=0;i<3;i++)r[3*d+i]=r[3*d+i]+u[i],r[3*f+i]=r[3*f+i]+u[i],r[3*p+i]=r[3*p+i]+u[i];for(i=0;i<r.length;)Fh(u,r[i],r[i+1],r[i+2]),U.normalize(u,u),r[i++]=u[0],r[i++]=u[1],r[i++]=u[2];this.dirty()}},generateFaceNormals:function(){if(this.vertexCount){this.isUniqueVertex()||this.generateUniqueVertex();var e=this.indices,n=this.attributes,t=n.position.value,r=n.normal.value,i=da(),a=da(),o=da(),s=da(),l=da(),c=da();r||(r=n.normal.value=new Float32Array(t.length));for(var h,d,f,u=e?e.length:this.vertexCount,p=0;p<u;){e?(h=e[p++],d=e[p++],f=e[p++]):(h=p++,d=p++,f=p++),Fh(i,t[3*h],t[3*h+1],t[3*h+2]),Fh(a,t[3*d],t[3*d+1],t[3*d+2]),Fh(o,t[3*f],t[3*f+1],t[3*f+2]),U.sub(s,i,a),U.sub(l,a,o),U.cross(c,s,l),U.normalize(c,c);for(var g=0;g<3;g++)r[3*h+g]=c[g],r[3*d+g]=c[g],r[3*f+g]=c[g]}this.dirty()}},generateTangents:function(){if(this.vertexCount){var e=this.vertexCount,n=this.attributes;n.tangent.value||(n.tangent.value=new Float32Array(4*e));var t=n.texcoord0.value,r=n.position.value,i=n.tangent.value,a=n.normal.value;if(!t)return void console.warn("Geometry without texcoords can't generate tangents.");for(var o=[],s=[],l=0;l<e;l++)o[l]=[0,0,0],s[l]=[0,0,0];var f,p,g,c=[0,0,0],u=[0,0,0],h=this.indices,d=h?h.length:this.vertexCount;for(l=0;l<d;){h?(f=h[l++],p=h[l++],g=h[l++]):(f=l++,p=l++,g=l++);var m=t[2*f],y=t[2*f+1],C=r[3*f],M=r[3*f+1],A=r[3*f+2],z=r[3*p]-C,L=r[3*g]-C,V=r[3*p+1]-M,F=r[3*g+1]-M,j=r[3*p+2]-A,Y=r[3*g+2]-A,se=t[2*p]-m,de=t[2*g]-m,we=t[2*p+1]-y,pe=t[2*g+1]-y,Le=1/(se*pe-we*de);c[0]=(pe*z-we*L)*Le,c[1]=(pe*V-we*F)*Le,c[2]=(pe*j-we*Y)*Le,u[0]=(se*L-de*z)*Le,u[1]=(se*F-de*V)*Le,u[2]=(se*Y-de*j)*Le,vp(o[f],o[f],c),vp(o[p],o[p],c),vp(o[g],o[g],c),vp(s[f],s[f],u),vp(s[p],s[p],u),vp(s[g],s[g],u)}var lt=da(),Ye=da(),Rt=da();for(l=0;l<e;l++){Rt[0]=a[3*l],Rt[1]=a[3*l+1],Rt[2]=a[3*l+2];var ct=o[l];U.scale(lt,Rt,U.dot(Rt,ct)),U.sub(lt,ct,lt),U.normalize(lt,lt),U.cross(Ye,Rt,ct),i[4*l]=lt[0],i[4*l+1]=lt[1],i[4*l+2]=lt[2],i[4*l+3]=U.dot(Ye,s[l])<0?-1:1}this.dirty()}},isUniqueVertex:function(){return!this.isUseIndices()||this.vertexCount===this.indices.length},generateUniqueVertex:function(){if(this.vertexCount&&this.indices){this.indices.length>65535&&(this.indices=new Lr.Uint32Array(this.indices));for(var e=this.attributes,n=this.indices,t=this.getEnabledAttributes(),r={},i=0;i<t.length;i++)r[a=t[i]]=e[a].value,e[a].init(this.indices.length);for(var o=0,s=0;s<n.length;s++){var l=n[s];for(i=0;i<t.length;i++)for(var a,c=e[a=t[i]].value,u=e[a].size,h=0;h<u;h++)c[o*u+h]=r[a][l*u+h];n[s]=o,o++}this.dirty()}},generateBarycentric:function(){if(this.vertexCount){this.isUniqueVertex()||this.generateUniqueVertex();var e=this.attributes,n=e.barycentric.value,t=this.indices;if(!n||n.length!==3*t.length){n=e.barycentric.value=new Float32Array(3*t.length);for(var r=0;r<(t?t.length:this.vertexCount/3);)for(var i=0;i<3;i++)n[3*(t?t[r++]:3*r+i)+i]=1;this.dirty()}}},applyTransform:function(e){var n=this.attributes,t=n.position.value,r=n.normal.value,i=n.tangent.value;e=e.array;var a=ce.create();ce.invert(a,e),ce.transpose(a,a);var o=U.transformMat4,s=U.forEach;s(t,3,0,null,o,e),r&&s(r,3,0,null,o,a),i&&s(i,4,0,null,o,a),this.boundingBox&&this.updateBoundingBox()},dispose:function(e){var n=this._cache;n.use(e.__uid__);var t=n.get("chunks");if(t)for(var r=0;r<t.length;r++){for(var i=t[r],a=0;a<i.attributeBuffers.length;a++)e.gl.deleteBuffer(i.attributeBuffers[a].buffer);i.indicesBuffer&&e.gl.deleteBuffer(i.indicesBuffer.buffer)}if(this.__vaoCache){var s=e.getGLExtension("OES_vertex_array_object");for(var l in this.__vaoCache){var c=this.__vaoCache[l].vao;c&&s.deleteVertexArrayOES(c)}}this.__vaoCache={},n.deleteContext(e.__uid__)}});zh.STATIC_DRAW=kh.STATIC_DRAW,zh.DYNAMIC_DRAW=kh.DYNAMIC_DRAW,zh.STREAM_DRAW=kh.STREAM_DRAW,zh.AttributeBuffer=kh.AttributeBuffer,zh.IndicesBuffer=kh.IndicesBuffer,zh.Attribute=il;const Qt=zh;var Cs="uniform vec3 ",xm="uniform float ",_p="@export clay.header.",yp="@end",_i=":unconfigurable;";const QOe=[_p+"directional_light",Cs+"directionalLightDirection[DIRECTIONAL_LIGHT_COUNT]"+_i,Cs+"directionalLightColor[DIRECTIONAL_LIGHT_COUNT]"+_i,yp,_p+"ambient_light",Cs+"ambientLightColor[AMBIENT_LIGHT_COUNT]"+_i,yp,_p+"ambient_sh_light",Cs+"ambientSHLightColor[AMBIENT_SH_LIGHT_COUNT]"+_i,Cs+"ambientSHLightCoefficients[AMBIENT_SH_LIGHT_COUNT * 9]"+_i,"vec3 calcAmbientSHLight(int idx, vec3 N) {\n int offset = 9 * idx;\n return ambientSHLightCoefficients[0]\n + ambientSHLightCoefficients[1] * N.x\n + ambientSHLightCoefficients[2] * N.y\n + ambientSHLightCoefficients[3] * N.z\n + ambientSHLightCoefficients[4] * N.x * N.z\n + ambientSHLightCoefficients[5] * N.z * N.y\n + ambientSHLightCoefficients[6] * N.y * N.x\n + ambientSHLightCoefficients[7] * (3.0 * N.z * N.z - 1.0)\n + ambientSHLightCoefficients[8] * (N.x * N.x - N.y * N.y);\n}",yp,_p+"ambient_cubemap_light",Cs+"ambientCubemapLightColor[AMBIENT_CUBEMAP_LIGHT_COUNT]"+_i,"uniform samplerCube ambientCubemapLightCubemap[AMBIENT_CUBEMAP_LIGHT_COUNT]"+_i,"uniform sampler2D ambientCubemapLightBRDFLookup[AMBIENT_CUBEMAP_LIGHT_COUNT]"+_i,yp,_p+"point_light",Cs+"pointLightPosition[POINT_LIGHT_COUNT]"+_i,xm+"pointLightRange[POINT_LIGHT_COUNT]"+_i,Cs+"pointLightColor[POINT_LIGHT_COUNT]"+_i,yp,_p+"spot_light",Cs+"spotLightPosition[SPOT_LIGHT_COUNT]"+_i,Cs+"spotLightDirection[SPOT_LIGHT_COUNT]"+_i,xm+"spotLightRange[SPOT_LIGHT_COUNT]"+_i,xm+"spotLightUmbraAngleCosine[SPOT_LIGHT_COUNT]"+_i,xm+"spotLightPenumbraAngleCosine[SPOT_LIGHT_COUNT]"+_i,xm+"spotLightFalloffFactor[SPOT_LIGHT_COUNT]"+_i,Cs+"spotLightColor[SPOT_LIGHT_COUNT]"+_i,yp].join("\n");ve.import(QOe);var JOe=rl.extend(function(){return{color:[1,1,1],intensity:1,castShadow:!0,shadowResolution:512,group:0}},{type:"",clone:function(){var e=rl.prototype.clone.call(this);return e.color=Array.prototype.slice.call(this.color),e.intensity=this.intensity,e.castShadow=this.castShadow,e.shadowResolution=this.shadowResolution,e}});const ws=JOe;var OC=function(e,n){this.normal=e||new fe(0,1,0),this.distance=n||0};OC.prototype={constructor:OC,distanceToPoint:function(e){return U.dot(e.array,this.normal.array)-this.distance},projectPoint:function(e,n){n||(n=new fe);var t=this.distanceToPoint(e);return U.scaleAndAdd(n.array,e.array,this.normal.array,-t),n._dirty=!0,n},normalize:function(){var e=1/U.len(this.normal.array);U.scale(this.normal.array,e),this.distance*=e},intersectFrustum:function(e){for(var n=e.vertices,t=this.normal.array,r=U.dot(n[0].array,t)>this.distance,i=1;i<8;i++)if(U.dot(n[i].array,t)>this.distance!=r)return!0},intersectLine:function(){var e=U.create();return function(n,t,r){var i=this.distanceToPoint(n),a=this.distanceToPoint(t);if(i>0&&a>0||i<0&&a<0)return null;var o=this.normal.array,s=this.distance,l=n.array;U.sub(e,t.array,n.array),U.normalize(e,e);var c=U.dot(o,e);if(0===c)return null;r||(r=new fe);var u=(U.dot(o,l)-s)/c;return U.scaleAndAdd(r.array,l,e,-u),r._dirty=!0,r}}(),applyTransform:function(){var e=ce.create(),n=be.create(),t=be.create();return t[3]=1,function(r){r=r.array,U.scale(t,this.normal.array,this.distance),be.transformMat4(t,t,r),this.distance=U.dot(t,this.normal.array),ce.invert(e,r),ce.transpose(e,e),n[3]=0,U.copy(n,this.normal.array),be.transformMat4(n,n,e),U.copy(this.normal.array,n)}}(),copy:function(e){U.copy(this.normal.array,e.normal.array),this.normal._dirty=!0,this.distance=e.distance},clone:function(){var e=new OC;return e.copy(this),e}};const Xq=OC;var Er=U.set,qq=U.copy,Zq=U.transformMat4,SN=Math.min,xN=Math.max,Kq=function(){this.planes=[];for(var e=0;e<6;e++)this.planes.push(new Xq);for(this.boundingBox=new ha,this.vertices=[],e=0;e<8;e++)this.vertices[e]=U.fromValues(0,0,0)};Kq.prototype={setFromProjection:function(e){var n=this.planes,t=e.array,r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],l=t[5],c=t[6],u=t[7],h=t[8],d=t[9],f=t[10],p=t[11],g=t[12],m=t[13],v=t[14],_=t[15];Er(n[0].normal.array,o-r,u-s,p-h),n[0].distance=-(_-g),n[0].normalize(),Er(n[1].normal.array,o+r,u+s,p+h),n[1].distance=-(_+g),n[1].normalize(),Er(n[2].normal.array,o+i,u+l,p+d),n[2].distance=-(_+m),n[2].normalize(),Er(n[3].normal.array,o-i,u-l,p-d),n[3].distance=-(_-m),n[3].normalize(),Er(n[4].normal.array,o-a,u-c,p-f),n[4].distance=-(_-v),n[4].normalize(),Er(n[5].normal.array,o+a,u+c,p+f),n[5].distance=-(_+v),n[5].normalize();var y=this.boundingBox,b=this.vertices;if(0===_){var w=l/r,C=-v/(f-1),S=-v/(f+1),x=-S/l,M=-C/l;y.min.set(-x*w,-x,S),y.max.set(x*w,x,C),Er(b[0],-x*w,-x,S),Er(b[1],-x*w,x,S),Er(b[2],x*w,-x,S),Er(b[3],x*w,x,S),Er(b[4],-M*w,-M,C),Er(b[5],-M*w,M,C),Er(b[6],M*w,-M,C),Er(b[7],M*w,M,C)}else{var E=(-1-g)/r,T=(1-g)/r,A=(1-m)/l,N=(-1-m)/l,R=(-1-v)/f,z=(1-v)/f;y.min.set(Math.min(E,T),Math.min(N,A),Math.min(z,R)),y.max.set(Math.max(T,E),Math.max(A,N),Math.max(R,z));var L=y.min.array,V=y.max.array;Er(b[0],L[0],L[1],L[2]),Er(b[1],L[0],V[1],L[2]),Er(b[2],V[0],L[1],L[2]),Er(b[3],V[0],V[1],L[2]),Er(b[4],L[0],L[1],V[2]),Er(b[5],L[0],V[1],V[2]),Er(b[6],V[0],L[1],V[2]),Er(b[7],V[0],V[1],V[2])}},getTransformedBoundingBox:function(){var e=U.create();return function(n,t){var r=this.vertices,i=t.array,a=n.min,o=n.max,s=a.array,l=o.array,c=r[0];Zq(e,c,i),qq(s,e),qq(l,e);for(var u=1;u<8;u++)Zq(e,c=r[u],i),s[0]=SN(e[0],s[0]),s[1]=SN(e[1],s[1]),s[2]=SN(e[2],s[2]),l[0]=xN(e[0],l[0]),l[1]=xN(e[1],l[1]),l[2]=xN(e[2],l[2]);return a._dirty=!0,o._dirty=!0,n}}()};const MN=Kq;var eRe=rl.extend(function(){return{projectionMatrix:new Oe,invProjectionMatrix:new Oe,viewMatrix:new Oe,frustum:new MN}},function(){this.update(!0)},{update:function(e){rl.prototype.update.call(this,e),Oe.invert(this.viewMatrix,this.worldTransform),this.updateProjectionMatrix(),Oe.invert(this.invProjectionMatrix,this.projectionMatrix),this.frustum.setFromProjection(this.projectionMatrix)},setViewMatrix:function(e){Oe.copy(this.viewMatrix,e),Oe.invert(this.worldTransform,e),this.decomposeWorldTransform()},decomposeProjectionMatrix:function(){},setProjectionMatrix:function(e){Oe.copy(this.projectionMatrix,e),Oe.invert(this.invProjectionMatrix,e),this.decomposeProjectionMatrix()},updateProjectionMatrix:function(){},castRay:function(){var e=be.create();return function(n,t){var r=void 0!==t?t:new TC,i=n.array[0],a=n.array[1];return be.set(e,i,a,-1,1),be.transformMat4(e,e,this.invProjectionMatrix.array),be.transformMat4(e,e,this.worldTransform.array),U.scale(r.origin.array,e,1/e[3]),be.set(e,i,a,1,1),be.transformMat4(e,e,this.invProjectionMatrix.array),be.transformMat4(e,e,this.worldTransform.array),U.scale(e,e,1/e[3]),U.sub(r.direction.array,e,r.origin.array),U.normalize(r.direction.array,r.direction.array),r.direction._dirty=!0,r.origin._dirty=!0,r}}()});const bp=eRe;var tRe=ce.create(),Qq=ce.create(),TN={};function nRe(e){var n=[],t=Object.keys(e);t.sort();for(var r=0;r<t.length;r++){var i=t[r];n.push(i+" "+e[i])}var a=n.join("\n");if(TN[a])return TN[a];var o=mi.genGUID();return TN[a]=o,o}function RC(){this.opaque=[],this.transparent=[],this._opaqueCount=0,this._transparentCount=0}RC.prototype.startCount=function(){this._opaqueCount=0,this._transparentCount=0},RC.prototype.add=function(e,n){n?this.transparent[this._transparentCount++]=e:this.opaque[this._opaqueCount++]=e},RC.prototype.endCount=function(){this.transparent.length=this._transparentCount,this.opaque.length=this._opaqueCount};var rRe=rl.extend(function(){return{material:null,lights:[],viewBoundingBoxLastFrame:new ha,shadowUniforms:{},_cameraList:[],_lightUniforms:{},_previousLightNumber:{},_lightNumber:{},_lightProgramKeys:{},_nodeRepository:{},_renderLists:new mq(20)}},function(){this._scene=this},{addToScene:function(e){e instanceof bp?(this._cameraList.length>0&&console.warn("Found multiple camera in one scene. Use the fist one."),this._cameraList.push(e)):e instanceof ws&&this.lights.push(e),e.name&&(this._nodeRepository[e.name]=e)},removeFromScene:function(e){var n;e instanceof bp?(n=this._cameraList.indexOf(e))>=0&&this._cameraList.splice(n,1):e instanceof ws&&(n=this.lights.indexOf(e))>=0&&this.lights.splice(n,1),e.name&&delete this._nodeRepository[e.name]},getNode:function(e){return this._nodeRepository[e]},setMainCamera:function(e){var n=this._cameraList.indexOf(e);n>=0&&this._cameraList.splice(n,1),this._cameraList.unshift(e)},getMainCamera:function(){return this._cameraList[0]},getLights:function(){return this.lights},updateLights:function(){var e=this.lights;this._previousLightNumber=this._lightNumber;for(var n={},t=0;t<e.length;t++){var r=e[t];if(!r.invisible){var i=r.group;n[i]||(n[i]={}),n[i][r.type]=n[i][r.type]||0,n[i][r.type]++}}for(var a in this._lightNumber=n,n)this._lightProgramKeys[a]=nRe(n[a]);this._updateLightUniforms()},cloneNode:function(e){var n=e.clone(),t={};return function r(i,a){t[i.__uid__]=a;for(var o=0;o<i._children.length;o++)r(i._children[o],a._children[o])}(e,n),n.traverse(function(i){i.skeleton&&(i.skeleton=i.skeleton.clone(t)),i.material&&(i.material=i.material.clone())}),n},updateRenderList:function(e,n){var t=e.__uid__,r=this._renderLists.get(t);return r||(r=new RC,this._renderLists.put(t,r)),r.startCount(),n&&(this.viewBoundingBoxLastFrame.min.set(1/0,1/0,1/0),this.viewBoundingBoxLastFrame.max.set(-1/0,-1/0,-1/0)),this._doUpdateRenderList(this,e,this.material&&this.material.transparent||!1,r,n),r.endCount(),r},getRenderList:function(e){return this._renderLists.get(e.__uid__)},_doUpdateRenderList:function(e,n,t,r,i){if(!e.invisible)for(var a=0;a<e._children.length;a++){var o=e._children[a];if(o.isRenderable()){var s=o.isSkinnedMesh()?tRe:o.worldTransform.array,l=o.geometry;ce.multiplyAffine(Qq,n.viewMatrix.array,s),(i&&!l.boundingBox||!this.isFrustumCulled(o,n,Qq))&&r.add(o,o.material.transparent||t)}o._children.length>0&&this._doUpdateRenderList(o,n,t,r,i)}},isFrustumCulled:function(){var e=new ha,n=new Oe;return function(t,r,i){var a=t.boundingBox;if(a||(a=t.skeleton&&t.skeleton.boundingBox?t.skeleton.boundingBox:t.geometry.boundingBox),!a)return!1;if(n.array=i,e.transformFrom(a,n),t.castShadow&&this.viewBoundingBoxLastFrame.union(e),t.frustumCulling){if(!e.intersectBoundingBox(r.frustum.boundingBox))return!0;n.array=r.projectionMatrix.array,e.max.array[2]>0&&e.min.array[2]<0&&(e.max.array[2]=-1e-20),e.applyProjection(n);var o=e.min.array,s=e.max.array;if(s[0]<-1||o[0]>1||s[1]<-1||o[1]>1||s[2]<-1||o[2]>1)return!0}return!1}}(),_updateLightUniforms:function(){var e=this.lights;e.sort(iRe);var n=this._lightUniforms;for(var t in n)for(var r in n[t])n[t][r].value.length=0;for(var i=0;i<e.length;i++){var a=e[i];if(!a.invisible)for(var r in t=a.group,a.uniformTemplates){var o=a.uniformTemplates[r],s=o.value(a);if(null!=s){n[t]||(n[t]={}),n[t][r]||(n[t][r]={type:"",value:[]});var l=n[t][r];switch(l.type=o.type+"v",o.type){case"1i":case"1f":case"t":l.value.push(s);break;case"2f":case"3f":case"4f":for(var c=0;c<s.length;c++)l.value.push(s[c]);break;default:console.error("Unkown light uniform type "+o.type)}}}}},getLightGroups:function(){var e=[];for(var n in this._lightNumber)e.push(n);return e},getNumberChangedLightGroups:function(){var e=[];for(var n in this._lightNumber)this.isLightNumberChanged(n)&&e.push(n);return e},isLightNumberChanged:function(e){var n=this._previousLightNumber,t=this._lightNumber;for(var r in t[e])if(!n[e]||t[e][r]!==n[e][r])return!0;for(var r in n[e])if(!t[e]||t[e][r]!==n[e][r])return!0;return!1},getLightsNumbers:function(e){return this._lightNumber[e]},getProgramKey:function(e){return this._lightProgramKeys[e]},setLightUniforms:function(){function e(n,t,r){for(var i in n){var a=n[i];if("tv"===a.type){if(!t.hasUniform(i))continue;for(var o=[],s=0;s<a.value.length;s++){var c=t.takeCurrentTextureSlot(r,a.value[s]);o.push(c)}t.setUniform(r.gl,"1iv",i,o)}else t.setUniform(r.gl,a.type,i,a.value)}}return function(n,t,r){e(this._lightUniforms[t],n,r),e(this.shadowUniforms,n,r)}}(),dispose:function(){this.material=null,this._opaqueList=[],this._transparentList=[],this.lights=[],this._lightUniforms={},this._lightNumber={},this._nodeRepository={}}});function iRe(e,n){if(n.castShadow&&!e.castShadow)return!0}const zc=rRe;var LC=Uq.isPowerOfTwo,aRe=["px","nx","py","ny","pz","nz"],DN=Be.extend(function(){return{image:{px:null,nx:null,py:null,ny:null,pz:null,nz:null},pixels:{px:null,nx:null,py:null,ny:null,pz:null,nz:null},mipmaps:[]}},{textureType:"textureCube",update:function(e){var n=e.gl;n.bindTexture(n.TEXTURE_CUBE_MAP,this._cache.get("webgl_texture")),this.updateCommon(e);var t=this.format,r=this.type;n.texParameteri(n.TEXTURE_CUBE_MAP,n.TEXTURE_WRAP_S,this.getAvailableWrapS()),n.texParameteri(n.TEXTURE_CUBE_MAP,n.TEXTURE_WRAP_T,this.getAvailableWrapT()),n.texParameteri(n.TEXTURE_CUBE_MAP,n.TEXTURE_MAG_FILTER,this.getAvailableMagFilter()),n.texParameteri(n.TEXTURE_CUBE_MAP,n.TEXTURE_MIN_FILTER,this.getAvailableMinFilter());var i=e.getGLExtension("EXT_texture_filter_anisotropic");if(i&&this.anisotropic>1&&n.texParameterf(n.TEXTURE_CUBE_MAP,i.TEXTURE_MAX_ANISOTROPY_EXT,this.anisotropic),36193===r&&(e.getGLExtension("OES_texture_half_float")||(r=5126)),this.mipmaps.length)for(var o=this.width,s=this.height,l=0;l<this.mipmaps.length;l++)this._updateTextureData(n,this.mipmaps[l],l,o,s,t,r),o/=2,s/=2;else this._updateTextureData(n,this,0,this.width,this.height,t,r),!this.NPOT&&this.useMipmap&&n.generateMipmap(n.TEXTURE_CUBE_MAP);n.bindTexture(n.TEXTURE_CUBE_MAP,null)},_updateTextureData:function(e,n,t,r,i,a,o){for(var s=0;s<6;s++){var l=aRe[s],c=n.image&&n.image[l];c?e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+s,t,a,a,o,c):e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+s,t,a,r,i,0,a,o,n.pixels&&n.pixels[l])}},generateMipmap:function(e){var n=e.gl;this.useMipmap&&!this.NPOT&&(n.bindTexture(n.TEXTURE_CUBE_MAP,this._cache.get("webgl_texture")),n.generateMipmap(n.TEXTURE_CUBE_MAP))},bind:function(e){e.gl.bindTexture(e.gl.TEXTURE_CUBE_MAP,this.getWebGLTexture(e))},unbind:function(e){e.gl.bindTexture(e.gl.TEXTURE_CUBE_MAP,null)},isPowerOfTwo:function(){return this.image.px?LC(this.image.px.width)&&LC(this.image.px.height):LC(this.width)&&LC(this.height)},isRenderable:function(){return this.image.px?Cp(this.image.px)&&Cp(this.image.nx)&&Cp(this.image.py)&&Cp(this.image.ny)&&Cp(this.image.pz)&&Cp(this.image.nz):!(!this.width||!this.height)},load:function(e,n){var t=0,r=this;return mi.each(e,function(i,a){var o=Lr.createImage();n&&(o.crossOrigin=n),o.onload=function(){0==--t&&(r.dirty(),r.trigger("success",r))},o.onerror=function(){t--},t++,o.src=i,r.image[a]=o}),this}});function Cp(e){return e.width>0&&e.height>0}Object.defineProperty(DN.prototype,"width",{get:function(){return this.image&&this.image.px?this.image.px.width:this._width},set:function(e){this.image&&this.image.px?console.warn("Texture from image can't set width"):(this._width!==e&&this.dirty(),this._width=e)}}),Object.defineProperty(DN.prototype,"height",{get:function(){return this.image&&this.image.px?this.image.px.height:this._height},set:function(e){this.image&&this.image.px?console.warn("Texture from image can't set height"):(this._height!==e&&this.dirty(),this._height=e)}});const Mm=DN;var oRe=bp.extend({fov:50,aspect:1,near:.1,far:2e3},{updateProjectionMatrix:function(){var e=this.fov/180*Math.PI;this.projectionMatrix.perspective(e,this.aspect,this.near,this.far)},decomposeProjectionMatrix:function(){var e=this.projectionMatrix.array,n=2*Math.atan(1/e[5]);this.fov=n/Math.PI*180,this.aspect=e[5]/e[0],this.near=e[14]/(e[10]-1),this.far=e[14]/(e[10]+1)},clone:function(){var e=bp.prototype.clone.call(this);return e.fov=this.fov,e.aspect=this.aspect,e.near=this.near,e.far=this.far,e}});const ci=oRe;var kC="framebuffer",Gl="renderbuffer",Jq=Gl+"_width",eZ=Gl+"_height",EN=Gl+"_attached",AN="depthtexture_attached",Bh=36160,Tm=36161,Dm=36096,Em=ca.extend({depthBuffer:!0,viewport:null,_width:0,_height:0,_textures:null,_boundRenderer:null},function(){this._cache=new bN,this._textures={}},{getTextureWidth:function(){return this._width},getTextureHeight:function(){return this._height},bind:function(e){if(e.__currentFrameBuffer){if(e.__currentFrameBuffer===this)return;console.warn("Renderer already bound with another framebuffer. Unbind it first")}e.__currentFrameBuffer=this;var n=e.gl;n.bindFramebuffer(Bh,this._getFrameBufferGL(e)),this._boundRenderer=e;var t=this._cache;t.put("viewport",e.viewport);var i,a,r=!1;for(var o in this._textures){r=!0;var s=this._textures[o];s&&(i=s.texture.width,a=s.texture.height,this._doAttach(e,s.texture,o,s.target))}this._width=i,this._height=a,!r&&this.depthBuffer&&console.error("Must attach texture before bind, or renderbuffer may have incorrect width and height."),this.viewport?e.setViewport(this.viewport):e.setViewport(0,0,i,a,1);var l=t.get("attached_textures");if(l)for(var o in l)this._textures[o]||this._doDetach(n,o,l[o]);if(!t.get(AN)&&this.depthBuffer){t.miss(Gl)&&t.put(Gl,n.createRenderbuffer());var u=t.get(Gl);(i!==t.get(Jq)||a!==t.get(eZ))&&(n.bindRenderbuffer(Tm,u),n.renderbufferStorage(Tm,n.DEPTH_COMPONENT16,i,a),t.put(Jq,i),t.put(eZ,a),n.bindRenderbuffer(Tm,null)),t.get(EN)||(n.framebufferRenderbuffer(Bh,Dm,Tm,u),t.put(EN,!0))}},unbind:function(e){e.__currentFrameBuffer=null,e.gl.bindFramebuffer(Bh,null),this._boundRenderer=null,this._cache.use(e.__uid__);var t=this._cache.get("viewport");t&&e.setViewport(t),this.updateMipmap(e)},updateMipmap:function(e){var n=e.gl;for(var t in this._textures){var r=this._textures[t];if(r){var i=r.texture;if(!i.NPOT&&i.useMipmap&&i.minFilter===Be.LINEAR_MIPMAP_LINEAR){var a="textureCube"===i.textureType?34067:3553;n.bindTexture(a,i.getWebGLTexture(e)),n.generateMipmap(a),n.bindTexture(a,null)}}}},checkStatus:function(e){return e.checkFramebufferStatus(Bh)},_getFrameBufferGL:function(e){var n=this._cache;return n.use(e.__uid__),n.miss(kC)&&n.put(kC,e.gl.createFramebuffer()),n.get(kC)},attach:function(e,n,t){if(!e.width)throw new Error("The texture attached to color buffer is not a valid.");n=n||36064,t=t||3553;var a,r=this._boundRenderer;if(r&&r.gl){var o=this._cache;o.use(r.__uid__),a=o.get("attached_textures")}var s=this._textures[n];if(!s||s.target!==t||s.texture!==e||!a||null==a[n]){var l=!0;r&&(l=this._doAttach(r,e,n,t),this.viewport||r.setViewport(0,0,e.width,e.height,1)),l&&(this._textures[n]=this._textures[n]||{},this._textures[n].texture=e,this._textures[n].target=t)}},_doAttach:function(e,n,t,r){var i=e.gl,a=n.getWebGLTexture(e),o=this._cache.get("attached_textures");if(o&&o[t]){var s=o[t];if(s.texture===n&&s.target===r)return}var l=!0;if(((t=+t)===Dm||33306===t)&&(e.getGLExtension("WEBGL_depth_texture")||(console.error("Depth texture is not supported by the browser"),l=!1),6402!==n.format&&34041!==n.format&&(console.error("The texture attached to depth buffer is not a valid."),l=!1),l)){var u=this._cache.get(Gl);u&&(i.framebufferRenderbuffer(Bh,Dm,Tm,null),i.deleteRenderbuffer(u),this._cache.put(Gl,!1)),this._cache.put(EN,!1),this._cache.put(AN,!0)}return i.framebufferTexture2D(Bh,t,r,a,0),o||this._cache.put("attached_textures",o={}),o[t]=o[t]||{},o[t].texture=n,o[t].target=r,l},_doDetach:function(e,n,t){e.framebufferTexture2D(Bh,n,t,null,0);var r=this._cache.get("attached_textures");r&&r[n]&&(r[n]=null),(n===Dm||33306===n)&&this._cache.put(AN,!1)},detach:function(e,n){this._textures[e]=null,this._boundRenderer&&(this._cache.use(this._boundRenderer.__uid__),this._doDetach(this._boundRenderer.gl,e,n))},dispose:function(e){var n=e.gl,t=this._cache;t.use(e.__uid__);var r=t.get(Gl);r&&n.deleteRenderbuffer(r);var i=t.get(kC);i&&n.deleteFramebuffer(i),t.deleteContext(e.__uid__),this._textures={}}});Em.DEPTH_ATTACHMENT=Dm,Em.COLOR_ATTACHMENT0=36064,Em.STENCIL_ATTACHMENT=36128,Em.DEPTH_STENCIL_ATTACHMENT=33306;const yi=Em;var sRe=["px","nx","py","ny","pz","nz"],lRe=ca.extend(function(){var e={position:new fe,far:1e3,near:.1,texture:null,shadowMapPass:null},n=e._cameras={px:new ci({fov:90}),nx:new ci({fov:90}),py:new ci({fov:90}),ny:new ci({fov:90}),pz:new ci({fov:90}),nz:new ci({fov:90})};return n.px.lookAt(fe.POSITIVE_X,fe.NEGATIVE_Y),n.nx.lookAt(fe.NEGATIVE_X,fe.NEGATIVE_Y),n.py.lookAt(fe.POSITIVE_Y,fe.POSITIVE_Z),n.ny.lookAt(fe.NEGATIVE_Y,fe.NEGATIVE_Z),n.pz.lookAt(fe.POSITIVE_Z,fe.NEGATIVE_Y),n.nz.lookAt(fe.NEGATIVE_Z,fe.NEGATIVE_Y),e._frameBuffer=new yi,e},{getCamera:function(e){return this._cameras[e]},render:function(e,n,t){var r=e.gl;t||n.update();for(var i=this.texture.width,a=2*Math.atan(i/(i-.5))/Math.PI*180,o=0;o<6;o++){var l=this._cameras[sRe[o]];if(fe.copy(l.position,this.position),l.far=this.far,l.near=this.near,l.fov=a,this.shadowMapPass){l.update();var c=n.getBoundingBox();c.applyTransform(l.viewMatrix),n.viewBoundingBoxLastFrame.copy(c),this.shadowMapPass.render(e,n,l,!0)}this._frameBuffer.attach(this.texture,r.COLOR_ATTACHMENT0,r.TEXTURE_CUBE_MAP_POSITIVE_X+o),this._frameBuffer.bind(e),e.render(n,l,!0),this._frameBuffer.unbind(e)}},dispose:function(e){this._frameBuffer.dispose(e)}});const NN=lRe;var cRe=Qt.extend({dynamic:!1,widthSegments:1,heightSegments:1},function(){this.build()},{build:function(){for(var e=this.heightSegments,n=this.widthSegments,t=this.attributes,r=[],i=[],a=[],o=[],s=0;s<=e;s++)for(var l=s/e,c=0;c<=n;c++){var u=c/n;if(r.push([2*u-1,2*l-1,0]),i&&i.push([u,l]),a&&a.push([0,0,1]),c<n&&s<e){var h=c+s*(n+1);o.push([h,h+1,h+n+1]),o.push([h+n+1,h+1,h+n+2])}}t.position.fromArray(r),t.texcoord0.fromArray(i),t.normal.fromArray(a),this.initIndicesFromArray(o),this.boundingBox=new ha,this.boundingBox.min.set(-1,-1,0),this.boundingBox.max.set(1,1,0)}});const FC=cRe;var hr=new Oe,uRe=Qt.extend({dynamic:!1,widthSegments:1,heightSegments:1,depthSegments:1,inside:!1},function(){this.build()},{build:function(){var e={px:wp("px",this.depthSegments,this.heightSegments),nx:wp("nx",this.depthSegments,this.heightSegments),py:wp("py",this.widthSegments,this.depthSegments),ny:wp("ny",this.widthSegments,this.depthSegments),pz:wp("pz",this.widthSegments,this.heightSegments),nz:wp("nz",this.widthSegments,this.heightSegments)},n=["position","texcoord0","normal"],t=0,r=0;for(var i in e)t+=e[i].vertexCount,r+=e[i].indices.length;for(var a=0;a<n.length;a++)this.attributes[n[a]].init(t);this.indices=new Lr.Uint16Array(r);var o=0,s=0;for(var i in e){var l=e[i];for(a=0;a<n.length;a++)for(var c=n[a],u=l.attributes[c].value,h=l.attributes[c].size,d="normal"===c,f=0;f<u.length;f++){var p=u[f];this.inside&&d&&(p=-p),this.attributes[c].value[f+h*s]=p}var g=l.indices.length;for(f=0;f<l.indices.length;f++)this.indices[f+o]=s+l.indices[this.inside?g-f-1:f];o+=l.indices.length,s+=l.vertexCount}this.boundingBox=new ha,this.boundingBox.max.set(1,1,1),this.boundingBox.min.set(-1,-1,-1)}});function wp(e,n,t){hr.identity();var r=new FC({widthSegments:n,heightSegments:t});switch(e){case"px":Oe.translate(hr,hr,fe.POSITIVE_X),Oe.rotateY(hr,hr,Math.PI/2);break;case"nx":Oe.translate(hr,hr,fe.NEGATIVE_X),Oe.rotateY(hr,hr,-Math.PI/2);break;case"py":Oe.translate(hr,hr,fe.POSITIVE_Y),Oe.rotateX(hr,hr,-Math.PI/2);break;case"ny":Oe.translate(hr,hr,fe.NEGATIVE_Y),Oe.rotateX(hr,hr,Math.PI/2);break;case"pz":Oe.translate(hr,hr,fe.POSITIVE_Z);break;case"nz":Oe.translate(hr,hr,fe.NEGATIVE_Z),Oe.rotateY(hr,hr,Math.PI)}return r.applyTransform(hr),r}const nZ=uRe;ve.import("@export clay.skybox.vertex\n#define SHADER_NAME skybox\nuniform mat4 world : WORLD;\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nattribute vec3 position : POSITION;\nvarying vec3 v_WorldPosition;\nvoid main()\n{\n v_WorldPosition = (world * vec4(position, 1.0)).xyz;\n gl_Position = worldViewProjection * vec4(position, 1.0);\n}\n@end\n@export clay.skybox.fragment\n#define PI 3.1415926\nuniform mat4 viewInverse : VIEWINVERSE;\n#ifdef EQUIRECTANGULAR\nuniform sampler2D environmentMap;\n#else\nuniform samplerCube environmentMap;\n#endif\nuniform float lod: 0.0;\nvarying vec3 v_WorldPosition;\n@import clay.util.rgbm\n@import clay.util.srgb\n@import clay.util.ACES\nvoid main()\n{\n vec3 eyePos = viewInverse[3].xyz;\n vec3 V = normalize(v_WorldPosition - eyePos);\n#ifdef EQUIRECTANGULAR\n float phi = acos(V.y);\n float theta = atan(-V.x, V.z) + PI * 0.5;\n vec2 uv = vec2(theta / 2.0 / PI, phi / PI);\n vec4 texel = decodeHDR(texture2D(environmentMap, fract(uv)));\n#else\n #if defined(LOD) || defined(SUPPORT_TEXTURE_LOD)\n vec4 texel = decodeHDR(textureCubeLodEXT(environmentMap, V, lod));\n #else\n vec4 texel = decodeHDR(textureCube(environmentMap, V));\n #endif\n#endif\n#ifdef SRGB_DECODE\n texel = sRGBToLinear(texel);\n#endif\n#ifdef TONEMAPPING\n texel.rgb = ACESToneMapping(texel.rgb);\n#endif\n#ifdef SRGB_ENCODE\n texel = linearTosRGB(texel);\n#endif\n gl_FragColor = encodeHDR(vec4(texel.rgb, 1.0));\n}\n@end");var dRe=Lh.extend(function(){var e=new ve({vertex:ve.source("clay.skybox.vertex"),fragment:ve.source("clay.skybox.fragment")}),n=new Fo({shader:e,depthMask:!1});return{scene:null,geometry:new nZ,material:n,environmentMap:null,culling:!1,_dummyCamera:new ci}},function(){var e=this.scene;e&&this.attachScene(e),this.environmentMap&&this.setEnvironmentMap(this.environmentMap)},{attachScene:function(e){this.scene&&this.detachScene(),e.skybox=this,this.scene=e,e.on("beforerender",this._beforeRenderScene,this)},detachScene:function(){this.scene&&(this.scene.off("beforerender",this._beforeRenderScene),this.scene.skybox=null),this.scene=null},dispose:function(e){this.detachScene(),this.geometry.dispose(e)},setEnvironmentMap:function(e){"texture2D"===e.textureType?(this.material.define("EQUIRECTANGULAR"),e.minFilter=Be.LINEAR):this.material.undefine("EQUIRECTANGULAR"),this.material.set("environmentMap",e)},getEnvironmentMap:function(){return this.material.get("environmentMap")},_beforeRenderScene:function(e,n,t){this.renderSkybox(e,t)},renderSkybox:function(e,n){var t=this._dummyCamera;t.aspect=e.getViewportAspect(),t.fov=n.fov||50,t.updateProjectionMatrix(),Oe.invert(t.invProjectionMatrix,t.projectionMatrix),t.worldTransform.copy(n.worldTransform),t.viewMatrix.copy(n.viewMatrix),this.position.copy(n.getWorldPosition()),this.update(),e.gl.disable(e.gl.BLEND),this.material.get("lod")>0?this.material.define("fragment","LOD"):this.material.undefine("fragment","LOD"),e.renderPass([this],t)}});const zC=dRe,rZ=zC;function IN(e){return e.charCodeAt(0)+(e.charCodeAt(1)<<8)+(e.charCodeAt(2)<<16)+(e.charCodeAt(3)<<24)}var _Re=IN("DXT1"),yRe=IN("DXT3"),bRe=IN("DXT5"),NRe={parse:function(e,n){var t=new Int32Array(e,0,31);if(542327876!==t[0]||4&!t(20))return null;var l,c,r=t(21),i=t[4],a=t[3],o=512&t[28],s=131072&t[2];switch(r){case _Re:l=8,c=Be.COMPRESSED_RGB_S3TC_DXT1_EXT;break;case yRe:l=16,c=Be.COMPRESSED_RGBA_S3TC_DXT3_EXT;break;case bRe:l=16,c=Be.COMPRESSED_RGBA_S3TC_DXT5_EXT;break;default:return null}var u=t[1]+4,h=o?6:1,d=1;s&&(d=Math.max(1,t[7]));for(var f=[],p=0;p<h;p++){var g=i,m=a;f[p]=new yt({width:g,height:m,format:c});for(var v=[],_=0;_<d;_++){var y=Math.max(4,g)/4*Math.max(4,m)/4*l,b=new Uint8Array(e,u,y);u+=y,g*=.5,m*=.5,v[_]=b}f[p].pixels=v[0],s&&(f[p].mipmaps=v)}if(!n)return f[0];n.width=f[0].width,n.height=f[0].height,n.format=f[0].format,n.pixels=f[0].pixels,n.mipmaps=f[0].mipmaps}};const IRe=NRe;var BC=String.fromCharCode;function RRe(e,n,t,r){if(e[3]>0){var i=Math.pow(2,e[3]-128-8+r);n[t+0]=e[0]*i,n[t+1]=e[1]*i,n[t+2]=e[2]*i}else n[t+0]=0,n[t+1]=0,n[t+2]=0;return n[t+3]=1,n}function kRe(e,n){n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3]}function iZ(e,n,t,r){for(var i=0,a=0,o=r;o>0;)if(e[a][0]=n[t++],e[a][1]=n[t++],e[a][2]=n[t++],e[a][3]=n[t++],1===e[a][0]&&1===e[a][1]&&1===e[a][2]){for(var s=e[a][3]<<i>>>0;s>0;s--)kRe(e[a-1],e[a]),a++,o--;i+=8}else a++,o--,i=0;return t}function FRe(e,n,t,r){if(r<8|r>32767)return iZ(e,n,t,r);if(2!=(i=n[t++]))return iZ(e,n,t-1,r);if(e[0][1]=n[t++],e[0][2]=n[t++],i=n[t++],(e[0][2]<<8>>>0|i)>>>0!==r)return null;for(var i=0;i<4;i++)for(var a=0;a<r;){var o=n[t++];if(o>128){o=(127&o)>>>0;for(var s=n[t++];o--;)e[a++][i]=s}else for(;o--;)e[a++][i]=n[t++]}return t}var zRe={parseRGBE:function(e,n,t){null==t&&(t=0);var r=new Uint8Array(e),i=r.length;if("#?"===function LRe(e,n,t){for(var r="",i=n;i<t;i++)r+=BC(e[i]);return r}(r,0,2)){for(var a=2;a<i&&("\n"!==BC(r[a])||"\n"!==BC(r[a+1]));a++);if(!(a>=i)){a+=2;for(var o="";a<i;a++){var s=BC(r[a]);if("\n"===s)break;o+=s}var l=o.split(" "),c=parseInt(l[1]),u=parseInt(l[3]);if(u&&c){for(var h=a+1,d=[],f=0;f<u;f++){d[f]=[];for(var p=0;p<4;p++)d[f][p]=0}for(var g=new Float32Array(u*c*4),m=0,v=0;v<c;v++){if(!(h=FRe(d,r,h,u)))return null;for(f=0;f<u;f++)RRe(d[f],g,m,t),m+=4}return n||(n=new yt),n.width=u,n.height=c,n.pixels=g,n.type=Be.FLOAT,n}}}},parseRGBEFromPNG:function(e){}};const BRe=zRe;var VC={loadTexture:function(e,n,t,r){var i;if("function"==typeof n?(r=t=n,n={}):n=n||{},"string"==typeof e){if(e.match(/.hdr$/)||"hdr"===n.fileType)return i=new yt({width:0,height:0,sRGB:!1}),VC._fetchTexture(e,function(a){BRe.parseRGBE(a,i,n.exposure),i.dirty(),t&&t(i)},r),i;e.match(/.dds$/)||"dds"===n.fileType?(i=new yt({width:0,height:0}),VC._fetchTexture(e,function(a){IRe.parse(a,i),i.dirty(),t&&t(i)},r)):((i=new yt).load(e),i.success(t),i.error(r))}else"object"==typeof e&&typeof e.px<"u"&&((i=new Mm).load(e),i.success(t),i.error(r));return i},loadPanorama:function(e,n,t,r,i,a){var o=this;"function"==typeof r?(a=i=r,r={}):r=r||{},VC.loadTexture(n,r,function(s){s.flipY=r.flipY||!1,o.panoramaToCubeMap(e,s,t,r),s.dispose(e),i&&i(t)},a)},panoramaToCubeMap:function(e,n,t,r){var i=new NN,a=new rZ({scene:new zc});return a.setEnvironmentMap(n),(r=r||{}).encodeRGBM&&a.material.define("fragment","RGBM_ENCODE"),t.sRGB=n.sRGB,i.texture=t,i.render(e,a.scene),i.texture=null,i.dispose(e),t},heightToNormal:function(e,n){var t=document.createElement("canvas"),r=t.width=e.width,i=t.height=e.height,a=t.getContext("2d");a.drawImage(e,0,0,r,i),n=n||!1;for(var o=a.getImageData(0,0,r,i),s=a.createImageData(r,i),l=0;l<o.data.length;l+=4){if(n){var u=o.data[l+1],h=o.data[l+2];if(Math.abs(o.data[l]-u)+Math.abs(u-h)>20)return console.warn("Given image is not a height map"),e}var f,p,g,m;l%(4*r)==0?(f=o.data[l],g=o.data[l+4]):l%(4*r)==4*(r-1)?(f=o.data[l-4],g=o.data[l]):(f=o.data[l-4],g=o.data[l+4]),l<4*r?(p=o.data[l],m=o.data[l+4*r]):l>r*(i-1)*4?(p=o.data[l-4*r],m=o.data[l]):(p=o.data[l-4*r],m=o.data[l+4*r]),s.data[l]=f-g+127,s.data[l+1]=p-m+127,s.data[l+2]=255,s.data[l+3]=255}return a.putImageData(s,0,0),t},isHeightImage:function(e,n,t){if(!e||!e.width||!e.height)return!1;var r=document.createElement("canvas"),i=r.getContext("2d"),a=n||32;t=t||20,r.width=r.height=a,i.drawImage(e,0,0,a,a);for(var o=i.getImageData(0,0,a,a),s=0;s<o.data.length;s+=4){var c=o.data[s+1],u=o.data[s+2];if(Math.abs(o.data[s]-c)+Math.abs(c-u)>t)return!1}return!0},_fetchTexture:function(e,n,t){Lr.request.get({url:e,responseType:"arraybuffer",onload:n,onerror:t})},createChessboard:function(e,n,t,r){e=e||512,n=n||64,t=t||"black",r=r||"white";var i=Math.ceil(e/n),a=document.createElement("canvas");a.width=e,a.height=e;var o=a.getContext("2d");o.fillStyle=r,o.fillRect(0,0,e,e),o.fillStyle=t;for(var s=0;s<i;s++)for(var l=0;l<i;l++)(l%2?s%2:s%2-1)&&o.fillRect(s*n,l*n,n,n);return new yt({image:a,anisotropic:8})},createBlank:function(e){var n=document.createElement("canvas");n.width=1,n.height=1;var t=n.getContext("2d");return t.fillStyle=e,t.fillRect(0,0,1,1),new yt({image:n})}};const Vh=VC;var PN=["mousedown","mouseup","mousemove","mouseover","mouseout","click","dblclick","contextmenu"];function ON(e){return"_on"+e}var RN=function(e){var n=this;this._texture=new yt({anisotropic:32,flipY:!1,surface:this,dispose:function(t){n.dispose(),yt.prototype.dispose.call(this,t)}}),PN.forEach(function(t){this[ON(t)]=function(r){!r.triangle||this._meshes.forEach(function(i){this.dispatchEvent(t,i,r.triangle,r.point)},this)}},this),this._meshes=[],e&&this.setECharts(e),this.onupdate=null};RN.prototype={constructor:RN,getTexture:function(){return this._texture},setECharts:function(e){this._chart=e;var n=e.getDom();if(n instanceof HTMLCanvasElement){var t=this,r=e.getZr(),i=r.__oldRefreshImmediately||r.refreshImmediately;r.refreshImmediately=function(){i.call(this),t._texture.dirty(),t.onupdate&&t.onupdate()},r.__oldRefreshImmediately=i}else console.error("ECharts must init on canvas if it is used as texture."),n=document.createElement("canvas");this._texture.image=n,this._texture.dirty(),this.onupdate&&this.onupdate()},dispatchEvent:function(){var e=new fe,n=new fe,t=new fe,r=new oo,i=new oo,a=new oo,o=new oo,s=new fe;return function(l,c,u,h){var d=c.geometry,f=d.attributes.position,p=d.attributes.texcoord0,g=fe.dot,m=fe.cross;f.get(u[0],e.array),f.get(u[1],n.array),f.get(u[2],t.array),p.get(u[0],r.array),p.get(u[1],i.array),p.get(u[2],a.array),m(s,n,t);var v=g(e,s),_=g(h,s)/v;m(s,t,e);var y=g(h,s)/v;m(s,e,n);var b=g(h,s)/v;oo.scale(o,r,_),oo.scaleAndAdd(o,o,i,y),oo.scaleAndAdd(o,o,a,b);var w=o.x*this._chart.getWidth(),C=o.y*this._chart.getHeight();this._chart.getZr().handler.dispatch(l,{zrX:w,zrY:C})}}(),attachToMesh:function(e){this._meshes.indexOf(e)>=0||(PN.forEach(function(n){e.on(n,this[ON(n)],this)},this),this._meshes.push(e))},detachFromMesh:function(e){var n=this._meshes.indexOf(e);n>=0&&this._meshes.splice(n,1),PN.forEach(function(t){e.off(t,this[ON(t)])},this)},dispose:function(){this._meshes.forEach(function(e){this.detachFromMesh(e)},this)}};const VRe=RN;var HRe=bp.extend({left:-1,right:1,near:-1,far:1,top:1,bottom:-1},{updateProjectionMatrix:function(){this.projectionMatrix.ortho(this.left,this.right,this.bottom,this.top,this.near,this.far)},decomposeProjectionMatrix:function(){var e=this.projectionMatrix.array;this.left=(-1-e[12])/e[0],this.right=(1-e[12])/e[0],this.top=(1-e[13])/e[5],this.bottom=(-1-e[13])/e[5],this.near=-(-1-e[14])/e[10],this.far=-(1-e[14])/e[10]},clone:function(){var e=bp.prototype.clone.call(this);return e.left=this.left,e.right=this.right,e.near=this.near,e.far=this.far,e.top=this.top,e.bottom=this.bottom,e}});const Sp=HRe;ve.import("\n@export clay.compositor.vertex\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nattribute vec3 position : POSITION;\nattribute vec2 texcoord : TEXCOORD_0;\nvarying vec2 v_Texcoord;\nvoid main()\n{\n v_Texcoord = texcoord;\n gl_Position = worldViewProjection * vec4(position, 1.0);\n}\n@end");var GRe=new FC,aZ=new Lh({geometry:GRe,frustumCulling:!1}),WRe=new Sp,jRe=ca.extend(function(){return{fragment:"",outputs:null,material:null,blendWithPrevious:!1,clearColor:!1,clearDepth:!0}},function(){var e=new ve(ve.source("clay.compositor.vertex"),this.fragment),n=new Fo({shader:e});n.enableTexturesAll(),this.material=n},{setUniform:function(e,n){this.material.setUniform(e,n)},getUniform:function(e){var n=this.material.uniforms[e];if(n)return n.value},attachOutput:function(e,n){this.outputs||(this.outputs={}),this.outputs[n=n||36064]=e},detachOutput:function(e){for(var n in this.outputs)this.outputs[n]===e&&(this.outputs[n]=null)},bind:function(e,n){if(this.outputs)for(var t in this.outputs){var r=this.outputs[t];r&&n.attach(r,t)}n&&n.bind(e)},unbind:function(e,n){n.unbind(e)},render:function(e,n){var t=e.gl;if(n){this.bind(e,n);var r=e.getGLExtension("EXT_draw_buffers");if(r&&this.outputs){var i=[];for(var a in this.outputs)(a=+a)>=t.COLOR_ATTACHMENT0&&a<=t.COLOR_ATTACHMENT0+8&&i.push(a);r.drawBuffersEXT(i)}}this.trigger("beforerender",this,e);var o=this.clearDepth?t.DEPTH_BUFFER_BIT:0;if(t.depthMask(!0),this.clearColor){o|=t.COLOR_BUFFER_BIT,t.colorMask(!0,!0,!0,!0);var s=this.clearColor;Array.isArray(s)&&t.clearColor(s[0],s[1],s[2],s[3])}t.clear(o),this.blendWithPrevious?(t.enable(t.BLEND),this.material.transparent=!0):(t.disable(t.BLEND),this.material.transparent=!1),this.renderQuad(e),this.trigger("afterrender",this,e),n&&this.unbind(e,n)},renderQuad:function(e){aZ.material=this.material,e.renderPass([aZ],WRe)},dispose:function(e){}});const kr=jRe;var Hh={},LN=["px","nx","py","ny","pz","nz"];Hh.prefilterEnvironmentMap=function(e,n,t,r,i){(!i||!r)&&(r=Hh.generateNormalDistribution(),i=Hh.integrateBRDF(e,r));var a=(t=t||{}).width||64,o=t.height||64,s=t.type||n.type,l=new Mm({width:a,height:o,type:s,flipY:!1,mipmaps:[]});l.isPowerOfTwo()||console.warn("Width and height must be power of two to enable mipmap.");var c=Math.min(a,o),u=Math.log(c)/Math.log(2)+1,h=new Fo({shader:new ve({vertex:ve.source("clay.skybox.vertex"),fragment:"#define SHADER_NAME prefilter\n#define SAMPLE_NUMBER 1024\n#define PI 3.14159265358979\nuniform mat4 viewInverse : VIEWINVERSE;\nuniform samplerCube environmentMap;\nuniform sampler2D normalDistribution;\nuniform float roughness : 0.5;\nvarying vec2 v_Texcoord;\nvarying vec3 v_WorldPosition;\n@import clay.util.rgbm\nvec3 importanceSampleNormal(float i, float roughness, vec3 N) {\n vec3 H = texture2D(normalDistribution, vec2(roughness, i)).rgb;\n vec3 upVector = abs(N.y) > 0.999 ? vec3(1.0, 0.0, 0.0) : vec3(0.0, 1.0, 0.0);\n vec3 tangentX = normalize(cross(N, upVector));\n vec3 tangentZ = cross(N, tangentX);\n return normalize(tangentX * H.x + N * H.y + tangentZ * H.z);\n}\nvoid main() {\n vec3 eyePos = viewInverse[3].xyz;\n vec3 V = normalize(v_WorldPosition - eyePos);\n vec3 N = V;\n vec3 prefilteredColor = vec3(0.0);\n float totalWeight = 0.0;\n float fMaxSampleNumber = float(SAMPLE_NUMBER);\n for (int i = 0; i < SAMPLE_NUMBER; i++) {\n vec3 H = importanceSampleNormal(float(i) / fMaxSampleNumber, roughness, N);\n vec3 L = reflect(-V, H);\n float NoL = clamp(dot(N, L), 0.0, 1.0);\n if (NoL > 0.0) {\n prefilteredColor += decodeHDR(textureCube(environmentMap, L)).rgb * NoL;\n totalWeight += NoL;\n }\n }\n gl_FragColor = encodeHDR(vec4(prefilteredColor / totalWeight, 1.0));\n}\n"})});h.set("normalDistribution",r),t.encodeRGBM&&h.define("fragment","RGBM_ENCODE"),t.decodeRGBM&&h.define("fragment","RGBM_DECODE");var f,d=new zc;if("texture2D"===n.textureType){var p=new Mm({width:a,height:o,type:s===Be.FLOAT?Be.HALF_FLOAT:s});Vh.panoramaToCubeMap(e,n,p,{encodeRGBM:t.decodeRGBM}),n=p}(f=new zC({scene:d,material:h})).material.set("environmentMap",n);var g=new NN({texture:l});t.encodeRGBM&&(s=l.type=Be.UNSIGNED_BYTE);for(var m=new yt({width:a,height:o,type:s}),v=new yi({depthBuffer:!1}),_=Lr[s===Be.UNSIGNED_BYTE?"Uint8Array":"Float32Array"],y=0;y<u;y++){l.mipmaps[y]={pixels:{}},f.material.set("roughness",y/(u-1));for(var b=m.width,w=2*Math.atan(b/(b-.5))/Math.PI*180,C=0;C<LN.length;C++){var S=new _(m.width*m.height*4);v.attach(m),v.bind(e);var x=g.getCamera(LN[C]);x.fov=w,e.render(d,x),e.gl.readPixels(0,0,m.width,m.height,Be.RGBA,s,S),v.unbind(e),l.mipmaps[y].pixels[LN[C]]=S}m.width/=2,m.height/=2,m.dirty()}return v.dispose(e),m.dispose(e),f.dispose(e),r.dispose(e),{environmentMap:l,brdfLookup:i,normalDistribution:r,maxMipmapLevel:u}},Hh.integrateBRDF=function(e,n){n=n||Hh.generateNormalDistribution();var t=new yi({depthBuffer:!1}),r=new kr({fragment:"#define SAMPLE_NUMBER 1024\n#define PI 3.14159265358979\nuniform sampler2D normalDistribution;\nuniform vec2 viewportSize : [512, 256];\nconst vec3 N = vec3(0.0, 0.0, 1.0);\nconst float fSampleNumber = float(SAMPLE_NUMBER);\nvec3 importanceSampleNormal(float i, float roughness, vec3 N) {\n vec3 H = texture2D(normalDistribution, vec2(roughness, i)).rgb;\n vec3 upVector = abs(N.y) > 0.999 ? vec3(1.0, 0.0, 0.0) : vec3(0.0, 1.0, 0.0);\n vec3 tangentX = normalize(cross(N, upVector));\n vec3 tangentZ = cross(N, tangentX);\n return normalize(tangentX * H.x + N * H.y + tangentZ * H.z);\n}\nfloat G_Smith(float roughness, float NoV, float NoL) {\n float k = roughness * roughness / 2.0;\n float G1V = NoV / (NoV * (1.0 - k) + k);\n float G1L = NoL / (NoL * (1.0 - k) + k);\n return G1L * G1V;\n}\nvoid main() {\n vec2 uv = gl_FragCoord.xy / viewportSize;\n float NoV = uv.x;\n float roughness = uv.y;\n vec3 V;\n V.x = sqrt(1.0 - NoV * NoV);\n V.y = 0.0;\n V.z = NoV;\n float A = 0.0;\n float B = 0.0;\n for (int i = 0; i < SAMPLE_NUMBER; i++) {\n vec3 H = importanceSampleNormal(float(i) / fSampleNumber, roughness, N);\n vec3 L = reflect(-V, H);\n float NoL = clamp(L.z, 0.0, 1.0);\n float NoH = clamp(H.z, 0.0, 1.0);\n float VoH = clamp(dot(V, H), 0.0, 1.0);\n if (NoL > 0.0) {\n float G = G_Smith(roughness, NoV, NoL);\n float G_Vis = G * VoH / (NoH * NoV);\n float Fc = pow(1.0 - VoH, 5.0);\n A += (1.0 - Fc) * G_Vis;\n B += Fc * G_Vis;\n }\n }\n gl_FragColor = vec4(vec2(A, B) / fSampleNumber, 0.0, 1.0);\n}\n"}),i=new yt({width:512,height:256,type:Be.HALF_FLOAT,wrapS:Be.CLAMP_TO_EDGE,wrapT:Be.CLAMP_TO_EDGE,minFilter:Be.NEAREST,magFilter:Be.NEAREST,useMipmap:!1});return r.setUniform("normalDistribution",n),r.setUniform("viewportSize",[512,256]),r.attachOutput(i),r.render(e,t),t.dispose(e),i},Hh.generateNormalDistribution=function(t,r){for(var i=new yt({width:t=t||256,height:r=r||1024,type:Be.FLOAT,minFilter:Be.NEAREST,magFilter:Be.NEAREST,wrapS:Be.CLAMP_TO_EDGE,wrapT:Be.CLAMP_TO_EDGE,useMipmap:!1}),a=new Float32Array(r*t*4),o=[],s=0;s<t;s++){for(var l=s/t,c=l*l,u=0;u<r;u++){var h=(u<<16|u>>>16)>>>0;h=(((16711935&(h=((252645135&(h=((858993459&(h=((1431655765&h)<<1|(2863311530&h)>>>1)>>>0))<<2|(3435973836&h)>>>2)>>>0))<<4|(4042322160&h)>>>4)>>>0))<<8|(4278255360&h)>>>8)>>>0)/4294967296;var d=Math.sqrt((1-h)/(1+(c*c-1)*h));o[u]=d}for(u=0;u<r;u++){var f=4*(u*t+s),p=(d=o[u],Math.sqrt(1-d*d)),m=2*Math.PI*(u/r);a[f]=p*Math.cos(m),a[f+1]=d,a[f+2]=p*Math.sin(m),a[f+3]=1}}return i.pixels=a,i};const HC=Hh;var XRe=ws.extend({cubemap:null,castShadow:!1,_normalDistribution:null,_brdfLookup:null},{type:"AMBIENT_CUBEMAP_LIGHT",prefilter:function(e,n){if(e.getGLExtension("EXT_shader_texture_lod")){this._brdfLookup||(this._normalDistribution=HC.generateNormalDistribution(),this._brdfLookup=HC.integrateBRDF(e,this._normalDistribution));var t=this.cubemap;if(!t.__prefiltered){var r=HC.prefilterEnvironmentMap(e,t,{encodeRGBM:!0,width:n,height:n},this._normalDistribution,this._brdfLookup);this.cubemap=r.environmentMap,this.cubemap.__prefiltered=!0,t.dispose(e)}}else console.warn("Device not support textureCubeLodEXT")},getBRDFLookup:function(){return this._brdfLookup},uniformTemplates:{ambientCubemapLightColor:{type:"3f",value:function(e){var n=e.color,t=e.intensity;return[n[0]*t,n[1]*t,n[2]*t]}},ambientCubemapLightCubemap:{type:"t",value:function(e){return e.cubemap}},ambientCubemapLightBRDFLookup:{type:"t",value:function(e){return e._brdfLookup}}}});const qRe=XRe;var ZRe=ws.extend({castShadow:!1,coefficients:[]},function(){this._coefficientsTmpArr=new Lr.Float32Array(27)},{type:"AMBIENT_SH_LIGHT",uniformTemplates:{ambientSHLightColor:{type:"3f",value:function(e){var n=e.color,t=e.intensity;return[n[0]*t,n[1]*t,n[2]*t]}},ambientSHLightCoefficients:{type:"3f",value:function(e){for(var n=e._coefficientsTmpArr,t=0;t<e.coefficients.length;t++)n[t]=e.coefficients[t];return n}}}});const KRe=ZRe;var oZ={},Uh=["px","nx","py","ny","pz","nz"];function QRe(e,n){var t=e[0],r=e[1],i=e[2];return 0===n?1:1===n?t:2===n?r:3===n?i:4===n?t*i:5===n?r*i:6===n?t*r:7===n?3*i*i-1:t*t-r*r}var JRe={px:[2,1,0,-1,-1,1],nx:[2,1,0,1,-1,-1],py:[0,2,1,1,-1,-1],ny:[0,2,1,1,1,1],pz:[0,1,2,-1,-1,-1],nz:[0,1,2,1,-1,1]};oZ.projectEnvironmentMap=function(e,n,t){(t=t||{}).lod=t.lod||0;var r,i=new zc,a=64;"texture2D"===n.textureType?r=new rZ({scene:i,environmentMap:n}):(a=n.image&&n.image.px?n.image.px.width:n.width,r=new zC({scene:i,environmentMap:n}));var o=Math.ceil(a/Math.pow(2,t.lod)),s=Math.ceil(a/Math.pow(2,t.lod)),l=new yt({width:o,height:s}),c=new yi;r.material.define("fragment","RGBM_ENCODE"),t.decodeRGBM&&r.material.define("fragment","RGBM_DECODE"),r.material.set("lod",t.lod);for(var u=new NN({texture:l}),h={},d=0;d<Uh.length;d++){h[Uh[d]]=new Uint8Array(o*s*4);var f=u.getCamera(Uh[d]);f.fov=90,c.attach(l),c.bind(e),e.render(i,f),e.gl.readPixels(0,0,o,s,Be.RGBA,Be.UNSIGNED_BYTE,h[Uh[d]]),c.unbind(e)}return r.dispose(e),c.dispose(e),l.dispose(e),function eLe(e,n,t,r){for(var i=new Lr.Float32Array(27),a=U.create(),o=U.create(),s=U.create(),l=0;l<9;l++){for(var c=U.create(),u=0;u<Uh.length;u++){for(var h=n[Uh[u]],d=U.create(),f=0,p=0,g=JRe[Uh[u]],m=0;m<r;m++)for(var v=0;v<t;v++){a[0]=v/(t-1)*2-1,a[1]=m/(r-1)*2-1,a[2]=-1,U.normalize(a,a),s[0]=a[g[0]]*g[3],s[1]=a[g[1]]*g[4],s[2]=a[g[2]]*g[5],o[0]=h[p++]/255,o[1]=h[p++]/255,o[2]=h[p++]/255;var _=h[p++]/255*8.12;o[0]*=_,o[1]*=_,o[2]*=_,U.scaleAndAdd(d,d,o,QRe(s,l)*-a[2]),f+=-a[2]}U.scaleAndAdd(c,c,d,1/f)}i[3*l]=c[0]/6,i[3*l+1]=c[1]/6,i[3*l+2]=c[2]/6}return i}(0,h,o,s)};const tLe=oZ;var nLe={firstNotNull:function(){for(var e=0,n=arguments.length;e<n;e++)if(null!=arguments[e])return arguments[e]},queryDataIndex:function(e,n){return null!=n.dataIndexInside?n.dataIndexInside:null!=n.dataIndex?ne(n.dataIndex)?De(n.dataIndex,function(t){return e.indexOfRawIndex(t)}):e.indexOfRawIndex(n.dataIndex):null!=n.name?ne(n.name)?De(n.name,function(t){return e.indexOfName(t)}):e.indexOfName(n.name):void 0}};const Ct=nLe;var rLe=Qt.extend({dynamic:!1,widthSegments:40,heightSegments:20,phiStart:0,phiLength:2*Math.PI,thetaStart:0,thetaLength:Math.PI,radius:1},function(){this.build()},{build:function(){var e=this.heightSegments,n=this.widthSegments,t=this.attributes.position,r=this.attributes.texcoord0,i=this.attributes.normal,a=(n+1)*(e+1);t.init(a),r.init(a),i.init(a);var l,c,u,h,d,f,p,y,o=a>65535?Uint32Array:Uint16Array,s=this.indices=new o(n*e*6),g=this.phiStart,m=this.phiLength,v=this.thetaStart,_=this.thetaLength,b=[],w=[],C=0,S=1/(y=this.radius);for(p=0;p<=e;p++)for(f=0;f<=n;f++)h=f/n,d=p/e,l=-y*Math.cos(g+h*m)*Math.sin(v+d*_),c=y*Math.cos(v+d*_),u=y*Math.sin(g+h*m)*Math.sin(v+d*_),b[0]=l,b[1]=c,b[2]=u,w[0]=h,w[1]=d,t.set(C,b),r.set(C,w),b[0]*=S,b[1]*=S,b[2]*=S,i.set(C,b),C++;var M,E,T,A=n+1,N=0;for(p=0;p<e;p++)for(f=0;f<n;f++)M=p*A+f,T=(p+1)*A+f+1,E=(p+1)*A+f,s[N++]=p*A+f+1,s[N++]=M,s[N++]=T,s[N++]=M,s[N++]=E,s[N++]=T;this.boundingBox=new ha,this.boundingBox.max.set(y,y,y),this.boundingBox.min.set(-y,-y,-y)}});const iLe=rLe;var aLe=ws.extend({castShadow:!1},{type:"AMBIENT_LIGHT",uniformTemplates:{ambientLightColor:{type:"3f",value:function(e){var n=e.color,t=e.intensity;return[n[0]*t,n[1]*t,n[2]*t]}}}});const oLe=aLe;var sLe=ws.extend({shadowBias:.001,shadowSlopeScale:2,shadowCascade:1,cascadeSplitLogFactor:.2},{type:"DIRECTIONAL_LIGHT",uniformTemplates:{directionalLightDirection:{type:"3f",value:function(e){return e.__dir=e.__dir||new fe,e.__dir.copy(e.worldTransform.z).normalize().negate().array}},directionalLightColor:{type:"3f",value:function(e){var n=e.color,t=e.intensity;return[n[0]*t,n[1]*t,n[2]*t]}}},clone:function(){var e=ws.prototype.clone.call(this);return e.shadowBias=this.shadowBias,e.shadowSlopeScale=this.shadowSlopeScale,e}});const lLe=sLe;var cLe=ws.extend({range:100,castShadow:!1},{type:"POINT_LIGHT",uniformTemplates:{pointLightPosition:{type:"3f",value:function(e){return e.getWorldPosition().array}},pointLightRange:{type:"1f",value:function(e){return e.range}},pointLightColor:{type:"3f",value:function(e){var n=e.color,t=e.intensity;return[n[0]*t,n[1]*t,n[2]*t]}}},clone:function(){var e=ws.prototype.clone.call(this);return e.range=this.range,e}});const uLe=cLe;var hLe=ws.extend({range:20,umbraAngle:30,penumbraAngle:45,falloffFactor:2,shadowBias:.001,shadowSlopeScale:2},{type:"SPOT_LIGHT",uniformTemplates:{spotLightPosition:{type:"3f",value:function(e){return e.getWorldPosition().array}},spotLightRange:{type:"1f",value:function(e){return e.range}},spotLightUmbraAngleCosine:{type:"1f",value:function(e){return Math.cos(e.umbraAngle*Math.PI/180)}},spotLightPenumbraAngleCosine:{type:"1f",value:function(e){return Math.cos(e.penumbraAngle*Math.PI/180)}},spotLightFalloffFactor:{type:"1f",value:function(e){return e.falloffFactor}},spotLightDirection:{type:"3f",value:function(e){return e.__dir=e.__dir||new fe,e.__dir.copy(e.worldTransform.z).negate().array}},spotLightColor:{type:"3f",value:function(e){var n=e.color,t=e.intensity;return[n[0]*t,n[1]*t,n[2]*t]}}},clone:function(){var e=ws.prototype.clone.call(this);return e.range=this.range,e.umbraAngle=this.umbraAngle,e.penumbraAngle=this.penumbraAngle,e.falloffFactor=this.falloffFactor,e.shadowBias=this.shadowBias,e.shadowSlopeScale=this.shadowSlopeScale,e}});const dLe=hLe;var jt=function(e,n,t,r){this.array=be.fromValues(e=e||0,n=n||0,t=t||0,r=r||0),this._dirty=!0};jt.prototype={constructor:jt,add:function(e){return be.add(this.array,this.array,e.array),this._dirty=!0,this},set:function(e,n,t,r){return this.array[0]=e,this.array[1]=n,this.array[2]=t,this.array[3]=r,this._dirty=!0,this},setArray:function(e){return this.array[0]=e[0],this.array[1]=e[1],this.array[2]=e[2],this.array[3]=e[3],this._dirty=!0,this},clone:function(){return new jt(this.x,this.y,this.z,this.w)},copy:function(e){return be.copy(this.array,e.array),this._dirty=!0,this},dist:function(e){return be.dist(this.array,e.array)},distance:function(e){return be.distance(this.array,e.array)},div:function(e){return be.div(this.array,this.array,e.array),this._dirty=!0,this},divide:function(e){return be.divide(this.array,this.array,e.array),this._dirty=!0,this},dot:function(e){return be.dot(this.array,e.array)},len:function(){return be.len(this.array)},length:function(){return be.length(this.array)},lerp:function(e,n,t){return be.lerp(this.array,e.array,n.array,t),this._dirty=!0,this},min:function(e){return be.min(this.array,this.array,e.array),this._dirty=!0,this},max:function(e){return be.max(this.array,this.array,e.array),this._dirty=!0,this},mul:function(e){return be.mul(this.array,this.array,e.array),this._dirty=!0,this},multiply:function(e){return be.multiply(this.array,this.array,e.array),this._dirty=!0,this},negate:function(){return be.negate(this.array,this.array),this._dirty=!0,this},normalize:function(){return be.normalize(this.array,this.array),this._dirty=!0,this},random:function(e){return be.random(this.array,e),this._dirty=!0,this},scale:function(e){return be.scale(this.array,this.array,e),this._dirty=!0,this},scaleAndAdd:function(e,n){return be.scaleAndAdd(this.array,this.array,e.array,n),this._dirty=!0,this},sqrDist:function(e){return be.sqrDist(this.array,e.array)},squaredDistance:function(e){return be.squaredDistance(this.array,e.array)},sqrLen:function(){return be.sqrLen(this.array)},squaredLength:function(){return be.squaredLength(this.array)},sub:function(e){return be.sub(this.array,this.array,e.array),this._dirty=!0,this},subtract:function(e){return be.subtract(this.array,this.array,e.array),this._dirty=!0,this},transformMat4:function(e){return be.transformMat4(this.array,this.array,e.array),this._dirty=!0,this},transformQuat:function(e){return be.transformQuat(this.array,this.array,e.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};var Am=Object.defineProperty;if(Am){var UC=jt.prototype;Am(UC,"x",{get:function(){return this.array[0]},set:function(e){this.array[0]=e,this._dirty=!0}}),Am(UC,"y",{get:function(){return this.array[1]},set:function(e){this.array[1]=e,this._dirty=!0}}),Am(UC,"z",{get:function(){return this.array[2]},set:function(e){this.array[2]=e,this._dirty=!0}}),Am(UC,"w",{get:function(){return this.array[3]},set:function(e){this.array[3]=e,this._dirty=!0}})}jt.add=function(e,n,t){return be.add(e.array,n.array,t.array),e._dirty=!0,e},jt.set=function(e,n,t,r,i){be.set(e.array,n,t,r,i),e._dirty=!0},jt.copy=function(e,n){return be.copy(e.array,n.array),e._dirty=!0,e},jt.distance=jt.dist=function(e,n){return be.distance(e.array,n.array)},jt.divide=jt.div=function(e,n,t){return be.divide(e.array,n.array,t.array),e._dirty=!0,e},jt.dot=function(e,n){return be.dot(e.array,n.array)},jt.len=function(e){return be.length(e.array)},jt.lerp=function(e,n,t,r){return be.lerp(e.array,n.array,t.array,r),e._dirty=!0,e},jt.min=function(e,n,t){return be.min(e.array,n.array,t.array),e._dirty=!0,e},jt.max=function(e,n,t){return be.max(e.array,n.array,t.array),e._dirty=!0,e},jt.multiply=jt.mul=function(e,n,t){return be.multiply(e.array,n.array,t.array),e._dirty=!0,e},jt.negate=function(e,n){return be.negate(e.array,n.array),e._dirty=!0,e},jt.normalize=function(e,n){return be.normalize(e.array,n.array),e._dirty=!0,e},jt.random=function(e,n){return be.random(e.array,n),e._dirty=!0,e},jt.scale=function(e,n,t){return be.scale(e.array,n.array,t),e._dirty=!0,e},jt.scaleAndAdd=function(e,n,t,r){return be.scaleAndAdd(e.array,n.array,t.array,r),e._dirty=!0,e},jt.squaredDistance=jt.sqrDist=function(e,n){return be.sqrDist(e.array,n.array)},jt.squaredLength=jt.sqrLen=function(e){return be.sqrLen(e.array)},jt.subtract=jt.sub=function(e,n,t){return be.subtract(e.array,n.array,t.array),e._dirty=!0,e},jt.transformMat4=function(e,n,t){return be.transformMat4(e.array,n.array,t.array),e._dirty=!0,e},jt.transformQuat=function(e,n,t){return be.transformQuat(e.array,n.array,t.array),e._dirty=!0,e};const fLe=jt;var Wi={create:function(){var e=new vi(4);return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e},clone:function(e){var n=new vi(4);return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n},copy:function(e,n){return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e},identity:function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e},transpose:function(e,n){if(e===n){var t=n[1];e[1]=n[2],e[2]=t}else e[0]=n[0],e[1]=n[2],e[2]=n[1],e[3]=n[3];return e},invert:function(e,n){var t=n[0],r=n[1],i=n[2],a=n[3],o=t*a-i*r;return o?(e[0]=a*(o=1/o),e[1]=-r*o,e[2]=-i*o,e[3]=t*o,e):null},adjoint:function(e,n){var t=n[0];return e[0]=n[3],e[1]=-n[1],e[2]=-n[2],e[3]=t,e},determinant:function(e){return e[0]*e[3]-e[2]*e[1]},multiply:function(e,n,t){var r=n[0],i=n[1],a=n[2],o=n[3],s=t[0],l=t[1],c=t[2],u=t[3];return e[0]=r*s+a*l,e[1]=i*s+o*l,e[2]=r*c+a*u,e[3]=i*c+o*u,e}};Wi.mul=Wi.multiply,Wi.rotate=function(e,n,t){var r=n[0],i=n[1],a=n[2],o=n[3],s=Math.sin(t),l=Math.cos(t);return e[0]=r*l+a*s,e[1]=i*l+o*s,e[2]=r*-s+a*l,e[3]=i*-s+o*l,e},Wi.scale=function(e,n,t){var i=n[1],a=n[2],o=n[3],s=t[0],l=t[1];return e[0]=n[0]*s,e[1]=i*s,e[2]=a*l,e[3]=o*l,e},Wi.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2))},Wi.LDU=function(e,n,t,r){return e[2]=r[2]/r[0],t[0]=r[0],t[1]=r[1],t[3]=r[3]-e[2]*t[1],[e,n,t]};const vr=Wi;var fa=function(){this.array=vr.create(),this._dirty=!0};fa.prototype={constructor:fa,setArray:function(e){for(var n=0;n<this.array.length;n++)this.array[n]=e[n];return this._dirty=!0,this},clone:function(){return(new fa).copy(this)},copy:function(e){return vr.copy(this.array,e.array),this._dirty=!0,this},adjoint:function(){return vr.adjoint(this.array,this.array),this._dirty=!0,this},determinant:function(){return vr.determinant(this.array)},identity:function(){return vr.identity(this.array),this._dirty=!0,this},invert:function(){return vr.invert(this.array,this.array),this._dirty=!0,this},mul:function(e){return vr.mul(this.array,this.array,e.array),this._dirty=!0,this},mulLeft:function(e){return vr.mul(this.array,e.array,this.array),this._dirty=!0,this},multiply:function(e){return vr.multiply(this.array,this.array,e.array),this._dirty=!0,this},multiplyLeft:function(e){return vr.multiply(this.array,e.array,this.array),this._dirty=!0,this},rotate:function(e){return vr.rotate(this.array,this.array,e),this._dirty=!0,this},scale:function(e){return vr.scale(this.array,this.array,e.array),this._dirty=!0,this},transpose:function(){return vr.transpose(this.array,this.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}},fa.adjoint=function(e,n){return vr.adjoint(e.array,n.array),e._dirty=!0,e},fa.copy=function(e,n){return vr.copy(e.array,n.array),e._dirty=!0,e},fa.determinant=function(e){return vr.determinant(e.array)},fa.identity=function(e){return vr.identity(e.array),e._dirty=!0,e},fa.invert=function(e,n){return vr.invert(e.array,n.array),e._dirty=!0,e},fa.multiply=fa.mul=function(e,n,t){return vr.mul(e.array,n.array,t.array),e._dirty=!0,e},fa.rotate=function(e,n,t){return vr.rotate(e.array,n.array,t),e._dirty=!0,e},fa.scale=function(e,n,t){return vr.scale(e.array,n.array,t.array),e._dirty=!0,e},fa.transpose=function(e,n){return vr.transpose(e.array,n.array),e._dirty=!0,e};const pLe=fa;var Ra={create:function(){var e=new vi(6);return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e},clone:function(e){var n=new vi(6);return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n},copy:function(e,n){return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e},identity:function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e},invert:function(e,n){var t=n[0],r=n[1],i=n[2],a=n[3],o=n[4],s=n[5],l=t*a-r*i;return l?(e[0]=a*(l=1/l),e[1]=-r*l,e[2]=-i*l,e[3]=t*l,e[4]=(i*s-a*o)*l,e[5]=(r*o-t*s)*l,e):null},determinant:function(e){return e[0]*e[3]-e[1]*e[2]},multiply:function(e,n,t){var r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],l=n[5],c=t[0],u=t[1],h=t[2],d=t[3],f=t[4],p=t[5];return e[0]=r*c+a*u,e[1]=i*c+o*u,e[2]=r*h+a*d,e[3]=i*h+o*d,e[4]=r*f+a*p+s,e[5]=i*f+o*p+l,e}};Ra.mul=Ra.multiply,Ra.rotate=function(e,n,t){var r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],l=n[5],c=Math.sin(t),u=Math.cos(t);return e[0]=r*u+a*c,e[1]=i*u+o*c,e[2]=r*-c+a*u,e[3]=i*-c+o*u,e[4]=s,e[5]=l,e},Ra.scale=function(e,n,t){var i=n[1],a=n[2],o=n[3],s=n[4],l=n[5],c=t[0],u=t[1];return e[0]=n[0]*c,e[1]=i*c,e[2]=a*u,e[3]=o*u,e[4]=s,e[5]=l,e},Ra.translate=function(e,n,t){var r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],l=n[5],c=t[0],u=t[1];return e[0]=r,e[1]=i,e[2]=a,e[3]=o,e[4]=r*c+a*u+s,e[5]=i*c+o*u+l,e},Ra.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+1)};const Fr=Ra;var La=function(){this.array=Fr.create(),this._dirty=!0};La.prototype={constructor:La,setArray:function(e){for(var n=0;n<this.array.length;n++)this.array[n]=e[n];return this._dirty=!0,this},clone:function(){return(new La).copy(this)},copy:function(e){return Fr.copy(this.array,e.array),this._dirty=!0,this},determinant:function(){return Fr.determinant(this.array)},identity:function(){return Fr.identity(this.array),this._dirty=!0,this},invert:function(){return Fr.invert(this.array,this.array),this._dirty=!0,this},mul:function(e){return Fr.mul(this.array,this.array,e.array),this._dirty=!0,this},mulLeft:function(e){return Fr.mul(this.array,e.array,this.array),this._dirty=!0,this},multiply:function(e){return Fr.multiply(this.array,this.array,e.array),this._dirty=!0,this},multiplyLeft:function(e){return Fr.multiply(this.array,e.array,this.array),this._dirty=!0,this},rotate:function(e){return Fr.rotate(this.array,this.array,e),this._dirty=!0,this},scale:function(e){return Fr.scale(this.array,this.array,e.array),this._dirty=!0,this},translate:function(e){return Fr.translate(this.array,this.array,e.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}},La.copy=function(e,n){return Fr.copy(e.array,n.array),e._dirty=!0,e},La.determinant=function(e){return Fr.determinant(e.array)},La.identity=function(e){return Fr.identity(e.array),e._dirty=!0,e},La.invert=function(e,n){return Fr.invert(e.array,n.array),e._dirty=!0,e},La.multiply=La.mul=function(e,n,t){return Fr.mul(e.array,n.array,t.array),e._dirty=!0,e},La.rotate=function(e,n,t){return Fr.rotate(e.array,n.array,t),e._dirty=!0,e},La.scale=function(e,n,t){return Fr.scale(e.array,n.array,t.array),e._dirty=!0,e},La.translate=function(e,n,t){return Fr.translate(e.array,n.array,t.array),e._dirty=!0,e};const gLe=La;var qr=function(){this.array=Vt.create(),this._dirty=!0};qr.prototype={constructor:qr,setArray:function(e){for(var n=0;n<this.array.length;n++)this.array[n]=e[n];return this._dirty=!0,this},adjoint:function(){return Vt.adjoint(this.array,this.array),this._dirty=!0,this},clone:function(){return(new qr).copy(this)},copy:function(e){return Vt.copy(this.array,e.array),this._dirty=!0,this},determinant:function(){return Vt.determinant(this.array)},fromMat2d:function(e){return Vt.fromMat2d(this.array,e.array),this._dirty=!0,this},fromMat4:function(e){return Vt.fromMat4(this.array,e.array),this._dirty=!0,this},fromQuat:function(e){return Vt.fromQuat(this.array,e.array),this._dirty=!0,this},identity:function(){return Vt.identity(this.array),this._dirty=!0,this},invert:function(){return Vt.invert(this.array,this.array),this._dirty=!0,this},mul:function(e){return Vt.mul(this.array,this.array,e.array),this._dirty=!0,this},mulLeft:function(e){return Vt.mul(this.array,e.array,this.array),this._dirty=!0,this},multiply:function(e){return Vt.multiply(this.array,this.array,e.array),this._dirty=!0,this},multiplyLeft:function(e){return Vt.multiply(this.array,e.array,this.array),this._dirty=!0,this},rotate:function(e){return Vt.rotate(this.array,this.array,e),this._dirty=!0,this},scale:function(e){return Vt.scale(this.array,this.array,e.array),this._dirty=!0,this},translate:function(e){return Vt.translate(this.array,this.array,e.array),this._dirty=!0,this},normalFromMat4:function(e){return Vt.normalFromMat4(this.array,e.array),this._dirty=!0,this},transpose:function(){return Vt.transpose(this.array,this.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}},qr.adjoint=function(e,n){return Vt.adjoint(e.array,n.array),e._dirty=!0,e},qr.copy=function(e,n){return Vt.copy(e.array,n.array),e._dirty=!0,e},qr.determinant=function(e){return Vt.determinant(e.array)},qr.identity=function(e){return Vt.identity(e.array),e._dirty=!0,e},qr.invert=function(e,n){return Vt.invert(e.array,n.array),e},qr.multiply=qr.mul=function(e,n,t){return Vt.mul(e.array,n.array,t.array),e._dirty=!0,e},qr.fromMat2d=function(e,n){return Vt.fromMat2d(e.array,n.array),e._dirty=!0,e},qr.fromMat4=function(e,n){return Vt.fromMat4(e.array,n.array),e._dirty=!0,e},qr.fromQuat=function(e,n){return Vt.fromQuat(e.array,n.array),e._dirty=!0,e},qr.normalFromMat4=function(e,n){return Vt.normalFromMat4(e.array,n.array),e._dirty=!0,e},qr.rotate=function(e,n,t){return Vt.rotate(e.array,n.array,t),e._dirty=!0,e},qr.scale=function(e,n,t){return Vt.scale(e.array,n.array,t.array),e._dirty=!0,e},qr.transpose=function(e,n){return Vt.transpose(e.array,n.array),e._dirty=!0,e},qr.translate=function(e,n,t){return Vt.translate(e.array,n.array,t.array),e._dirty=!0,e};const mLe=qr;var vLe={_animators:null,getAnimators:function(){return this._animators=this._animators||[],this._animators},animate:function(e,n){var r;if(this._animators=this._animators||[],e){for(var i=e.split("."),a=this,o=0,s=i.length;o<s;o++)!a||(a=a[i[o]]);a&&(r=a)}else r=this;if(null==r)throw new Error("Target "+e+" not exists");var l=this._animators,c=new M2(r,n),u=this;return c.during(function(){u.__zr&&u.__zr.refresh()}).done(function(){var h=l.indexOf(c);h>=0&&l.splice(h,1)}),l.push(c),this.__zr&&this.__zr.animation.addAnimator(c),c},stopAnimation:function(e){this._animators=this._animators||[];for(var n=this._animators,t=n.length,r=0;r<t;r++)n[r].stop(e);return n.length=0,this},addAnimatorsToZr:function(e){if(this._animators)for(var n=0;n<this._animators.length;n++)e.animation.addAnimator(this._animators[n])},removeAnimatorsFromZr:function(e){if(this._animators)for(var n=0;n<this._animators.length;n++)e.animation.removeAnimator(this._animators[n])}};const sZ="\n@export clay.util.rand\nhighp float rand(vec2 uv) {\n const highp float a = 12.9898, b = 78.233, c = 43758.5453;\n highp float dt = dot(uv.xy, vec2(a,b)), sn = mod(dt, 3.141592653589793);\n return fract(sin(sn) * c);\n}\n@end\n@export clay.util.calculate_attenuation\nuniform float attenuationFactor : 5.0;\nfloat lightAttenuation(float dist, float range)\n{\n float attenuation = 1.0;\n attenuation = dist*dist/(range*range+1.0);\n float att_s = attenuationFactor;\n attenuation = 1.0/(attenuation*att_s+1.0);\n att_s = 1.0/(att_s+1.0);\n attenuation = attenuation - att_s;\n attenuation /= 1.0 - att_s;\n return clamp(attenuation, 0.0, 1.0);\n}\n@end\n@export clay.util.edge_factor\n#ifdef SUPPORT_STANDARD_DERIVATIVES\nfloat edgeFactor(float width)\n{\n vec3 d = fwidth(v_Barycentric);\n vec3 a3 = smoothstep(vec3(0.0), d * width, v_Barycentric);\n return min(min(a3.x, a3.y), a3.z);\n}\n#else\nfloat edgeFactor(float width)\n{\n return 1.0;\n}\n#endif\n@end\n@export clay.util.encode_float\nvec4 encodeFloat(const in float depth)\n{\n const vec4 bitShifts = vec4(256.0*256.0*256.0, 256.0*256.0, 256.0, 1.0);\n const vec4 bit_mask = vec4(0.0, 1.0/256.0, 1.0/256.0, 1.0/256.0);\n vec4 res = fract(depth * bitShifts);\n res -= res.xxyz * bit_mask;\n return res;\n}\n@end\n@export clay.util.decode_float\nfloat decodeFloat(const in vec4 color)\n{\n const vec4 bitShifts = vec4(1.0/(256.0*256.0*256.0), 1.0/(256.0*256.0), 1.0/256.0, 1.0);\n return dot(color, bitShifts);\n}\n@end\n@export clay.util.float\n@import clay.util.encode_float\n@import clay.util.decode_float\n@end\n@export clay.util.rgbm_decode\nvec3 RGBMDecode(vec4 rgbm, float range) {\n return range * rgbm.rgb * rgbm.a;\n}\n@end\n@export clay.util.rgbm_encode\nvec4 RGBMEncode(vec3 color, float range) {\n if (dot(color, color) == 0.0) {\n return vec4(0.0);\n }\n vec4 rgbm;\n color /= range;\n rgbm.a = clamp(max(max(color.r, color.g), max(color.b, 1e-6)), 0.0, 1.0);\n rgbm.a = ceil(rgbm.a * 255.0) / 255.0;\n rgbm.rgb = color / rgbm.a;\n return rgbm;\n}\n@end\n@export clay.util.rgbm\n@import clay.util.rgbm_decode\n@import clay.util.rgbm_encode\nvec4 decodeHDR(vec4 color)\n{\n#if defined(RGBM_DECODE) || defined(RGBM)\n return vec4(RGBMDecode(color, 8.12), 1.0);\n#else\n return color;\n#endif\n}\nvec4 encodeHDR(vec4 color)\n{\n#if defined(RGBM_ENCODE) || defined(RGBM)\n return RGBMEncode(color.xyz, 8.12);\n#else\n return color;\n#endif\n}\n@end\n@export clay.util.srgb\nvec4 sRGBToLinear(in vec4 value) {\n return vec4(mix(pow(value.rgb * 0.9478672986 + vec3(0.0521327014), vec3(2.4)), value.rgb * 0.0773993808, vec3(lessThanEqual(value.rgb, vec3(0.04045)))), value.w);\n}\nvec4 linearTosRGB(in vec4 value) {\n return vec4(mix(pow(value.rgb, vec3(0.41666)) * 1.055 - vec3(0.055), value.rgb * 12.92, vec3(lessThanEqual(value.rgb, vec3(0.0031308)))), value.w);\n}\n@end\n@export clay.chunk.skinning_header\n#ifdef SKINNING\nattribute vec3 weight : WEIGHT;\nattribute vec4 joint : JOINT;\n#ifdef USE_SKIN_MATRICES_TEXTURE\nuniform sampler2D skinMatricesTexture : ignore;\nuniform float skinMatricesTextureSize: ignore;\nmat4 getSkinMatrix(sampler2D tex, float idx) {\n float j = idx * 4.0;\n float x = mod(j, skinMatricesTextureSize);\n float y = floor(j / skinMatricesTextureSize) + 0.5;\n vec2 scale = vec2(skinMatricesTextureSize);\n return mat4(\n texture2D(tex, vec2(x + 0.5, y) / scale),\n texture2D(tex, vec2(x + 1.5, y) / scale),\n texture2D(tex, vec2(x + 2.5, y) / scale),\n texture2D(tex, vec2(x + 3.5, y) / scale)\n );\n}\nmat4 getSkinMatrix(float idx) {\n return getSkinMatrix(skinMatricesTexture, idx);\n}\n#else\nuniform mat4 skinMatrix[JOINT_COUNT] : SKIN_MATRIX;\nmat4 getSkinMatrix(float idx) {\n return skinMatrix[int(idx)];\n}\n#endif\n#endif\n@end\n@export clay.chunk.skin_matrix\nmat4 skinMatrixWS = getSkinMatrix(joint.x) * weight.x;\nif (weight.y > 1e-4)\n{\n skinMatrixWS += getSkinMatrix(joint.y) * weight.y;\n}\nif (weight.z > 1e-4)\n{\n skinMatrixWS += getSkinMatrix(joint.z) * weight.z;\n}\nfloat weightW = 1.0-weight.x-weight.y-weight.z;\nif (weightW > 1e-4)\n{\n skinMatrixWS += getSkinMatrix(joint.w) * weightW;\n}\n@end\n@export clay.chunk.instancing_header\n#ifdef INSTANCING\nattribute vec4 instanceMat1;\nattribute vec4 instanceMat2;\nattribute vec4 instanceMat3;\n#endif\n@end\n@export clay.chunk.instancing_matrix\nmat4 instanceMat = mat4(\n vec4(instanceMat1.xyz, 0.0),\n vec4(instanceMat2.xyz, 0.0),\n vec4(instanceMat3.xyz, 0.0),\n vec4(instanceMat1.w, instanceMat2.w, instanceMat3.w, 1.0)\n);\n@end\n@export clay.util.parallax_correct\nvec3 parallaxCorrect(in vec3 dir, in vec3 pos, in vec3 boxMin, in vec3 boxMax) {\n vec3 first = (boxMax - pos) / dir;\n vec3 second = (boxMin - pos) / dir;\n vec3 further = max(first, second);\n float dist = min(further.x, min(further.y, further.z));\n vec3 fixedPos = pos + dir * dist;\n vec3 boxCenter = (boxMax + boxMin) * 0.5;\n return normalize(fixedPos - boxCenter);\n}\n@end\n@export clay.util.clamp_sample\nvec4 clampSample(const in sampler2D texture, const in vec2 coord)\n{\n#ifdef STEREO\n float eye = step(0.5, coord.x) * 0.5;\n vec2 coordClamped = clamp(coord, vec2(eye, 0.0), vec2(0.5 + eye, 1.0));\n#else\n vec2 coordClamped = clamp(coord, vec2(0.0), vec2(1.0));\n#endif\n return texture2D(texture, coordClamped);\n}\n@end\n@export clay.util.ACES\nvec3 ACESToneMapping(vec3 color)\n{\n const float A = 2.51;\n const float B = 0.03;\n const float C = 2.43;\n const float D = 0.59;\n const float E = 0.14;\n return (color * (A * color + B)) / (color * (C * color + D) + E);\n}\n@end";function lZ(e){return e instanceof HTMLCanvasElement||e instanceof HTMLImageElement||e instanceof Image}Object.assign(rl.prototype,vLe),ve.import(sZ),ve.import(kq),ve.import("\n@export ecgl.common.transformUniforms\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform mat4 worldInverseTranspose : WORLDINVERSETRANSPOSE;\nuniform mat4 world : WORLD;\n@end\n\n@export ecgl.common.attributes\nattribute vec3 position : POSITION;\nattribute vec2 texcoord : TEXCOORD_0;\nattribute vec3 normal : NORMAL;\n@end\n\n@export ecgl.common.uv.header\nuniform vec2 uvRepeat : [1.0, 1.0];\nuniform vec2 uvOffset : [0.0, 0.0];\nuniform vec2 detailUvRepeat : [1.0, 1.0];\nuniform vec2 detailUvOffset : [0.0, 0.0];\n\nvarying vec2 v_Texcoord;\nvarying vec2 v_DetailTexcoord;\n@end\n\n@export ecgl.common.uv.main\nv_Texcoord = texcoord * uvRepeat + uvOffset;\nv_DetailTexcoord = texcoord * detailUvRepeat + detailUvOffset;\n@end\n\n@export ecgl.common.uv.fragmentHeader\nvarying vec2 v_Texcoord;\nvarying vec2 v_DetailTexcoord;\n@end\n\n\n@export ecgl.common.albedo.main\n\n vec4 albedoTexel = vec4(1.0);\n#ifdef DIFFUSEMAP_ENABLED\n albedoTexel = texture2D(diffuseMap, v_Texcoord);\n #ifdef SRGB_DECODE\n albedoTexel = sRGBToLinear(albedoTexel);\n #endif\n#endif\n\n#ifdef DETAILMAP_ENABLED\n vec4 detailTexel = texture2D(detailMap, v_DetailTexcoord);\n #ifdef SRGB_DECODE\n detailTexel = sRGBToLinear(detailTexel);\n #endif\n albedoTexel.rgb = mix(albedoTexel.rgb, detailTexel.rgb, detailTexel.a);\n albedoTexel.a = detailTexel.a + (1.0 - detailTexel.a) * albedoTexel.a;\n#endif\n\n@end\n\n@export ecgl.common.wireframe.vertexHeader\n\n#ifdef WIREFRAME_QUAD\nattribute vec4 barycentric;\nvarying vec4 v_Barycentric;\n#elif defined(WIREFRAME_TRIANGLE)\nattribute vec3 barycentric;\nvarying vec3 v_Barycentric;\n#endif\n\n@end\n\n@export ecgl.common.wireframe.vertexMain\n\n#if defined(WIREFRAME_QUAD) || defined(WIREFRAME_TRIANGLE)\n v_Barycentric = barycentric;\n#endif\n\n@end\n\n\n@export ecgl.common.wireframe.fragmentHeader\n\nuniform float wireframeLineWidth : 1;\nuniform vec4 wireframeLineColor: [0, 0, 0, 0.5];\n\n#ifdef WIREFRAME_QUAD\nvarying vec4 v_Barycentric;\nfloat edgeFactor () {\n vec4 d = fwidth(v_Barycentric);\n vec4 a4 = smoothstep(vec4(0.0), d * wireframeLineWidth, v_Barycentric);\n return min(min(min(a4.x, a4.y), a4.z), a4.w);\n}\n#elif defined(WIREFRAME_TRIANGLE)\nvarying vec3 v_Barycentric;\nfloat edgeFactor () {\n vec3 d = fwidth(v_Barycentric);\n vec3 a3 = smoothstep(vec3(0.0), d * wireframeLineWidth, v_Barycentric);\n return min(min(a3.x, a3.y), a3.z);\n}\n#endif\n\n@end\n\n\n@export ecgl.common.wireframe.fragmentMain\n\n#if defined(WIREFRAME_QUAD) || defined(WIREFRAME_TRIANGLE)\n if (wireframeLineWidth > 0.) {\n vec4 lineColor = wireframeLineColor;\n#ifdef SRGB_DECODE\n lineColor = sRGBToLinear(lineColor);\n#endif\n\n gl_FragColor.rgb = mix(gl_FragColor.rgb, lineColor.rgb, (1.0 - edgeFactor()) * lineColor.a);\n }\n#endif\n@end\n\n\n\n\n@export ecgl.common.bumpMap.header\n\n#ifdef BUMPMAP_ENABLED\nuniform sampler2D bumpMap;\nuniform float bumpScale : 1.0;\n\n\nvec3 bumpNormal(vec3 surfPos, vec3 surfNormal, vec3 baseNormal)\n{\n vec2 dSTdx = dFdx(v_Texcoord);\n vec2 dSTdy = dFdy(v_Texcoord);\n\n float Hll = bumpScale * texture2D(bumpMap, v_Texcoord).x;\n float dHx = bumpScale * texture2D(bumpMap, v_Texcoord + dSTdx).x - Hll;\n float dHy = bumpScale * texture2D(bumpMap, v_Texcoord + dSTdy).x - Hll;\n\n vec3 vSigmaX = dFdx(surfPos);\n vec3 vSigmaY = dFdy(surfPos);\n vec3 vN = surfNormal;\n\n vec3 R1 = cross(vSigmaY, vN);\n vec3 R2 = cross(vN, vSigmaX);\n\n float fDet = dot(vSigmaX, R1);\n\n vec3 vGrad = sign(fDet) * (dHx * R1 + dHy * R2);\n return normalize(abs(fDet) * baseNormal - vGrad);\n\n}\n#endif\n\n@end\n\n@export ecgl.common.normalMap.vertexHeader\n\n#ifdef NORMALMAP_ENABLED\nattribute vec4 tangent : TANGENT;\nvarying vec3 v_Tangent;\nvarying vec3 v_Bitangent;\n#endif\n\n@end\n\n@export ecgl.common.normalMap.vertexMain\n\n#ifdef NORMALMAP_ENABLED\n if (dot(tangent, tangent) > 0.0) {\n v_Tangent = normalize((worldInverseTranspose * vec4(tangent.xyz, 0.0)).xyz);\n v_Bitangent = normalize(cross(v_Normal, v_Tangent) * tangent.w);\n }\n#endif\n\n@end\n\n\n@export ecgl.common.normalMap.fragmentHeader\n\n#ifdef NORMALMAP_ENABLED\nuniform sampler2D normalMap;\nvarying vec3 v_Tangent;\nvarying vec3 v_Bitangent;\n#endif\n\n@end\n\n@export ecgl.common.normalMap.fragmentMain\n#ifdef NORMALMAP_ENABLED\n if (dot(v_Tangent, v_Tangent) > 0.0) {\n vec3 normalTexel = texture2D(normalMap, v_DetailTexcoord).xyz;\n if (dot(normalTexel, normalTexel) > 0.0) { N = normalTexel * 2.0 - 1.0;\n mat3 tbn = mat3(v_Tangent, v_Bitangent, v_Normal);\n N = normalize(tbn * N);\n }\n }\n#endif\n@end\n\n\n\n@export ecgl.common.vertexAnimation.header\n\n#ifdef VERTEX_ANIMATION\nattribute vec3 prevPosition;\nattribute vec3 prevNormal;\nuniform float percent;\n#endif\n\n@end\n\n@export ecgl.common.vertexAnimation.main\n\n#ifdef VERTEX_ANIMATION\n vec3 pos = mix(prevPosition, position, percent);\n vec3 norm = mix(prevNormal, normal, percent);\n#else\n vec3 pos = position;\n vec3 norm = normal;\n#endif\n\n@end\n\n\n@export ecgl.common.ssaoMap.header\n#ifdef SSAOMAP_ENABLED\nuniform sampler2D ssaoMap;\nuniform vec4 viewport : VIEWPORT;\n#endif\n@end\n\n@export ecgl.common.ssaoMap.main\n float ao = 1.0;\n#ifdef SSAOMAP_ENABLED\n ao = texture2D(ssaoMap, (gl_FragCoord.xy - viewport.xy) / viewport.zw).r;\n#endif\n@end\n\n\n\n\n@export ecgl.common.diffuseLayer.header\n\n#if (LAYER_DIFFUSEMAP_COUNT > 0)\nuniform float layerDiffuseIntensity[LAYER_DIFFUSEMAP_COUNT];\nuniform sampler2D layerDiffuseMap[LAYER_DIFFUSEMAP_COUNT];\n#endif\n\n@end\n\n@export ecgl.common.emissiveLayer.header\n\n#if (LAYER_EMISSIVEMAP_COUNT > 0)\nuniform float layerEmissionIntensity[LAYER_EMISSIVEMAP_COUNT];\nuniform sampler2D layerEmissiveMap[LAYER_EMISSIVEMAP_COUNT];\n#endif\n\n@end\n\n@export ecgl.common.layers.header\n@import ecgl.common.diffuseLayer.header\n@import ecgl.common.emissiveLayer.header\n@end\n\n@export ecgl.common.diffuseLayer.main\n\n#if (LAYER_DIFFUSEMAP_COUNT > 0)\n for (int _idx_ = 0; _idx_ < LAYER_DIFFUSEMAP_COUNT; _idx_++) {{\n float intensity = layerDiffuseIntensity[_idx_];\n vec4 texel2 = texture2D(layerDiffuseMap[_idx_], v_Texcoord);\n #ifdef SRGB_DECODE\n texel2 = sRGBToLinear(texel2);\n #endif\n albedoTexel.rgb = mix(albedoTexel.rgb, texel2.rgb * intensity, texel2.a);\n albedoTexel.a = texel2.a + (1.0 - texel2.a) * albedoTexel.a;\n }}\n#endif\n\n@end\n\n@export ecgl.common.emissiveLayer.main\n\n#if (LAYER_EMISSIVEMAP_COUNT > 0)\n for (int _idx_ = 0; _idx_ < LAYER_EMISSIVEMAP_COUNT; _idx_++)\n {{\n vec4 texel2 = texture2D(layerEmissiveMap[_idx_], v_Texcoord) * layerEmissionIntensity[_idx_];\n #ifdef SRGB_DECODE\n texel2 = sRGBToLinear(texel2);\n #endif\n float intensity = layerEmissionIntensity[_idx_];\n gl_FragColor.rgb += texel2.rgb * texel2.a * intensity;\n }}\n#endif\n\n@end\n"),ve.import("@export ecgl.color.vertex\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\n\n@import ecgl.common.uv.header\n\nattribute vec2 texcoord : TEXCOORD_0;\nattribute vec3 position: POSITION;\n\n@import ecgl.common.wireframe.vertexHeader\n\n#ifdef VERTEX_COLOR\nattribute vec4 a_Color : COLOR;\nvarying vec4 v_Color;\n#endif\n\n#ifdef VERTEX_ANIMATION\nattribute vec3 prevPosition;\nuniform float percent : 1.0;\n#endif\n\n#ifdef ATMOSPHERE_ENABLED\nattribute vec3 normal: NORMAL;\nuniform mat4 worldInverseTranspose : WORLDINVERSETRANSPOSE;\nvarying vec3 v_Normal;\n#endif\n\nvoid main()\n{\n#ifdef VERTEX_ANIMATION\n vec3 pos = mix(prevPosition, position, percent);\n#else\n vec3 pos = position;\n#endif\n\n gl_Position = worldViewProjection * vec4(pos, 1.0);\n\n @import ecgl.common.uv.main\n\n#ifdef VERTEX_COLOR\n v_Color = a_Color;\n#endif\n\n#ifdef ATMOSPHERE_ENABLED\n v_Normal = normalize((worldInverseTranspose * vec4(normal, 0.0)).xyz);\n#endif\n\n @import ecgl.common.wireframe.vertexMain\n\n}\n\n@end\n\n@export ecgl.color.fragment\n\n#define LAYER_DIFFUSEMAP_COUNT 0\n#define LAYER_EMISSIVEMAP_COUNT 0\n\nuniform sampler2D diffuseMap;\nuniform sampler2D detailMap;\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\n\n#ifdef ATMOSPHERE_ENABLED\nuniform mat4 viewTranspose: VIEWTRANSPOSE;\nuniform vec3 glowColor;\nuniform float glowPower;\nvarying vec3 v_Normal;\n#endif\n\n#ifdef VERTEX_COLOR\nvarying vec4 v_Color;\n#endif\n\n@import ecgl.common.layers.header\n\n@import ecgl.common.uv.fragmentHeader\n\n@import ecgl.common.wireframe.fragmentHeader\n\n@import clay.util.srgb\n\nvoid main()\n{\n#ifdef SRGB_DECODE\n gl_FragColor = sRGBToLinear(color);\n#else\n gl_FragColor = color;\n#endif\n\n#ifdef VERTEX_COLOR\n gl_FragColor *= v_Color;\n#endif\n\n @import ecgl.common.albedo.main\n\n @import ecgl.common.diffuseLayer.main\n\n gl_FragColor *= albedoTexel;\n\n#ifdef ATMOSPHERE_ENABLED\n float atmoIntensity = pow(1.0 - dot(v_Normal, (viewTranspose * vec4(0.0, 0.0, 1.0, 0.0)).xyz), glowPower);\n gl_FragColor.rgb += glowColor * atmoIntensity;\n#endif\n\n @import ecgl.common.emissiveLayer.main\n\n @import ecgl.common.wireframe.fragmentMain\n\n}\n@end"),ve.import("/**\n * http: */\n\n@export ecgl.lambert.vertex\n\n@import ecgl.common.transformUniforms\n\n@import ecgl.common.uv.header\n\n\n@import ecgl.common.attributes\n\n@import ecgl.common.wireframe.vertexHeader\n\n#ifdef VERTEX_COLOR\nattribute vec4 a_Color : COLOR;\nvarying vec4 v_Color;\n#endif\n\n\n@import ecgl.common.vertexAnimation.header\n\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\nvoid main()\n{\n @import ecgl.common.uv.main\n\n @import ecgl.common.vertexAnimation.main\n\n\n gl_Position = worldViewProjection * vec4(pos, 1.0);\n\n v_Normal = normalize((worldInverseTranspose * vec4(norm, 0.0)).xyz);\n v_WorldPosition = (world * vec4(pos, 1.0)).xyz;\n\n#ifdef VERTEX_COLOR\n v_Color = a_Color;\n#endif\n\n @import ecgl.common.wireframe.vertexMain\n}\n\n@end\n\n\n@export ecgl.lambert.fragment\n\n#define LAYER_DIFFUSEMAP_COUNT 0\n#define LAYER_EMISSIVEMAP_COUNT 0\n\n#define NORMAL_UP_AXIS 1\n#define NORMAL_FRONT_AXIS 2\n\n@import ecgl.common.uv.fragmentHeader\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\nuniform sampler2D diffuseMap;\nuniform sampler2D detailMap;\n\n@import ecgl.common.layers.header\n\nuniform float emissionIntensity: 1.0;\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\n\nuniform mat4 viewInverse : VIEWINVERSE;\n\n#ifdef ATMOSPHERE_ENABLED\nuniform mat4 viewTranspose: VIEWTRANSPOSE;\nuniform vec3 glowColor;\nuniform float glowPower;\n#endif\n\n#ifdef AMBIENT_LIGHT_COUNT\n@import clay.header.ambient_light\n#endif\n#ifdef AMBIENT_SH_LIGHT_COUNT\n@import clay.header.ambient_sh_light\n#endif\n\n#ifdef DIRECTIONAL_LIGHT_COUNT\n@import clay.header.directional_light\n#endif\n\n#ifdef VERTEX_COLOR\nvarying vec4 v_Color;\n#endif\n\n\n@import ecgl.common.ssaoMap.header\n\n@import ecgl.common.bumpMap.header\n\n@import clay.util.srgb\n\n@import ecgl.common.wireframe.fragmentHeader\n\n@import clay.plugin.compute_shadow_map\n\nvoid main()\n{\n#ifdef SRGB_DECODE\n gl_FragColor = sRGBToLinear(color);\n#else\n gl_FragColor = color;\n#endif\n\n#ifdef VERTEX_COLOR\n #ifdef SRGB_DECODE\n gl_FragColor *= sRGBToLinear(v_Color);\n #else\n gl_FragColor *= v_Color;\n #endif\n#endif\n\n @import ecgl.common.albedo.main\n\n @import ecgl.common.diffuseLayer.main\n\n gl_FragColor *= albedoTexel;\n\n vec3 N = v_Normal;\n#ifdef DOUBLE_SIDED\n vec3 eyePos = viewInverse[3].xyz;\n vec3 V = normalize(eyePos - v_WorldPosition);\n\n if (dot(N, V) < 0.0) {\n N = -N;\n }\n#endif\n\n float ambientFactor = 1.0;\n\n#ifdef BUMPMAP_ENABLED\n N = bumpNormal(v_WorldPosition, v_Normal, N);\n ambientFactor = dot(v_Normal, N);\n#endif\n\n vec3 N2 = vec3(N.x, N[NORMAL_UP_AXIS], N[NORMAL_FRONT_AXIS]);\n\n vec3 diffuseColor = vec3(0.0, 0.0, 0.0);\n\n @import ecgl.common.ssaoMap.main\n\n#ifdef AMBIENT_LIGHT_COUNT\n for(int i = 0; i < AMBIENT_LIGHT_COUNT; i++)\n {\n diffuseColor += ambientLightColor[i] * ambientFactor * ao;\n }\n#endif\n#ifdef AMBIENT_SH_LIGHT_COUNT\n for(int _idx_ = 0; _idx_ < AMBIENT_SH_LIGHT_COUNT; _idx_++)\n {{\n diffuseColor += calcAmbientSHLight(_idx_, N2) * ambientSHLightColor[_idx_] * ao;\n }}\n#endif\n#ifdef DIRECTIONAL_LIGHT_COUNT\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n float shadowContribsDir[DIRECTIONAL_LIGHT_COUNT];\n if(shadowEnabled)\n {\n computeShadowOfDirectionalLights(v_WorldPosition, shadowContribsDir);\n }\n#endif\n for(int i = 0; i < DIRECTIONAL_LIGHT_COUNT; i++)\n {\n vec3 lightDirection = -directionalLightDirection[i];\n vec3 lightColor = directionalLightColor[i];\n\n float shadowContrib = 1.0;\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n if (shadowEnabled)\n {\n shadowContrib = shadowContribsDir[i];\n }\n#endif\n\n float ndl = dot(N, normalize(lightDirection)) * shadowContrib;\n\n diffuseColor += lightColor * clamp(ndl, 0.0, 1.0);\n }\n#endif\n\n gl_FragColor.rgb *= diffuseColor;\n\n#ifdef ATMOSPHERE_ENABLED\n float atmoIntensity = pow(1.0 - dot(v_Normal, (viewTranspose * vec4(0.0, 0.0, 1.0, 0.0)).xyz), glowPower);\n gl_FragColor.rgb += glowColor * atmoIntensity;\n#endif\n\n @import ecgl.common.emissiveLayer.main\n\n @import ecgl.common.wireframe.fragmentMain\n}\n\n@end"),ve.import("@export ecgl.realistic.vertex\n\n@import ecgl.common.transformUniforms\n\n@import ecgl.common.uv.header\n\n@import ecgl.common.attributes\n\n\n@import ecgl.common.wireframe.vertexHeader\n\n#ifdef VERTEX_COLOR\nattribute vec4 a_Color : COLOR;\nvarying vec4 v_Color;\n#endif\n\n#ifdef NORMALMAP_ENABLED\nattribute vec4 tangent : TANGENT;\nvarying vec3 v_Tangent;\nvarying vec3 v_Bitangent;\n#endif\n\n@import ecgl.common.vertexAnimation.header\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\nvoid main()\n{\n\n @import ecgl.common.uv.main\n\n @import ecgl.common.vertexAnimation.main\n\n gl_Position = worldViewProjection * vec4(pos, 1.0);\n\n v_Normal = normalize((worldInverseTranspose * vec4(norm, 0.0)).xyz);\n v_WorldPosition = (world * vec4(pos, 1.0)).xyz;\n\n#ifdef VERTEX_COLOR\n v_Color = a_Color;\n#endif\n\n#ifdef NORMALMAP_ENABLED\n v_Tangent = normalize((worldInverseTranspose * vec4(tangent.xyz, 0.0)).xyz);\n v_Bitangent = normalize(cross(v_Normal, v_Tangent) * tangent.w);\n#endif\n\n @import ecgl.common.wireframe.vertexMain\n\n}\n\n@end\n\n\n\n@export ecgl.realistic.fragment\n\n#define LAYER_DIFFUSEMAP_COUNT 0\n#define LAYER_EMISSIVEMAP_COUNT 0\n#define PI 3.14159265358979\n#define ROUGHNESS_CHANEL 0\n#define METALNESS_CHANEL 1\n\n#define NORMAL_UP_AXIS 1\n#define NORMAL_FRONT_AXIS 2\n\n#ifdef VERTEX_COLOR\nvarying vec4 v_Color;\n#endif\n\n@import ecgl.common.uv.fragmentHeader\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\nuniform sampler2D diffuseMap;\n\nuniform sampler2D detailMap;\nuniform sampler2D metalnessMap;\nuniform sampler2D roughnessMap;\n\n@import ecgl.common.layers.header\n\nuniform float emissionIntensity: 1.0;\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\n\nuniform float metalness : 0.0;\nuniform float roughness : 0.5;\n\nuniform mat4 viewInverse : VIEWINVERSE;\n\n#ifdef ATMOSPHERE_ENABLED\nuniform mat4 viewTranspose: VIEWTRANSPOSE;\nuniform vec3 glowColor;\nuniform float glowPower;\n#endif\n\n#ifdef AMBIENT_LIGHT_COUNT\n@import clay.header.ambient_light\n#endif\n\n#ifdef AMBIENT_SH_LIGHT_COUNT\n@import clay.header.ambient_sh_light\n#endif\n\n#ifdef AMBIENT_CUBEMAP_LIGHT_COUNT\n@import clay.header.ambient_cubemap_light\n#endif\n\n#ifdef DIRECTIONAL_LIGHT_COUNT\n@import clay.header.directional_light\n#endif\n\n@import ecgl.common.normalMap.fragmentHeader\n\n@import ecgl.common.ssaoMap.header\n\n@import ecgl.common.bumpMap.header\n\n@import clay.util.srgb\n\n@import clay.util.rgbm\n\n@import ecgl.common.wireframe.fragmentHeader\n\n@import clay.plugin.compute_shadow_map\n\nvec3 F_Schlick(float ndv, vec3 spec) {\n return spec + (1.0 - spec) * pow(1.0 - ndv, 5.0);\n}\n\nfloat D_Phong(float g, float ndh) {\n float a = pow(8192.0, g);\n return (a + 2.0) / 8.0 * pow(ndh, a);\n}\n\nvoid main()\n{\n vec4 albedoColor = color;\n\n vec3 eyePos = viewInverse[3].xyz;\n vec3 V = normalize(eyePos - v_WorldPosition);\n#ifdef VERTEX_COLOR\n #ifdef SRGB_DECODE\n albedoColor *= sRGBToLinear(v_Color);\n #else\n albedoColor *= v_Color;\n #endif\n#endif\n\n @import ecgl.common.albedo.main\n\n @import ecgl.common.diffuseLayer.main\n\n albedoColor *= albedoTexel;\n\n float m = metalness;\n\n#ifdef METALNESSMAP_ENABLED\n float m2 = texture2D(metalnessMap, v_DetailTexcoord)[METALNESS_CHANEL];\n m = clamp(m2 + (m - 0.5) * 2.0, 0.0, 1.0);\n#endif\n\n vec3 baseColor = albedoColor.rgb;\n albedoColor.rgb = baseColor * (1.0 - m);\n vec3 specFactor = mix(vec3(0.04), baseColor, m);\n\n float g = 1.0 - roughness;\n\n#ifdef ROUGHNESSMAP_ENABLED\n float g2 = 1.0 - texture2D(roughnessMap, v_DetailTexcoord)[ROUGHNESS_CHANEL];\n g = clamp(g2 + (g - 0.5) * 2.0, 0.0, 1.0);\n#endif\n\n vec3 N = v_Normal;\n\n#ifdef DOUBLE_SIDED\n if (dot(N, V) < 0.0) {\n N = -N;\n }\n#endif\n\n float ambientFactor = 1.0;\n\n#ifdef BUMPMAP_ENABLED\n N = bumpNormal(v_WorldPosition, v_Normal, N);\n ambientFactor = dot(v_Normal, N);\n#endif\n\n@import ecgl.common.normalMap.fragmentMain\n\n vec3 N2 = vec3(N.x, N[NORMAL_UP_AXIS], N[NORMAL_FRONT_AXIS]);\n\n vec3 diffuseTerm = vec3(0.0);\n vec3 specularTerm = vec3(0.0);\n\n float ndv = clamp(dot(N, V), 0.0, 1.0);\n vec3 fresnelTerm = F_Schlick(ndv, specFactor);\n\n @import ecgl.common.ssaoMap.main\n\n#ifdef AMBIENT_LIGHT_COUNT\n for(int _idx_ = 0; _idx_ < AMBIENT_LIGHT_COUNT; _idx_++)\n {{\n diffuseTerm += ambientLightColor[_idx_] * ambientFactor * ao;\n }}\n#endif\n\n#ifdef AMBIENT_SH_LIGHT_COUNT\n for(int _idx_ = 0; _idx_ < AMBIENT_SH_LIGHT_COUNT; _idx_++)\n {{\n diffuseTerm += calcAmbientSHLight(_idx_, N2) * ambientSHLightColor[_idx_] * ao;\n }}\n#endif\n\n#ifdef DIRECTIONAL_LIGHT_COUNT\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n float shadowContribsDir[DIRECTIONAL_LIGHT_COUNT];\n if(shadowEnabled)\n {\n computeShadowOfDirectionalLights(v_WorldPosition, shadowContribsDir);\n }\n#endif\n for(int _idx_ = 0; _idx_ < DIRECTIONAL_LIGHT_COUNT; _idx_++)\n {{\n vec3 L = -directionalLightDirection[_idx_];\n vec3 lc = directionalLightColor[_idx_];\n\n vec3 H = normalize(L + V);\n float ndl = clamp(dot(N, normalize(L)), 0.0, 1.0);\n float ndh = clamp(dot(N, H), 0.0, 1.0);\n\n float shadowContrib = 1.0;\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n if (shadowEnabled)\n {\n shadowContrib = shadowContribsDir[_idx_];\n }\n#endif\n\n vec3 li = lc * ndl * shadowContrib;\n\n diffuseTerm += li;\n specularTerm += li * fresnelTerm * D_Phong(g, ndh);\n }}\n#endif\n\n\n#ifdef AMBIENT_CUBEMAP_LIGHT_COUNT\n vec3 L = reflect(-V, N);\n L = vec3(L.x, L[NORMAL_UP_AXIS], L[NORMAL_FRONT_AXIS]);\n float rough2 = clamp(1.0 - g, 0.0, 1.0);\n float bias2 = rough2 * 5.0;\n vec2 brdfParam2 = texture2D(ambientCubemapLightBRDFLookup[0], vec2(rough2, ndv)).xy;\n vec3 envWeight2 = specFactor * brdfParam2.x + brdfParam2.y;\n vec3 envTexel2;\n for(int _idx_ = 0; _idx_ < AMBIENT_CUBEMAP_LIGHT_COUNT; _idx_++)\n {{\n envTexel2 = RGBMDecode(textureCubeLodEXT(ambientCubemapLightCubemap[_idx_], L, bias2), 8.12);\n specularTerm += ambientCubemapLightColor[_idx_] * envTexel2 * envWeight2 * ao;\n }}\n#endif\n\n gl_FragColor.rgb = albedoColor.rgb * diffuseTerm + specularTerm;\n gl_FragColor.a = albedoColor.a;\n\n#ifdef ATMOSPHERE_ENABLED\n float atmoIntensity = pow(1.0 - dot(v_Normal, (viewTranspose * vec4(0.0, 0.0, 1.0, 0.0)).xyz), glowPower);\n gl_FragColor.rgb += glowColor * atmoIntensity;\n#endif\n\n#ifdef SRGB_ENCODE\n gl_FragColor = linearTosRGB(gl_FragColor);\n#endif\n\n @import ecgl.common.emissiveLayer.main\n\n @import ecgl.common.wireframe.fragmentMain\n}\n\n@end"),ve.import("@export ecgl.hatching.vertex\n\n@import ecgl.realistic.vertex\n\n@end\n\n\n@export ecgl.hatching.fragment\n\n#define NORMAL_UP_AXIS 1\n#define NORMAL_FRONT_AXIS 2\n\n@import ecgl.common.uv.fragmentHeader\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\nuniform vec4 color : [0.0, 0.0, 0.0, 1.0];\nuniform vec4 paperColor : [1.0, 1.0, 1.0, 1.0];\n\nuniform mat4 viewInverse : VIEWINVERSE;\n\n#ifdef AMBIENT_LIGHT_COUNT\n@import clay.header.ambient_light\n#endif\n#ifdef AMBIENT_SH_LIGHT_COUNT\n@import clay.header.ambient_sh_light\n#endif\n\n#ifdef DIRECTIONAL_LIGHT_COUNT\n@import clay.header.directional_light\n#endif\n\n#ifdef VERTEX_COLOR\nvarying vec4 v_Color;\n#endif\n\n\n@import ecgl.common.ssaoMap.header\n\n@import ecgl.common.bumpMap.header\n\n@import clay.util.srgb\n\n@import ecgl.common.wireframe.fragmentHeader\n\n@import clay.plugin.compute_shadow_map\n\nuniform sampler2D hatch1;\nuniform sampler2D hatch2;\nuniform sampler2D hatch3;\nuniform sampler2D hatch4;\nuniform sampler2D hatch5;\nuniform sampler2D hatch6;\n\nfloat shade(in float tone) {\n vec4 c = vec4(1. ,1., 1., 1.);\n float step = 1. / 6.;\n vec2 uv = v_DetailTexcoord;\n if (tone <= step / 2.0) {\n c = mix(vec4(0.), texture2D(hatch6, uv), 12. * tone);\n }\n else if (tone <= step) {\n c = mix(texture2D(hatch6, uv), texture2D(hatch5, uv), 6. * tone);\n }\n if(tone > step && tone <= 2. * step){\n c = mix(texture2D(hatch5, uv), texture2D(hatch4, uv) , 6. * (tone - step));\n }\n if(tone > 2. * step && tone <= 3. * step){\n c = mix(texture2D(hatch4, uv), texture2D(hatch3, uv), 6. * (tone - 2. * step));\n }\n if(tone > 3. * step && tone <= 4. * step){\n c = mix(texture2D(hatch3, uv), texture2D(hatch2, uv), 6. * (tone - 3. * step));\n }\n if(tone > 4. * step && tone <= 5. * step){\n c = mix(texture2D(hatch2, uv), texture2D(hatch1, uv), 6. * (tone - 4. * step));\n }\n if(tone > 5. * step){\n c = mix(texture2D(hatch1, uv), vec4(1.), 6. * (tone - 5. * step));\n }\n\n return c.r;\n}\n\nconst vec3 w = vec3(0.2125, 0.7154, 0.0721);\n\nvoid main()\n{\n#ifdef SRGB_DECODE\n vec4 inkColor = sRGBToLinear(color);\n#else\n vec4 inkColor = color;\n#endif\n\n#ifdef VERTEX_COLOR\n #ifdef SRGB_DECODE\n inkColor *= sRGBToLinear(v_Color);\n #else\n inkColor *= v_Color;\n #endif\n#endif\n\n vec3 N = v_Normal;\n#ifdef DOUBLE_SIDED\n vec3 eyePos = viewInverse[3].xyz;\n vec3 V = normalize(eyePos - v_WorldPosition);\n\n if (dot(N, V) < 0.0) {\n N = -N;\n }\n#endif\n\n float tone = 0.0;\n\n float ambientFactor = 1.0;\n\n#ifdef BUMPMAP_ENABLED\n N = bumpNormal(v_WorldPosition, v_Normal, N);\n ambientFactor = dot(v_Normal, N);\n#endif\n\n vec3 N2 = vec3(N.x, N[NORMAL_UP_AXIS], N[NORMAL_FRONT_AXIS]);\n\n @import ecgl.common.ssaoMap.main\n\n#ifdef AMBIENT_LIGHT_COUNT\n for(int i = 0; i < AMBIENT_LIGHT_COUNT; i++)\n {\n tone += dot(ambientLightColor[i], w) * ambientFactor * ao;\n }\n#endif\n#ifdef AMBIENT_SH_LIGHT_COUNT\n for(int _idx_ = 0; _idx_ < AMBIENT_SH_LIGHT_COUNT; _idx_++)\n {{\n tone += dot(calcAmbientSHLight(_idx_, N2) * ambientSHLightColor[_idx_], w) * ao;\n }}\n#endif\n#ifdef DIRECTIONAL_LIGHT_COUNT\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n float shadowContribsDir[DIRECTIONAL_LIGHT_COUNT];\n if(shadowEnabled)\n {\n computeShadowOfDirectionalLights(v_WorldPosition, shadowContribsDir);\n }\n#endif\n for(int i = 0; i < DIRECTIONAL_LIGHT_COUNT; i++)\n {\n vec3 lightDirection = -directionalLightDirection[i];\n float lightTone = dot(directionalLightColor[i], w);\n\n float shadowContrib = 1.0;\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n if (shadowEnabled)\n {\n shadowContrib = shadowContribsDir[i];\n }\n#endif\n\n float ndl = dot(N, normalize(lightDirection)) * shadowContrib;\n\n tone += lightTone * clamp(ndl, 0.0, 1.0);\n }\n#endif\n\n gl_FragColor = mix(inkColor, paperColor, shade(clamp(tone, 0.0, 1.0)));\n }\n@end\n"),ve.import("@export ecgl.sm.depth.vertex\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\n\nattribute vec3 position : POSITION;\nattribute vec2 texcoord : TEXCOORD_0;\n\n#ifdef VERTEX_ANIMATION\nattribute vec3 prevPosition;\nuniform float percent : 1.0;\n#endif\n\nvarying vec4 v_ViewPosition;\nvarying vec2 v_Texcoord;\n\nvoid main(){\n\n#ifdef VERTEX_ANIMATION\n vec3 pos = mix(prevPosition, position, percent);\n#else\n vec3 pos = position;\n#endif\n\n v_ViewPosition = worldViewProjection * vec4(pos, 1.0);\n gl_Position = v_ViewPosition;\n\n v_Texcoord = texcoord;\n\n}\n@end\n\n\n\n@export ecgl.sm.depth.fragment\n\n@import clay.sm.depth.fragment\n\n@end");var DLe=zc.prototype.addToScene,ELe=zc.prototype.removeFromScene;zc.prototype.addToScene=function(e){if(DLe.call(this,e),this.__zr){var n=this.__zr;e.traverse(function(t){t.__zr=n,t.addAnimatorsToZr&&t.addAnimatorsToZr(n)})}},zc.prototype.removeFromScene=function(e){ELe.call(this,e),e.traverse(function(n){var t=n.__zr;n.__zr=null,t&&n.removeAnimatorsFromZr&&n.removeAnimatorsFromZr(t)})},Fo.prototype.setTextureImage=function(e,n,t,r){if(this.shader){var o,i=t.getZr(),a=this;return a.autoUpdateTextureStatus=!1,a.disableTexture(e),function MLe(e){return!e||"none"===e}(n)||(o=Ke.loadTexture(n,t,r,function(s){a.enableTexture(e),i&&i.refresh()}),a.set(e,o)),o}};var Ke={};Ke.Renderer=Cm,Ke.Node=rl,Ke.Mesh=Lh,Ke.Shader=ve,Ke.Material=Fo,Ke.Texture=Be,Ke.Texture2D=yt,Ke.Geometry=Qt,Ke.SphereGeometry=iLe,Ke.PlaneGeometry=FC,Ke.CubeGeometry=nZ,Ke.AmbientLight=oLe,Ke.DirectionalLight=lLe,Ke.PointLight=uLe,Ke.SpotLight=dLe,Ke.PerspectiveCamera=ci,Ke.OrthographicCamera=Sp,Ke.Vector2=oo,Ke.Vector3=fe,Ke.Vector4=fLe,Ke.Quaternion=Hq,Ke.Matrix2=pLe,Ke.Matrix2d=gLe,Ke.Matrix3=mLe,Ke.Matrix4=Oe,Ke.Plane=Xq,Ke.Ray=TC,Ke.BoundingBox=ha,Ke.Frustum=MN;var GC=null;function cZ(e){return Math.pow(2,Math.round(Math.log(e)/Math.LN2))}function uZ(e){if((e.wrapS===Be.REPEAT||e.wrapT===Be.REPEAT)&&e.image){var n=cZ(e.width),t=cZ(e.height);if(n!==e.width||t!==e.height){var r=document.createElement("canvas");r.width=n,r.height=t,r.getContext("2d").drawImage(e.image,0,0,n,t),e.image=r}}}Ke.loadTexture=function(e,n,t,r){"function"==typeof t&&(r=t,t={}),t=t||{};for(var i=Object.keys(t).sort(),a="",o=0;o<i.length;o++)a+=i[o]+"_"+t[i[o]]+"_";var s=n.__textureCache=n.__textureCache||new Df(20);if(function TLe(e){return e.getZr&&e.setOption}(e)){if(c=s.get(a+(l=e.__textureid__)))c.texture.surface.setECharts(e),r&&r(c.texture);else{var u=new VRe(e);for(u.onupdate=function(){n.getZr().refresh()},c={texture:u.getTexture()},o=0;o<i.length;o++)c.texture[i[o]]=t[i[o]];e.__textureid__=l=e.__textureid__||"__ecgl_ec__"+c.texture.__uid__,s.put(a+l,c),r&&r(c.texture)}return c.texture}if(lZ(e)){var l,c;if(!(c=s.get(a+(l=e.__textureid__)))){for(c={texture:new Ke.Texture2D({image:e})},o=0;o<i.length;o++)c.texture[i[o]]=t[i[o]];e.__textureid__=l=e.__textureid__||"__ecgl_image__"+c.texture.__uid__,s.put(a+l,c),uZ(c.texture),r&&r(c.texture)}return c.texture}if(c=s.get(a+e))c.callbacks?c.callbacks.push(r):r&&r(c.texture);else if(e.match(/.hdr$|^data:application\/octet-stream/)){c={callbacks:[r]};var h=Vh.loadTexture(e,{exposure:t.exposure,fileType:"hdr"},function(){h.dirty(),c.callbacks.forEach(function(p){p&&p(h)}),c.callbacks=null});c.texture=h,s.put(a+e,c)}else{for(h=new Ke.Texture2D({image:new Image}),o=0;o<i.length;o++)h[i[o]]=t[i[o]];c={texture:h,callbacks:[r]};var d=h.image;d.onload=function(){h.image=d,uZ(h),h.dirty(),c.callbacks.forEach(function(g){g&&g(h)}),c.callbacks=null},d.crossOrigin="Anonymous",d.src=e,h.image=function ALe(){return null!==GC||(GC=Vh.createBlank("rgba(255,255,255,0)").image),GC}(),s.put(a+e,c)}return c.texture},Ke.createAmbientCubemap=function(e,n,t,r){var i=(e=e||{}).texture,a=Ct.firstNotNull(e.exposure,1),o=new qRe({intensity:Ct.firstNotNull(e.specularIntensity,1)}),s=new KRe({intensity:Ct.firstNotNull(e.diffuseIntensity,1),coefficients:[.844,.712,.691,-.037,.083,.167,.343,.288,.299,-.041,-.021,-.009,-.003,-.041,-.064,-.011,-.007,-.004,-.031,.034,.081,-.06,-.049,-.06,.046,.056,.05]});return o.cubemap=Ke.loadTexture(i,t,{exposure:a},function(){o.cubemap.flipY=!1,o.prefilter(n,32),s.coefficients=tLe.projectEnvironmentMap(n,o.cubemap,{lod:1}),r&&r()}),{specular:o,diffuse:s}},Ke.createBlankTexture=Vh.createBlank,Ke.isImage=lZ,Ke.additiveBlend=function(e){e.blendEquation(e.FUNC_ADD),e.blendFunc(e.SRC_ALPHA,e.ONE)},Ke.parseColor=function(e,n){return e instanceof Array?(n||(n=[]),n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e.length>3?e[3]:1,n):((n=ta(e||"#000",n)||[0,0,0,0])[0]/=255,n[1]/=255,n[2]/=255,n)},Ke.directionFromAlphaBeta=function(e,n){var t=e/180*Math.PI+Math.PI/2,r=-n/180*Math.PI+Math.PI/2,i=[],a=Math.sin(t);return i[0]=a*Math.cos(r),i[1]=-Math.cos(t),i[2]=a*Math.sin(r),i},Ke.getShadowResolution=function(e){var n=1024;switch(e){case"low":n=512;break;case"medium":break;case"high":n=2048;break;case"ultra":n=4096}return n},Ke.COMMON_SHADERS=["lambert","color","realistic","hatching","shadow"],Ke.createShader=function(e){"ecgl.shadow"===e&&(e="ecgl.displayShadow");var n=ve.source(e+".vertex"),t=ve.source(e+".fragment");n||console.error("Vertex shader of '%s' not exits",e),t||console.error("Fragment shader of '%s' not exits",e);var r=new ve(n,t);return r.name=e,r},Ke.createMaterial=function(e,n){n instanceof Array||(n=[n]);var t=Ke.createShader(e),r=new Fo({shader:t});return n.forEach(function(i){"string"==typeof i&&r.define(i)}),r},Ke.setMaterialFromModel=function(e,n,t,r){n.autoUpdateTextureStatus=!1;var i=t.getModel(e+"Material"),a=i.get("detailTexture"),o=Ct.firstNotNull(i.get("textureTiling"),1),s=Ct.firstNotNull(i.get("textureOffset"),0);"number"==typeof o&&(o=[o,o]),"number"==typeof s&&(s=[s,s]);var l=o[0]>1||o[1]>1?Ke.Texture.REPEAT:Ke.Texture.CLAMP_TO_EDGE,c={anisotropic:8,wrapS:l,wrapT:l};if("realistic"===e){var u=i.get("roughness"),h=i.get("metalness");null!=h?isNaN(h)&&(n.setTextureImage("metalnessMap",h,r,c),h=Ct.firstNotNull(i.get("metalnessAdjust"),.5)):h=0,null!=u?isNaN(u)&&(n.setTextureImage("roughnessMap",u,r,c),u=Ct.firstNotNull(i.get("roughnessAdjust"),.5)):u=.5;var d=i.get("normalTexture");n.setTextureImage("detailMap",a,r,c),n.setTextureImage("normalMap",d,r,c),n.set({roughness:u,metalness:h,detailUvRepeat:o,detailUvOffset:s})}else if("lambert"===e)n.setTextureImage("detailMap",a,r,c),n.set({detailUvRepeat:o,detailUvOffset:s});else if("color"===e)n.setTextureImage("detailMap",a,r,c),n.set({detailUvRepeat:o,detailUvOffset:s});else if("hatching"===e){for(var f=i.get("hatchingTextures")||[],p=0;p<6;p++)n.setTextureImage("hatch"+(p+1),f[p],r,{anisotropic:8,wrapS:Ke.Texture.REPEAT,wrapT:Ke.Texture.REPEAT});n.set({detailUvRepeat:o,detailUvOffset:s})}},Ke.updateVertexAnimation=function(e,n,t,r){var i=r.get("animation"),a=r.get("animationDurationUpdate"),o=r.get("animationEasingUpdate"),s=t.shadowDepthMaterial;if(i&&n&&a>0&&n.geometry.vertexCount===t.geometry.vertexCount){t.material.define("vertex","VERTEX_ANIMATION"),t.ignorePreZ=!0,s&&s.define("vertex","VERTEX_ANIMATION");for(var l=0;l<e.length;l++)t.geometry.attributes[e[l][0]].value=n.geometry.attributes[e[l][1]].value;t.geometry.dirty(),t.__percent=0,t.material.set("percent",0),t.stopAnimation(),t.animate().when(a,{__percent:1}).during(function(){t.material.set("percent",t.__percent),s&&s.set("percent",t.__percent)}).done(function(){t.ignorePreZ=!1,t.material.undefine("vertex","VERTEX_ANIMATION"),s&&s.undefine("vertex","VERTEX_ANIMATION")}).start(o)}else t.material.undefine("vertex","VERTEX_ANIMATION"),s&&s.undefine("vertex","VERTEX_ANIMATION")};const P=Ke;var Pn=function(e,n){this.id=e,this.zr=n;try{this.renderer=new Cm({clearBit:0,devicePixelRatio:n.painter.dpr,preserveDrawingBuffer:!0,premultipliedAlpha:!0}),this.renderer.resize(n.painter.getWidth(),n.painter.getHeight())}catch(r){return this.renderer=null,this.dom=document.createElement("div"),this.dom.style.cssText="position:absolute; left: 0; top: 0; right: 0; bottom: 0;",this.dom.className="ecgl-nowebgl",this.dom.innerHTML="Sorry, your browser does not support WebGL",void console.error(r)}this.onglobalout=this.onglobalout.bind(this),n.on("globalout",this.onglobalout),this.dom=this.renderer.canvas;var t=this.dom.style;t.position="absolute",t.left="0",t.top="0",this.views=[],this._picking=new qOe({renderer:this.renderer}),this._viewsToDispose=[],this._accumulatingId=0,this._zrEventProxy=new Yn({shape:{x:-1,y:-1,width:2,height:2},__isGLToZRProxy:!0}),this._backgroundColor=null,this._disposed=!1};function hZ(e){var n=e.__zr;e.__zr=null,n&&e.removeAnimatorsFromZr&&e.removeAnimatorsFromZr(n)}Pn.prototype.setUnpainted=function(){},Pn.prototype.addView=function(e){if(e.layer!==this){var n=this._viewsToDispose.indexOf(e);n>=0&&this._viewsToDispose.splice(n,1),this.views.push(e),e.layer=this;var t=this.zr;e.scene.traverse(function(r){r.__zr=t,r.addAnimatorsToZr&&r.addAnimatorsToZr(t)})}},Pn.prototype.removeView=function(e){if(e.layer===this){var n=this.views.indexOf(e);n>=0&&(this.views.splice(n,1),e.scene.traverse(hZ,this),e.layer=null,this._viewsToDispose.push(e))}},Pn.prototype.removeViewsAll=function(){this.views.forEach(function(e){e.scene.traverse(hZ,this),e.layer=null,this._viewsToDispose.push(e)},this),this.views.length=0},Pn.prototype.resize=function(e,n){this.renderer.resize(e,n)},Pn.prototype.clear=function(){var e=this.renderer.gl,n=this._backgroundColor||[0,0,0,0];e.clearColor(n[0],n[1],n[2],n[3]),e.depthMask(!0),e.colorMask(!0,!0,!0,!0),e.clear(e.DEPTH_BUFFER_BIT|e.COLOR_BUFFER_BIT)},Pn.prototype.clearDepth=function(){var e=this.renderer.gl;e.clear(e.DEPTH_BUFFER_BIT)},Pn.prototype.clearColor=function(){var e=this.renderer.gl;e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT)},Pn.prototype.needsRefresh=function(){this.zr.refresh()},Pn.prototype.refresh=function(e){this._backgroundColor=e?P.parseColor(e):[0,0,0,0],this.renderer.clearColor=this._backgroundColor;for(var n=0;n<this.views.length;n++)this.views[n].prepareRender(this.renderer);for(this._doRender(!1),this._trackAndClean(),n=0;n<this._viewsToDispose.length;n++)this._viewsToDispose[n].dispose(this.renderer);this._viewsToDispose.length=0,this._startAccumulating()},Pn.prototype.renderToCanvas=function(e){this._startAccumulating(!0),e.drawImage(this.dom,0,0,e.canvas.width,e.canvas.height)},Pn.prototype._doRender=function(e){this.clear(),this.renderer.saveViewport();for(var n=0;n<this.views.length;n++)this.views[n].render(this.renderer,e);this.renderer.restoreViewport()},Pn.prototype._stopAccumulating=function(){this._accumulatingId=0,clearTimeout(this._accumulatingTimeout)};var NLe=1;function WC(e){for(var n=0;n<e.length;n++)e[n].__used__=0}function jC(e,n){for(var t=0;t<n.length;t++)n[t].__used__||n[t].dispose(e)}function $C(e,n){e.__used__=e.__used__||0,e.__used__++,1===e.__used__&&n.push(e)}function ILe(e,n,t){var r,i;e.traverse(function(o){if(o.isRenderable()){var s=o.geometry,l=o.material;if(l!==r)for(var c=l.getTextureUniforms(),u=0;u<c.length;u++){var d=l.uniforms[c[u]].value;if(d)if(d instanceof Be)$C(d,n);else if(d instanceof Array)for(var f=0;f<d.length;f++)d[f]instanceof Be&&$C(d[f],n)}s!==i&&$C(s,t),r=l,i=s}});for(var a=0;a<e.lights.length;a++)e.lights[a].cubemap&&$C(e.lights[a].cubemap,n)}Pn.prototype._startAccumulating=function(e){var n=this;this._stopAccumulating();for(var t=!1,r=0;r<this.views.length;r++)t=this.views[r].needsAccumulate()||t;function i(a){if(n._accumulatingId&&a===n._accumulatingId){for(var o=!0,s=0;s<n.views.length;s++)o=n.views[s].isAccumulateFinished()&&t;o||(n._doRender(!0),e?i(a):Mf(function(){i(a)}))}}t&&(this._accumulatingId=NLe++,e?i(n._accumulatingId):this._accumulatingTimeout=setTimeout(function(){i(n._accumulatingId)},50))},Pn.prototype._trackAndClean=function(){var e=[],n=[];this._textureList&&(WC(this._textureList),WC(this._geometriesList));for(var t=0;t<this.views.length;t++)ILe(this.views[t].scene,e,n);this._textureList&&(jC(this.renderer,this._textureList),jC(this.renderer,this._geometriesList)),this._textureList=e,this._geometriesList=n},Pn.prototype.dispose=function(){this._disposed||(this._stopAccumulating(),this._textureList&&(WC(this._textureList),WC(this._geometriesList),jC(this.renderer,this._textureList),jC(this.renderer,this._geometriesList)),this.zr.off("globalout",this.onglobalout),this._disposed=!0)},Pn.prototype.onmousedown=function(e){if(!e.target||!e.target.__isGLToZRProxy){var n=this.pickObject((e=e.event).offsetX,e.offsetY);n&&(this._dispatchEvent("mousedown",e,n),this._dispatchDataEvent("mousedown",e,n)),this._downX=e.offsetX,this._downY=e.offsetY}},Pn.prototype.onmousemove=function(e){if(!e.target||!e.target.__isGLToZRProxy){var n=this.pickObject((e=e.event).offsetX,e.offsetY),t=n&&n.target,r=this._hovered;this._hovered=n,r&&t!==r.target&&(r.relatedTarget=t,this._dispatchEvent("mouseout",e,r),this.zr.setCursorStyle("default")),this._dispatchEvent("mousemove",e,n),n&&(this.zr.setCursorStyle("pointer"),(!r||t!==r.target)&&this._dispatchEvent("mouseover",e,n)),this._dispatchDataEvent("mousemove",e,n)}},Pn.prototype.onmouseup=function(e){if(!e.target||!e.target.__isGLToZRProxy){var n=this.pickObject((e=e.event).offsetX,e.offsetY);n&&(this._dispatchEvent("mouseup",e,n),this._dispatchDataEvent("mouseup",e,n)),this._upX=e.offsetX,this._upY=e.offsetY}},Pn.prototype.onclick=Pn.prototype.dblclick=function(e){if(!e.target||!e.target.__isGLToZRProxy){var n=this._upX-this._downX,t=this._upY-this._downY;if(!(Math.sqrt(n*n+t*t)>20)){var r=this.pickObject((e=e.event).offsetX,e.offsetY);r&&(this._dispatchEvent(e.type,e,r),this._dispatchDataEvent(e.type,e,r));var i=this._clickToSetFocusPoint(e);i&&i.view.setDOFFocusOnPoint(i.distance)&&this.zr.refresh()}}},Pn.prototype._clickToSetFocusPoint=function(e){for(var n=this.renderer,t=n.viewport,r=this.views.length-1;r>=0;r--){var i=this.views[r];if(i.hasDOF()&&i.containPoint(e.offsetX,e.offsetY)){this._picking.scene=i.scene,this._picking.camera=i.camera,n.viewport=i.viewport;var a=this._picking.pick(e.offsetX,e.offsetY,!0);if(a)return a.view=i,a}}n.viewport=t},Pn.prototype.onglobalout=function(e){var n=this._hovered;n&&this._dispatchEvent("mouseout",e,{target:n.target})},Pn.prototype.pickObject=function(e,n){for(var t=[],r=this.renderer,i=r.viewport,a=0;a<this.views.length;a++){var o=this.views[a];o.containPoint(e,n)&&(this._picking.scene=o.scene,this._picking.camera=o.camera,r.viewport=o.viewport,this._picking.pickAll(e,n,t))}return r.viewport=i,t.sort(function(s,l){return s.distance-l.distance}),t[0]},Pn.prototype._dispatchEvent=function(e,n,t){t||(t={});var r=t.target;for(t.cancelBubble=!1,t.event=n,t.type=e,t.offsetX=n.offsetX,t.offsetY=n.offsetY;r&&(r.trigger(e,t),r=r.getParent(),!t.cancelBubble););this._dispatchToView(e,t)},Pn.prototype._dispatchDataEvent=function(e,n,t){var r=t&&t.target,i=r&&r.dataIndex,a=r&&r.seriesIndex,o=r&&r.eventData,s=!1,l=this._zrEventProxy;l.x=n.offsetX,l.y=n.offsetY,l.update();var c={target:l};const u=tn(l);"mousemove"===e&&(null!=i?i!==this._lastDataIndex&&(parseInt(this._lastDataIndex,10)>=0&&(u.dataIndex=this._lastDataIndex,u.seriesIndex=this._lastSeriesIndex,this.zr.handler.dispatchToElement(c,"mouseout",n)),s=!0):null!=o&&o!==this._lastEventData&&(null!=this._lastEventData&&(u.eventData=this._lastEventData,this.zr.handler.dispatchToElement(c,"mouseout",n)),s=!0),this._lastEventData=o,this._lastDataIndex=i,this._lastSeriesIndex=a),u.eventData=o,u.dataIndex=i,u.seriesIndex=a,(null!=o||parseInt(i,10)>=0&&parseInt(a,10)>=0)&&(this.zr.handler.dispatchToElement(c,e,n),s&&this.zr.handler.dispatchToElement(c,"mouseover",n))},Pn.prototype._dispatchToView=function(e,n){for(var t=0;t<this.views.length;t++)this.views[t].containPoint(n.offsetX,n.offsetY)&&this.views[t].trigger(e,n)},Object.assign(Pn.prototype,iN);const dZ=Pn;var PLe=["bar3D","line3D","map3D","scatter3D","surface","lines3D","scatterGL","scatter3D"];function Nm(e,n){if(e&&e[n]&&(e[n].normal||e[n].emphasis)){var t=e[n].normal,r=e[n].emphasis;t&&(e[n]=t),r&&(e.emphasis=e.emphasis||{},e.emphasis[n]=r)}}function YC(e){!e||(e instanceof Array||(e=[e]),I(e,function(n){if(n.axisLabel){var t=n.axisLabel;Object.assign(t,t.textStyle),t.textStyle=null}}))}function fZ(e){this._layers={},this._zr=e}fZ.prototype.update=function(e,n){var t=this,r=n.getZr();if(r.getWidth()&&r.getHeight()){for(var o in this._layers)this._layers[o].removeViewsAll();e.eachComponent(function(s,l){if("series"!==s){var c=n.getViewOfComponentModel(l),u=l.coordinateSystem;if(c.__ecgl__){if(u){if(!u.viewGL)return void console.error("Can't find viewGL in coordinateSystem of component "+l.id);h=u.viewGL}else{if(!l.viewGL)return void console.error("Can't find viewGL of component "+l.id);h=u.viewGL}var h=u.viewGL,d=i(l);d.addView(h),c.afterRender&&c.afterRender(l,e,n,d),a(c.groupGL,l.get("silent"))}}}),e.eachSeries(function(s){var l=n.getViewOfSeriesModel(s),c=s.coordinateSystem;if(l.__ecgl__){if(c&&!c.viewGL&&!l.viewGL)return void console.error("Can't find viewGL of series "+l.id);var u=c&&c.viewGL||l.viewGL,h=i(s);h.addView(u),l.afterRender&&l.afterRender(s,e,n,h),a(l.groupGL,s.get("silent"))}})}else console.warn("Dom has no width or height");function i(s){var l;r.setSleepAfterStill(0),l=s.get("zlevel");var c=t._layers,u=c[l];if(!u){if(u=c[l]=new dZ("gl-"+l,r),r.painter.isSingleCanvas()){u.virtual=!0;var h=new qs({z:1e4,style:{image:u.renderer.canvas},silent:!0});u.__hostImage=h,r.add(h)}r.painter.insertLayer(l,u)}return u.__hostImage&&u.__hostImage.setStyle({width:u.renderer.getWidth(),height:u.renderer.getHeight()}),u}function a(s,l){s&&s.traverse(function(c){c.isRenderable&&c.isRenderable()&&(c.ignorePicking=null!=c.$ignorePicking?c.$ignorePicking:l)})}},Aj(function(e){var n=e.getZr(),t=n.painter.dispose;n.painter.dispose=function(){"function"==typeof this.eachOtherLayer&&this.eachOtherLayer(function(r){r instanceof dZ&&r.dispose()}),t.call(this)},n.painter.getRenderedCanvas=function(r){if(r=r||{},this._singleCanvas)return this._layers[0].dom;var i=document.createElement("canvas"),a=r.pixelRatio||this.dpr;i.width=this.getWidth()*a,i.height=this.getHeight()*a;var o=i.getContext("2d");o.dpr=a,o.clearRect(0,0,i.width,i.height),r.backgroundColor&&(o.fillStyle=r.backgroundColor,o.fillRect(0,0,i.width,i.height));var c,s=this.storage.getDisplayList(!0),l={},u=this;function h(g,m){var v=u._zlevelList;null==g&&(g=-1/0);for(var _,y=0;y<v.length;y++){var b=v[y],w=u._layers[b];if(!w.__builtin__&&b>g&&b<m){_=w;break}}_&&_.renderToCanvas&&(o.save(),_.renderToCanvas(o),o.restore())}for(var d={ctx:o},f=0;f<s.length;f++){var p=s[f];p.zlevel!==c&&(h(c,p.zlevel),c=p.zlevel),this._doPaintEl(p,d,!0,null,l)}return h(c,1/0),i}}),Nj(function(e,n){var t=n.getZr();(t.__egl=t.__egl||new fZ(t)).update(e,n)}),BA(function RLe(e){I(e.series,function(n){sn(PLe,n.type)>=0&&(function OLe(e){Nm(e,"itemStyle"),Nm(e,"lineStyle"),Nm(e,"areaStyle"),Nm(e,"label")}(n),"mapbox"===n.coordinateSystem&&(n.coordinateSystem="mapbox3D",e.mapbox3D=e.mapbox))}),YC(e.xAxis3D),YC(e.yAxis3D),YC(e.zAxis3D),YC(e.grid3D),Nm(e.geo3D)});const XC={defaultOption:{viewControl:{projection:"perspective",autoRotate:!1,autoRotateDirection:"cw",autoRotateSpeed:10,autoRotateAfterStill:3,damping:.8,rotateSensitivity:1,zoomSensitivity:1,panSensitivity:1,panMouseButton:"middle",rotateMouseButton:"left",distance:150,minDistance:40,maxDistance:400,orthographicSize:150,maxOrthographicSize:400,minOrthographicSize:20,center:[0,0,0],alpha:0,beta:0,minAlpha:-90,maxAlpha:90}},setView:function(e){e=e||{},this.option.viewControl=this.option.viewControl||{},null!=e.alpha&&(this.option.viewControl.alpha=e.alpha),null!=e.beta&&(this.option.viewControl.beta=e.beta),null!=e.distance&&(this.option.viewControl.distance=e.distance),null!=e.center&&(this.option.viewControl.center=e.center)}},xp={defaultOption:{postEffect:{enable:!1,bloom:{enable:!0,intensity:.1},depthOfField:{enable:!1,focalRange:20,focalDistance:50,blurRadius:10,fstop:2.8,quality:"medium"},screenSpaceAmbientOcclusion:{enable:!1,radius:2,quality:"medium",intensity:1},screenSpaceReflection:{enable:!1,quality:"medium",maxRoughness:.8},colorCorrection:{enable:!0,exposure:0,brightness:0,contrast:1,saturation:1,lookupTexture:""},edge:{enable:!1},FXAA:{enable:!1}},temporalSuperSampling:{enable:"auto"}}},Mp={defaultOption:{light:{main:{shadow:!1,shadowQuality:"high",color:"#fff",intensity:1,alpha:0,beta:0},ambient:{color:"#fff",intensity:.2},ambientCubemap:{texture:null,exposure:1,diffuseIntensity:.5,specularIntensity:.5}}}};var qC=cn.extend({type:"grid3D",dependencies:["xAxis3D","yAxis3D","zAxis3D"],defaultOption:{show:!0,zlevel:-10,left:0,top:0,width:"100%",height:"100%",environment:"auto",boxWidth:100,boxHeight:100,boxDepth:100,axisPointer:{show:!0,lineStyle:{color:"rgba(0, 0, 0, 0.8)",width:1},label:{show:!0,formatter:null,margin:8,textStyle:{fontSize:14,color:"#fff",backgroundColor:"rgba(0,0,0,0.5)",padding:3,borderRadius:3}}},axisLine:{show:!0,lineStyle:{color:"#333",width:2,type:"solid"}},axisTick:{show:!0,inside:!1,length:3,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,margin:8,textStyle:{fontSize:12}},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}},light:{main:{alpha:30,beta:40},ambient:{intensity:.4}},viewControl:{alpha:20,beta:40,autoRotate:!1,distance:200,minDistance:40,maxDistance:400}}});Ee(qC.prototype,XC),Ee(qC.prototype,xp),Ee(qC.prototype,Mp);const LLe=qC;var Im=Ct.firstNotNull,pZ={left:0,middle:1,right:2};function gZ(e){return e instanceof Array||(e=[e,e]),e}var mZ=ca.extend(function(){return{zr:null,viewGL:null,_center:new fe,minDistance:.5,maxDistance:1.5,maxOrthographicSize:300,minOrthographicSize:30,minAlpha:-90,maxAlpha:90,minBeta:-1/0,maxBeta:1/0,autoRotateAfterStill:0,autoRotateDirection:"cw",autoRotateSpeed:60,damping:.8,rotateSensitivity:1,zoomSensitivity:1,panSensitivity:1,panMouseButton:"middle",rotateMouseButton:"left",_mode:"rotate",_camera:null,_needsUpdate:!1,_rotating:!1,_phi:0,_theta:0,_mouseX:0,_mouseY:0,_rotateVelocity:new oo,_panVelocity:new oo,_distance:500,_zoomSpeed:0,_stillTimeout:0,_animators:[]}},function(){["_mouseDownHandler","_mouseWheelHandler","_mouseMoveHandler","_mouseUpHandler","_pinchHandler","_contextMenuHandler","_update"].forEach(function(e){this[e]=this[e].bind(this)},this)},{init:function(){var e=this.zr;e&&(e.on("mousedown",this._mouseDownHandler),e.on("globalout",this._mouseUpHandler),e.on("mousewheel",this._mouseWheelHandler),e.on("pinch",this._pinchHandler),e.animation.on("frame",this._update),e.dom.addEventListener("contextmenu",this._contextMenuHandler))},dispose:function(){var e=this.zr;e&&(e.off("mousedown",this._mouseDownHandler),e.off("mousemove",this._mouseMoveHandler),e.off("mouseup",this._mouseUpHandler),e.off("mousewheel",this._mouseWheelHandler),e.off("pinch",this._pinchHandler),e.off("globalout",this._mouseUpHandler),e.dom.removeEventListener("contextmenu",this._contextMenuHandler),e.animation.off("frame",this._update)),this.stopAllAnimation()},getDistance:function(){return this._distance},setDistance:function(e){this._distance=e,this._needsUpdate=!0},getOrthographicSize:function(){return this._orthoSize},setOrthographicSize:function(e){this._orthoSize=e,this._needsUpdate=!0},getAlpha:function(){return this._theta/Math.PI*180},getBeta:function(){return-this._phi/Math.PI*180},getCenter:function(){return this._center.toArray()},setAlpha:function(e){e=Math.max(Math.min(this.maxAlpha,e),this.minAlpha),this._theta=e/180*Math.PI,this._needsUpdate=!0},setBeta:function(e){e=Math.max(Math.min(this.maxBeta,e),this.minBeta),this._phi=-e/180*Math.PI,this._needsUpdate=!0},setCenter:function(e){this._center.setArray(e)},setViewGL:function(e){this.viewGL=e},getCamera:function(){return this.viewGL.camera},setFromViewControlModel:function(e,n){var t=(n=n||{}).baseDistance||0,r=n.baseOrthoSize||1,i=e.get("projection");"perspective"!==i&&"orthographic"!==i&&"isometric"!==i&&(i="perspective"),this._projection=i,this.viewGL.setProjection(i);var a=e.get("distance")+t,o=e.get("orthographicSize")+r;[["damping",.8],["autoRotate",!1],["autoRotateAfterStill",3],["autoRotateDirection","cw"],["autoRotateSpeed",10],["minDistance",30],["maxDistance",400],["minOrthographicSize",30],["maxOrthographicSize",300],["minAlpha",-90],["maxAlpha",90],["minBeta",-1/0],["maxBeta",1/0],["rotateSensitivity",1],["zoomSensitivity",1],["panSensitivity",1],["panMouseButton","left"],["rotateMouseButton","middle"]].forEach(function(d){this[d[0]]=Im(e.get(d[0]),d[1])},this),this.minDistance+=t,this.maxDistance+=t,this.minOrthographicSize+=r,this.maxOrthographicSize+=r;var s=e.ecModel,l={};["animation","animationDurationUpdate","animationEasingUpdate"].forEach(function(d){l[d]=Im(e.get(d),s&&s.get(d))});var c=Im(n.alpha,e.get("alpha"))||0,u=Im(n.beta,e.get("beta"))||0,h=Im(n.center,e.get("center"))||[0,0,0];l.animation&&l.animationDurationUpdate>0&&this._notFirst?this.animateTo({alpha:c,beta:u,center:h,distance:a,orthographicSize:o,easing:l.animationEasingUpdate,duration:l.animationDurationUpdate}):(this.setDistance(a),this.setAlpha(c),this.setBeta(u),this.setCenter(h),this.setOrthographicSize(o)),this._notFirst=!0,this._validateProperties()},_validateProperties:function(){},animateTo:function(e){var n=this.zr,t=this,r={},i={};return null!=e.distance&&(r.distance=this.getDistance(),i.distance=e.distance),null!=e.orthographicSize&&(r.orthographicSize=this.getOrthographicSize(),i.orthographicSize=e.orthographicSize),null!=e.alpha&&(r.alpha=this.getAlpha(),i.alpha=e.alpha),null!=e.beta&&(r.beta=this.getBeta(),i.beta=e.beta),null!=e.center&&(r.center=this.getCenter(),i.center=e.center),this._addAnimator(n.animation.animate(r).when(e.duration||1e3,i).during(function(){null!=r.alpha&&t.setAlpha(r.alpha),null!=r.beta&&t.setBeta(r.beta),null!=r.distance&&t.setDistance(r.distance),null!=r.center&&t.setCenter(r.center),null!=r.orthographicSize&&t.setOrthographicSize(r.orthographicSize),t._needsUpdate=!0})).start(e.easing||"linear")},stopAllAnimation:function(){for(var e=0;e<this._animators.length;e++)this._animators[e].stop();this._animators.length=0},update:function(){this._needsUpdate=!0,this._update(20)},_isAnimating:function(){return this._animators.length>0},_update:function(e){if(this._rotating){var n=("cw"===this.autoRotateDirection?1:-1)*this.autoRotateSpeed/180*Math.PI;this._phi-=n*e/1e3,this._needsUpdate=!0}else this._rotateVelocity.len()>0&&(this._needsUpdate=!0);(Math.abs(this._zoomSpeed)>.1||this._panVelocity.len()>0)&&(this._needsUpdate=!0),this._needsUpdate&&(e=Math.min(e,50),this._updateDistanceOrSize(e),this._updatePan(e),this._updateRotate(e),this._updateTransform(),this.getCamera().update(),this.zr&&this.zr.refresh(),this.trigger("update"),this._needsUpdate=!1)},_updateRotate:function(e){var n=this._rotateVelocity;this._phi=n.y*e/20+this._phi,this._theta=n.x*e/20+this._theta,this.setAlpha(this.getAlpha()),this.setBeta(this.getBeta()),this._vectorDamping(n,Math.pow(this.damping,e/16))},_updateDistanceOrSize:function(e){"perspective"===this._projection?this._setDistance(this._distance+this._zoomSpeed*e/20):this._setOrthoSize(this._orthoSize+this._zoomSpeed*e/20),this._zoomSpeed*=Math.pow(this.damping,e/16)},_setDistance:function(e){this._distance=Math.max(Math.min(e,this.maxDistance),this.minDistance)},_setOrthoSize:function(e){this._orthoSize=Math.max(Math.min(e,this.maxOrthographicSize),this.minOrthographicSize);var n=this.getCamera(),t=this._orthoSize,r=t/this.viewGL.viewport.height*this.viewGL.viewport.width;n.left=-r/2,n.right=r/2,n.top=t/2,n.bottom=-t/2},_updatePan:function(e){var n=this._panVelocity,t=this._distance,r=this.getCamera(),i=r.worldTransform.y;this._center.scaleAndAdd(r.worldTransform.x,-n.x*t/200).scaleAndAdd(i,-n.y*t/200),this._vectorDamping(n,0)},_updateTransform:function(){var e=this.getCamera(),n=new fe,t=this._theta+Math.PI/2,r=this._phi+Math.PI/2,i=Math.sin(t);n.x=i*Math.cos(r),n.y=-Math.cos(t),n.z=i*Math.sin(r),e.position.copy(this._center).scaleAndAdd(n,this._distance),e.rotation.identity().rotateY(-this._phi).rotateX(-this._theta)},_startCountingStill:function(){clearTimeout(this._stillTimeout);var e=this.autoRotateAfterStill,n=this;!isNaN(e)&&e>0&&(this._stillTimeout=setTimeout(function(){n._rotating=!0},1e3*e))},_vectorDamping:function(e,n){var t=e.len();(t*=n)<1e-4&&(t=0),e.normalize().scale(t)},_decomposeTransform:function(){if(this.getCamera()){this.getCamera().updateWorldTransform();var e=this.getCamera().worldTransform.z,n=Math.asin(e.y),t=Math.atan2(e.x,e.z);this._theta=n,this._phi=-t,this.setBeta(this.getBeta()),this.setAlpha(this.getAlpha()),this.getCamera().aspect?this._setDistance(this.getCamera().position.dist(this._center)):this._setOrthoSize(this.getCamera().top-this.getCamera().bottom)}},_mouseDownHandler:function(e){e.target||this._isAnimating()||this.viewGL&&!this.viewGL.containPoint(e.offsetX,e.offsetY)||(this.zr.on("mousemove",this._mouseMoveHandler),this.zr.on("mouseup",this._mouseUpHandler),e.event.targetTouches?1===e.event.targetTouches.length&&(this._mode="rotate"):this._mode=e.event.button===pZ[this.rotateMouseButton]?"rotate":e.event.button===pZ[this.panMouseButton]?"pan":"",this._rotateVelocity.set(0,0),this._rotating=!1,this.autoRotate&&this._startCountingStill(),this._mouseX=e.offsetX,this._mouseY=e.offsetY)},_mouseMoveHandler:function(e){if(!(e.target&&e.target.__isGLToZRProxy||this._isAnimating())){var n=gZ(this.panSensitivity),t=gZ(this.rotateSensitivity);"rotate"===this._mode?(this._rotateVelocity.y=(e.offsetX-this._mouseX)/this.zr.getHeight()*2*t[0],this._rotateVelocity.x=(e.offsetY-this._mouseY)/this.zr.getWidth()*2*t[1]):"pan"===this._mode&&(this._panVelocity.x=(e.offsetX-this._mouseX)/this.zr.getWidth()*n[0]*400,this._panVelocity.y=(-e.offsetY+this._mouseY)/this.zr.getHeight()*n[1]*400),this._mouseX=e.offsetX,this._mouseY=e.offsetY,e.event.preventDefault()}},_mouseWheelHandler:function(e){this._isAnimating()||this._zoomHandler(e,e.event.wheelDelta||-e.event.detail)},_pinchHandler:function(e){this._isAnimating()||(this._zoomHandler(e,e.pinchScale>1?1:-1),this._mode="")},_zoomHandler:function(e,n){var i;0!==n&&(this.viewGL&&!this.viewGL.containPoint(e.offsetX,e.offsetY)||(i="perspective"===this._projection?Math.max(Math.max(Math.min(this._distance-this.minDistance,this.maxDistance-this._distance))/20,.5):Math.max(Math.max(Math.min(this._orthoSize-this.minOrthographicSize,this.maxOrthographicSize-this._orthoSize))/20,.5),this._zoomSpeed=(n>0?-1:1)*i*this.zoomSensitivity,this._rotating=!1,this.autoRotate&&"rotate"===this._mode&&this._startCountingStill(),e.event.preventDefault()))},_mouseUpHandler:function(){this.zr.off("mousemove",this._mouseMoveHandler),this.zr.off("mouseup",this._mouseUpHandler)},_isRightMouseButtonUsed:function(){return"right"===this.rotateMouseButton||"right"===this.panMouseButton},_contextMenuHandler:function(e){this._isRightMouseButtonUsed()&&e.preventDefault()},_addAnimator:function(e){var n=this._animators;return n.push(e),e.done(function(){var t=n.indexOf(e);t>=0&&n.splice(t,1)}),e}});Object.defineProperty(mZ.prototype,"autoRotate",{get:function(e){return this._autoRotate},set:function(e){this._autoRotate=e,this._rotating=e}});const ZC=mZ,Pm={convertToDynamicArray:function(e){e&&this.resetOffset();var n=this.attributes;for(var t in n)n[t].value=e||!n[t].value?[]:Array.prototype.slice.call(n[t].value);this.indices=e||!this.indices?[]:Array.prototype.slice.call(this.indices)},convertToTypedArray:function(){var e=this.attributes;for(var n in e)e[n].value=e[n].value&&e[n].value.length>0?new Float32Array(e[n].value):null;this.indices&&this.indices.length>0&&(this.indices=this.vertexCount>65535?new Uint32Array(this.indices):new Uint16Array(this.indices)),this.dirty()}},Ar={vec2:Ge,vec3:U,vec4:be,mat2:vr,mat2d:Fr,mat3:Vt,mat4:ce,quat:Je};var kN=Ar.vec3,vZ=[[0,0],[1,1]],_Z=Qt.extend(function(){return{segmentScale:1,dynamic:!0,useNativeLine:!0,attributes:{position:new Qt.Attribute("position","float",3,"POSITION"),positionPrev:new Qt.Attribute("positionPrev","float",3),positionNext:new Qt.Attribute("positionNext","float",3),prevPositionPrev:new Qt.Attribute("prevPositionPrev","float",3),prevPosition:new Qt.Attribute("prevPosition","float",3),prevPositionNext:new Qt.Attribute("prevPositionNext","float",3),offset:new Qt.Attribute("offset","float",1),color:new Qt.Attribute("color","float",4,"COLOR")}}},{resetOffset:function(){this._vertexOffset=0,this._triangleOffset=0,this._itemVertexOffsets=[]},setVertexCount:function(e){var n=this.attributes;this.vertexCount!==e&&(n.position.init(e),n.color.init(e),this.useNativeLine||(n.positionPrev.init(e),n.positionNext.init(e),n.offset.init(e)),e>65535?this.indices instanceof Uint16Array&&(this.indices=new Uint32Array(this.indices)):this.indices instanceof Uint32Array&&(this.indices=new Uint16Array(this.indices)))},setTriangleCount:function(e){this.triangleCount!==e&&(this.indices=0===e?null:this.vertexCount>65535?new Uint32Array(3*e):new Uint16Array(3*e))},_getCubicCurveApproxStep:function(e,n,t,r){return 1/(kN.dist(e,n)+kN.dist(t,n)+kN.dist(r,t)+1)*this.segmentScale},getCubicCurveVertexCount:function(e,n,t,r){var i=this._getCubicCurveApproxStep(e,n,t,r),a=Math.ceil(1/i);return this.useNativeLine?2*a:2*a+2},getCubicCurveTriangleCount:function(e,n,t,r){var i=this._getCubicCurveApproxStep(e,n,t,r),a=Math.ceil(1/i);return this.useNativeLine?0:2*a},getLineVertexCount:function(){return this.getPolylineVertexCount(vZ)},getLineTriangleCount:function(){return this.getPolylineTriangleCount(vZ)},getPolylineVertexCount:function(e){var n;return n="number"==typeof e?e:"number"!=typeof e[0]?e.length:e.length/3,this.useNativeLine?2*(n-1):2*(n-1)+2},getPolylineTriangleCount:function(e){var n;return n="number"==typeof e?e:"number"!=typeof e[0]?e.length:e.length/3,this.useNativeLine?0:2*Math.max(n-1,0)},addCubicCurve:function(e,n,t,r,i,a){null==a&&(a=1);var o=e[0],s=e[1],l=e[2],c=n[0],u=n[1],h=n[2],d=t[0],f=t[1],p=t[2],g=r[0],m=r[1],v=r[2],_=this._getCubicCurveApproxStep(e,n,t,r),y=_*_,b=y*_,w=3*_,C=3*y,S=6*y,x=6*b,M=o-2*c+d,E=s-2*u+f,T=l-2*h+p,A=3*(c-d)-o+g,N=3*(u-f)-s+m,R=3*(h-p)-l+v,z=o,L=s,V=l,F=(c-o)*w+M*C+A*b,j=(u-s)*w+E*C+N*b,Y=(h-l)*w+T*C+R*b,se=M*S+A*x,de=E*S+N*x,we=T*S+R*x,pe=A*x,Le=N*x,lt=R*x,Ye=0,Rt=0,ct=Math.ceil(1/_),pt=new Float32Array(3*(ct+1)),Se=(pt=[],0);for(Rt=0;Rt<ct+1;Rt++)pt[Se++]=z,pt[Se++]=L,pt[Se++]=V,z+=F,L+=j,V+=Y,F+=se,j+=de,Y+=we,se+=pe,de+=Le,we+=lt,(Ye+=_)>1&&(z=F>0?Math.min(z,g):Math.max(z,g),L=j>0?Math.min(L,m):Math.max(L,m),V=Y>0?Math.min(V,v):Math.max(V,v));return this.addPolyline(pt,i,a)},addLine:function(e,n,t,r){return this.addPolyline([e,n],t,r)},addPolyline:function(e,n,t,r,i){if(e.length){var a="number"!=typeof e[0];if(null==i&&(i=a?e.length:e.length/3),!(i<2)){null==r&&(r=0),null==t&&(t=1),this._itemVertexOffsets.push(this._vertexOffset);var p,g,o=(a="number"!=typeof e[0])?"number"!=typeof n[0]:n.length/4===i,s=this.attributes.position,l=this.attributes.positionPrev,c=this.attributes.positionNext,u=this.attributes.color,h=this.attributes.offset,d=this.indices,f=this._vertexOffset;t=Math.max(t,.01);for(var m=r;m<i;m++){if(a)p=e[m],g=o?n[m]:n;else{var v=3*m;if((p=p||[])[0]=e[v],p[1]=e[v+1],p[2]=e[v+2],o){var _=4*m;(g=g||[])[0]=n[_],g[1]=n[_+1],g[2]=n[_+2],g[3]=n[_+3]}else g=n}if(this.useNativeLine?m>1&&(s.copy(f,f-1),u.copy(f,f-1),f++):(m<i-1&&(l.set(f+2,p),l.set(f+3,p)),m>0&&(c.set(f-2,p),c.set(f-1,p)),s.set(f,p),s.set(f+1,p),u.set(f,g),u.set(f+1,g),h.set(f,t/2),h.set(f+1,-t/2),f+=2),this.useNativeLine)u.set(f,g),s.set(f,p),f++;else if(m>0){var y=3*this._triangleOffset;(d=this.indices)[y]=f-4,d[y+1]=f-3,d[y+2]=f-2,d[y+3]=f-3,d[y+4]=f-1,d[y+5]=f-2,this._triangleOffset+=2}}if(!this.useNativeLine){var b=this._vertexOffset,w=this._vertexOffset+2*i;l.copy(b,b+2),l.copy(b+1,b+3),c.copy(w-1,w-3),c.copy(w-2,w-4)}return this._vertexOffset=f,this._vertexOffset}}},setItemColor:function(e,n){for(var r=e<this._itemVertexOffsets.length-1?this._itemVertexOffsets[e+1]:this._vertexOffset,i=this._itemVertexOffsets[e];i<r;i++)this.attributes.color.set(i,n);this.dirty("color")},currentTriangleOffset:function(){return this._triangleOffset},currentVertexOffset:function(){return this._vertexOffset}});ut(_Z.prototype,Pm);const Gh=_Z;function KC(e,n,t,r,i,a,o){this._zr=e,this._x=0,this._y=0,this._rowHeight=0,this.width=r,this.height=i,this.offsetX=n,this.offsetY=t,this.dpr=o,this.gap=a}function yZ(e){(e=e||{}).width=e.width||512,e.height=e.height||512,e.devicePixelRatio=e.devicePixelRatio||1,e.gap=null==e.gap?2:e.gap;var n=document.createElement("canvas");n.width=e.width*e.devicePixelRatio,n.height=e.height*e.devicePixelRatio,this._canvas=n,this._texture=new yt({image:n,flipY:!1});var t=this;this._zr=z3(n);var r=this._zr.refreshImmediately;this._zr.refreshImmediately=function(){r.call(this),t._texture.dirty(),t.onupdate&&t.onupdate()},this._dpr=e.devicePixelRatio,this._coords={},this.onupdate=e.onupdate,this._gap=e.gap,this._textureAtlasNodes=[new KC(this._zr,0,0,e.width,e.height,this._gap,this._dpr)],this._nodeWidth=e.width,this._nodeHeight=e.height,this._currentNodeIdx=0}KC.prototype={constructor:KC,clear:function(){this._x=0,this._y=0,this._rowHeight=0},add:function(e,n,t){var r=e.getBoundingRect();null==n&&(n=r.width),null==t&&(t=r.height),this._fitElement(e,n*=this.dpr,t*=this.dpr);var i=this._x,a=this._y,o=this.width*this.dpr,s=this.height*this.dpr,l=this.gap;if(i+n+l>o&&(i=this._x=0,this._y=a+=this._rowHeight+l,this._rowHeight=0),this._x+=n+l,this._rowHeight=Math.max(this._rowHeight,t),a+t+l>s)return null;e.x+=this.offsetX*this.dpr+i,e.y+=this.offsetY*this.dpr+a,this._zr.add(e);var c=[this.offsetX/this.width,this.offsetY/this.height];return[[i/o+c[0],a/s+c[1]],[(i+n)/o+c[0],(a+t)/s+c[1]]]},_fitElement:function(e,n,t){var r=e.getBoundingRect(),i=n/r.width,a=t/r.height;e.x=-r.x*i,e.y=-r.y*a,e.scaleX=i,e.scaleY=a,e.update()}},yZ.prototype={clear:function(){for(var e=0;e<this._textureAtlasNodes.length;e++)this._textureAtlasNodes[e].clear();this._currentNodeIdx=0,this._zr.clear(),this._coords={}},getWidth:function(){return this._width},getHeight:function(){return this._height},getTexture:function(){return this._texture},getDevicePixelRatio:function(){return this._dpr},getZr:function(){return this._zr},_getCurrentNode:function(){return this._textureAtlasNodes[this._currentNodeIdx]},_expand:function(){if(this._currentNodeIdx++,this._textureAtlasNodes[this._currentNodeIdx])return this._textureAtlasNodes[this._currentNodeIdx];var e=4096/this._dpr,t=this._textureAtlasNodes.length,r=t*this._nodeWidth%e,i=Math.floor(t*this._nodeWidth/e)*this._nodeHeight;if(!(i>=e)){var a=(r+this._nodeWidth)*this._dpr,o=(i+this._nodeHeight)*this._dpr;try{this._zr.resize({width:a,height:o})}catch{this._canvas.width=a,this._canvas.height=o}var s=new KC(this._zr,r,i,this._nodeWidth,this._nodeHeight,this._gap,this._dpr);return this._textureAtlasNodes.push(s),s}},add:function(e,n,t){if(this._coords[e.id])return this._coords[e.id];var r=this._getCurrentNode().add(e,n,t);if(!r){var i=this._expand();if(!i)return;r=i.add(e,n,t)}return this._coords[e.id]=r,r},getCoordsScale:function(){var e=this._dpr;return[this._nodeWidth/this._canvas.width*e,this._nodeHeight/this._canvas.height*e]},getCoords:function(e){return this._coords[e]},dispose:function(){this._zr.dispose()}};const FN=yZ;function zN(){}zN.prototype={constructor:zN,setScene:function(e){this._scene=e,this._skybox&&this._skybox.attachScene(this._scene)},initLight:function(e){this._lightRoot=e,this.mainLight=new P.DirectionalLight({shadowBias:.005}),this.ambientLight=new P.AmbientLight,e.add(this.mainLight),e.add(this.ambientLight)},dispose:function(){this._lightRoot&&(this._lightRoot.remove(this.mainLight),this._lightRoot.remove(this.ambientLight))},updateLight:function(e){var n=this.mainLight,t=this.ambientLight,r=e.getModel("light"),i=r.getModel("main"),a=r.getModel("ambient");n.intensity=i.get("intensity"),t.intensity=a.get("intensity"),n.color=P.parseColor(i.get("color")).slice(0,3),t.color=P.parseColor(a.get("color")).slice(0,3);var o=i.get("alpha")||0,s=i.get("beta")||0;n.position.setArray(P.directionFromAlphaBeta(o,s)),n.lookAt(P.Vector3.ZERO),n.castShadow=i.get("shadow"),n.shadowResolution=P.getShadowResolution(i.get("shadowQuality"))},updateAmbientCubemap:function(e,n,t){var r=n.getModel("light.ambientCubemap"),i=r.get("texture");if(i){this._cubemapLightsCache=this._cubemapLightsCache||{};var a=this._cubemapLightsCache[i];if(!a){var o=this;a=this._cubemapLightsCache[i]=P.createAmbientCubemap(r.option,e,t,function(){o._isSkyboxFromAmbientCubemap&&o._skybox.setEnvironmentMap(a.specular.cubemap),t.getZr().refresh()})}this._lightRoot.add(a.diffuse),this._lightRoot.add(a.specular),this._currentCubemapLights=a}else this._currentCubemapLights&&(this._lightRoot.remove(this._currentCubemapLights.diffuse),this._lightRoot.remove(this._currentCubemapLights.specular),this._currentCubemapLights=null)},updateSkybox:function(e,n,t){var r=n.get("environment"),i=this,o=function a(){return i._skybox=i._skybox||new zC,i._skybox}();if(r&&"none"!==r)if("auto"===r)this._isSkyboxFromAmbientCubemap=!0,this._currentCubemapLights?(o.setEnvironmentMap(this._currentCubemapLights.specular.cubemap),this._scene&&o.attachScene(this._scene),o.material.set("lod",3)):this._skybox&&this._skybox.detachScene();else if("object"==typeof r&&r.colorStops||"string"==typeof r&&ta(r)){this._isSkyboxFromAmbientCubemap=!1;var l=new P.Texture2D({anisotropic:8,flipY:!1});o.setEnvironmentMap(l);var c=l.image=document.createElement("canvas");c.width=c.height=16,Pb(c.getContext("2d"),new Yn({shape:{x:0,y:0,width:16,height:16},style:{fill:r}})),o.attachScene(this._scene)}else this._isSkyboxFromAmbientCubemap=!1,l=P.loadTexture(r,t,{anisotropic:8,flipY:!1}),o.setEnvironmentMap(l),o.attachScene(this._scene);else this._skybox&&this._skybox.detachScene(this._scene),this._skybox=null;var d=n.coordinateSystem;if(this._skybox)if(!d||!d.viewGL||"auto"===r||r.match&&r.match(/.hdr$/))this._skybox.material.undefine("fragment","SRGB_DECODE");else{var f=d.viewGL.isLinearSpace()?"define":"undefine";this._skybox.material[f]("fragment","SRGB_DECODE")}}};const Tp=zN;var Wh=Ar.vec3,bZ=Qt.extend(function(){return{segmentScale:1,useNativeLine:!0,attributes:{position:new Qt.Attribute("position","float",3,"POSITION"),normal:new Qt.Attribute("normal","float",3,"NORMAL"),color:new Qt.Attribute("color","float",4,"COLOR")}}},{resetOffset:function(){this._vertexOffset=0,this._faceOffset=0},setQuadCount:function(e){var n=this.attributes,t=this.getQuadVertexCount()*e,r=this.getQuadTriangleCount()*e;this.vertexCount!==t&&(n.position.init(t),n.normal.init(t),n.color.init(t)),this.triangleCount!==r&&(this.indices=t>65535?new Uint32Array(3*r):new Uint16Array(3*r))},getQuadVertexCount:function(){return 4},getQuadTriangleCount:function(){return 2},addQuad:function(){var e=Wh.create(),n=Wh.create(),t=Wh.create(),r=[0,3,1,3,2,1];return function(i,a){var o=this.attributes.position,s=this.attributes.normal,l=this.attributes.color;Wh.sub(e,i[1],i[0]),Wh.sub(n,i[2],i[1]),Wh.cross(t,e,n),Wh.normalize(t,t);for(var c=0;c<4;c++)o.set(this._vertexOffset+c,i[c]),l.set(this._vertexOffset+c,a),s.set(this._vertexOffset+c,t);var u=3*this._faceOffset;for(c=0;c<6;c++)this.indices[u+c]=r[c]+this._vertexOffset;this._vertexOffset+=4,this._faceOffset+=2}}()});ut(bZ.prototype,Pm);const kLe=bZ;var BN=Ct.firstNotNull,FLe={x:0,y:2,z:1};function QC(e,n,t){this.rootNode=new P.Node;var r=new P.Mesh({geometry:new Gh({useNativeLine:!1}),material:n,castShadow:!1,ignorePicking:!0,$ignorePicking:!0,renderOrder:1}),i=new P.Mesh({geometry:new kLe,material:t,castShadow:!1,culling:!1,ignorePicking:!0,$ignorePicking:!0,renderOrder:0});this.rootNode.add(i),this.rootNode.add(r),this.faceInfo=e,this.plane=new P.Plane,this.linesMesh=r,this.quadsMesh=i}QC.prototype.update=function(e,n,t){var r=e.coordinateSystem,i=[r.getAxis(this.faceInfo[0]),r.getAxis(this.faceInfo[1])],a=this.linesMesh.geometry,o=this.quadsMesh.geometry;a.convertToDynamicArray(!0),o.convertToDynamicArray(!0),this._updateSplitLines(a,i,e,t),this._udpateSplitAreas(o,i,e,t),a.convertToTypedArray(),o.convertToTypedArray();var s=r.getAxis(this.faceInfo[2]);!function zLe(e,n,t,r){var i=[0,0,0],a=r<0?t.getExtentMin():t.getExtentMax();i[FLe[t.dim]]=a,e.position.setArray(i),e.rotation.identity(),n.distance=-Math.abs(a),n.normal.set(0,0,0),"x"===t.dim?(e.rotation.rotateY(r*Math.PI/2),n.normal.x=-r):"z"===t.dim?(e.rotation.rotateX(-r*Math.PI/2),n.normal.y=-r):(r>0&&e.rotation.rotateY(Math.PI),n.normal.z=-r)}(this.rootNode,this.plane,s,this.faceInfo[3])},QC.prototype._updateSplitLines=function(e,n,t,r){var i=r.getDevicePixelRatio();n.forEach(function(a,o){var s=a.model,l=n[1-o].getExtent();if(!a.scale.isBlank()){var c=s.getModel("splitLine",t.getModel("splitLine"));if(c.get("show")){var u=c.getModel("lineStyle"),h=u.get("color"),d=BN(u.get("opacity"),1),f=BN(u.get("width"),1);h=ne(h)?h:[h];for(var p=a.getTicksCoords({tickModel:c}),g=0,m=0;m<p.length;m++){var v=p[m].coord,_=P.parseColor(h[g%h.length]);_[3]*=d;var y=[0,0,0],b=[0,0,0];y[o]=b[o]=v,y[1-o]=l[0],b[1-o]=l[1],e.addLine(y,b,_,f*i),g++}}}})},QC.prototype._udpateSplitAreas=function(e,n,t,r){n.forEach(function(i,a){var o=i.model,s=n[1-a].getExtent();if(!i.scale.isBlank()){var l=o.getModel("splitArea",t.getModel("splitArea"));if(l.get("show")){var c=l.getModel("areaStyle"),u=c.get("color"),h=BN(c.get("opacity"),1);u=ne(u)?u:[u];for(var d=i.getTicksCoords({tickModel:l,clamp:!0}),f=0,p=[0,0,0],g=[0,0,0],m=0;m<d.length;m++){var _=[0,0,0],y=[0,0,0];if(_[a]=y[a]=d[m].coord,_[1-a]=s[0],y[1-a]=s[1],0!==m){var b=P.parseColor(u[f%u.length]);b[3]*=h,e.addQuad([p,_,y,g],b),p=_,g=y,f++}else p=_,g=y}}}})};const BLe=QC;var CZ=[0,1,2,0,2,3],wZ=Qt.extend(function(){return{attributes:{position:new Qt.Attribute("position","float",3,"POSITION"),texcoord:new Qt.Attribute("texcoord","float",2,"TEXCOORD_0"),offset:new Qt.Attribute("offset","float",2),color:new Qt.Attribute("color","float",4,"COLOR")}}},{resetOffset:function(){this._vertexOffset=0,this._faceOffset=0},setSpriteCount:function(e){this._spriteCount=e;var n=4*e,t=2*e;this.vertexCount!==n&&(this.attributes.position.init(n),this.attributes.offset.init(n),this.attributes.color.init(n)),this.triangleCount!==t&&(this.indices=n>65535?new Uint32Array(3*t):new Uint16Array(3*t))},setSpriteAlign:function(e,n,t,r,i){var a,o,s,l;switch(null==t&&(t="left"),null==r&&(r="top"),i=i||0,t){case"left":a=i,s=n[0]+i;break;case"center":case"middle":a=-n[0]/2,s=n[0]/2;break;case"right":a=-n[0]-i,s=-i}switch(r){case"bottom":o=i,l=n[1]+i;break;case"middle":o=-n[1]/2,l=n[1]/2;break;case"top":o=-n[1]-i,l=-i}var c=4*e,u=this.attributes.offset;u.set(c,[a,l]),u.set(c+1,[s,l]),u.set(c+2,[s,o]),u.set(c+3,[a,o])},addSprite:function(e,n,t,r,i,a){var o=this._vertexOffset;this.setSprite(this._vertexOffset/4,e,n,t,r,i,a);for(var s=0;s<CZ.length;s++)this.indices[3*this._faceOffset+s]=CZ[s]+o;return this._faceOffset+=2,this._vertexOffset+=4,o/4},setSprite:function(e,n,t,r,i,a,o){for(var s=4*e,l=this.attributes,c=0;c<4;c++)l.position.set(s+c,n);var u=l.texcoord;u.set(s,[r[0][0],r[0][1]]),u.set(s+1,[r[1][0],r[0][1]]),u.set(s+2,[r[1][0],r[1][1]]),u.set(s+3,[r[0][0],r[1][1]]),this.setSpriteAlign(e,t,i,a,o)}});ut(wZ.prototype,Pm);const VLe=wZ;P.Shader.import("@export ecgl.labels.vertex\n\nattribute vec3 position: POSITION;\nattribute vec2 texcoord: TEXCOORD_0;\nattribute vec2 offset;\n#ifdef VERTEX_COLOR\nattribute vec4 a_Color : COLOR;\nvarying vec4 v_Color;\n#endif\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform vec4 viewport : VIEWPORT;\n\nvarying vec2 v_Texcoord;\n\nvoid main()\n{\n vec4 proj = worldViewProjection * vec4(position, 1.0);\n\n vec2 screen = (proj.xy / abs(proj.w) + 1.0) * 0.5 * viewport.zw;\n\n screen += offset;\n\n proj.xy = (screen / viewport.zw - 0.5) * 2.0 * abs(proj.w);\n gl_Position = proj;\n#ifdef VERTEX_COLOR\n v_Color = a_Color;\n#endif\n v_Texcoord = texcoord;\n}\n@end\n\n\n@export ecgl.labels.fragment\n\nuniform vec3 color : [1.0, 1.0, 1.0];\nuniform float alpha : 1.0;\nuniform sampler2D textureAtlas;\nuniform vec2 uvScale: [1.0, 1.0];\n\n#ifdef VERTEX_COLOR\nvarying vec4 v_Color;\n#endif\nvarying float v_Miter;\n\nvarying vec2 v_Texcoord;\n\nvoid main()\n{\n gl_FragColor = vec4(color, alpha) * texture2D(textureAtlas, v_Texcoord * uvScale);\n#ifdef VERTEX_COLOR\n gl_FragColor *= v_Color;\n#endif\n}\n\n@end");const VN=P.Mesh.extend(function(){return{geometry:new VLe({dynamic:!0}),material:new P.Material({shader:P.createShader("ecgl.labels"),transparent:!0,depthMask:!1}),culling:!1,castShadow:!1,ignorePicking:!0}});var jh=Ct.firstNotNull,$h={x:0,y:2,z:1};function HN(e,n){var t=new P.Mesh({geometry:new Gh({useNativeLine:!1}),material:n,castShadow:!1,ignorePicking:!0,renderOrder:2}),r=new VN;r.material.depthMask=!1;var i=new P.Node;i.add(t),i.add(r),this.rootNode=i,this.dim=e,this.linesMesh=t,this.labelsMesh=r,this.axisLineCoords=null,this.labelElements=[]}var UN={x:"y",y:"x",z:"y"};HN.prototype.update=function(e,n,t){var i=e.coordinateSystem.getAxis(this.dim),a=this.linesMesh.geometry,o=this.labelsMesh.geometry;a.convertToDynamicArray(!0),o.convertToDynamicArray(!0);var s=i.model,l=i.getExtent(),T=t.getDevicePixelRatio(),c=s.getModel("axisLine",e.getModel("axisLine")),u=s.getModel("axisTick",e.getModel("axisTick")),h=s.getModel("axisLabel",e.getModel("axisLabel")),d=c.get("lineStyle.color");if(c.get("show")){var f=c.getModel("lineStyle"),g=[0,0,0];(p=[0,0,0])[m=$h[i.dim]]=l[0],g[m]=l[1],this.axisLineCoords=[p,g];var v=P.parseColor(d),_=jh(f.get("width"),1),y=jh(f.get("opacity"),1);v[3]*=y,a.addLine(p,g,v,_*T)}if(u.get("show")){var b=u.getModel("lineStyle"),w=P.parseColor(jh(b.get("color"),d));_=jh(b.get("width"),1),w[3]*=jh(b.get("opacity"),1);for(var C=i.getTicksCoords(),S=u.get("length"),x=0;x<C.length;x++){var p,E=$h[UN[i.dim]];(p=[0,0,0])[m=$h[i.dim]]=(g=[0,0,0])[m]=M=C[x].coord,g[E]=S,a.addLine(p,g,w,_*T)}}if(this.labelElements=[],T=t.getDevicePixelRatio(),h.get("show")){C=i.getTicksCoords();var A=s.get("data"),N=h.get("margin"),R=i.getViewLabels();for(x=0;x<R.length;x++){var z=R[x].tickValue,L=R[x].formattedLabel,V=R[x].rawLabel,M=i.dataToCoord(z);E=$h[UN[i.dim]],(F=[0,0,0])[m=$h[i.dim]]=F[m]=M,F[E]=N;var j=h;A&&A[z]&&A[z].textStyle&&(j=new Tr(A[z].textStyle,h,s.ecModel));var Y=jh(j.get("color"),d),se=new nr({style:Ti(j,{text:L,fill:"function"==typeof Y?Y("category"===i.type?V:"value"===i.type?z+"":z,x):Y,verticalAlign:"top",align:"left"})}),de=n.add(se),we=se.getBoundingRect();o.addSprite(F,[we.width*T,we.height*T],de),this.labelElements.push(se)}}if(s.get("name")){var pe=s.getModel("nameTextStyle"),F=[0,0,0],m=$h[i.dim],Le=(E=$h[UN[i.dim]],jh(pe.get("color"),d)),lt=pe.get("borderColor");_=pe.get("borderWidth"),F[m]=F[m]=(l[0]+l[1])/2,F[E]=s.get("nameGap"),se=new nr({style:Ti(pe,{text:s.get("name"),fill:Le,stroke:lt,lineWidth:_})}),de=n.add(se),we=se.getBoundingRect(),o.addSprite(F,[we.width*T,we.height*T],de),se.__idx=this.labelElements.length,this.nameLabelElement=se}this.labelsMesh.material.set("textureAtlas",n.getTexture()),this.labelsMesh.material.set("uvScale",n.getCoordsScale()),a.convertToTypedArray(),o.convertToTypedArray()},HN.prototype.setSpriteAlign=function(e,n,t){for(var r=t.getDevicePixelRatio(),i=this.labelsMesh.geometry,a=0;a<this.labelElements.length;a++){var s=this.labelElements[a].getBoundingRect();i.setSpriteAlign(a,[s.width*r,s.height*r],e,n)}var l=this.nameLabelElement;l&&(s=l.getBoundingRect(),i.setSpriteAlign(l.__idx,[s.width*r,s.height*r],e,n),i.dirty()),this.textAlign=e,this.textVerticalAlign=n};const ULe=HN,JC="@export ecgl.lines3D.vertex\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\n\nattribute vec3 position: POSITION;\nattribute vec4 a_Color : COLOR;\nvarying vec4 v_Color;\n\nvoid main()\n{\n gl_Position = worldViewProjection * vec4(position, 1.0);\n v_Color = a_Color;\n}\n\n@end\n\n@export ecgl.lines3D.fragment\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\n\nvarying vec4 v_Color;\n\n@import clay.util.srgb\n\nvoid main()\n{\n#ifdef SRGB_DECODE\n gl_FragColor = sRGBToLinear(color * v_Color);\n#else\n gl_FragColor = color * v_Color;\n#endif\n}\n@end\n\n\n\n@export ecgl.lines3D.clipNear\n\nvec4 clipNear(vec4 p1, vec4 p2) {\n float n = (p1.w - near) / (p1.w - p2.w);\n return vec4(mix(p1.xy, p2.xy, n), -near, near);\n}\n\n@end\n\n@export ecgl.lines3D.expandLine\n#ifdef VERTEX_ANIMATION\n vec4 prevProj = worldViewProjection * vec4(mix(prevPositionPrev, positionPrev, percent), 1.0);\n vec4 currProj = worldViewProjection * vec4(mix(prevPosition, position, percent), 1.0);\n vec4 nextProj = worldViewProjection * vec4(mix(prevPositionNext, positionNext, percent), 1.0);\n#else\n vec4 prevProj = worldViewProjection * vec4(positionPrev, 1.0);\n vec4 currProj = worldViewProjection * vec4(position, 1.0);\n vec4 nextProj = worldViewProjection * vec4(positionNext, 1.0);\n#endif\n\n if (currProj.w < 0.0) {\n if (nextProj.w > 0.0) {\n currProj = clipNear(currProj, nextProj);\n }\n else if (prevProj.w > 0.0) {\n currProj = clipNear(currProj, prevProj);\n }\n }\n\n vec2 prevScreen = (prevProj.xy / abs(prevProj.w) + 1.0) * 0.5 * viewport.zw;\n vec2 currScreen = (currProj.xy / abs(currProj.w) + 1.0) * 0.5 * viewport.zw;\n vec2 nextScreen = (nextProj.xy / abs(nextProj.w) + 1.0) * 0.5 * viewport.zw;\n\n vec2 dir;\n float len = offset;\n if (position == positionPrev) {\n dir = normalize(nextScreen - currScreen);\n }\n else if (position == positionNext) {\n dir = normalize(currScreen - prevScreen);\n }\n else {\n vec2 dirA = normalize(currScreen - prevScreen);\n vec2 dirB = normalize(nextScreen - currScreen);\n\n vec2 tanget = normalize(dirA + dirB);\n\n float miter = 1.0 / max(dot(tanget, dirA), 0.5);\n len *= miter;\n dir = tanget;\n }\n\n dir = vec2(-dir.y, dir.x) * len;\n currScreen += dir;\n\n currProj.xy = (currScreen / viewport.zw - 0.5) * 2.0 * abs(currProj.w);\n@end\n\n\n@export ecgl.meshLines3D.vertex\n\nattribute vec3 position: POSITION;\nattribute vec3 positionPrev;\nattribute vec3 positionNext;\nattribute float offset;\nattribute vec4 a_Color : COLOR;\n\n#ifdef VERTEX_ANIMATION\nattribute vec3 prevPosition;\nattribute vec3 prevPositionPrev;\nattribute vec3 prevPositionNext;\nuniform float percent : 1.0;\n#endif\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform vec4 viewport : VIEWPORT;\nuniform float near : NEAR;\n\nvarying vec4 v_Color;\n\n@import ecgl.common.wireframe.vertexHeader\n\n@import ecgl.lines3D.clipNear\n\nvoid main()\n{\n @import ecgl.lines3D.expandLine\n\n gl_Position = currProj;\n\n v_Color = a_Color;\n\n @import ecgl.common.wireframe.vertexMain\n}\n@end\n\n\n@export ecgl.meshLines3D.fragment\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\n\nvarying vec4 v_Color;\n\n@import ecgl.common.wireframe.fragmentHeader\n\n@import clay.util.srgb\n\nvoid main()\n{\n#ifdef SRGB_DECODE\n gl_FragColor = sRGBToLinear(color * v_Color);\n#else\n gl_FragColor = color * v_Color;\n#endif\n\n @import ecgl.common.wireframe.fragmentMain\n}\n\n@end";var SZ=Ct.firstNotNull;P.Shader.import(JC);var Yh={x:0,y:2,z:1};const GLe=Ei.extend({type:"grid3D",__ecgl__:!0,init:function(e,n){var i=new P.Material({shader:P.createShader("ecgl.color"),depthMask:!1,transparent:!0}),a=new P.Material({shader:P.createShader("ecgl.meshLines3D"),depthMask:!1,transparent:!0});i.define("fragment","DOUBLE_SIDED"),i.define("both","VERTEX_COLOR"),this.groupGL=new P.Node,this._control=new ZC({zr:n.getZr()}),this._control.init(),this._faces=[["y","z","x",-1,"left"],["y","z","x",1,"right"],["x","y","z",-1,"bottom"],["x","y","z",1,"top"],["x","z","y",-1,"far"],["x","z","y",1,"near"]].map(function(s){var l=new BLe(s,a,i);return this.groupGL.add(l.rootNode),l},this),this._axes=["x","y","z"].map(function(s){var l=new ULe(s,a);return this.groupGL.add(l.rootNode),l},this);var o=n.getDevicePixelRatio();this._axisLabelSurface=new FN({width:256,height:256,devicePixelRatio:o}),this._axisLabelSurface.onupdate=function(){n.getZr().refresh()},this._axisPointerLineMesh=new P.Mesh({geometry:new Gh({useNativeLine:!1}),material:a,castShadow:!1,ignorePicking:!0,renderOrder:3}),this.groupGL.add(this._axisPointerLineMesh),this._axisPointerLabelsSurface=new FN({width:128,height:128,devicePixelRatio:o}),this._axisPointerLabelsMesh=new VN({ignorePicking:!0,renderOrder:4,castShadow:!1}),this._axisPointerLabelsMesh.material.set("textureAtlas",this._axisPointerLabelsSurface.getTexture()),this.groupGL.add(this._axisPointerLabelsMesh),this._lightRoot=new P.Node,this._sceneHelper=new Tp,this._sceneHelper.initLight(this._lightRoot)},render:function(e,n,t){this._model=e,this._api=t;var r=e.coordinateSystem;r.viewGL.add(this._lightRoot),e.get("show")?r.viewGL.add(this.groupGL):r.viewGL.remove(this.groupGL);var i=this._control;i.setViewGL(r.viewGL);var a=e.getModel("viewControl");i.setFromViewControlModel(a,0),this._axisLabelSurface.clear(),i.off("update"),e.get("show")&&(this._faces.forEach(function(o){o.update(e,n,t)},this),this._axes.forEach(function(o){o.update(e,this._axisLabelSurface,t)},this)),i.on("update",this._onCameraChange.bind(this,e,t),this),this._sceneHelper.setScene(r.viewGL.scene),this._sceneHelper.updateLight(e),r.viewGL.setPostEffect(e.getModel("postEffect"),t),r.viewGL.setTemporalSuperSampling(e.getModel("temporalSuperSampling")),this._initMouseHandler(e)},afterRender:function(e,n,t,r){var i=r.renderer;this._sceneHelper.updateAmbientCubemap(i,e,t),this._sceneHelper.updateSkybox(i,e,t)},showAxisPointer:function(e,n,t,r){this._doShowAxisPointer(),this._updateAxisPointer(r.value)},hideAxisPointer:function(e,n,t,r){this._doHideAxisPointer()},_initMouseHandler:function(e){var t=e.coordinateSystem.viewGL;e.get("show")&&e.get("axisPointer.show")?t.on("mousemove",this._updateAxisPointerOnMousePosition,this):t.off("mousemove",this._updateAxisPointerOnMousePosition)},_updateAxisPointerOnMousePosition:function(e){if(!e.target){for(var a,t=this._model.coordinateSystem,r=t.viewGL,i=r.castRay(e.offsetX,e.offsetY,new P.Ray),o=0;o<this._faces.length;o++){var s=this._faces[o];if(!s.rootNode.invisible){s.plane.normal.dot(r.camera.worldTransform.z)<0&&s.plane.normal.negate();var l=i.intersectPlane(s.plane);if(l){var c=t.getAxis(s.faceInfo[0]),u=t.getAxis(s.faceInfo[1]),d=Yh[s.faceInfo[1]];c.contain(l.array[Yh[s.faceInfo[0]]])&&u.contain(l.array[d])&&(a=l)}}}if(a){var f=t.pointToData(a.array,[],!0);this._updateAxisPointer(f),this._doShowAxisPointer()}else this._doHideAxisPointer()}},_onCameraChange:function(e,n){e.get("show")&&(this._updateFaceVisibility(),this._updateAxisLinePosition());var t=this._control;n.dispatchAction({type:"grid3DChangeCamera",alpha:t.getAlpha(),beta:t.getBeta(),distance:t.getDistance(),center:t.getCenter(),from:this.uid,grid3DId:e.id})},_updateFaceVisibility:function(){var e=this._control.getCamera(),n=new P.Vector3;e.update();for(var t=0;t<this._faces.length/2;t++){for(var r=[],i=0;i<2;i++)this._faces[2*t+i].rootNode.getWorldPosition(n),n.transformMat4(e.viewMatrix),r[i]=n.z;var o=r[0]>r[1]?0:1,l=this._faces[2*t+1-o];this._faces[2*t+o].rootNode.invisible=!0,l.rootNode.invisible=!1}},_updateAxisLinePosition:function(){var e=this._model.coordinateSystem,n=e.getAxis("x"),t=e.getAxis("y"),r=e.getAxis("z"),i=r.getExtentMax(),a=r.getExtentMin(),o=n.getExtentMin(),s=n.getExtentMax(),l=t.getExtentMax(),c=t.getExtentMin(),u=this._axes[0].rootNode,h=this._axes[1].rootNode,d=this._axes[2].rootNode,f=this._faces,p=f[4].rootNode.invisible?c:l,g=f[2].rootNode.invisible?i:a,m=f[0].rootNode.invisible?o:s,v=f[2].rootNode.invisible?i:a,_=f[0].rootNode.invisible?s:o,y=f[4].rootNode.invisible?c:l;u.rotation.identity(),h.rotation.identity(),d.rotation.identity(),f[4].rootNode.invisible&&(this._axes[0].flipped=!0,u.rotation.rotateX(Math.PI)),f[0].rootNode.invisible&&(this._axes[1].flipped=!0,h.rotation.rotateZ(Math.PI)),f[4].rootNode.invisible&&(this._axes[2].flipped=!0,d.rotation.rotateY(Math.PI)),u.position.set(0,g,p),h.position.set(m,v,0),d.position.set(_,0,y),u.update(),h.update(),d.update(),this._updateAxisLabelAlign()},_updateAxisLabelAlign:function(){var e=this._control.getCamera(),n=[new P.Vector4,new P.Vector4],t=new P.Vector4;this.groupGL.getWorldPosition(t),t.w=1,t.transformMat4(e.viewMatrix).transformMat4(e.projectionMatrix),t.x/=t.w,t.y/=t.w,this._axes.forEach(function(r){for(var i=r.axisLineCoords,o=0;o<n.length;o++)n[o].setArray(i[o]),n[o].w=1,n[o].transformMat4(r.rootNode.worldTransform).transformMat4(e.viewMatrix).transformMat4(e.projectionMatrix),n[o].x/=n[o].w,n[o].y/=n[o].w;var h,d,c=(n[1].x+n[0].x)/2,u=(n[1].y+n[0].y)/2;Math.abs((n[1].y-n[0].y)/(n[1].x-n[0].x))<.5?(h="center",d=u>t.y?"bottom":"top"):(d="middle",h=c>t.x?"left":"right"),r.setSpriteAlign(h,d,this._api)},this)},_doShowAxisPointer:function(){!this._axisPointerLineMesh.invisible||(this._axisPointerLineMesh.invisible=!1,this._axisPointerLabelsMesh.invisible=!1,this._api.getZr().refresh())},_doHideAxisPointer:function(){this._axisPointerLineMesh.invisible||(this._axisPointerLineMesh.invisible=!0,this._axisPointerLabelsMesh.invisible=!0,this._api.getZr().refresh())},_updateAxisPointer:function(e){var n=this._model.coordinateSystem,t=n.dataToPoint(e),i=this._axisPointerLineMesh.geometry,a=this._model.getModel("axisPointer"),o=this._api.getDevicePixelRatio();function s(x){return Ct.firstNotNull(x.model.get("axisPointer.show"),a.get("show"))}function l(x){var E=x.model.getModel("axisPointer",a).getModel("lineStyle"),T=P.parseColor(E.get("color")),A=SZ(E.get("width"),1),N=SZ(E.get("opacity"),1);return T[3]*=N,{color:T,lineWidth:A}}i.convertToDynamicArray(!0);for(var c=0;c<this._faces.length;c++){var u=this._faces[c];if(!u.rootNode.invisible){for(var h=u.faceInfo,d=h[3]<0?n.getAxis(h[2]).getExtentMin():n.getAxis(h[2]).getExtentMax(),f=Yh[h[2]],p=0;p<2;p++){var g=h[p],m=h[1-p],v=n.getAxis(g),_=n.getAxis(m);if(s(v)){var w=Yh[g],C=Yh[m];(y=[0,0,0])[w]=(b=[0,0,0])[w]=t[w],y[f]=b[f]=d,y[C]=_.getExtentMin(),b[C]=_.getExtentMax();var S=l(v);i.addLine(y,b,S.color,S.lineWidth*o)}}if(s(n.getAxis(h[2]))){var b,y=t.slice();(b=t.slice())[f]=d,S=l(n.getAxis(h[2])),i.addLine(y,b,S.color,S.lineWidth*o)}}}i.convertToTypedArray(),this._updateAxisPointerLabelsMesh(e),this._api.getZr().refresh()},_updateAxisPointerLabelsMesh:function(e){var n=this._model,t=this._axisPointerLabelsMesh,r=this._axisPointerLabelsSurface,i=n.coordinateSystem,a=n.getModel("axisPointer");t.geometry.convertToDynamicArray(!0),r.clear();var o={x:"y",y:"x",z:"y"};this._axes.forEach(function(s,l){var c=i.getAxis(s.dim),h=c.model.getModel("axisPointer",a),d=h.getModel("label"),f=h.get("lineStyle.color");if(d.get("show")&&h.get("show")){var p=e[l],g=d.get("formatter"),m=c.scale.getLabel({value:p});if(null!=g)m=g(m,e);else if("interval"===c.scale.type||"log"===c.scale.type){var v=B3(c.scale.getTicks()[0]);m=p.toFixed(v+2)}var _=d.get("color"),y=new nr({style:Ti(d,{text:m,fill:_||f,align:"left",verticalAlign:"top"})}),b=r.add(y),w=y.getBoundingRect(),C=this._api.getDevicePixelRatio(),S=s.rootNode.position.toArray();S[Yh[o[s.dim]]]+=(s.flipped?-1:1)*d.get("margin"),S[Yh[s.dim]]=c.dataToCoord(e[l]),t.geometry.addSprite(S,[w.width*C,w.height*C],b,s.textAlign,s.textVerticalAlign)}},this),r.getZr().refreshImmediately(),t.material.set("uvScale",r.getCoordsScale()),t.geometry.convertToTypedArray()},dispose:function(){this.groupGL.removeAll(),this._control.dispose(),this._axisLabelSurface.dispose(),this._axisPointerLabelsSurface.dispose()}});function ew(e){w4.call(this,e),this.type="cartesian3D",this.dimensions=["x","y","z"],this.size=[0,0,0]}ew.prototype={constructor:ew,model:null,containPoint:function(e){return this.getAxis("x").contain(e[0])&&this.getAxis("y").contain(e[2])&&this.getAxis("z").contain(e[1])},containData:function(e){return this.getAxis("x").containData(e[0])&&this.getAxis("y").containData(e[1])&&this.getAxis("z").containData(e[2])},dataToPoint:function(e,n,t){return(n=n||[])[0]=this.getAxis("x").dataToCoord(e[0],t),n[2]=this.getAxis("y").dataToCoord(e[1],t),n[1]=this.getAxis("z").dataToCoord(e[2],t),n},pointToData:function(e,n,t){return(n=n||[])[0]=this.getAxis("x").coordToData(e[0],t),n[1]=this.getAxis("y").coordToData(e[2],t),n[2]=this.getAxis("z").coordToData(e[1],t),n}},WD(ew,w4);const xZ=ew;function tw(e,n,t){dm.call(this,e,n,t)}tw.prototype={constructor:tw,getExtentMin:function(){var e=this._extent;return Math.min(e[0],e[1])},getExtentMax:function(){var e=this._extent;return Math.max(e[0],e[1])},calculateCategoryInterval:function(){return Math.floor(this.scale.count()/8)}},WD(tw,dm);const WLe=tw;var GN=function(){this._pool={},this._allocatedTextures=[]};GN.prototype={constructor:GN,get:function(e){var n=TZ(e);this._pool.hasOwnProperty(n)||(this._pool[n]=[]);var t=this._pool[n];if(!t.length){var r=new yt(e);return this._allocatedTextures.push(r),r}return t.pop()},put:function(e){var n=TZ(e);this._pool.hasOwnProperty(n)||(this._pool[n]=[]),this._pool[n].push(e)},clear:function(e){for(var n=0;n<this._allocatedTextures.length;n++)this._allocatedTextures[n].dispose(e);this._pool={},this._allocatedTextures=[]}};var MZ={width:512,height:512,type:5121,format:6408,wrapS:33071,wrapT:33071,minFilter:9987,magFilter:9729,useMipmap:!0,anisotropic:1,flipY:!0,unpackAlignment:4,premultiplyAlpha:!1},WN=Object.keys(MZ);function TZ(e){mi.defaultsWithPropList(e,MZ,WN),function jLe(e){var n=function $Le(e,n){return 0==(e&e-1)&&0==(n&n-1)}(e.width,e.height);6402===e.format&&(e.useMipmap=!1),(!n||!e.useMipmap)&&(9984==e.minFilter||9986==e.minFilter?e.minFilter=9728:(9987==e.minFilter||9985==e.minFilter)&&(e.minFilter=9729)),n||(e.wrapS=33071,e.wrapT=33071)}(e);for(var n="",t=0;t<WN.length;t++)n+=e[WN[t]].toString();return n}const DZ=GN;var Bc=["px","nx","py","ny","pz","nz"];function jN(e,n,t){return"alphaMap"===t?e.material.get("diffuseMap"):"alphaCutoff"===t?e.material.isDefined("fragment","ALPHA_TEST")&&e.material.get("diffuseMap")&&e.material.get("alphaCutoff")||0:"uvRepeat"===t?e.material.get("uvRepeat"):"uvOffset"===t?e.material.get("uvOffset"):n.get(t)}function EZ(e,n){var t=e.material,r=n.material;return t.get("diffuseMap")!==r.get("diffuseMap")||(t.get("alphaCutoff")||0)!==(r.get("alphaCutoff")||0)}ve.import("@export clay.sm.depth.vertex\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nattribute vec3 position : POSITION;\nattribute vec2 texcoord : TEXCOORD_0;\nuniform vec2 uvRepeat = vec2(1.0, 1.0);\nuniform vec2 uvOffset = vec2(0.0, 0.0);\n@import clay.chunk.skinning_header\n@import clay.chunk.instancing_header\nvarying vec4 v_ViewPosition;\nvarying vec2 v_Texcoord;\nvoid main(){\n vec4 P = vec4(position, 1.0);\n#ifdef SKINNING\n @import clay.chunk.skin_matrix\n P = skinMatrixWS * P;\n#endif\n#ifdef INSTANCING\n @import clay.chunk.instancing_matrix\n P = instanceMat * P;\n#endif\n v_ViewPosition = worldViewProjection * P;\n gl_Position = v_ViewPosition;\n v_Texcoord = texcoord * uvRepeat + uvOffset;\n}\n@end\n@export clay.sm.depth.fragment\nvarying vec4 v_ViewPosition;\nvarying vec2 v_Texcoord;\nuniform float bias : 0.001;\nuniform float slopeScale : 1.0;\nuniform sampler2D alphaMap;\nuniform float alphaCutoff: 0.0;\n@import clay.util.encode_float\nvoid main(){\n float depth = v_ViewPosition.z / v_ViewPosition.w;\n if (alphaCutoff > 0.0) {\n if (texture2D(alphaMap, v_Texcoord).a <= alphaCutoff) {\n discard;\n }\n }\n#ifdef USE_VSM\n depth = depth * 0.5 + 0.5;\n float moment1 = depth;\n float moment2 = depth * depth;\n #ifdef SUPPORT_STANDARD_DERIVATIVES\n float dx = dFdx(depth);\n float dy = dFdy(depth);\n moment2 += 0.25*(dx*dx+dy*dy);\n #endif\n gl_FragColor = vec4(moment1, moment2, 0.0, 1.0);\n#else\n #ifdef SUPPORT_STANDARD_DERIVATIVES\n float dx = dFdx(depth);\n float dy = dFdy(depth);\n depth += sqrt(dx*dx + dy*dy) * slopeScale + bias;\n #else\n depth += bias;\n #endif\n gl_FragColor = encodeFloat(depth * 0.5 + 0.5);\n#endif\n}\n@end\n@export clay.sm.debug_depth\nuniform sampler2D depthMap;\nvarying vec2 v_Texcoord;\n@import clay.util.decode_float\nvoid main() {\n vec4 tex = texture2D(depthMap, v_Texcoord);\n#ifdef USE_VSM\n gl_FragColor = vec4(tex.rgb, 1.0);\n#else\n float depth = decodeFloat(tex);\n gl_FragColor = vec4(depth, depth, depth, 1.0);\n#endif\n}\n@end\n@export clay.sm.distance.vertex\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform mat4 world : WORLD;\nattribute vec3 position : POSITION;\n@import clay.chunk.skinning_header\nvarying vec3 v_WorldPosition;\nvoid main (){\n vec4 P = vec4(position, 1.0);\n#ifdef SKINNING\n @import clay.chunk.skin_matrix\n P = skinMatrixWS * P;\n#endif\n#ifdef INSTANCING\n @import clay.chunk.instancing_matrix\n P = instanceMat * P;\n#endif\n gl_Position = worldViewProjection * P;\n v_WorldPosition = (world * P).xyz;\n}\n@end\n@export clay.sm.distance.fragment\nuniform vec3 lightPosition;\nuniform float range : 100;\nvarying vec3 v_WorldPosition;\n@import clay.util.encode_float\nvoid main(){\n float dist = distance(lightPosition, v_WorldPosition);\n#ifdef USE_VSM\n gl_FragColor = vec4(dist, dist * dist, 0.0, 0.0);\n#else\n dist = dist / range;\n gl_FragColor = encodeFloat(dist);\n#endif\n}\n@end\n@export clay.plugin.shadow_map_common\n@import clay.util.decode_float\nfloat tapShadowMap(sampler2D map, vec2 uv, float z){\n vec4 tex = texture2D(map, uv);\n return step(z, decodeFloat(tex) * 2.0 - 1.0);\n}\nfloat pcf(sampler2D map, vec2 uv, float z, float textureSize, vec2 scale) {\n float shadowContrib = tapShadowMap(map, uv, z);\n vec2 offset = vec2(1.0 / textureSize) * scale;\n#ifdef PCF_KERNEL_SIZE\n for (int _idx_ = 0; _idx_ < PCF_KERNEL_SIZE; _idx_++) {{\n shadowContrib += tapShadowMap(map, uv + offset * pcfKernel[_idx_], z);\n }}\n return shadowContrib / float(PCF_KERNEL_SIZE + 1);\n#else\n shadowContrib += tapShadowMap(map, uv+vec2(offset.x, 0.0), z);\n shadowContrib += tapShadowMap(map, uv+vec2(offset.x, offset.y), z);\n shadowContrib += tapShadowMap(map, uv+vec2(-offset.x, offset.y), z);\n shadowContrib += tapShadowMap(map, uv+vec2(0.0, offset.y), z);\n shadowContrib += tapShadowMap(map, uv+vec2(-offset.x, 0.0), z);\n shadowContrib += tapShadowMap(map, uv+vec2(-offset.x, -offset.y), z);\n shadowContrib += tapShadowMap(map, uv+vec2(offset.x, -offset.y), z);\n shadowContrib += tapShadowMap(map, uv+vec2(0.0, -offset.y), z);\n return shadowContrib / 9.0;\n#endif\n}\nfloat pcf(sampler2D map, vec2 uv, float z, float textureSize) {\n return pcf(map, uv, z, textureSize, vec2(1.0));\n}\nfloat chebyshevUpperBound(vec2 moments, float z){\n float p = 0.0;\n z = z * 0.5 + 0.5;\n if (z <= moments.x) {\n p = 1.0;\n }\n float variance = moments.y - moments.x * moments.x;\n variance = max(variance, 0.0000001);\n float mD = moments.x - z;\n float pMax = variance / (variance + mD * mD);\n pMax = clamp((pMax-0.4)/(1.0-0.4), 0.0, 1.0);\n return max(p, pMax);\n}\nfloat computeShadowContrib(\n sampler2D map, mat4 lightVPM, vec3 position, float textureSize, vec2 scale, vec2 offset\n) {\n vec4 posInLightSpace = lightVPM * vec4(position, 1.0);\n posInLightSpace.xyz /= posInLightSpace.w;\n float z = posInLightSpace.z;\n if(all(greaterThan(posInLightSpace.xyz, vec3(-0.99, -0.99, -1.0))) &&\n all(lessThan(posInLightSpace.xyz, vec3(0.99, 0.99, 1.0)))){\n vec2 uv = (posInLightSpace.xy+1.0) / 2.0;\n #ifdef USE_VSM\n vec2 moments = texture2D(map, uv * scale + offset).xy;\n return chebyshevUpperBound(moments, z);\n #else\n return pcf(map, uv * scale + offset, z, textureSize, scale);\n #endif\n }\n return 1.0;\n}\nfloat computeShadowContrib(sampler2D map, mat4 lightVPM, vec3 position, float textureSize) {\n return computeShadowContrib(map, lightVPM, position, textureSize, vec2(1.0), vec2(0.0));\n}\nfloat computeShadowContribOmni(samplerCube map, vec3 direction, float range)\n{\n float dist = length(direction);\n vec4 shadowTex = textureCube(map, direction);\n#ifdef USE_VSM\n vec2 moments = shadowTex.xy;\n float variance = moments.y - moments.x * moments.x;\n float mD = moments.x - dist;\n float p = variance / (variance + mD * mD);\n if(moments.x + 0.001 < dist){\n return clamp(p, 0.0, 1.0);\n }else{\n return 1.0;\n }\n#else\n return step(dist, (decodeFloat(shadowTex) + 0.0002) * range);\n#endif\n}\n@end\n@export clay.plugin.compute_shadow_map\n#if defined(SPOT_LIGHT_SHADOWMAP_COUNT) || defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT) || defined(POINT_LIGHT_SHADOWMAP_COUNT)\n#ifdef SPOT_LIGHT_SHADOWMAP_COUNT\nuniform sampler2D spotLightShadowMaps[SPOT_LIGHT_SHADOWMAP_COUNT]:unconfigurable;\nuniform mat4 spotLightMatrices[SPOT_LIGHT_SHADOWMAP_COUNT]:unconfigurable;\nuniform float spotLightShadowMapSizes[SPOT_LIGHT_SHADOWMAP_COUNT]:unconfigurable;\n#endif\n#ifdef DIRECTIONAL_LIGHT_SHADOWMAP_COUNT\n#if defined(SHADOW_CASCADE)\nuniform sampler2D directionalLightShadowMaps[1]:unconfigurable;\nuniform mat4 directionalLightMatrices[SHADOW_CASCADE]:unconfigurable;\nuniform float directionalLightShadowMapSizes[1]:unconfigurable;\nuniform float shadowCascadeClipsNear[SHADOW_CASCADE]:unconfigurable;\nuniform float shadowCascadeClipsFar[SHADOW_CASCADE]:unconfigurable;\n#else\nuniform sampler2D directionalLightShadowMaps[DIRECTIONAL_LIGHT_SHADOWMAP_COUNT]:unconfigurable;\nuniform mat4 directionalLightMatrices[DIRECTIONAL_LIGHT_SHADOWMAP_COUNT]:unconfigurable;\nuniform float directionalLightShadowMapSizes[DIRECTIONAL_LIGHT_SHADOWMAP_COUNT]:unconfigurable;\n#endif\n#endif\n#ifdef POINT_LIGHT_SHADOWMAP_COUNT\nuniform samplerCube pointLightShadowMaps[POINT_LIGHT_SHADOWMAP_COUNT]:unconfigurable;\n#endif\nuniform bool shadowEnabled : true;\n#ifdef PCF_KERNEL_SIZE\nuniform vec2 pcfKernel[PCF_KERNEL_SIZE];\n#endif\n@import clay.plugin.shadow_map_common\n#if defined(SPOT_LIGHT_SHADOWMAP_COUNT)\nvoid computeShadowOfSpotLights(vec3 position, inout float shadowContribs[SPOT_LIGHT_COUNT] ) {\n float shadowContrib;\n for(int _idx_ = 0; _idx_ < SPOT_LIGHT_SHADOWMAP_COUNT; _idx_++) {{\n shadowContrib = computeShadowContrib(\n spotLightShadowMaps[_idx_], spotLightMatrices[_idx_], position,\n spotLightShadowMapSizes[_idx_]\n );\n shadowContribs[_idx_] = shadowContrib;\n }}\n for(int _idx_ = SPOT_LIGHT_SHADOWMAP_COUNT; _idx_ < SPOT_LIGHT_COUNT; _idx_++){{\n shadowContribs[_idx_] = 1.0;\n }}\n}\n#endif\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n#ifdef SHADOW_CASCADE\nvoid computeShadowOfDirectionalLights(vec3 position, inout float shadowContribs[DIRECTIONAL_LIGHT_COUNT]){\n float depth = (2.0 * gl_FragCoord.z - gl_DepthRange.near - gl_DepthRange.far)\n / (gl_DepthRange.far - gl_DepthRange.near);\n float shadowContrib;\n shadowContribs[0] = 1.0;\n for (int _idx_ = 0; _idx_ < SHADOW_CASCADE; _idx_++) {{\n if (\n depth >= shadowCascadeClipsNear[_idx_] &&\n depth <= shadowCascadeClipsFar[_idx_]\n ) {\n shadowContrib = computeShadowContrib(\n directionalLightShadowMaps[0], directionalLightMatrices[_idx_], position,\n directionalLightShadowMapSizes[0],\n vec2(1.0 / float(SHADOW_CASCADE), 1.0),\n vec2(float(_idx_) / float(SHADOW_CASCADE), 0.0)\n );\n shadowContribs[0] = shadowContrib;\n }\n }}\n for(int _idx_ = DIRECTIONAL_LIGHT_SHADOWMAP_COUNT; _idx_ < DIRECTIONAL_LIGHT_COUNT; _idx_++) {{\n shadowContribs[_idx_] = 1.0;\n }}\n}\n#else\nvoid computeShadowOfDirectionalLights(vec3 position, inout float shadowContribs[DIRECTIONAL_LIGHT_COUNT]){\n float shadowContrib;\n for(int _idx_ = 0; _idx_ < DIRECTIONAL_LIGHT_SHADOWMAP_COUNT; _idx_++) {{\n shadowContrib = computeShadowContrib(\n directionalLightShadowMaps[_idx_], directionalLightMatrices[_idx_], position,\n directionalLightShadowMapSizes[_idx_]\n );\n shadowContribs[_idx_] = shadowContrib;\n }}\n for(int _idx_ = DIRECTIONAL_LIGHT_SHADOWMAP_COUNT; _idx_ < DIRECTIONAL_LIGHT_COUNT; _idx_++) {{\n shadowContribs[_idx_] = 1.0;\n }}\n}\n#endif\n#endif\n#if defined(POINT_LIGHT_SHADOWMAP_COUNT)\nvoid computeShadowOfPointLights(vec3 position, inout float shadowContribs[POINT_LIGHT_COUNT] ){\n vec3 lightPosition;\n vec3 direction;\n for(int _idx_ = 0; _idx_ < POINT_LIGHT_SHADOWMAP_COUNT; _idx_++) {{\n lightPosition = pointLightPosition[_idx_];\n direction = position - lightPosition;\n shadowContribs[_idx_] = computeShadowContribOmni(pointLightShadowMaps[_idx_], direction, pointLightRange[_idx_]);\n }}\n for(int _idx_ = POINT_LIGHT_SHADOWMAP_COUNT; _idx_ < POINT_LIGHT_COUNT; _idx_++) {{\n shadowContribs[_idx_] = 1.0;\n }}\n}\n#endif\n#endif\n@end");var al=ca.extend(function(){return{softShadow:al.PCF,shadowBlur:1,lightFrustumBias:"auto",kernelPCF:new Float32Array([1,0,1,1,-1,1,0,1,-1,0,-1,-1,1,-1,0,-1]),precision:"highp",_lastRenderNotCastShadow:!1,_frameBuffer:new yi,_textures:{},_shadowMapNumber:{POINT_LIGHT:0,DIRECTIONAL_LIGHT:0,SPOT_LIGHT:0},_depthMaterials:{},_distanceMaterials:{},_receivers:[],_lightsCastShadow:[],_lightCameras:{},_lightMaterials:{},_texturePool:new DZ}},function(){this._gaussianPassH=new kr({fragment:ve.source("clay.compositor.gaussian_blur")}),this._gaussianPassV=new kr({fragment:ve.source("clay.compositor.gaussian_blur")}),this._gaussianPassH.setUniform("blurSize",this.shadowBlur),this._gaussianPassH.setUniform("blurDir",0),this._gaussianPassV.setUniform("blurSize",this.shadowBlur),this._gaussianPassV.setUniform("blurDir",1),this._outputDepthPass=new kr({fragment:ve.source("clay.sm.debug_depth")})},{render:function(e,n,t,r){t||(t=n.getMainCamera()),this.trigger("beforerender",this,e,n,t),this._renderShadowPass(e,n,t,r),this.trigger("afterrender",this,e,n,t)},renderDebug:function(e,n){e.saveClear();var t=e.viewport,r=0,a=n||t.width/4,o=a;for(var s in this.softShadow===al.VSM?this._outputDepthPass.material.define("fragment","USE_VSM"):this._outputDepthPass.material.undefine("fragment","USE_VSM"),this._textures){var l=this._textures[s];e.setViewport(r,0,a*l.width/l.height,o),this._outputDepthPass.setUniform("depthMap",l),this._outputDepthPass.render(e),r+=a*l.width/l.height}e.setViewport(t),e.restoreClear()},_updateReceivers:function(e,n){if(n.receiveShadow?(this._receivers.push(n),n.material.set("shadowEnabled",1),n.material.set("pcfKernel",this.kernelPCF)):n.material.set("shadowEnabled",0),this.softShadow===al.VSM)n.material.define("fragment","USE_VSM"),n.material.undefine("fragment","PCF_KERNEL_SIZE");else{n.material.undefine("fragment","USE_VSM");var t=this.kernelPCF;t&&t.length?n.material.define("fragment","PCF_KERNEL_SIZE",t.length/2):n.material.undefine("fragment","PCF_KERNEL_SIZE")}},_update:function(e,n){var t=this;n.traverse(function(a){a.isRenderable()&&t._updateReceivers(e,a)});for(var r=0;r<n.lights.length;r++){var i=n.lights[r];i.castShadow&&!i.invisible&&this._lightsCastShadow.push(i)}},_renderShadowPass:function(e,n,t,r){for(var i in this._shadowMapNumber)this._shadowMapNumber[i]=0;this._lightsCastShadow.length=0,this._receivers.length=0;var a=e.gl;if(r||n.update(),t&&t.update(),n.updateLights(),this._update(e,n),this._lightsCastShadow.length||!this._lastRenderNotCastShadow){this._lastRenderNotCastShadow=0===this._lightsCastShadow,a.enable(a.DEPTH_TEST),a.depthMask(!0),a.disable(a.BLEND),a.clearColor(1,1,1,1);for(var d,o=[],s=[],l=[],c=[],u=[],h=[],f=0;f<this._lightsCastShadow.length;f++){var p=this._lightsCastShadow[f];if("DIRECTIONAL_LIGHT"===p.type){if(d){console.warn("Only one direectional light supported with shadow cascade");continue}if(p.shadowCascade>4){console.warn("Support at most 4 cascade");continue}p.shadowCascade>1&&(d=p),this.renderDirectionalLightShadow(e,n,t,p,u,c,l)}else"SPOT_LIGHT"===p.type?this.renderSpotLightShadow(e,n,p,s,o):"POINT_LIGHT"===p.type&&this.renderPointLightShadow(e,n,p,h);this._shadowMapNumber[p.type]++}for(var g in this._shadowMapNumber){var m=this._shadowMapNumber[g],v=g+"_SHADOWMAP_COUNT";for(f=0;f<this._receivers.length;f++)(y=this._receivers[f].material).fragmentDefines[v]!==m&&(m>0?y.define("fragment",v,m):y.isDefined("fragment",v)&&y.undefine("fragment",v))}for(f=0;f<this._receivers.length;f++){var y=this._receivers[f].material;d?y.define("fragment","SHADOW_CASCADE",d.shadowCascade):y.undefine("fragment","SHADOW_CASCADE")}var b=n.shadowUniforms;if(l.length>0){var C=l.map(w);if(b.directionalLightShadowMaps={value:l,type:"tv"},b.directionalLightMatrices={value:c,type:"m4v"},b.directionalLightShadowMapSizes={value:C,type:"1fv"},d){var S=u.slice(),x=u.slice();S.pop(),x.shift(),S.reverse(),x.reverse(),c.reverse(),b.shadowCascadeClipsNear={value:S,type:"1fv"},b.shadowCascadeClipsFar={value:x,type:"1fv"}}}if(o.length>0){var M=o.map(w);(b=n.shadowUniforms).spotLightShadowMaps={value:o,type:"tv"},b.spotLightMatrices={value:s,type:"m4v"},b.spotLightShadowMapSizes={value:M,type:"1fv"}}h.length>0&&(b.pointLightShadowMaps={value:h,type:"tv"})}function w(E){return E.height}},renderDirectionalLightShadow:function(){var e=new MN,n=new Oe,t=new ha,r=new Oe,i=new Oe,a=new Oe,o=new Oe;return function(s,l,c,u,h,d,f){var p=this._getDepthMaterial(u),g={getMaterial:function(we){return we.shadowDepthMaterial||p},isMaterialChanged:EZ,getUniform:jN,ifRender:function(we){return we.castShadow},sortCompare:Cm.opaqueSortCompare};if(!l.viewBoundingBoxLastFrame.isFinite()){var m=l.getBoundingBox();l.viewBoundingBoxLastFrame.copy(m).applyTransform(c.viewMatrix)}var v=Math.min(-l.viewBoundingBoxLastFrame.min.z,c.far),_=Math.max(-l.viewBoundingBoxLastFrame.max.z,c.near),y=this._getDirectionalLightCamera(u,l,c),b=a.array;o.copy(y.projectionMatrix),ce.invert(i.array,y.worldTransform.array),ce.multiply(i.array,i.array,c.worldTransform.array),ce.multiply(b,o.array,i.array);for(var w=[],C=c instanceof ci,S=(c.near+c.far)/(c.near-c.far),x=2*c.near*c.far/(c.near-c.far),M=0;M<=u.shadowCascade;M++){var A=_*Math.pow(v/_,M/u.shadowCascade)*u.cascadeSplitLogFactor+(_+(v-_)*M/u.shadowCascade)*(1-u.cascadeSplitLogFactor);w.push(A),h.push(-(-A*S+x)/-A)}var N=this._getTexture(u,u.shadowCascade);f.push(N);var R=s.viewport,z=s.gl;for(this._frameBuffer.attach(N),this._frameBuffer.bind(s),z.clear(z.COLOR_BUFFER_BIT|z.DEPTH_BUFFER_BIT),M=0;M<u.shadowCascade;M++){var L=w[M],V=w[M+1];C?ce.perspective(n.array,c.fov/180*Math.PI,c.aspect,L,V):ce.ortho(n.array,c.left,c.right,c.bottom,c.top,L,V),e.setFromProjection(n),e.getTransformedBoundingBox(t,i),t.applyProjection(o);var F=t.min.array,j=t.max.array;F[0]=Math.max(F[0],-1),F[1]=Math.max(F[1],-1),j[0]=Math.min(j[0],1),j[1]=Math.min(j[1],1),r.ortho(F[0],j[0],F[1],j[1],1,-1),y.projectionMatrix.multiplyLeft(r);var Y=u.shadowResolution||512;s.setViewport((u.shadowCascade-M-1)*Y,0,Y,Y,1);var se=l.updateRenderList(y);s.renderPass(se.opaque,y,g),this.softShadow===al.VSM&&this._gaussianFilter(s,N,N.width);var de=new Oe;de.copy(y.viewMatrix).multiplyLeft(y.projectionMatrix),d.push(de.array),y.projectionMatrix.copy(o)}this._frameBuffer.unbind(s),s.setViewport(R)}}(),renderSpotLightShadow:function(e,n,t,r,i){var a=this._getTexture(t),o=this._getSpotLightCamera(t),s=e.gl;this._frameBuffer.attach(a),this._frameBuffer.bind(e),s.clear(s.COLOR_BUFFER_BIT|s.DEPTH_BUFFER_BIT);var l=this._getDepthMaterial(t),c={getMaterial:function(d){return d.shadowDepthMaterial||l},isMaterialChanged:EZ,getUniform:jN,ifRender:function(d){return d.castShadow},sortCompare:Cm.opaqueSortCompare},u=n.updateRenderList(o);e.renderPass(u.opaque,o,c),this._frameBuffer.unbind(e),this.softShadow===al.VSM&&this._gaussianFilter(e,a,a.width);var h=new Oe;h.copy(o.worldTransform).invert().multiplyLeft(o.projectionMatrix),i.push(a),r.push(h.array)},renderPointLightShadow:function(e,n,t,r){var i=this._getTexture(t),a=e.gl;r.push(i);var o=this._getDepthMaterial(t),s={getMaterial:function(_){return _.shadowDepthMaterial||o},getUniform:jN,sortCompare:Cm.opaqueSortCompare},l={px:[],py:[],pz:[],nx:[],ny:[],nz:[]},c=new ha,u=t.getWorldPosition().array,h=new ha,d=t.range;h.min.setArray(u),h.max.setArray(u);var f=new fe(d,d,d);h.max.add(f),h.min.sub(f);var p={px:!1,py:!1,pz:!1,nx:!1,ny:!1,nz:!1};n.traverse(function(_){if(_.isRenderable()&&_.castShadow){var y=_.geometry;if(!y.boundingBox){for(var b=0;b<Bc.length;b++)l[Bc[b]].push(_);return}if(c.transformFrom(y.boundingBox,_.worldTransform),!c.intersectBoundingBox(h))return;for(c.updateVertices(),b=0;b<Bc.length;b++)p[Bc[b]]=!1;for(b=0;b<8;b++){var w=c.vertices[b],C=w[0]-u[0],S=w[1]-u[1],x=w[2]-u[2],M=Math.abs(C),E=Math.abs(S),T=Math.abs(x);M>E?M>T?p[C>0?"px":"nx"]=!0:p[x>0?"pz":"nz"]=!0:E>T?p[S>0?"py":"ny"]=!0:p[x>0?"pz":"nz"]=!0}for(b=0;b<Bc.length;b++)p[Bc[b]]&&l[Bc[b]].push(_)}});for(var g=0;g<6;g++){var m=Bc[g],v=this._getPointLightCamera(t,m);this._frameBuffer.attach(i,a.COLOR_ATTACHMENT0,a.TEXTURE_CUBE_MAP_POSITIVE_X+g),this._frameBuffer.bind(e),a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT),e.renderPass(l[m],v,s)}this._frameBuffer.unbind(e)},_getDepthMaterial:function(e){var n=this._lightMaterials[e.__uid__],t="POINT_LIGHT"===e.type;if(!n){var r=t?"clay.sm.distance.":"clay.sm.depth.";n=new Fo({precision:this.precision,shader:new ve(ve.source(r+"vertex"),ve.source(r+"fragment"))}),this._lightMaterials[e.__uid__]=n}return null!=e.shadowSlopeScale&&n.setUniform("slopeScale",e.shadowSlopeScale),null!=e.shadowBias&&n.setUniform("bias",e.shadowBias),this.softShadow===al.VSM?n.define("fragment","USE_VSM"):n.undefine("fragment","USE_VSM"),t&&(n.set("lightPosition",e.getWorldPosition().array),n.set("range",e.range)),n},_gaussianFilter:function(e,n,t){var i=this._texturePool.get({width:t,height:t,type:Be.FLOAT});this._frameBuffer.attach(i),this._frameBuffer.bind(e),this._gaussianPassH.setUniform("texture",n),this._gaussianPassH.setUniform("textureWidth",t),this._gaussianPassH.render(e),this._frameBuffer.attach(n),this._gaussianPassV.setUniform("texture",i),this._gaussianPassV.setUniform("textureHeight",t),this._gaussianPassV.render(e),this._frameBuffer.unbind(e),this._texturePool.put(i)},_getTexture:function(e,n){var t=e.__uid__,r=this._textures[t],i=e.shadowResolution||512;return n=n||1,r||((r="POINT_LIGHT"===e.type?new Mm:new yt).width=i*n,r.height=i,this.softShadow===al.VSM?(r.type=Be.FLOAT,r.anisotropic=4):(r.minFilter=9728,r.magFilter=9728,r.useMipmap=!1),this._textures[t]=r),r},_getPointLightCamera:function(e,n){this._lightCameras.point||(this._lightCameras.point={px:new ci,nx:new ci,py:new ci,ny:new ci,pz:new ci,nz:new ci});var t=this._lightCameras.point[n];switch(t.far=e.range,t.fov=90,t.position.set(0,0,0),n){case"px":t.lookAt(fe.POSITIVE_X,fe.NEGATIVE_Y);break;case"nx":t.lookAt(fe.NEGATIVE_X,fe.NEGATIVE_Y);break;case"py":t.lookAt(fe.POSITIVE_Y,fe.POSITIVE_Z);break;case"ny":t.lookAt(fe.NEGATIVE_Y,fe.NEGATIVE_Z);break;case"pz":t.lookAt(fe.POSITIVE_Z,fe.NEGATIVE_Y);break;case"nz":t.lookAt(fe.NEGATIVE_Z,fe.NEGATIVE_Y)}return e.getWorldPosition(t.position),t.update(),t},_getDirectionalLightCamera:function(){var e=new Oe,n=new ha,t=new ha;return function(r,i,a){this._lightCameras.directional||(this._lightCameras.directional=new Sp);var o=this._lightCameras.directional;n.copy(i.viewBoundingBoxLastFrame),n.intersection(a.frustum.boundingBox),o.position.copy(n.min).add(n.max).scale(.5).transformMat4(a.worldTransform),o.rotation.copy(r.rotation),o.scale.copy(r.scale),o.updateWorldTransform(),Oe.invert(e,o.worldTransform),Oe.multiply(e,e,a.worldTransform),t.copy(n).applyTransform(e);var s=t.min.array,l=t.max.array;return o.position.set((s[0]+l[0])/2,(s[1]+l[1])/2,l[2]).transformMat4(o.worldTransform),o.near=0,o.far=-s[2]+l[2],isNaN(this.lightFrustumBias)?o.far*=4:o.far+=this.lightFrustumBias,o.left=s[0],o.right=l[0],o.top=l[1],o.bottom=s[1],o.update(!0),o}}(),_getSpotLightCamera:function(e){this._lightCameras.spot||(this._lightCameras.spot=new ci);var n=this._lightCameras.spot;return n.fov=2*e.penumbraAngle,n.far=e.range,n.worldTransform.copy(e.worldTransform),n.updateProjectionMatrix(),ce.invert(n.viewMatrix.array,n.worldTransform.array),n},dispose:function(e){var n=e.gl||e;for(var t in this._frameBuffer&&this._frameBuffer.dispose(n),this._textures)this._textures[t].dispose(n);this._texturePool.clear(e.gl),this._depthMaterials={},this._distanceMaterials={},this._textures={},this._lightCameras={},this._shadowMapNumber={POINT_LIGHT:0,DIRECTIONAL_LIGHT:0,SPOT_LIGHT:0},this._meshMaterials={};for(var r=0;r<this._receivers.length;r++){var i=this._receivers[r];if(i.material){var a=i.material;a.undefine("fragment","POINT_LIGHT_SHADOW_COUNT"),a.undefine("fragment","DIRECTIONAL_LIGHT_SHADOW_COUNT"),a.undefine("fragment","AMBIENT_LIGHT_SHADOW_COUNT"),a.set("shadowEnabled",0)}}this._receivers=[],this._lightsCastShadow=[]}});al.VSM=1,al.PCF=2;const XLe=al;var qLe=ca.extend(function(){return{name:"",inputLinks:{},outputLinks:{},_prevOutputTextures:{},_outputTextures:{},_outputReferences:{},_rendering:!1,_rendered:!1,_compositor:null}},{updateParameter:function(e,n){var o,s,t=this.outputs[e],r=t.parameters,i=t._parametersCopy;if(i||(i=t._parametersCopy={}),r)for(var a in r)"width"!==a&&"height"!==a&&(i[a]=r[a]);return o=r.width instanceof Function?r.width.call(this,n):r.width,s=r.height instanceof Function?r.height.call(this,n):r.height,(i.width!==o||i.height!==s)&&this._outputTextures[e]&&this._outputTextures[e].dispose(n.gl),i.width=o,i.height=s,i},setParameter:function(e,n){},getParameter:function(e){},setParameters:function(e){for(var n in e)this.setParameter(n,e[n])},render:function(){},getOutput:function(e,n){if(null==n)return this._outputTextures[n=e];var t=this.outputs[n];return t?this._rendered?t.outputLastFrame?this._prevOutputTextures[n]:this._outputTextures[n]:this._rendering?(this._prevOutputTextures[n]||(this._prevOutputTextures[n]=this._compositor.allocateTexture(t.parameters||{})),this._prevOutputTextures[n]):(this.render(e),this._outputTextures[n]):void 0},removeReference:function(e){this._outputReferences[e]--,0===this._outputReferences[e]&&(this.outputs[e].keepLastFrame?(this._prevOutputTextures[e]&&this._compositor.releaseTexture(this._prevOutputTextures[e]),this._prevOutputTextures[e]=this._outputTextures[e]):this._compositor.releaseTexture(this._outputTextures[e]))},link:function(e,n,t){this.inputLinks[e]={node:n,pin:t},n.outputLinks[t]||(n.outputLinks[t]=[]),n.outputLinks[t].push({node:this,pin:e}),this.pass.material.enableTexture(e)},clear:function(){this.inputLinks={},this.outputLinks={}},updateReference:function(e){if(!this._rendering){for(var n in this._rendering=!0,this.inputLinks){var t=this.inputLinks[n];t.node.updateReference(t.pin)}this._rendering=!1}e&&this._outputReferences[e]++},beforeFrame:function(){for(var e in this._rendered=!1,this.outputLinks)this._outputReferences[e]=0},afterFrame:function(){for(var e in this.outputLinks)this._outputReferences[e]>0&&(this.outputs[e].keepLastFrame?(this._prevOutputTextures[e]&&this._compositor.releaseTexture(this._prevOutputTextures[e]),this._prevOutputTextures[e]=this._outputTextures[e]):this._compositor.releaseTexture(this._outputTextures[e]))}});const Om=qLe;var ZLe=ca.extend(function(){return{nodes:[]}},{dirty:function(){this._dirty=!0},addNode:function(e){this.nodes.indexOf(e)>=0||(this.nodes.push(e),this._dirty=!0)},removeNode:function(e){"string"==typeof e&&(e=this.getNodeByName(e));var n=this.nodes.indexOf(e);n>=0&&(this.nodes.splice(n,1),this._dirty=!0)},getNodeByName:function(e){for(var n=0;n<this.nodes.length;n++)if(this.nodes[n].name===e)return this.nodes[n]},update:function(){for(var e=0;e<this.nodes.length;e++)this.nodes[e].clear();for(e=0;e<this.nodes.length;e++){var n=this.nodes[e];if(n.inputs)for(var t in n.inputs)if(n.inputs[t]){if(n.pass&&!n.pass.material.isUniformEnabled(t)){console.warn("Pin "+n.name+"."+t+" not used.");continue}var r=n.inputs[t],i=this.findPin(r);i?n.link(t,i.node,i.pin):console.warn("string"==typeof r?"Node "+r+" not exist":"Pin of "+r.node+"."+r.pin+" not exist")}}},findPin:function(e){var n;if(("string"==typeof e||e instanceof Om)&&(e={node:e}),"string"==typeof e.node)for(var t=0;t<this.nodes.length;t++){var r=this.nodes[t];r.name===e.node&&(n=r)}else n=e.node;if(n){var i=e.pin;if(i||n.outputs&&(i=Object.keys(n.outputs)[0]),n.outputs[i])return{node:n,pin:i}}}});const AZ=ZLe;var KLe=AZ.extend(function(){return{_outputs:[],_texturePool:new DZ,_frameBuffer:new yi({depthBuffer:!1})}},{addNode:function(e){AZ.prototype.addNode.call(this,e),e._compositor=this},render:function(e,n){if(this._dirty){this.update(),this._dirty=!1,this._outputs.length=0;for(var t=0;t<this.nodes.length;t++)this.nodes[t].outputs||this._outputs.push(this.nodes[t])}for(t=0;t<this.nodes.length;t++)this.nodes[t].beforeFrame();for(t=0;t<this._outputs.length;t++)this._outputs[t].updateReference();for(t=0;t<this._outputs.length;t++)this._outputs[t].render(e,n);for(t=0;t<this.nodes.length;t++)this.nodes[t].afterFrame()},allocateTexture:function(e){return this._texturePool.get(e)},releaseTexture:function(e){this._texturePool.put(e)},getFrameBuffer:function(){return this._frameBuffer},dispose:function(e){this._texturePool.clear(e)}});const QLe=KLe;var JLe=Om.extend({name:"scene",scene:null,camera:null,autoUpdateScene:!0,preZ:!1},function(){this.frameBuffer=new yi},{render:function(e){this._rendering=!0;var t,n=e.gl;if(this.trigger("beforerender"),this.outputs){var r=this.frameBuffer;for(var i in this.outputs){var a=this.updateParameter(i,e),o=this.outputs[i],s=this._compositor.allocateTexture(a);this._outputTextures[i]=s,"string"==typeof(l=o.attachment||n.COLOR_ATTACHMENT0)&&(l=n[l]),r.attach(s,l)}r.bind(e);var c=e.getGLExtension("EXT_draw_buffers");if(c){var u=[];for(var l in this.outputs)(l=parseInt(l))>=n.COLOR_ATTACHMENT0&&l<=n.COLOR_ATTACHMENT0+8&&u.push(l);c.drawBuffersEXT(u)}e.saveClear(),e.clearBit=16640,t=e.render(this.scene,this.camera,!this.autoUpdateScene,this.preZ),e.restoreClear(),r.unbind(e)}else t=e.render(this.scene,this.camera,!this.autoUpdateScene,this.preZ);this.trigger("afterrender",t),this._rendering=!1,this._rendered=!0}});const e5e=JLe,n5e=Om.extend(function(){return{texture:null,outputs:{color:{}}}},function(){},{getOutput:function(e,n){return this.texture},beforeFrame:function(){},afterFrame:function(){}});var r5e=Om.extend(function(){return{name:"",inputs:{},outputs:null,shader:"",inputLinks:{},outputLinks:{},pass:null,_prevOutputTextures:{},_outputTextures:{},_outputReferences:{},_rendering:!1,_rendered:!1,_compositor:null}},function(){var e=new kr({fragment:this.shader});this.pass=e},{render:function(e,n){this.trigger("beforerender",e),this._rendering=!0;var t=e.gl;for(var r in this.inputLinks){var a=(i=this.inputLinks[r]).node.getOutput(e,i.pin);this.pass.setUniform(r,a)}if(this.outputs){this.pass.outputs={};var o={};for(var s in this.outputs){var l=this.updateParameter(s,e);isNaN(l.width)&&this.updateParameter(s,e);var c=this.outputs[s],u=this._compositor.allocateTexture(l);this._outputTextures[s]=u,"string"==typeof(h=c.attachment||t.COLOR_ATTACHMENT0)&&(h=t[h]),o[h]=u}for(var h in this._compositor.getFrameBuffer().bind(e),o)this._compositor.getFrameBuffer().attach(o[h],h);this.pass.render(e),this._compositor.getFrameBuffer().updateMipmap(e)}else this.pass.outputs=null,this._compositor.getFrameBuffer().unbind(e),this.pass.render(e,n);for(var r in this.inputLinks){var i;(i=this.inputLinks[r]).node.removeReference(i.pin)}this._rendering=!1,this._rendered=!0,this.trigger("afterrender",e)},updateParameter:function(e,n){var o,s,t=this.outputs[e],r=t.parameters,i=t._parametersCopy;if(i||(i=t._parametersCopy={}),r)for(var a in r)"width"!==a&&"height"!==a&&(i[a]=r[a]);return o="function"==typeof r.width?r.width.call(this,n):r.width,s="function"==typeof r.height?r.height.call(this,n):r.height,o=Math.ceil(o),s=Math.ceil(s),(i.width!==o||i.height!==s)&&this._outputTextures[e]&&this._outputTextures[e].dispose(n),i.width=o,i.height=s,i},setParameter:function(e,n){this.pass.setUniform(e,n)},getParameter:function(e){return this.pass.getUniform(e)},setParameters:function(e){for(var n in e)this.setParameter(n,e[n])},define:function(e,n){this.pass.material.define("fragment",e,n)},undefine:function(e){this.pass.material.undefine("fragment",e)},removeReference:function(e){this._outputReferences[e]--,0===this._outputReferences[e]&&(this.outputs[e].keepLastFrame?(this._prevOutputTextures[e]&&this._compositor.releaseTexture(this._prevOutputTextures[e]),this._prevOutputTextures[e]=this._outputTextures[e]):this._compositor.releaseTexture(this._outputTextures[e]))},clear:function(){Om.prototype.clear.call(this),this.pass.material.disableTexturesAll()}});const i5e=r5e,NZ="@export clay.compositor.kernel.gaussian_9\nfloat gaussianKernel[9];\ngaussianKernel[0] = 0.07;\ngaussianKernel[1] = 0.09;\ngaussianKernel[2] = 0.12;\ngaussianKernel[3] = 0.14;\ngaussianKernel[4] = 0.16;\ngaussianKernel[5] = 0.14;\ngaussianKernel[6] = 0.12;\ngaussianKernel[7] = 0.09;\ngaussianKernel[8] = 0.07;\n@end\n@export clay.compositor.kernel.gaussian_13\nfloat gaussianKernel[13];\ngaussianKernel[0] = 0.02;\ngaussianKernel[1] = 0.03;\ngaussianKernel[2] = 0.06;\ngaussianKernel[3] = 0.08;\ngaussianKernel[4] = 0.11;\ngaussianKernel[5] = 0.13;\ngaussianKernel[6] = 0.14;\ngaussianKernel[7] = 0.13;\ngaussianKernel[8] = 0.11;\ngaussianKernel[9] = 0.08;\ngaussianKernel[10] = 0.06;\ngaussianKernel[11] = 0.03;\ngaussianKernel[12] = 0.02;\n@end\n@export clay.compositor.gaussian_blur\n#define SHADER_NAME gaussian_blur\nuniform sampler2D texture;varying vec2 v_Texcoord;\nuniform float blurSize : 2.0;\nuniform vec2 textureSize : [512.0, 512.0];\nuniform float blurDir : 0.0;\n@import clay.util.rgbm\n@import clay.util.clamp_sample\nvoid main (void)\n{\n @import clay.compositor.kernel.gaussian_9\n vec2 off = blurSize / textureSize;\n off *= vec2(1.0 - blurDir, blurDir);\n vec4 sum = vec4(0.0);\n float weightAll = 0.0;\n for (int i = 0; i < 9; i++) {\n float w = gaussianKernel[i];\n vec4 texel = decodeHDR(clampSample(texture, v_Texcoord + float(i - 4) * off));\n sum += texel * w;\n weightAll += w;\n }\n gl_FragColor = encodeHDR(sum / max(weightAll, 0.01));\n}\n@end\n",IZ="\n@export clay.compositor.lut\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nuniform sampler2D lookup;\nvoid main()\n{\n vec4 tex = texture2D(texture, v_Texcoord);\n float blueColor = tex.b * 63.0;\n vec2 quad1;\n quad1.y = floor(floor(blueColor) / 8.0);\n quad1.x = floor(blueColor) - (quad1.y * 8.0);\n vec2 quad2;\n quad2.y = floor(ceil(blueColor) / 8.0);\n quad2.x = ceil(blueColor) - (quad2.y * 8.0);\n vec2 texPos1;\n texPos1.x = (quad1.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * tex.r);\n texPos1.y = (quad1.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * tex.g);\n vec2 texPos2;\n texPos2.x = (quad2.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * tex.r);\n texPos2.y = (quad2.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * tex.g);\n vec4 newColor1 = texture2D(lookup, texPos1);\n vec4 newColor2 = texture2D(lookup, texPos2);\n vec4 newColor = mix(newColor1, newColor2, fract(blueColor));\n gl_FragColor = vec4(newColor.rgb, tex.w);\n}\n@end",PZ="@export clay.compositor.output\n#define OUTPUT_ALPHA\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\n@import clay.util.rgbm\nvoid main()\n{\n vec4 tex = decodeHDR(texture2D(texture, v_Texcoord));\n gl_FragColor.rgb = tex.rgb;\n#ifdef OUTPUT_ALPHA\n gl_FragColor.a = tex.a;\n#else\n gl_FragColor.a = 1.0;\n#endif\n gl_FragColor = encodeHDR(gl_FragColor);\n#ifdef PREMULTIPLY_ALPHA\n gl_FragColor.rgb *= gl_FragColor.a;\n#endif\n}\n@end",OZ="@export clay.compositor.bright\nuniform sampler2D texture;\nuniform float threshold : 1;\nuniform float scale : 1.0;\nuniform vec2 textureSize: [512, 512];\nvarying vec2 v_Texcoord;\nconst vec3 lumWeight = vec3(0.2125, 0.7154, 0.0721);\n@import clay.util.rgbm\nvec4 median(vec4 a, vec4 b, vec4 c)\n{\n return a + b + c - min(min(a, b), c) - max(max(a, b), c);\n}\nvoid main()\n{\n vec4 texel = decodeHDR(texture2D(texture, v_Texcoord));\n#ifdef ANTI_FLICKER\n vec3 d = 1.0 / textureSize.xyx * vec3(1.0, 1.0, 0.0);\n vec4 s1 = decodeHDR(texture2D(texture, v_Texcoord - d.xz));\n vec4 s2 = decodeHDR(texture2D(texture, v_Texcoord + d.xz));\n vec4 s3 = decodeHDR(texture2D(texture, v_Texcoord - d.zy));\n vec4 s4 = decodeHDR(texture2D(texture, v_Texcoord + d.zy));\n texel = median(median(texel, s1, s2), s3, s4);\n#endif\n float lum = dot(texel.rgb , lumWeight);\n vec4 color;\n if (lum > threshold && texel.a > 0.0)\n {\n color = vec4(texel.rgb * scale, texel.a * scale);\n }\n else\n {\n color = vec4(0.0);\n }\n gl_FragColor = encodeHDR(color);\n}\n@end\n",RZ="@export clay.compositor.downsample\nuniform sampler2D texture;\nuniform vec2 textureSize : [512, 512];\nvarying vec2 v_Texcoord;\n@import clay.util.rgbm\nfloat brightness(vec3 c)\n{\n return max(max(c.r, c.g), c.b);\n}\n@import clay.util.clamp_sample\nvoid main()\n{\n vec4 d = vec4(-1.0, -1.0, 1.0, 1.0) / textureSize.xyxy;\n#ifdef ANTI_FLICKER\n vec3 s1 = decodeHDR(clampSample(texture, v_Texcoord + d.xy)).rgb;\n vec3 s2 = decodeHDR(clampSample(texture, v_Texcoord + d.zy)).rgb;\n vec3 s3 = decodeHDR(clampSample(texture, v_Texcoord + d.xw)).rgb;\n vec3 s4 = decodeHDR(clampSample(texture, v_Texcoord + d.zw)).rgb;\n float s1w = 1.0 / (brightness(s1) + 1.0);\n float s2w = 1.0 / (brightness(s2) + 1.0);\n float s3w = 1.0 / (brightness(s3) + 1.0);\n float s4w = 1.0 / (brightness(s4) + 1.0);\n float oneDivideSum = 1.0 / (s1w + s2w + s3w + s4w);\n vec4 color = vec4(\n (s1 * s1w + s2 * s2w + s3 * s3w + s4 * s4w) * oneDivideSum,\n 1.0\n );\n#else\n vec4 color = decodeHDR(clampSample(texture, v_Texcoord + d.xy));\n color += decodeHDR(clampSample(texture, v_Texcoord + d.zy));\n color += decodeHDR(clampSample(texture, v_Texcoord + d.xw));\n color += decodeHDR(clampSample(texture, v_Texcoord + d.zw));\n color *= 0.25;\n#endif\n gl_FragColor = encodeHDR(color);\n}\n@end",LZ="\n@export clay.compositor.upsample\n#define HIGH_QUALITY\nuniform sampler2D texture;\nuniform vec2 textureSize : [512, 512];\nuniform float sampleScale: 0.5;\nvarying vec2 v_Texcoord;\n@import clay.util.rgbm\n@import clay.util.clamp_sample\nvoid main()\n{\n#ifdef HIGH_QUALITY\n vec4 d = vec4(1.0, 1.0, -1.0, 0.0) / textureSize.xyxy * sampleScale;\n vec4 s;\n s = decodeHDR(clampSample(texture, v_Texcoord - d.xy));\n s += decodeHDR(clampSample(texture, v_Texcoord - d.wy)) * 2.0;\n s += decodeHDR(clampSample(texture, v_Texcoord - d.zy));\n s += decodeHDR(clampSample(texture, v_Texcoord + d.zw)) * 2.0;\n s += decodeHDR(clampSample(texture, v_Texcoord )) * 4.0;\n s += decodeHDR(clampSample(texture, v_Texcoord + d.xw)) * 2.0;\n s += decodeHDR(clampSample(texture, v_Texcoord + d.zy));\n s += decodeHDR(clampSample(texture, v_Texcoord + d.wy)) * 2.0;\n s += decodeHDR(clampSample(texture, v_Texcoord + d.xy));\n gl_FragColor = encodeHDR(s / 16.0);\n#else\n vec4 d = vec4(-1.0, -1.0, +1.0, +1.0) / textureSize.xyxy;\n vec4 s;\n s = decodeHDR(clampSample(texture, v_Texcoord + d.xy));\n s += decodeHDR(clampSample(texture, v_Texcoord + d.zy));\n s += decodeHDR(clampSample(texture, v_Texcoord + d.xw));\n s += decodeHDR(clampSample(texture, v_Texcoord + d.zw));\n gl_FragColor = encodeHDR(s / 4.0);\n#endif\n}\n@end",kZ="@export clay.compositor.hdr.composite\n#define TONEMAPPING\nuniform sampler2D texture;\n#ifdef BLOOM_ENABLED\nuniform sampler2D bloom;\n#endif\n#ifdef LENSFLARE_ENABLED\nuniform sampler2D lensflare;\nuniform sampler2D lensdirt;\n#endif\n#ifdef LUM_ENABLED\nuniform sampler2D lum;\n#endif\n#ifdef LUT_ENABLED\nuniform sampler2D lut;\n#endif\n#ifdef COLOR_CORRECTION\nuniform float brightness : 0.0;\nuniform float contrast : 1.0;\nuniform float saturation : 1.0;\n#endif\n#ifdef VIGNETTE\nuniform float vignetteDarkness: 1.0;\nuniform float vignetteOffset: 1.0;\n#endif\nuniform float exposure : 1.0;\nuniform float bloomIntensity : 0.25;\nuniform float lensflareIntensity : 1;\nvarying vec2 v_Texcoord;\n@import clay.util.srgb\nvec3 ACESToneMapping(vec3 color)\n{\n const float A = 2.51;\n const float B = 0.03;\n const float C = 2.43;\n const float D = 0.59;\n const float E = 0.14;\n return (color * (A * color + B)) / (color * (C * color + D) + E);\n}\nfloat eyeAdaption(float fLum)\n{\n return mix(0.2, fLum, 0.5);\n}\n#ifdef LUT_ENABLED\nvec3 lutTransform(vec3 color) {\n float blueColor = color.b * 63.0;\n vec2 quad1;\n quad1.y = floor(floor(blueColor) / 8.0);\n quad1.x = floor(blueColor) - (quad1.y * 8.0);\n vec2 quad2;\n quad2.y = floor(ceil(blueColor) / 8.0);\n quad2.x = ceil(blueColor) - (quad2.y * 8.0);\n vec2 texPos1;\n texPos1.x = (quad1.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * color.r);\n texPos1.y = (quad1.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * color.g);\n vec2 texPos2;\n texPos2.x = (quad2.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * color.r);\n texPos2.y = (quad2.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * color.g);\n vec4 newColor1 = texture2D(lut, texPos1);\n vec4 newColor2 = texture2D(lut, texPos2);\n vec4 newColor = mix(newColor1, newColor2, fract(blueColor));\n return newColor.rgb;\n}\n#endif\n@import clay.util.rgbm\nvoid main()\n{\n vec4 texel = vec4(0.0);\n vec4 originalTexel = vec4(0.0);\n#ifdef TEXTURE_ENABLED\n texel = decodeHDR(texture2D(texture, v_Texcoord));\n originalTexel = texel;\n#endif\n#ifdef BLOOM_ENABLED\n vec4 bloomTexel = decodeHDR(texture2D(bloom, v_Texcoord));\n texel.rgb += bloomTexel.rgb * bloomIntensity;\n texel.a += bloomTexel.a * bloomIntensity;\n#endif\n#ifdef LENSFLARE_ENABLED\n texel += decodeHDR(texture2D(lensflare, v_Texcoord)) * texture2D(lensdirt, v_Texcoord) * lensflareIntensity;\n#endif\n texel.a = min(texel.a, 1.0);\n#ifdef LUM_ENABLED\n float fLum = texture2D(lum, vec2(0.5, 0.5)).r;\n float adaptedLumDest = 3.0 / (max(0.1, 1.0 + 10.0*eyeAdaption(fLum)));\n float exposureBias = adaptedLumDest * exposure;\n#else\n float exposureBias = exposure;\n#endif\n#ifdef TONEMAPPING\n texel.rgb *= exposureBias;\n texel.rgb = ACESToneMapping(texel.rgb);\n#endif\n texel = linearTosRGB(texel);\n#ifdef LUT_ENABLED\n texel.rgb = lutTransform(clamp(texel.rgb,vec3(0.0),vec3(1.0)));\n#endif\n#ifdef COLOR_CORRECTION\n texel.rgb = clamp(texel.rgb + vec3(brightness), 0.0, 1.0);\n texel.rgb = clamp((texel.rgb - vec3(0.5))*contrast+vec3(0.5), 0.0, 1.0);\n float lum = dot(texel.rgb, vec3(0.2125, 0.7154, 0.0721));\n texel.rgb = mix(vec3(lum), texel.rgb, saturation);\n#endif\n#ifdef VIGNETTE\n vec2 uv = (v_Texcoord - vec2(0.5)) * vec2(vignetteOffset);\n texel.rgb = mix(texel.rgb, vec3(1.0 - vignetteDarkness), dot(uv, uv));\n#endif\n gl_FragColor = encodeHDR(texel);\n#ifdef DEBUG\n #if DEBUG == 1\n gl_FragColor = encodeHDR(decodeHDR(texture2D(texture, v_Texcoord)));\n #elif DEBUG == 2\n gl_FragColor = encodeHDR(decodeHDR(texture2D(bloom, v_Texcoord)) * bloomIntensity);\n #elif DEBUG == 3\n gl_FragColor = encodeHDR(decodeHDR(texture2D(lensflare, v_Texcoord) * lensflareIntensity));\n #endif\n#endif\n if (originalTexel.a <= 0.01 && gl_FragColor.a > 1e-5) {\n gl_FragColor.a = dot(gl_FragColor.rgb, vec3(0.2125, 0.7154, 0.0721));\n }\n#ifdef PREMULTIPLY_ALPHA\n gl_FragColor.rgb *= gl_FragColor.a;\n#endif\n}\n@end",FZ="@export clay.compositor.blend\n#define SHADER_NAME blend\n#ifdef TEXTURE1_ENABLED\nuniform sampler2D texture1;\nuniform float weight1 : 1.0;\n#endif\n#ifdef TEXTURE2_ENABLED\nuniform sampler2D texture2;\nuniform float weight2 : 1.0;\n#endif\n#ifdef TEXTURE3_ENABLED\nuniform sampler2D texture3;\nuniform float weight3 : 1.0;\n#endif\n#ifdef TEXTURE4_ENABLED\nuniform sampler2D texture4;\nuniform float weight4 : 1.0;\n#endif\n#ifdef TEXTURE5_ENABLED\nuniform sampler2D texture5;\nuniform float weight5 : 1.0;\n#endif\n#ifdef TEXTURE6_ENABLED\nuniform sampler2D texture6;\nuniform float weight6 : 1.0;\n#endif\nvarying vec2 v_Texcoord;\n@import clay.util.rgbm\nvoid main()\n{\n vec4 tex = vec4(0.0);\n#ifdef TEXTURE1_ENABLED\n tex += decodeHDR(texture2D(texture1, v_Texcoord)) * weight1;\n#endif\n#ifdef TEXTURE2_ENABLED\n tex += decodeHDR(texture2D(texture2, v_Texcoord)) * weight2;\n#endif\n#ifdef TEXTURE3_ENABLED\n tex += decodeHDR(texture2D(texture3, v_Texcoord)) * weight3;\n#endif\n#ifdef TEXTURE4_ENABLED\n tex += decodeHDR(texture2D(texture4, v_Texcoord)) * weight4;\n#endif\n#ifdef TEXTURE5_ENABLED\n tex += decodeHDR(texture2D(texture5, v_Texcoord)) * weight5;\n#endif\n#ifdef TEXTURE6_ENABLED\n tex += decodeHDR(texture2D(texture6, v_Texcoord)) * weight6;\n#endif\n gl_FragColor = encodeHDR(tex);\n}\n@end",zZ="@export clay.compositor.fxaa\nuniform sampler2D texture;\nuniform vec4 viewport : VIEWPORT;\nvarying vec2 v_Texcoord;\n#define FXAA_REDUCE_MIN (1.0/128.0)\n#define FXAA_REDUCE_MUL (1.0/8.0)\n#define FXAA_SPAN_MAX 8.0\n@import clay.util.rgbm\nvoid main()\n{\n vec2 resolution = 1.0 / viewport.zw;\n vec3 rgbNW = decodeHDR( texture2D( texture, ( gl_FragCoord.xy + vec2( -1.0, -1.0 ) ) * resolution ) ).xyz;\n vec3 rgbNE = decodeHDR( texture2D( texture, ( gl_FragCoord.xy + vec2( 1.0, -1.0 ) ) * resolution ) ).xyz;\n vec3 rgbSW = decodeHDR( texture2D( texture, ( gl_FragCoord.xy + vec2( -1.0, 1.0 ) ) * resolution ) ).xyz;\n vec3 rgbSE = decodeHDR( texture2D( texture, ( gl_FragCoord.xy + vec2( 1.0, 1.0 ) ) * resolution ) ).xyz;\n vec4 rgbaM = decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution ) );\n vec3 rgbM = rgbaM.xyz;\n float opacity = rgbaM.w;\n vec3 luma = vec3( 0.299, 0.587, 0.114 );\n float lumaNW = dot( rgbNW, luma );\n float lumaNE = dot( rgbNE, luma );\n float lumaSW = dot( rgbSW, luma );\n float lumaSE = dot( rgbSE, luma );\n float lumaM = dot( rgbM, luma );\n float lumaMin = min( lumaM, min( min( lumaNW, lumaNE ), min( lumaSW, lumaSE ) ) );\n float lumaMax = max( lumaM, max( max( lumaNW, lumaNE) , max( lumaSW, lumaSE ) ) );\n vec2 dir;\n dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n dir.y = ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n float dirReduce = max( ( lumaNW + lumaNE + lumaSW + lumaSE ) * ( 0.25 * FXAA_REDUCE_MUL ), FXAA_REDUCE_MIN );\n float rcpDirMin = 1.0 / ( min( abs( dir.x ), abs( dir.y ) ) + dirReduce );\n dir = min( vec2( FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n max( vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n dir * rcpDirMin)) * resolution;\n vec3 rgbA = decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution + dir * ( 1.0 / 3.0 - 0.5 ) ) ).xyz;\n rgbA += decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution + dir * ( 2.0 / 3.0 - 0.5 ) ) ).xyz;\n rgbA *= 0.5;\n vec3 rgbB = decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution + dir * -0.5 ) ).xyz;\n rgbB += decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution + dir * 0.5 ) ).xyz;\n rgbB *= 0.25;\n rgbB += rgbA * 0.5;\n float lumaB = dot( rgbB, luma );\n if ( ( lumaB < lumaMin ) || ( lumaB > lumaMax ) )\n {\n gl_FragColor = vec4( rgbA, opacity );\n }\n else {\n gl_FragColor = vec4( rgbB, opacity );\n }\n}\n@end";!function c5e(e){e.import("@export clay.compositor.coloradjust\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nuniform float brightness : 0.0;\nuniform float contrast : 1.0;\nuniform float exposure : 0.0;\nuniform float gamma : 1.0;\nuniform float saturation : 1.0;\nconst vec3 w = vec3(0.2125, 0.7154, 0.0721);\nvoid main()\n{\n vec4 tex = texture2D( texture, v_Texcoord);\n vec3 color = clamp(tex.rgb + vec3(brightness), 0.0, 1.0);\n color = clamp( (color-vec3(0.5))*contrast+vec3(0.5), 0.0, 1.0);\n color = clamp( color * pow(2.0, exposure), 0.0, 1.0);\n color = clamp( pow(color, vec3(gamma)), 0.0, 1.0);\n float luminance = dot( color, w );\n color = mix(vec3(luminance), color, saturation);\n gl_FragColor = vec4(color, tex.a);\n}\n@end\n@export clay.compositor.brightness\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nuniform float brightness : 0.0;\nvoid main()\n{\n vec4 tex = texture2D( texture, v_Texcoord);\n vec3 color = tex.rgb + vec3(brightness);\n gl_FragColor = vec4(color, tex.a);\n}\n@end\n@export clay.compositor.contrast\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nuniform float contrast : 1.0;\nvoid main()\n{\n vec4 tex = texture2D( texture, v_Texcoord);\n vec3 color = (tex.rgb-vec3(0.5))*contrast+vec3(0.5);\n gl_FragColor = vec4(color, tex.a);\n}\n@end\n@export clay.compositor.exposure\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nuniform float exposure : 0.0;\nvoid main()\n{\n vec4 tex = texture2D(texture, v_Texcoord);\n vec3 color = tex.rgb * pow(2.0, exposure);\n gl_FragColor = vec4(color, tex.a);\n}\n@end\n@export clay.compositor.gamma\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nuniform float gamma : 1.0;\nvoid main()\n{\n vec4 tex = texture2D(texture, v_Texcoord);\n vec3 color = pow(tex.rgb, vec3(gamma));\n gl_FragColor = vec4(color, tex.a);\n}\n@end\n@export clay.compositor.saturation\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nuniform float saturation : 1.0;\nconst vec3 w = vec3(0.2125, 0.7154, 0.0721);\nvoid main()\n{\n vec4 tex = texture2D(texture, v_Texcoord);\n vec3 color = tex.rgb;\n float luminance = dot(color, w);\n color = mix(vec3(luminance), color, saturation);\n gl_FragColor = vec4(color, tex.a);\n}\n@end"),e.import(NZ),e.import("@export clay.compositor.hdr.log_lum\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nconst vec3 w = vec3(0.2125, 0.7154, 0.0721);\n@import clay.util.rgbm\nvoid main()\n{\n vec4 tex = decodeHDR(texture2D(texture, v_Texcoord));\n float luminance = dot(tex.rgb, w);\n luminance = log(luminance + 0.001);\n gl_FragColor = encodeHDR(vec4(vec3(luminance), 1.0));\n}\n@end\n@export clay.compositor.hdr.lum_adaption\nvarying vec2 v_Texcoord;\nuniform sampler2D adaptedLum;\nuniform sampler2D currentLum;\nuniform float frameTime : 0.02;\n@import clay.util.rgbm\nvoid main()\n{\n float fAdaptedLum = decodeHDR(texture2D(adaptedLum, vec2(0.5, 0.5))).r;\n float fCurrentLum = exp(encodeHDR(texture2D(currentLum, vec2(0.5, 0.5))).r);\n fAdaptedLum += (fCurrentLum - fAdaptedLum) * (1.0 - pow(0.98, 30.0 * frameTime));\n gl_FragColor = encodeHDR(vec4(vec3(fAdaptedLum), 1.0));\n}\n@end\n@export clay.compositor.lum\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nconst vec3 w = vec3(0.2125, 0.7154, 0.0721);\nvoid main()\n{\n vec4 tex = texture2D( texture, v_Texcoord );\n float luminance = dot(tex.rgb, w);\n gl_FragColor = vec4(vec3(luminance), 1.0);\n}\n@end"),e.import(IZ),e.import("@export clay.compositor.vignette\n#define OUTPUT_ALPHA\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nuniform float darkness: 1;\nuniform float offset: 1;\n@import clay.util.rgbm\nvoid main()\n{\n vec4 texel = decodeHDR(texture2D(texture, v_Texcoord));\n gl_FragColor.rgb = texel.rgb;\n vec2 uv = (v_Texcoord - vec2(0.5)) * vec2(offset);\n gl_FragColor = encodeHDR(vec4(mix(texel.rgb, vec3(1.0 - darkness), dot(uv, uv)), texel.a));\n}\n@end"),e.import(PZ),e.import(OZ),e.import(RZ),e.import(LZ),e.import(kZ),e.import("@export clay.compositor.lensflare\n#define SAMPLE_NUMBER 8\nuniform sampler2D texture;\nuniform sampler2D lenscolor;\nuniform vec2 textureSize : [512, 512];\nuniform float dispersal : 0.3;\nuniform float haloWidth : 0.4;\nuniform float distortion : 1.0;\nvarying vec2 v_Texcoord;\n@import clay.util.rgbm\nvec4 textureDistorted(\n in vec2 texcoord,\n in vec2 direction,\n in vec3 distortion\n) {\n return vec4(\n decodeHDR(texture2D(texture, texcoord + direction * distortion.r)).r,\n decodeHDR(texture2D(texture, texcoord + direction * distortion.g)).g,\n decodeHDR(texture2D(texture, texcoord + direction * distortion.b)).b,\n 1.0\n );\n}\nvoid main()\n{\n vec2 texcoord = -v_Texcoord + vec2(1.0); vec2 textureOffset = 1.0 / textureSize;\n vec2 ghostVec = (vec2(0.5) - texcoord) * dispersal;\n vec2 haloVec = normalize(ghostVec) * haloWidth;\n vec3 distortion = vec3(-textureOffset.x * distortion, 0.0, textureOffset.x * distortion);\n vec4 result = vec4(0.0);\n for (int i = 0; i < SAMPLE_NUMBER; i++)\n {\n vec2 offset = fract(texcoord + ghostVec * float(i));\n float weight = length(vec2(0.5) - offset) / length(vec2(0.5));\n weight = pow(1.0 - weight, 10.0);\n result += textureDistorted(offset, normalize(ghostVec), distortion) * weight;\n }\n result *= texture2D(lenscolor, vec2(length(vec2(0.5) - texcoord)) / length(vec2(0.5)));\n float weight = length(vec2(0.5) - fract(texcoord + haloVec)) / length(vec2(0.5));\n weight = pow(1.0 - weight, 10.0);\n vec2 offset = fract(texcoord + haloVec);\n result += textureDistorted(offset, normalize(ghostVec), distortion) * weight;\n gl_FragColor = result;\n}\n@end"),e.import(FZ),e.import(zZ)}(ve);var u5e=/^#source\((.*?)\)/;function d5e(e,n,t){var i,a,o,h,r=e.type||"filter";if("filter"===r){var s=e.shader.trim(),l=u5e.exec(s);if(l?i=ve.source(l[1].trim()):"#"===s.charAt(0)&&(i=n.shaders[s.substr(1)]),i||(i=s),!i)return}if(e.inputs)for(var c in a={},e.inputs)a[c]="string"==typeof e.inputs[c]?e.inputs[c]:{node:e.inputs[c].node,pin:e.inputs[c].pin};if(e.outputs)for(var c in o={},e.outputs){var u=e.outputs[c];o[c]={},null!=u.attachment&&(o[c].attachment=u.attachment),null!=u.keepLastFrame&&(o[c].keepLastFrame=u.keepLastFrame),null!=u.outputLastFrame&&(o[c].outputLastFrame=u.outputLastFrame),u.parameters&&(o[c].parameters=$N(u.parameters))}if(h="scene"===r?new e5e({name:e.name,scene:t.scene,camera:t.camera,outputs:o}):"texture"===r?new n5e({name:e.name,outputs:o}):new i5e({name:e.name,shader:i,inputs:a,outputs:o})){if(e.parameters)for(var c in e.parameters)"string"==typeof(d=e.parameters[c])?"#"===(d=d.trim()).charAt(0)?d=n.textures[d.substr(1)]:h.on("beforerender",m5e(c,BZ(d))):"function"==typeof d&&h.on("beforerender",d),h.setParameter(c,d);if(e.defines&&h.pass)for(var c in e.defines){var d;h.pass.material.define("fragment",c,d=e.defines[c])}}return h}function f5e(e,n){return e}function p5e(e,n){return n}function $N(e){var n={};if(!e)return n;["type","minFilter","magFilter","wrapS","wrapT","flipY","useMipmap"].forEach(function(r){var i=e[r];null!=i&&("string"==typeof i&&(i=Be[i]),n[r]=i)});var t=e.scale||1;return["width","height"].forEach(function(r){if(null!=e[r]){var i=e[r];"string"==typeof i?(i=i.trim(),n[r]=function v5e(e,n,t){return t=t||1,function(r){var i=r.getDevicePixelRatio(),a=r.getWidth()*t,o=r.getHeight()*t;return n(a,o,i)}}(0,BZ(i),t)):n[r]=i}}),n.width||(n.width=f5e),n.height||(n.height=p5e),null!=e.useMipmap&&(n.useMipmap=e.useMipmap),n}function m5e(e,n){return function(t){var r=t.getDevicePixelRatio(),i=t.getWidth(),a=t.getHeight(),o=n(i,a,r);this.setParameter(e,o)}}function BZ(e){var n=/^expr\((.*)\)$/.exec(e);if(n)try{var t=new Function("width","height","dpr","return "+n[1]);return t(1,1),t}catch{throw new Error("Invalid expression.")}}const Dp=function y5e(e,n){for(var t=0,r=1/n,i=e;i>0;)t+=r*(i%n),i=Math.floor(i/n),r/=n;return t};function VZ(e){for(var n=new Uint8Array(e*e*4),t=0,r=new fe,i=0;i<e;i++)for(var a=0;a<e;a++)r.set(2*Math.random()-1,2*Math.random()-1,0).normalize(),n[t++]=255*(.5*r.x+.5),n[t++]=255*(.5*r.y+.5),n[t++]=0,n[t++]=255;return n}function HZ(e){return new yt({pixels:VZ(e),wrapS:Be.REPEAT,wrapT:Be.REPEAT,width:e,height:e})}function C5e(e,n,t){var r=new Float32Array(3*e);n=n||0;for(var i=0;i<e;i++){var a=Dp(i+n,2)*(t?1:2)*Math.PI,o=Dp(i+n,3)*Math.PI,s=Math.random(),l=Math.cos(a)*Math.sin(o)*s,c=Math.cos(o)*s,u=Math.sin(a)*Math.sin(o)*s;r[3*i]=l,r[3*i+1]=c,r[3*i+2]=u}return r}function Wl(e){e=e||{},this._ssaoPass=new kr({fragment:ve.source("ecgl.ssao.estimate")}),this._blurPass=new kr({fragment:ve.source("ecgl.ssao.blur")}),this._framebuffer=new yi({depthBuffer:!1}),this._ssaoTexture=new yt,this._blurTexture=new yt,this._blurTexture2=new yt,this._depthTex=e.depthTexture,this._normalTex=e.normalTexture,this.setNoiseSize(4),this.setKernelSize(e.kernelSize||12),null!=e.radius&&this.setParameter("radius",e.radius),null!=e.power&&this.setParameter("power",e.power),this._normalTex||(this._ssaoPass.material.disableTexture("normalTex"),this._blurPass.material.disableTexture("normalTex")),this._depthTex||this._blurPass.material.disableTexture("depthTex"),this._blurPass.material.setUniform("normalTex",this._normalTex),this._blurPass.material.setUniform("depthTex",this._depthTex)}ve.import("@export ecgl.ssao.estimate\n\nuniform sampler2D depthTex;\n\nuniform sampler2D normalTex;\n\nuniform sampler2D noiseTex;\n\nuniform vec2 depthTexSize;\n\nuniform vec2 noiseTexSize;\n\nuniform mat4 projection;\n\nuniform mat4 projectionInv;\n\nuniform mat4 viewInverseTranspose;\n\nuniform vec3 kernel[KERNEL_SIZE];\n\nuniform float radius : 1;\n\nuniform float power : 1;\n\nuniform float bias: 1e-2;\n\nuniform float intensity: 1.0;\n\nvarying vec2 v_Texcoord;\n\nfloat ssaoEstimator(in vec3 originPos, in mat3 kernelBasis) {\n float occlusion = 0.0;\n\n for (int i = 0; i < KERNEL_SIZE; i++) {\n vec3 samplePos = kernel[i];\n#ifdef NORMALTEX_ENABLED\n samplePos = kernelBasis * samplePos;\n#endif\n samplePos = samplePos * radius + originPos;\n\n vec4 texCoord = projection * vec4(samplePos, 1.0);\n texCoord.xy /= texCoord.w;\n\n vec4 depthTexel = texture2D(depthTex, texCoord.xy * 0.5 + 0.5);\n\n float sampleDepth = depthTexel.r * 2.0 - 1.0;\n if (projection[3][3] == 0.0) {\n sampleDepth = projection[3][2] / (sampleDepth * projection[2][3] - projection[2][2]);\n }\n else {\n sampleDepth = (sampleDepth - projection[3][2]) / projection[2][2];\n }\n \n float rangeCheck = smoothstep(0.0, 1.0, radius / abs(originPos.z - sampleDepth));\n occlusion += rangeCheck * step(samplePos.z, sampleDepth - bias);\n }\n#ifdef NORMALTEX_ENABLED\n occlusion = 1.0 - occlusion / float(KERNEL_SIZE);\n#else\n occlusion = 1.0 - clamp((occlusion / float(KERNEL_SIZE) - 0.6) * 2.5, 0.0, 1.0);\n#endif\n return pow(occlusion, power);\n}\n\nvoid main()\n{\n\n vec4 depthTexel = texture2D(depthTex, v_Texcoord);\n\n#ifdef NORMALTEX_ENABLED\n vec4 tex = texture2D(normalTex, v_Texcoord);\n if (dot(tex.rgb, tex.rgb) == 0.0) {\n gl_FragColor = vec4(1.0);\n return;\n }\n vec3 N = tex.rgb * 2.0 - 1.0;\n N = (viewInverseTranspose * vec4(N, 0.0)).xyz;\n\n vec2 noiseTexCoord = depthTexSize / vec2(noiseTexSize) * v_Texcoord;\n vec3 rvec = texture2D(noiseTex, noiseTexCoord).rgb * 2.0 - 1.0;\n vec3 T = normalize(rvec - N * dot(rvec, N));\n vec3 BT = normalize(cross(N, T));\n mat3 kernelBasis = mat3(T, BT, N);\n#else\n if (depthTexel.r > 0.99999) {\n gl_FragColor = vec4(1.0);\n return;\n }\n mat3 kernelBasis;\n#endif\n\n float z = depthTexel.r * 2.0 - 1.0;\n\n vec4 projectedPos = vec4(v_Texcoord * 2.0 - 1.0, z, 1.0);\n vec4 p4 = projectionInv * projectedPos;\n\n vec3 position = p4.xyz / p4.w;\n\n float ao = ssaoEstimator(position, kernelBasis);\n ao = clamp(1.0 - (1.0 - ao) * intensity, 0.0, 1.0);\n gl_FragColor = vec4(vec3(ao), 1.0);\n}\n\n@end\n\n\n@export ecgl.ssao.blur\n#define SHADER_NAME SSAO_BLUR\n\nuniform sampler2D ssaoTexture;\n\n#ifdef NORMALTEX_ENABLED\nuniform sampler2D normalTex;\n#endif\n\nvarying vec2 v_Texcoord;\n\nuniform vec2 textureSize;\nuniform float blurSize : 1.0;\n\nuniform int direction: 0.0;\n\n#ifdef DEPTHTEX_ENABLED\nuniform sampler2D depthTex;\nuniform mat4 projection;\nuniform float depthRange : 0.5;\n\nfloat getLinearDepth(vec2 coord)\n{\n float depth = texture2D(depthTex, coord).r * 2.0 - 1.0;\n return projection[3][2] / (depth * projection[2][3] - projection[2][2]);\n}\n#endif\n\nvoid main()\n{\n float kernel[5];\n kernel[0] = 0.122581;\n kernel[1] = 0.233062;\n kernel[2] = 0.288713;\n kernel[3] = 0.233062;\n kernel[4] = 0.122581;\n\n vec2 off = vec2(0.0);\n if (direction == 0) {\n off[0] = blurSize / textureSize.x;\n }\n else {\n off[1] = blurSize / textureSize.y;\n }\n\n vec2 coord = v_Texcoord;\n\n float sum = 0.0;\n float weightAll = 0.0;\n\n#ifdef NORMALTEX_ENABLED\n vec3 centerNormal = texture2D(normalTex, v_Texcoord).rgb * 2.0 - 1.0;\n#endif\n#if defined(DEPTHTEX_ENABLED)\n float centerDepth = getLinearDepth(v_Texcoord);\n#endif\n\n for (int i = 0; i < 5; i++) {\n vec2 coord = clamp(v_Texcoord + vec2(float(i) - 2.0) * off, vec2(0.0), vec2(1.0));\n\n float w = kernel[i];\n#ifdef NORMALTEX_ENABLED\n vec3 normal = texture2D(normalTex, coord).rgb * 2.0 - 1.0;\n w *= clamp(dot(normal, centerNormal), 0.0, 1.0);\n#endif\n#ifdef DEPTHTEX_ENABLED\n float d = getLinearDepth(coord);\n w *= (1.0 - smoothstep(abs(centerDepth - d) / depthRange, 0.0, 1.0));\n#endif\n\n weightAll += w;\n sum += texture2D(ssaoTexture, coord).r * w;\n }\n\n gl_FragColor = vec4(vec3(sum / weightAll), 1.0);\n}\n\n@end\n"),Wl.prototype.setDepthTexture=function(e){this._depthTex=e},Wl.prototype.setNormalTexture=function(e){this._normalTex=e,this._ssaoPass.material[e?"enableTexture":"disableTexture"]("normalTex"),this.setKernelSize(this._kernelSize)},Wl.prototype.update=function(e,n,t){var r=e.getWidth(),i=e.getHeight(),a=this._ssaoPass,o=this._blurPass;a.setUniform("kernel",this._kernels[t%this._kernels.length]),a.setUniform("depthTex",this._depthTex),null!=this._normalTex&&a.setUniform("normalTex",this._normalTex),a.setUniform("depthTexSize",[this._depthTex.width,this._depthTex.height]);var s=new Oe;Oe.transpose(s,n.worldTransform),a.setUniform("projection",n.projectionMatrix.array),a.setUniform("projectionInv",n.invProjectionMatrix.array),a.setUniform("viewInverseTranspose",s.array);var l=this._ssaoTexture,c=this._blurTexture,u=this._blurTexture2;l.width=r/2,l.height=i/2,c.width=r,c.height=i,u.width=r,u.height=i,this._framebuffer.attach(l),this._framebuffer.bind(e),e.gl.clearColor(1,1,1,1),e.gl.clear(e.gl.COLOR_BUFFER_BIT),a.render(e),o.setUniform("textureSize",[r/2,i/2]),o.setUniform("projection",n.projectionMatrix.array),this._framebuffer.attach(c),o.setUniform("direction",0),o.setUniform("ssaoTexture",l),o.render(e),this._framebuffer.attach(u),o.setUniform("textureSize",[r,i]),o.setUniform("direction",1),o.setUniform("ssaoTexture",c),o.render(e),this._framebuffer.unbind(e);var h=e.clearColor;e.gl.clearColor(h[0],h[1],h[2],h[3])},Wl.prototype.getTargetTexture=function(){return this._blurTexture2},Wl.prototype.setParameter=function(e,n){"noiseTexSize"===e?this.setNoiseSize(n):"kernelSize"===e?this.setKernelSize(n):"intensity"===e?this._ssaoPass.material.set("intensity",n):this._ssaoPass.setUniform(e,n)},Wl.prototype.setKernelSize=function(e){this._kernelSize=e,this._ssaoPass.material.define("fragment","KERNEL_SIZE",e),this._kernels=this._kernels||[];for(var n=0;n<30;n++)this._kernels[n]=C5e(e,n*e,!!this._normalTex)},Wl.prototype.setNoiseSize=function(e){var n=this._ssaoPass.getUniform("noiseTex");n?(n.data=VZ(e),n.width=n.height=e,n.dirty()):(n=HZ(e),this._ssaoPass.setUniform("noiseTex",HZ(e))),this._ssaoPass.setUniform("noiseTexSize",[e,e])},Wl.prototype.dispose=function(e){this._blurTexture.dispose(e),this._ssaoTexture.dispose(e),this._blurTexture2.dispose(e)};const w5e=Wl;function jl(e){e=e||{},this._ssrPass=new kr({fragment:ve.source("ecgl.ssr.main"),clearColor:[0,0,0,0]}),this._blurPass1=new kr({fragment:ve.source("ecgl.ssr.blur"),clearColor:[0,0,0,0]}),this._blurPass2=new kr({fragment:ve.source("ecgl.ssr.blur"),clearColor:[0,0,0,0]}),this._blendPass=new kr({fragment:ve.source("clay.compositor.blend")}),this._blendPass.material.disableTexturesAll(),this._blendPass.material.enableTexture(["texture1","texture2"]),this._ssrPass.setUniform("gBufferTexture1",e.normalTexture),this._ssrPass.setUniform("gBufferTexture2",e.depthTexture),this._blurPass1.setUniform("gBufferTexture1",e.normalTexture),this._blurPass1.setUniform("gBufferTexture2",e.depthTexture),this._blurPass2.setUniform("gBufferTexture1",e.normalTexture),this._blurPass2.setUniform("gBufferTexture2",e.depthTexture),this._blurPass2.material.define("fragment","VERTICAL"),this._blurPass2.material.define("fragment","BLEND"),this._ssrTexture=new yt({type:Be.HALF_FLOAT}),this._texture2=new yt({type:Be.HALF_FLOAT}),this._texture3=new yt({type:Be.HALF_FLOAT}),this._prevTexture=new yt({type:Be.HALF_FLOAT}),this._currentTexture=new yt({type:Be.HALF_FLOAT}),this._frameBuffer=new yi({depthBuffer:!1}),this._normalDistribution=null,this._totalSamples=256,this._samplePerFrame=4,this._ssrPass.material.define("fragment","SAMPLE_PER_FRAME",this._samplePerFrame),this._ssrPass.material.define("fragment","TOTAL_SAMPLES",this._totalSamples),this._downScale=1}ve.import("@export ecgl.ssr.main\n\n#define SHADER_NAME SSR\n#define MAX_ITERATION 20;\n#define SAMPLE_PER_FRAME 5;\n#define TOTAL_SAMPLES 128;\n\nuniform sampler2D sourceTexture;\nuniform sampler2D gBufferTexture1;\nuniform sampler2D gBufferTexture2;\nuniform sampler2D gBufferTexture3;\nuniform samplerCube specularCubemap;\nuniform float specularIntensity: 1;\n\nuniform mat4 projection;\nuniform mat4 projectionInv;\nuniform mat4 toViewSpace;\nuniform mat4 toWorldSpace;\n\nuniform float maxRayDistance: 200;\n\nuniform float pixelStride: 16;\nuniform float pixelStrideZCutoff: 50; \nuniform float screenEdgeFadeStart: 0.9; \nuniform float eyeFadeStart : 0.2; uniform float eyeFadeEnd: 0.8; \nuniform float minGlossiness: 0.2; uniform float zThicknessThreshold: 1;\n\nuniform float nearZ;\nuniform vec2 viewportSize : VIEWPORT_SIZE;\n\nuniform float jitterOffset: 0;\n\nvarying vec2 v_Texcoord;\n\n#ifdef DEPTH_DECODE\n@import clay.util.decode_float\n#endif\n\n#ifdef PHYSICALLY_CORRECT\nuniform sampler2D normalDistribution;\nuniform float sampleOffset: 0;\nuniform vec2 normalDistributionSize;\n\nvec3 transformNormal(vec3 H, vec3 N) {\n vec3 upVector = N.y > 0.999 ? vec3(1.0, 0.0, 0.0) : vec3(0.0, 1.0, 0.0);\n vec3 tangentX = normalize(cross(N, upVector));\n vec3 tangentZ = cross(N, tangentX);\n return normalize(tangentX * H.x + N * H.y + tangentZ * H.z);\n}\nvec3 importanceSampleNormalGGX(float i, float roughness, vec3 N) {\n float p = fract((i + sampleOffset) / float(TOTAL_SAMPLES));\n vec3 H = texture2D(normalDistribution,vec2(roughness, p)).rgb;\n return transformNormal(H, N);\n}\nfloat G_Smith(float g, float ndv, float ndl) {\n float roughness = 1.0 - g;\n float k = roughness * roughness / 2.0;\n float G1V = ndv / (ndv * (1.0 - k) + k);\n float G1L = ndl / (ndl * (1.0 - k) + k);\n return G1L * G1V;\n}\nvec3 F_Schlick(float ndv, vec3 spec) {\n return spec + (1.0 - spec) * pow(1.0 - ndv, 5.0);\n}\n#endif\n\nfloat fetchDepth(sampler2D depthTexture, vec2 uv)\n{\n vec4 depthTexel = texture2D(depthTexture, uv);\n return depthTexel.r * 2.0 - 1.0;\n}\n\nfloat linearDepth(float depth)\n{\n if (projection[3][3] == 0.0) {\n return projection[3][2] / (depth * projection[2][3] - projection[2][2]);\n }\n else {\n return (depth - projection[3][2]) / projection[2][2];\n }\n}\n\nbool rayIntersectDepth(float rayZNear, float rayZFar, vec2 hitPixel)\n{\n if (rayZFar > rayZNear)\n {\n float t = rayZFar; rayZFar = rayZNear; rayZNear = t;\n }\n float cameraZ = linearDepth(fetchDepth(gBufferTexture2, hitPixel));\n return rayZFar <= cameraZ && rayZNear >= cameraZ - zThicknessThreshold;\n}\n\n\nbool traceScreenSpaceRay(\n vec3 rayOrigin, vec3 rayDir, float jitter,\n out vec2 hitPixel, out vec3 hitPoint, out float iterationCount\n)\n{\n float rayLength = ((rayOrigin.z + rayDir.z * maxRayDistance) > -nearZ)\n ? (-nearZ - rayOrigin.z) / rayDir.z : maxRayDistance;\n\n vec3 rayEnd = rayOrigin + rayDir * rayLength;\n\n vec4 H0 = projection * vec4(rayOrigin, 1.0);\n vec4 H1 = projection * vec4(rayEnd, 1.0);\n\n float k0 = 1.0 / H0.w, k1 = 1.0 / H1.w;\n\n vec3 Q0 = rayOrigin * k0, Q1 = rayEnd * k1;\n\n vec2 P0 = (H0.xy * k0 * 0.5 + 0.5) * viewportSize;\n vec2 P1 = (H1.xy * k1 * 0.5 + 0.5) * viewportSize;\n\n P1 += dot(P1 - P0, P1 - P0) < 0.0001 ? 0.01 : 0.0;\n vec2 delta = P1 - P0;\n\n bool permute = false;\n if (abs(delta.x) < abs(delta.y)) {\n permute = true;\n delta = delta.yx;\n P0 = P0.yx;\n P1 = P1.yx;\n }\n float stepDir = sign(delta.x);\n float invdx = stepDir / delta.x;\n\n vec3 dQ = (Q1 - Q0) * invdx;\n float dk = (k1 - k0) * invdx;\n\n vec2 dP = vec2(stepDir, delta.y * invdx);\n\n float strideScaler = 1.0 - min(1.0, -rayOrigin.z / pixelStrideZCutoff);\n float pixStride = 1.0 + strideScaler * pixelStride;\n\n dP *= pixStride; dQ *= pixStride; dk *= pixStride;\n\n vec4 pqk = vec4(P0, Q0.z, k0);\n vec4 dPQK = vec4(dP, dQ.z, dk);\n\n pqk += dPQK * jitter;\n float rayZFar = (dPQK.z * 0.5 + pqk.z) / (dPQK.w * 0.5 + pqk.w);\n float rayZNear;\n\n bool intersect = false;\n\n vec2 texelSize = 1.0 / viewportSize;\n\n iterationCount = 0.0;\n\n for (int i = 0; i < MAX_ITERATION; i++)\n {\n pqk += dPQK;\n\n rayZNear = rayZFar;\n rayZFar = (dPQK.z * 0.5 + pqk.z) / (dPQK.w * 0.5 + pqk.w);\n\n hitPixel = permute ? pqk.yx : pqk.xy;\n hitPixel *= texelSize;\n\n intersect = rayIntersectDepth(rayZNear, rayZFar, hitPixel);\n\n iterationCount += 1.0;\n\n dPQK *= 1.2;\n\n if (intersect) {\n break;\n }\n }\n\n Q0.xy += dQ.xy * iterationCount;\n Q0.z = pqk.z;\n hitPoint = Q0 / pqk.w;\n\n return intersect;\n}\n\nfloat calculateAlpha(\n float iterationCount, float reflectivity,\n vec2 hitPixel, vec3 hitPoint, float dist, vec3 rayDir\n)\n{\n float alpha = clamp(reflectivity, 0.0, 1.0);\n alpha *= 1.0 - (iterationCount / float(MAX_ITERATION));\n vec2 hitPixelNDC = hitPixel * 2.0 - 1.0;\n float maxDimension = min(1.0, max(abs(hitPixelNDC.x), abs(hitPixelNDC.y)));\n alpha *= 1.0 - max(0.0, maxDimension - screenEdgeFadeStart) / (1.0 - screenEdgeFadeStart);\n\n float _eyeFadeStart = eyeFadeStart;\n float _eyeFadeEnd = eyeFadeEnd;\n if (_eyeFadeStart > _eyeFadeEnd) {\n float tmp = _eyeFadeEnd;\n _eyeFadeEnd = _eyeFadeStart;\n _eyeFadeStart = tmp;\n }\n\n float eyeDir = clamp(rayDir.z, _eyeFadeStart, _eyeFadeEnd);\n alpha *= 1.0 - (eyeDir - _eyeFadeStart) / (_eyeFadeEnd - _eyeFadeStart);\n\n alpha *= 1.0 - clamp(dist / maxRayDistance, 0.0, 1.0);\n\n return alpha;\n}\n\n@import clay.util.rand\n\n@import clay.util.rgbm\n\nvoid main()\n{\n vec4 normalAndGloss = texture2D(gBufferTexture1, v_Texcoord);\n\n if (dot(normalAndGloss.rgb, vec3(1.0)) == 0.0) {\n discard;\n }\n\n float g = normalAndGloss.a;\n#if !defined(PHYSICALLY_CORRECT)\n if (g <= minGlossiness) {\n discard;\n }\n#endif\n\n float reflectivity = (g - minGlossiness) / (1.0 - minGlossiness);\n\n vec3 N = normalize(normalAndGloss.rgb * 2.0 - 1.0);\n N = normalize((toViewSpace * vec4(N, 0.0)).xyz);\n\n vec4 projectedPos = vec4(v_Texcoord * 2.0 - 1.0, fetchDepth(gBufferTexture2, v_Texcoord), 1.0);\n vec4 pos = projectionInv * projectedPos;\n vec3 rayOrigin = pos.xyz / pos.w;\n vec3 V = -normalize(rayOrigin);\n\n float ndv = clamp(dot(N, V), 0.0, 1.0);\n float iterationCount;\n float jitter = rand(fract(v_Texcoord + jitterOffset));\n\n#ifdef PHYSICALLY_CORRECT\n vec4 color = vec4(vec3(0.0), 1.0);\n vec4 albedoMetalness = texture2D(gBufferTexture3, v_Texcoord);\n vec3 albedo = albedoMetalness.rgb;\n float m = albedoMetalness.a;\n vec3 diffuseColor = albedo * (1.0 - m);\n vec3 spec = mix(vec3(0.04), albedo, m);\n\n float jitter2 = rand(fract(v_Texcoord)) * float(TOTAL_SAMPLES);\n\n for (int i = 0; i < SAMPLE_PER_FRAME; i++) {\n vec3 H = importanceSampleNormalGGX(float(i) + jitter2, 1.0 - g, N);\n vec3 rayDir = normalize(reflect(-V, H));\n#else\n vec3 rayDir = normalize(reflect(-V, N));\n#endif\n vec2 hitPixel;\n vec3 hitPoint;\n\n bool intersect = traceScreenSpaceRay(rayOrigin, rayDir, jitter, hitPixel, hitPoint, iterationCount);\n\n float dist = distance(rayOrigin, hitPoint);\n\n vec3 hitNormal = texture2D(gBufferTexture1, hitPixel).rgb * 2.0 - 1.0;\n hitNormal = normalize((toViewSpace * vec4(hitNormal, 0.0)).xyz);\n#ifdef PHYSICALLY_CORRECT\n float ndl = clamp(dot(N, rayDir), 0.0, 1.0);\n float vdh = clamp(dot(V, H), 0.0, 1.0);\n float ndh = clamp(dot(N, H), 0.0, 1.0);\n vec3 litTexel = vec3(0.0);\n if (dot(hitNormal, rayDir) < 0.0 && intersect) {\n litTexel = texture2D(sourceTexture, hitPixel).rgb;\n litTexel *= pow(clamp(1.0 - dist / 200.0, 0.0, 1.0), 3.0);\n\n }\n else {\n #ifdef SPECULARCUBEMAP_ENABLED\n vec3 rayDirW = normalize(toWorldSpace * vec4(rayDir, 0.0)).rgb;\n litTexel = RGBMDecode(textureCubeLodEXT(specularCubemap, rayDirW, 0.0), 8.12).rgb * specularIntensity;\n#endif\n }\n color.rgb += ndl * litTexel * (\n F_Schlick(ndl, spec) * G_Smith(g, ndv, ndl) * vdh / (ndh * ndv + 0.001)\n );\n }\n color.rgb /= float(SAMPLE_PER_FRAME);\n#else\n #if !defined(SPECULARCUBEMAP_ENABLED)\n if (dot(hitNormal, rayDir) >= 0.0) {\n discard;\n }\n if (!intersect) {\n discard;\n }\n#endif\n float alpha = clamp(calculateAlpha(iterationCount, reflectivity, hitPixel, hitPoint, dist, rayDir), 0.0, 1.0);\n vec4 color = texture2D(sourceTexture, hitPixel);\n color.rgb *= alpha;\n\n#ifdef SPECULARCUBEMAP_ENABLED\n vec3 rayDirW = normalize(toWorldSpace * vec4(rayDir, 0.0)).rgb;\n alpha = alpha * (intersect ? 1.0 : 0.0);\n float bias = (1.0 -g) * 5.0;\n color.rgb += (1.0 - alpha)\n * RGBMDecode(textureCubeLodEXT(specularCubemap, rayDirW, bias), 8.12).rgb\n * specularIntensity;\n#endif\n\n#endif\n\n gl_FragColor = encodeHDR(color);\n}\n@end\n\n@export ecgl.ssr.blur\n\nuniform sampler2D texture;\nuniform sampler2D gBufferTexture1;\nuniform sampler2D gBufferTexture2;\nuniform mat4 projection;\nuniform float depthRange : 0.05;\n\nvarying vec2 v_Texcoord;\n\nuniform vec2 textureSize;\nuniform float blurSize : 1.0;\n\n#ifdef BLEND\n #ifdef SSAOTEX_ENABLED\nuniform sampler2D ssaoTex;\n #endif\nuniform sampler2D sourceTexture;\n#endif\n\nfloat getLinearDepth(vec2 coord)\n{\n float depth = texture2D(gBufferTexture2, coord).r * 2.0 - 1.0;\n return projection[3][2] / (depth * projection[2][3] - projection[2][2]);\n}\n\n@import clay.util.rgbm\n\n\nvoid main()\n{\n @import clay.compositor.kernel.gaussian_9\n\n vec4 centerNTexel = texture2D(gBufferTexture1, v_Texcoord);\n float g = centerNTexel.a;\n float maxBlurSize = clamp(1.0 - g, 0.0, 1.0) * blurSize;\n#ifdef VERTICAL\n vec2 off = vec2(0.0, maxBlurSize / textureSize.y);\n#else\n vec2 off = vec2(maxBlurSize / textureSize.x, 0.0);\n#endif\n\n vec2 coord = v_Texcoord;\n\n vec4 sum = vec4(0.0);\n float weightAll = 0.0;\n\n vec3 cN = centerNTexel.rgb * 2.0 - 1.0;\n float cD = getLinearDepth(v_Texcoord);\n for (int i = 0; i < 9; i++) {\n vec2 coord = clamp((float(i) - 4.0) * off + v_Texcoord, vec2(0.0), vec2(1.0));\n float w = gaussianKernel[i]\n * clamp(dot(cN, texture2D(gBufferTexture1, coord).rgb * 2.0 - 1.0), 0.0, 1.0);\n float d = getLinearDepth(coord);\n w *= (1.0 - smoothstep(abs(cD - d) / depthRange, 0.0, 1.0));\n\n weightAll += w;\n sum += decodeHDR(texture2D(texture, coord)) * w;\n }\n\n#ifdef BLEND\n float aoFactor = 1.0;\n #ifdef SSAOTEX_ENABLED\n aoFactor = texture2D(ssaoTex, v_Texcoord).r;\n #endif\n gl_FragColor = encodeHDR(\n sum / weightAll * aoFactor + decodeHDR(texture2D(sourceTexture, v_Texcoord))\n );\n#else\n gl_FragColor = encodeHDR(sum / weightAll);\n#endif\n}\n\n@end"),jl.prototype.setAmbientCubemap=function(e,n){this._ssrPass.material.set("specularCubemap",e),this._ssrPass.material.set("specularIntensity",n),this._ssrPass.material[e&&n?"enableTexture":"disableTexture"]("specularCubemap")},jl.prototype.update=function(e,n,t,r){var i=e.getWidth(),a=e.getHeight(),o=this._ssrTexture,s=this._texture2,l=this._texture3;o.width=this._prevTexture.width=this._currentTexture.width=i/this._downScale,o.height=this._prevTexture.height=this._currentTexture.height=a/this._downScale,s.width=l.width=i,s.height=l.height=a;var c=this._frameBuffer,u=this._ssrPass,h=this._blurPass1,d=this._blurPass2,f=this._blendPass,p=new Oe,g=new Oe;if(Oe.transpose(p,n.worldTransform),Oe.transpose(g,n.viewMatrix),u.setUniform("sourceTexture",t),u.setUniform("projection",n.projectionMatrix.array),u.setUniform("projectionInv",n.invProjectionMatrix.array),u.setUniform("toViewSpace",p.array),u.setUniform("toWorldSpace",g.array),u.setUniform("nearZ",n.near),u.setUniform("jitterOffset",r/this._totalSamples*this._samplePerFrame),u.setUniform("sampleOffset",r*this._samplePerFrame),h.setUniform("textureSize",[o.width,o.height]),d.setUniform("textureSize",[i,a]),d.setUniform("sourceTexture",t),h.setUniform("projection",n.projectionMatrix.array),d.setUniform("projection",n.projectionMatrix.array),c.attach(o),c.bind(e),u.render(e),this._physicallyCorrect&&(c.attach(this._currentTexture),f.setUniform("texture1",this._prevTexture),f.setUniform("texture2",o),f.material.set({weight1:r>=1?.95:0,weight2:r>=1?.05:1}),f.render(e)),c.attach(s),h.setUniform("texture",this._physicallyCorrect?this._currentTexture:o),h.render(e),c.attach(l),d.setUniform("texture",s),d.render(e),c.unbind(e),this._physicallyCorrect){var v=this._prevTexture;this._prevTexture=this._currentTexture,this._currentTexture=v}},jl.prototype.getTargetTexture=function(){return this._texture3},jl.prototype.setParameter=function(e,n){"maxIteration"===e?this._ssrPass.material.define("fragment","MAX_ITERATION",n):this._ssrPass.setUniform(e,n)},jl.prototype.setPhysicallyCorrect=function(e){e?(this._normalDistribution||(this._normalDistribution=HC.generateNormalDistribution(64,this._totalSamples)),this._ssrPass.material.define("fragment","PHYSICALLY_CORRECT"),this._ssrPass.material.set("normalDistribution",this._normalDistribution),this._ssrPass.material.set("normalDistributionSize",[64,this._totalSamples])):this._ssrPass.material.undefine("fragment","PHYSICALLY_CORRECT"),this._physicallyCorrect=e},jl.prototype.setSSAOTexture=function(e){var n=this._blurPass2;e?(n.material.enableTexture("ssaoTex"),n.material.set("ssaoTex",e)):n.material.disableTexture("ssaoTex")},jl.prototype.isFinished=function(e){return!this._physicallyCorrect||e>this._totalSamples/this._samplePerFrame},jl.prototype.dispose=function(e){this._ssrTexture.dispose(e),this._texture2.dispose(e),this._texture3.dispose(e),this._prevTexture.dispose(e),this._currentTexture.dispose(e),this._frameBuffer.dispose(e)};const x5e=jl,UZ=[0,0,-.321585265978,-.154972575841,.458126042375,.188473391593,.842080129861,.527766490688,.147304551086,-.659453822776,-.331943915203,-.940619700594,.0479226680259,.54812163202,.701581552186,-.709825561388,-.295436780218,.940589268233,-.901489676764,.237713156085,.973570876096,-.109899459384,-.866792314779,-.451805525005,.330975007087,.800048655954,-.344275183665,.381779221166,-.386139432542,-.437418421534,-.576478634965,-.0148463392551,.385798197415,-.262426961053,-.666302061145,.682427250835,-.628010632582,-.732836215494,.10163141741,-.987658134403,.711995289051,-.320024291314,.0296005138058,.950296523438,.0130612307608,-.351024443122,-.879596633704,-.10478487883,.435712737232,.504254490347,.779203817497,.206477676721,.388264289969,-.896736162545,-.153106280781,-.629203242522,-.245517550697,.657969239148,.126830499058,.26862328493,-.634888119007,-.302301223431,.617074219636,.779817204925];function YN(e,n,t,r,i){var a=e.gl;n.setUniform(a,"1i",t,i),a.activeTexture(a.TEXTURE0+i),r.isRenderable()?r.bind(e):r.unbind(e)}function T5e(e,n,t,r,i){var a,o,s,l,c=e.gl;return function(u,h,d){if(!l||l.material!==u.material){var f=u.material,p=u.__program,g=f.get("roughness");null==g&&(g=1);var m=f.get("normalMap")||n,v=f.get("roughnessMap"),_=f.get("bumpMap"),y=f.get("uvRepeat"),b=f.get("uvOffset"),w=f.get("detailUvRepeat"),C=f.get("detailUvOffset"),S=!!_&&f.isTextureEnabled("bumpMap"),x=!!v&&f.isTextureEnabled("roughnessMap"),M=f.isDefined("fragment","DOUBLE_SIDED");_=_||t,v=v||r,d!==h?(h.set("normalMap",m),h.set("bumpMap",_),h.set("roughnessMap",v),h.set("useBumpMap",S),h.set("useRoughnessMap",x),h.set("doubleSide",M),null!=y&&h.set("uvRepeat",y),null!=b&&h.set("uvOffset",b),null!=w&&h.set("detailUvRepeat",w),null!=C&&h.set("detailUvOffset",C),h.set("roughness",g)):(p.setUniform(c,"1f","roughness",g),a!==m&&YN(e,p,"normalMap",m,0),o!==_&&_&&YN(e,p,"bumpMap",_,1),s!==v&&v&&YN(e,p,"roughnessMap",v,2),null!=y&&p.setUniform(c,"2f","uvRepeat",y),null!=b&&p.setUniform(c,"2f","uvOffset",b),null!=w&&p.setUniform(c,"2f","detailUvRepeat",w),null!=C&&p.setUniform(c,"2f","detailUvOffset",C),p.setUniform(c,"1i","useBumpMap",+S),p.setUniform(c,"1i","useRoughnessMap",+x),p.setUniform(c,"1i","doubleSide",+M)),a=m,o=_,s=v,l=u}}}function Ep(e){e=e||{},this._depthTex=new yt({format:Be.DEPTH_COMPONENT,type:Be.UNSIGNED_INT}),this._normalTex=new yt({type:Be.HALF_FLOAT}),this._framebuffer=new yi,this._framebuffer.attach(this._normalTex),this._framebuffer.attach(this._depthTex,yi.DEPTH_ATTACHMENT),this._normalMaterial=new Fo({shader:new ve(ve.source("ecgl.normal.vertex"),ve.source("ecgl.normal.fragment"))}),this._normalMaterial.enableTexture(["normalMap","bumpMap","roughnessMap"]),this._defaultNormalMap=Vh.createBlank("#000"),this._defaultBumpMap=Vh.createBlank("#000"),this._defaultRoughessMap=Vh.createBlank("#000"),this._debugPass=new kr({fragment:ve.source("clay.compositor.output")}),this._debugPass.setUniform("texture",this._normalTex),this._debugPass.material.undefine("fragment","OUTPUT_ALPHA")}ve.import("@export ecgl.normal.vertex\n\n@import ecgl.common.transformUniforms\n\n@import ecgl.common.uv.header\n\n@import ecgl.common.attributes\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\n@import ecgl.common.normalMap.vertexHeader\n\n@import ecgl.common.vertexAnimation.header\n\nvoid main()\n{\n\n @import ecgl.common.vertexAnimation.main\n\n @import ecgl.common.uv.main\n\n v_Normal = normalize((worldInverseTranspose * vec4(normal, 0.0)).xyz);\n v_WorldPosition = (world * vec4(pos, 1.0)).xyz;\n\n @import ecgl.common.normalMap.vertexMain\n\n gl_Position = worldViewProjection * vec4(pos, 1.0);\n\n}\n\n\n@end\n\n\n@export ecgl.normal.fragment\n\n#define ROUGHNESS_CHANEL 0\n\nuniform bool useBumpMap;\nuniform bool useRoughnessMap;\nuniform bool doubleSide;\nuniform float roughness;\n\n@import ecgl.common.uv.fragmentHeader\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\nuniform mat4 viewInverse : VIEWINVERSE;\n\n@import ecgl.common.normalMap.fragmentHeader\n@import ecgl.common.bumpMap.header\n\nuniform sampler2D roughnessMap;\n\nvoid main()\n{\n vec3 N = v_Normal;\n \n bool flipNormal = false;\n if (doubleSide) {\n vec3 eyePos = viewInverse[3].xyz;\n vec3 V = normalize(eyePos - v_WorldPosition);\n\n if (dot(N, V) < 0.0) {\n flipNormal = true;\n }\n }\n\n @import ecgl.common.normalMap.fragmentMain\n\n if (useBumpMap) {\n N = bumpNormal(v_WorldPosition, v_Normal, N);\n }\n\n float g = 1.0 - roughness;\n\n if (useRoughnessMap) {\n float g2 = 1.0 - texture2D(roughnessMap, v_DetailTexcoord)[ROUGHNESS_CHANEL];\n g = clamp(g2 + (g - 0.5) * 2.0, 0.0, 1.0);\n }\n\n if (flipNormal) {\n N = -N;\n }\n\n gl_FragColor.rgb = (N.xyz + 1.0) * 0.5;\n gl_FragColor.a = g;\n}\n@end"),Ep.prototype.getDepthTexture=function(){return this._depthTex},Ep.prototype.getNormalTexture=function(){return this._normalTex},Ep.prototype.update=function(e,n,t){var r=e.getWidth(),i=e.getHeight(),a=this._depthTex,o=this._normalTex,s=this._normalMaterial;a.width=r,a.height=i,o.width=r,o.height=i;var l=n.getRenderList(t).opaque;this._framebuffer.bind(e),e.gl.clearColor(0,0,0,0),e.gl.clear(e.gl.COLOR_BUFFER_BIT|e.gl.DEPTH_BUFFER_BIT),e.gl.disable(e.gl.BLEND),e.renderPass(l,t,{getMaterial:function(){return s},ifRender:function(c){return c.renderNormal},beforeRender:T5e(e,this._defaultNormalMap,this._defaultBumpMap,this._defaultRoughessMap),sort:e.opaqueSortCompare}),this._framebuffer.unbind(e)},Ep.prototype.renderDebug=function(e){this._debugPass.render(e)},Ep.prototype.dispose=function(e){this._depthTex.dispose(e),this._normalTex.dispose(e)};const D5e=Ep;function Rm(e){e=e||{},this._edgePass=new kr({fragment:ve.source("ecgl.edge")}),this._edgePass.setUniform("normalTexture",e.normalTexture),this._edgePass.setUniform("depthTexture",e.depthTexture),this._targetTexture=new yt({type:Be.HALF_FLOAT}),this._frameBuffer=new yi,this._frameBuffer.attach(this._targetTexture)}Rm.prototype.update=function(e,n,t,r){var i=e.getWidth(),a=e.getHeight(),o=this._targetTexture;o.width=i,o.height=a;var s=this._frameBuffer;s.bind(e),this._edgePass.setUniform("projectionInv",n.invProjectionMatrix.array),this._edgePass.setUniform("textureSize",[i,a]),this._edgePass.setUniform("texture",t),this._edgePass.render(e),s.unbind(e)},Rm.prototype.getTargetTexture=function(){return this._targetTexture},Rm.prototype.setParameter=function(e,n){this._edgePass.setUniform(e,n)},Rm.prototype.dispose=function(e){this._targetTexture.dispose(e),this._frameBuffer.dispose(e)};const E5e=Rm,A5e={type:"compositor",nodes:[{name:"source",type:"texture",outputs:{color:{}}},{name:"source_half",shader:"#source(clay.compositor.downsample)",inputs:{texture:"source"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 2)",height:"expr(height * 1.0 / 2)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0, height * 1.0] )"}},{name:"bright",shader:"#source(clay.compositor.bright)",inputs:{texture:"source_half"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 2)",height:"expr(height * 1.0 / 2)",type:"HALF_FLOAT"}}},parameters:{threshold:2,scale:4,textureSize:"expr([width * 1.0 / 2, height / 2])"}},{name:"bright_downsample_4",shader:"#source(clay.compositor.downsample)",inputs:{texture:"bright"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 4)",height:"expr(height * 1.0 / 4)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0 / 2, height / 2] )"}},{name:"bright_downsample_8",shader:"#source(clay.compositor.downsample)",inputs:{texture:"bright_downsample_4"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 8)",height:"expr(height * 1.0 / 8)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0 / 4, height / 4] )"}},{name:"bright_downsample_16",shader:"#source(clay.compositor.downsample)",inputs:{texture:"bright_downsample_8"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 16)",height:"expr(height * 1.0 / 16)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0 / 8, height / 8] )"}},{name:"bright_downsample_32",shader:"#source(clay.compositor.downsample)",inputs:{texture:"bright_downsample_16"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 32)",height:"expr(height * 1.0 / 32)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0 / 16, height / 16] )"}},{name:"bright_upsample_16_blur_h",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_downsample_32"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 16)",height:"expr(height * 1.0 / 16)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:0,textureSize:"expr( [width * 1.0 / 32, height / 32] )"}},{name:"bright_upsample_16_blur_v",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_upsample_16_blur_h"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 16)",height:"expr(height * 1.0 / 16)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:1,textureSize:"expr( [width * 1.0 / 16, height * 1.0 / 16] )"}},{name:"bright_upsample_8_blur_h",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_downsample_16"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 8)",height:"expr(height * 1.0 / 8)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:0,textureSize:"expr( [width * 1.0 / 16, height * 1.0 / 16] )"}},{name:"bright_upsample_8_blur_v",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_upsample_8_blur_h"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 8)",height:"expr(height * 1.0 / 8)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:1,textureSize:"expr( [width * 1.0 / 8, height * 1.0 / 8] )"}},{name:"bright_upsample_8_blend",shader:"#source(clay.compositor.blend)",inputs:{texture1:"bright_upsample_8_blur_v",texture2:"bright_upsample_16_blur_v"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 8)",height:"expr(height * 1.0 / 8)",type:"HALF_FLOAT"}}},parameters:{weight1:.3,weight2:.7}},{name:"bright_upsample_4_blur_h",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_downsample_8"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 4)",height:"expr(height * 1.0 / 4)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:0,textureSize:"expr( [width * 1.0 / 8, height * 1.0 / 8] )"}},{name:"bright_upsample_4_blur_v",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_upsample_4_blur_h"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 4)",height:"expr(height * 1.0 / 4)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:1,textureSize:"expr( [width * 1.0 / 4, height * 1.0 / 4] )"}},{name:"bright_upsample_4_blend",shader:"#source(clay.compositor.blend)",inputs:{texture1:"bright_upsample_4_blur_v",texture2:"bright_upsample_8_blend"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 4)",height:"expr(height * 1.0 / 4)",type:"HALF_FLOAT"}}},parameters:{weight1:.3,weight2:.7}},{name:"bright_upsample_2_blur_h",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_downsample_4"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 2)",height:"expr(height * 1.0 / 2)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:0,textureSize:"expr( [width * 1.0 / 4, height * 1.0 / 4] )"}},{name:"bright_upsample_2_blur_v",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_upsample_2_blur_h"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 2)",height:"expr(height * 1.0 / 2)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:1,textureSize:"expr( [width * 1.0 / 2, height * 1.0 / 2] )"}},{name:"bright_upsample_2_blend",shader:"#source(clay.compositor.blend)",inputs:{texture1:"bright_upsample_2_blur_v",texture2:"bright_upsample_4_blend"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 2)",height:"expr(height * 1.0 / 2)",type:"HALF_FLOAT"}}},parameters:{weight1:.3,weight2:.7}},{name:"bright_upsample_full_blur_h",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:0,textureSize:"expr( [width * 1.0 / 2, height * 1.0 / 2] )"}},{name:"bright_upsample_full_blur_v",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_upsample_full_blur_h"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:1,textureSize:"expr( [width * 1.0, height * 1.0] )"}},{name:"bloom_composite",shader:"#source(clay.compositor.blend)",inputs:{texture1:"bright_upsample_full_blur_v",texture2:"bright_upsample_2_blend"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}},parameters:{weight1:.3,weight2:.7}},{name:"coc",shader:"#source(ecgl.dof.coc)",outputs:{color:{parameters:{minFilter:"NEAREST",magFilter:"NEAREST",width:"expr(width * 1.0)",height:"expr(height * 1.0)"}}},parameters:{focalDist:50,focalRange:30}},{name:"dof_far_blur",shader:"#source(ecgl.dof.diskBlur)",inputs:{texture:"source",coc:"coc"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0, height * 1.0] )"}},{name:"dof_near_blur",shader:"#source(ecgl.dof.diskBlur)",inputs:{texture:"source",coc:"coc"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0, height * 1.0] )"},defines:{BLUR_NEARFIELD:null}},{name:"dof_coc_blur",shader:"#source(ecgl.dof.diskBlur)",inputs:{texture:"coc"},outputs:{color:{parameters:{minFilter:"NEAREST",magFilter:"NEAREST",width:"expr(width * 1.0)",height:"expr(height * 1.0)"}}},parameters:{textureSize:"expr( [width * 1.0, height * 1.0] )"},defines:{BLUR_COC:null}},{name:"dof_composite",shader:"#source(ecgl.dof.composite)",inputs:{original:"source",blurred:"dof_far_blur",nearfield:"dof_near_blur",coc:"coc",nearcoc:"dof_coc_blur"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}}},{name:"composite",shader:"#source(clay.compositor.hdr.composite)",inputs:{texture:"source",bloom:"bloom_composite"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)"}}},defines:{}},{name:"FXAA",shader:"#source(clay.compositor.fxaa)",inputs:{texture:"composite"}}]};function GZ(e,n){return{color:{parameters:{width:e,height:n}}}}ve.import(NZ),ve.import(IZ),ve.import(PZ),ve.import(OZ),ve.import(RZ),ve.import(LZ),ve.import(kZ),ve.import(FZ),ve.import(zZ),ve.import("@export ecgl.dof.coc\n\nuniform sampler2D depth;\n\nuniform float zNear: 0.1;\nuniform float zFar: 2000;\n\nuniform float focalDistance: 3;\nuniform float focalRange: 1;\nuniform float focalLength: 30;\nuniform float fstop: 2.8;\n\nvarying vec2 v_Texcoord;\n\n@import clay.util.encode_float\n\nvoid main()\n{\n float z = texture2D(depth, v_Texcoord).r * 2.0 - 1.0;\n\n float dist = 2.0 * zNear * zFar / (zFar + zNear - z * (zFar - zNear));\n\n float aperture = focalLength / fstop;\n\n float coc;\n\n float uppper = focalDistance + focalRange;\n float lower = focalDistance - focalRange;\n if (dist <= uppper && dist >= lower) {\n coc = 0.5;\n }\n else {\n float focalAdjusted = dist > uppper ? uppper : lower;\n\n coc = abs(aperture * (focalLength * (dist - focalAdjusted)) / (dist * (focalAdjusted - focalLength)));\n coc = clamp(coc, 0.0, 2.0) / 2.00001;\n\n if (dist < lower) {\n coc = -coc;\n }\n coc = coc * 0.5 + 0.5;\n }\n\n gl_FragColor = encodeFloat(coc);\n}\n@end\n\n\n@export ecgl.dof.composite\n\n#define DEBUG 0\n\nuniform sampler2D original;\nuniform sampler2D blurred;\nuniform sampler2D nearfield;\nuniform sampler2D coc;\nuniform sampler2D nearcoc;\nvarying vec2 v_Texcoord;\n\n@import clay.util.rgbm\n@import clay.util.float\n\nvoid main()\n{\n vec4 blurredColor = texture2D(blurred, v_Texcoord);\n vec4 originalColor = texture2D(original, v_Texcoord);\n\n float fCoc = decodeFloat(texture2D(coc, v_Texcoord));\n\n fCoc = abs(fCoc * 2.0 - 1.0);\n\n float weight = smoothstep(0.0, 1.0, fCoc);\n \n#ifdef NEARFIELD_ENABLED\n vec4 nearfieldColor = texture2D(nearfield, v_Texcoord);\n float fNearCoc = decodeFloat(texture2D(nearcoc, v_Texcoord));\n fNearCoc = abs(fNearCoc * 2.0 - 1.0);\n\n gl_FragColor = encodeHDR(\n mix(\n nearfieldColor, mix(originalColor, blurredColor, weight),\n pow(1.0 - fNearCoc, 4.0)\n )\n );\n#else\n gl_FragColor = encodeHDR(mix(originalColor, blurredColor, weight));\n#endif\n\n}\n\n@end\n\n\n\n@export ecgl.dof.diskBlur\n\n#define POISSON_KERNEL_SIZE 16;\n\nuniform sampler2D texture;\nuniform sampler2D coc;\nvarying vec2 v_Texcoord;\n\nuniform float blurRadius : 10.0;\nuniform vec2 textureSize : [512.0, 512.0];\n\nuniform vec2 poissonKernel[POISSON_KERNEL_SIZE];\n\nuniform float percent;\n\nfloat nrand(const in vec2 n) {\n return fract(sin(dot(n.xy ,vec2(12.9898,78.233))) * 43758.5453);\n}\n\n@import clay.util.rgbm\n@import clay.util.float\n\n\nvoid main()\n{\n vec2 offset = blurRadius / textureSize;\n\n float rnd = 6.28318 * nrand(v_Texcoord + 0.07 * percent );\n float cosa = cos(rnd);\n float sina = sin(rnd);\n vec4 basis = vec4(cosa, -sina, sina, cosa);\n\n#if !defined(BLUR_NEARFIELD) && !defined(BLUR_COC)\n offset *= abs(decodeFloat(texture2D(coc, v_Texcoord)) * 2.0 - 1.0);\n#endif\n\n#ifdef BLUR_COC\n float cocSum = 0.0;\n#else\n vec4 color = vec4(0.0);\n#endif\n\n\n float weightSum = 0.0;\n\n for (int i = 0; i < POISSON_KERNEL_SIZE; i++) {\n vec2 ofs = poissonKernel[i];\n\n ofs = vec2(dot(ofs, basis.xy), dot(ofs, basis.zw));\n\n vec2 uv = v_Texcoord + ofs * offset;\n vec4 texel = texture2D(texture, uv);\n\n float w = 1.0;\n#ifdef BLUR_COC\n float fCoc = decodeFloat(texel) * 2.0 - 1.0;\n cocSum += clamp(fCoc, -1.0, 0.0) * w;\n#else\n texel = texel;\n #if !defined(BLUR_NEARFIELD)\n float fCoc = decodeFloat(texture2D(coc, uv)) * 2.0 - 1.0;\n w *= abs(fCoc);\n #endif\n texel.rgb *= texel.a;\n color += texel * w;\n#endif\n\n weightSum += w;\n }\n\n#ifdef BLUR_COC\n gl_FragColor = encodeFloat(clamp(cocSum / weightSum, -1.0, 0.0) * 0.5 + 0.5);\n#else\n color /= weightSum;\n color.rgb /= (color.a + 0.0001);\n gl_FragColor = color;\n#endif\n}\n\n@end"),ve.import("@export ecgl.edge\n\nuniform sampler2D texture;\n\nuniform sampler2D normalTexture;\nuniform sampler2D depthTexture;\n\nuniform mat4 projectionInv;\n\nuniform vec2 textureSize;\n\nuniform vec4 edgeColor: [0,0,0,0.8];\n\nvarying vec2 v_Texcoord;\n\nvec3 packColor(vec2 coord) {\n float z = texture2D(depthTexture, coord).r * 2.0 - 1.0;\n vec4 p = vec4(v_Texcoord * 2.0 - 1.0, z, 1.0);\n vec4 p4 = projectionInv * p;\n\n return vec3(\n texture2D(normalTexture, coord).rg,\n -p4.z / p4.w / 5.0\n );\n}\n\nvoid main() {\n vec2 cc = v_Texcoord;\n vec3 center = packColor(cc);\n\n float size = clamp(1.0 - (center.z - 10.0) / 100.0, 0.0, 1.0) * 0.5;\n float dx = size / textureSize.x;\n float dy = size / textureSize.y;\n\n vec2 coord;\n vec3 topLeft = packColor(cc+vec2(-dx, -dy));\n vec3 top = packColor(cc+vec2(0.0, -dy));\n vec3 topRight = packColor(cc+vec2(dx, -dy));\n vec3 left = packColor(cc+vec2(-dx, 0.0));\n vec3 right = packColor(cc+vec2(dx, 0.0));\n vec3 bottomLeft = packColor(cc+vec2(-dx, dy));\n vec3 bottom = packColor(cc+vec2(0.0, dy));\n vec3 bottomRight = packColor(cc+vec2(dx, dy));\n\n vec3 v = -topLeft-2.0*top-topRight+bottomLeft+2.0*bottom+bottomRight;\n vec3 h = -bottomLeft-2.0*left-topLeft+bottomRight+2.0*right+topRight;\n\n float edge = sqrt(dot(h, h) + dot(v, v));\n\n edge = smoothstep(0.8, 1.0, edge);\n\n gl_FragColor = mix(texture2D(texture, v_Texcoord), vec4(edgeColor.rgb, 1.0), edgeColor.a * edge);\n}\n@end");var XN=["composite","FXAA"];function Ot(){this._sourceTexture=new yt({type:Be.HALF_FLOAT}),this._depthTexture=new yt({format:Be.DEPTH_COMPONENT,type:Be.UNSIGNED_INT}),this._framebuffer=new yi,this._framebuffer.attach(this._sourceTexture),this._framebuffer.attach(this._depthTexture,yi.DEPTH_ATTACHMENT),this._normalPass=new D5e,this._compositor=function h5e(e,n){var t=new QLe;n=n||{};var r={textures:{},parameters:{}};for(var a in e.parameters)r.parameters[a]=$N(e.parameters[a]);return function g5e(e,n,t,r){if(e.textures){var i={},a=0,o=!1,s=t.textureRootPath;mi.each(e.textures,function(l,c){var u,h=l.path,d=$N(l.parameters);if(Array.isArray(h)&&6===h.length)s&&(h=h.map(function(f){return mi.relative2absolute(f,s)})),u=new Mm(d);else{if("string"!=typeof h)return;s&&(h=mi.relative2absolute(h,s)),u=new yt(d)}u.load(h),a++,u.once("success",function(){i[c]=u,0==--a&&(r(i),o=!0)})}),0===a&&!o&&r(i)}else r({})}(e,0,n,function(s){r.textures=s,function(s,l){for(var c=0;c<e.nodes.length;c++){var h=d5e(e.nodes[c],r,n);h&&t.addNode(h)}}()}),t}(A5e);var e=this._compositor.getNodeByName("source");e.texture=this._sourceTexture;var n=this._compositor.getNodeByName("coc");this._sourceNode=e,this._cocNode=n,this._compositeNode=this._compositor.getNodeByName("composite"),this._fxaaNode=this._compositor.getNodeByName("FXAA"),this._dofBlurNodes=["dof_far_blur","dof_near_blur","dof_coc_blur"].map(function(r){return this._compositor.getNodeByName(r)},this),this._dofBlurKernel=0,this._dofBlurKernelSize=new Float32Array(0),this._finalNodesChain=XN.map(function(r){return this._compositor.getNodeByName(r)},this);var t={normalTexture:this._normalPass.getNormalTexture(),depthTexture:this._normalPass.getDepthTexture()};this._ssaoPass=new w5e(t),this._ssrPass=new x5e(t),this._edgePass=new E5e(t)}Ot.prototype.resize=function(r,i,t){i*=t=t||1;var a=this._sourceTexture,o=this._depthTexture;a.width=r*=t,a.height=i,o.width=r,o.height=i;var s={getWidth:function(){return r},getHeight:function(){return i},getDevicePixelRatio:function(){return t}};function l(c,u){if("function"==typeof c[u]){var h=c[u].__original||c[u];c[u]=function(d){return h.call(this,s)},c[u].__original=h}}this._compositor.nodes.forEach(function(c){for(var u in c.outputs){var h=c.outputs[u].parameters;h&&(l(h,"width"),l(h,"height"))}for(var d in c.parameters)l(c.parameters,d)}),this._width=r,this._height=i,this._dpr=t},Ot.prototype.getWidth=function(){return this._width},Ot.prototype.getHeight=function(){return this._height},Ot.prototype._ifRenderNormalPass=function(){return this._enableSSAO||this._enableEdge||this._enableSSR},Ot.prototype._getPrevNode=function(e){for(var n=XN.indexOf(e.name)-1,t=this._finalNodesChain[n];t&&!this._compositor.getNodeByName(t.name);)t=this._finalNodesChain[n-=1];return t},Ot.prototype._getNextNode=function(e){for(var n=XN.indexOf(e.name)+1,t=this._finalNodesChain[n];t&&!this._compositor.getNodeByName(t.name);)t=this._finalNodesChain[n+=1];return t},Ot.prototype._addChainNode=function(e){var n=this._getPrevNode(e),t=this._getNextNode(e);!n||(e.inputs.texture=n.name,t?(e.outputs=GZ(this.getWidth.bind(this),this.getHeight.bind(this)),t.inputs.texture=e.name):e.outputs=null,this._compositor.addNode(e))},Ot.prototype._removeChainNode=function(e){var n=this._getPrevNode(e),t=this._getNextNode(e);!n||(t?(n.outputs=GZ(this.getWidth.bind(this),this.getHeight.bind(this)),t.inputs.texture=n.name):n.outputs=null,this._compositor.removeNode(e))},Ot.prototype.updateNormal=function(e,n,t,r){this._ifRenderNormalPass()&&this._normalPass.update(e,n,t)},Ot.prototype.updateSSAO=function(e,n,t,r){this._ssaoPass.update(e,t,r)},Ot.prototype.enableSSAO=function(){this._enableSSAO=!0},Ot.prototype.disableSSAO=function(){this._enableSSAO=!1},Ot.prototype.enableSSR=function(){this._enableSSR=!0},Ot.prototype.disableSSR=function(){this._enableSSR=!1},Ot.prototype.getSSAOTexture=function(){return this._ssaoPass.getTargetTexture()},Ot.prototype.getSourceFrameBuffer=function(){return this._framebuffer},Ot.prototype.getSourceTexture=function(){return this._sourceTexture},Ot.prototype.disableFXAA=function(){this._removeChainNode(this._fxaaNode)},Ot.prototype.enableFXAA=function(){this._addChainNode(this._fxaaNode)},Ot.prototype.enableBloom=function(){this._compositeNode.inputs.bloom="bloom_composite",this._compositor.dirty()},Ot.prototype.disableBloom=function(){this._compositeNode.inputs.bloom=null,this._compositor.dirty()},Ot.prototype.enableDOF=function(){this._compositeNode.inputs.texture="dof_composite",this._compositor.dirty()},Ot.prototype.disableDOF=function(){this._compositeNode.inputs.texture="source",this._compositor.dirty()},Ot.prototype.enableColorCorrection=function(){this._compositeNode.define("COLOR_CORRECTION"),this._enableColorCorrection=!0},Ot.prototype.disableColorCorrection=function(){this._compositeNode.undefine("COLOR_CORRECTION"),this._enableColorCorrection=!1},Ot.prototype.enableEdge=function(){this._enableEdge=!0},Ot.prototype.disableEdge=function(){this._enableEdge=!1},Ot.prototype.setBloomIntensity=function(e){this._compositeNode.setParameter("bloomIntensity",e)},Ot.prototype.setSSAOParameter=function(e,n){switch(e){case"quality":this._ssaoPass.setParameter("kernelSize",{low:6,medium:12,high:32,ultra:62}[n]||12);break;case"radius":this._ssaoPass.setParameter(e,n),this._ssaoPass.setParameter("bias",n/200);break;case"intensity":this._ssaoPass.setParameter(e,n)}},Ot.prototype.setDOFParameter=function(e,n){switch(e){case"focalDistance":case"focalRange":case"fstop":this._cocNode.setParameter(e,n);break;case"blurRadius":for(var t=0;t<this._dofBlurNodes.length;t++)this._dofBlurNodes[t].setParameter("blurRadius",n);break;case"quality":var r={low:4,medium:8,high:16,ultra:32}[n]||8;for(this._dofBlurKernelSize=r,t=0;t<this._dofBlurNodes.length;t++)this._dofBlurNodes[t].pass.material.define("POISSON_KERNEL_SIZE",r);this._dofBlurKernel=new Float32Array(2*r)}},Ot.prototype.setSSRParameter=function(e,n){if(null!=n)switch(e){case"quality":var r={low:32,medium:16,high:8,ultra:4}[n]||16;this._ssrPass.setParameter("maxIteration",{low:10,medium:15,high:30,ultra:80}[n]||20),this._ssrPass.setParameter("pixelStride",r);break;case"maxRoughness":this._ssrPass.setParameter("minGlossiness",Math.max(Math.min(1-n,1),0));break;case"physical":this.setPhysicallyCorrectSSR(n);break;default:console.warn("Unkown SSR parameter "+e)}},Ot.prototype.setPhysicallyCorrectSSR=function(e){this._ssrPass.setPhysicallyCorrect(e)},Ot.prototype.setEdgeColor=function(e){var n=P.parseColor(e);this._edgePass.setParameter("edgeColor",n)},Ot.prototype.setExposure=function(e){this._compositeNode.setParameter("exposure",Math.pow(2,e))},Ot.prototype.setColorLookupTexture=function(e,n){this._compositeNode.pass.material.setTextureImage("lut",this._enableColorCorrection?e:"none",n,{minFilter:P.Texture.NEAREST,magFilter:P.Texture.NEAREST,flipY:!1})},Ot.prototype.setColorCorrection=function(e,n){this._compositeNode.setParameter(e,n)},Ot.prototype.isSSREnabled=function(){return this._enableSSR},Ot.prototype.composite=function(e,n,t,r,i){var a=this._sourceTexture,o=a;this._enableEdge&&(this._edgePass.update(e,t,a,i),a=o=this._edgePass.getTargetTexture()),this._enableSSR&&(this._ssrPass.update(e,t,a,i),o=this._ssrPass.getTargetTexture(),this._ssrPass.setSSAOTexture(this._enableSSAO?this._ssaoPass.getTargetTexture():null)),this._sourceNode.texture=o,this._cocNode.setParameter("depth",this._depthTexture);for(var s=this._dofBlurKernel,l=this._dofBlurKernelSize,u=i%Math.floor(UZ.length/2/l),h=0;h<2*l;h++)s[h]=UZ[h+u*l*2];for(h=0;h<this._dofBlurNodes.length;h++)this._dofBlurNodes[h].setParameter("percent",i/30),this._dofBlurNodes[h].setParameter("poissonKernel",s);this._cocNode.setParameter("zNear",t.near),this._cocNode.setParameter("zFar",t.far),this._compositor.render(e,r)},Ot.prototype.dispose=function(e){this._sourceTexture.dispose(e),this._depthTexture.dispose(e),this._framebuffer.dispose(e),this._compositor.dispose(e),this._normalPass.dispose(e),this._ssaoPass.dispose(e)};const P5e=Ot;function qN(e){for(var n=[],t=0;t<30;t++)n.push([Dp(t,2),Dp(t,3)]);this._haltonSequence=n,this._frame=0,this._sourceTex=new yt,this._sourceFb=new yi,this._sourceFb.attach(this._sourceTex),this._prevFrameTex=new yt,this._outputTex=new yt;var r=this._blendPass=new kr({fragment:ve.source("clay.compositor.blend")});r.material.disableTexturesAll(),r.material.enableTexture(["texture1","texture2"]),this._blendFb=new yi({depthBuffer:!1}),this._outputPass=new kr({fragment:ve.source("clay.compositor.output"),blendWithPrevious:!0}),this._outputPass.material.define("fragment","OUTPUT_ALPHA"),this._outputPass.material.blend=function(i){i.blendEquationSeparate(i.FUNC_ADD,i.FUNC_ADD),i.blendFuncSeparate(i.ONE,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA)}}qN.prototype={constructor:qN,jitterProjection:function(e,n){var t=e.viewport,r=t.devicePixelRatio||e.getDevicePixelRatio(),i=t.width*r,a=t.height*r,o=this._haltonSequence[this._frame%this._haltonSequence.length],s=new Oe;s.array[12]=(2*o[0]-1)/i,s.array[13]=(2*o[1]-1)/a,Oe.mul(n.projectionMatrix,s,n.projectionMatrix),Oe.invert(n.invProjectionMatrix,n.projectionMatrix)},resetFrame:function(){this._frame=0},getFrame:function(){return this._frame},getSourceFrameBuffer:function(){return this._sourceFb},getOutputTexture:function(){return this._outputTex},resize:function(e,n){this._prevFrameTex.width=e,this._prevFrameTex.height=n,this._outputTex.width=e,this._outputTex.height=n,this._sourceTex.width=e,this._sourceTex.height=n,this._prevFrameTex.dirty(),this._outputTex.dirty(),this._sourceTex.dirty()},isFinished:function(){return this._frame>=this._haltonSequence.length},render:function(e,n,t){var r=this._blendPass;0===this._frame?(r.setUniform("weight1",0),r.setUniform("weight2",1)):(r.setUniform("weight1",.9),r.setUniform("weight2",.1)),r.setUniform("texture1",this._prevFrameTex),r.setUniform("texture2",n||this._sourceTex),this._blendFb.attach(this._outputTex),this._blendFb.bind(e),r.render(e),this._blendFb.unbind(e),t||(this._outputPass.setUniform("texture",this._outputTex),this._outputPass.render(e));var i=this._prevFrameTex;this._prevFrameTex=this._outputTex,this._outputTex=i,this._frame++},dispose:function(e){this._sourceFb.dispose(e),this._blendFb.dispose(e),this._prevFrameTex.dispose(e),this._outputTex.dispose(e),this._sourceTex.dispose(e),this._outputPass.dispose(e),this._blendPass.dispose(e)}};const O5e=qN;function ir(e){e=e||"perspective",this.layer=null,this.scene=new zc,this.rootNode=this.scene,this.viewport={x:0,y:0,width:0,height:0},this.setProjection(e),this._compositor=new P5e,this._temporalSS=new O5e,this._shadowMapPass=new XLe;for(var n=[],t=0,r=0;r<30;r++){for(var i=[],a=0;a<6;a++)i.push(4*Dp(t,2)-2),i.push(4*Dp(t,3)-2),t++;n.push(i)}this._pcfKernels=n,this.scene.on("beforerender",function(o,s,l){this.needsTemporalSS()&&this._temporalSS.jitterProjection(o,l)},this)}ir.prototype.setProjection=function(e){var n=this.camera;n&&n.update(),"perspective"===e?this.camera instanceof ci||(this.camera=new ci,n&&this.camera.setLocalTransform(n.localTransform)):this.camera instanceof Sp||(this.camera=new Sp,n&&this.camera.setLocalTransform(n.localTransform)),this.camera.near=.1,this.camera.far=2e3},ir.prototype.setViewport=function(e,n,t,r,i){this.camera instanceof ci&&(this.camera.aspect=t/r),i=i||1,this.viewport.x=e,this.viewport.y=n,this.viewport.width=t,this.viewport.height=r,this.viewport.devicePixelRatio=i,this._compositor.resize(t*i,r*i),this._temporalSS.resize(t*i,r*i)},ir.prototype.containPoint=function(e,n){var t=this.viewport;return n=this.layer.renderer.getHeight()-n,e>=t.x&&n>=t.y&&e<=t.x+t.width&&n<=t.y+t.height};var WZ=new oo;ir.prototype.castRay=function(e,n,t){var r=this.layer.renderer,i=r.viewport;return r.viewport=this.viewport,r.screenToNDC(e,n,WZ),this.camera.castRay(WZ,t),r.viewport=i,t},ir.prototype.prepareRender=function(){this.scene.update(),this.camera.update(),this.scene.updateLights();var e=this.scene.updateRenderList(this.camera);this._needsSortProgressively=!1;for(var n=0;n<e.transparent.length;n++){var r=e.transparent[n].geometry;r.needsSortVerticesProgressively&&r.needsSortVerticesProgressively()&&(this._needsSortProgressively=!0),r.needsSortTrianglesProgressively&&r.needsSortTrianglesProgressively()&&(this._needsSortProgressively=!0)}this._frame=0,this._temporalSS.resetFrame()},ir.prototype.render=function(e,n){this._doRender(e,n,this._frame),this._frame++},ir.prototype.needsAccumulate=function(){return this.needsTemporalSS()||this._needsSortProgressively},ir.prototype.needsTemporalSS=function(){var e=this._enableTemporalSS;return"auto"===e&&(e=this._enablePostEffect),e},ir.prototype.hasDOF=function(){return this._enableDOF},ir.prototype.isAccumulateFinished=function(){return this.needsTemporalSS()?this._temporalSS.isFinished():this._frame>30},ir.prototype._doRender=function(e,n,t){var r=this.scene,i=this.camera;this._updateTransparent(e,r,i,t=t||0),n||(this._shadowMapPass.kernelPCF=this._pcfKernels[0],this._shadowMapPass.render(e,r,i,!0)),this._updateShadowPCFKernel(t);var a=e.clearColor;if(e.gl.clearColor(a[0],a[1],a[2],a[3]),this._enablePostEffect&&(this.needsTemporalSS()&&this._temporalSS.jitterProjection(e,i),this._compositor.updateNormal(e,r,i,this._temporalSS.getFrame())),this._updateSSAO(e,r,i,this._temporalSS.getFrame()),this._enablePostEffect)(o=this._compositor.getSourceFrameBuffer()).bind(e),e.gl.clear(e.gl.DEPTH_BUFFER_BIT|e.gl.COLOR_BUFFER_BIT),e.render(r,i,!0,!0),o.unbind(e),this.needsTemporalSS()&&n?(this._compositor.composite(e,r,i,this._temporalSS.getSourceFrameBuffer(),this._temporalSS.getFrame()),e.setViewport(this.viewport),this._temporalSS.render(e)):(e.setViewport(this.viewport),this._compositor.composite(e,r,i,null,0));else if(this.needsTemporalSS()&&n){var o;(o=this._temporalSS.getSourceFrameBuffer()).bind(e),e.saveClear(),e.clearBit=e.gl.DEPTH_BUFFER_BIT|e.gl.COLOR_BUFFER_BIT,e.render(r,i,!0,!0),e.restoreClear(),o.unbind(e),e.setViewport(this.viewport),this._temporalSS.render(e)}else e.setViewport(this.viewport),e.render(r,i,!0,!0)},ir.prototype._updateTransparent=function(e,n,t,r){for(var i=new fe,a=new Oe,o=t.getWorldPosition(),s=n.getRenderList(t).transparent,l=0;l<s.length;l++){var c=s[l],u=c.geometry;Oe.invert(a,c.worldTransform),fe.transformMat4(i,o,a),u.needsSortTriangles&&u.needsSortTriangles()&&u.doSortTriangles(i,r),u.needsSortVertices&&u.needsSortVertices()&&u.doSortVertices(i,r)}},ir.prototype._updateSSAO=function(e,n,t){var r=this._enableSSAO&&this._enablePostEffect;r&&this._compositor.updateSSAO(e,n,t,this._temporalSS.getFrame());for(var i=n.getRenderList(t),a=0;a<i.opaque.length;a++){var o=i.opaque[a];o.renderNormal&&o.material[r?"enableTexture":"disableTexture"]("ssaoMap"),r&&o.material.set("ssaoMap",this._compositor.getSSAOTexture())}},ir.prototype._updateShadowPCFKernel=function(e){for(var n=this._pcfKernels[e%this._pcfKernels.length],r=this.scene.getRenderList(this.camera).opaque,i=0;i<r.length;i++)r[i].receiveShadow&&(r[i].material.set("pcfKernel",n),r[i].material.define("fragment","PCF_KERNEL_SIZE",n.length/2))},ir.prototype.dispose=function(e){this._compositor.dispose(e.gl),this._temporalSS.dispose(e.gl),this._shadowMapPass.dispose(e)},ir.prototype.setPostEffect=function(e,n){var t=this._compositor;this._enablePostEffect=e.get("enable");var r=e.getModel("bloom"),i=e.getModel("edge"),a=e.getModel("DOF",e.getModel("depthOfField")),o=e.getModel("SSAO",e.getModel("screenSpaceAmbientOcclusion")),s=e.getModel("SSR",e.getModel("screenSpaceReflection")),l=e.getModel("FXAA"),c=e.getModel("colorCorrection");r.get("enable")?t.enableBloom():t.disableBloom(),a.get("enable")?t.enableDOF():t.disableDOF(),s.get("enable")?t.enableSSR():t.disableSSR(),c.get("enable")?t.enableColorCorrection():t.disableColorCorrection(),i.get("enable")?t.enableEdge():t.disableEdge(),l.get("enable")?t.enableFXAA():t.disableFXAA(),this._enableDOF=a.get("enable"),this._enableSSAO=o.get("enable"),this._enableSSAO?t.enableSSAO():t.disableSSAO(),t.setBloomIntensity(r.get("intensity")),t.setEdgeColor(i.get("color")),t.setColorLookupTexture(c.get("lookupTexture"),n),t.setExposure(c.get("exposure")),["radius","quality","intensity"].forEach(function(u){t.setSSAOParameter(u,o.get(u))}),["quality","maxRoughness","physical"].forEach(function(u){t.setSSRParameter(u,s.get(u))}),["quality","focalDistance","focalRange","blurRadius","fstop"].forEach(function(u){t.setDOFParameter(u,a.get(u))}),["brightness","contrast","saturation"].forEach(function(u){t.setColorCorrection(u,c.get(u))})},ir.prototype.setDOFFocusOnPoint=function(e){if(this._enablePostEffect)return e>this.camera.far||e<this.camera.near?void 0:(this._compositor.setDOFParameter("focalDistance",e),!0)},ir.prototype.setTemporalSuperSampling=function(e){this._enableTemporalSS=e.get("enable")},ir.prototype.isLinearSpace=function(){return this._enablePostEffect},ir.prototype.setRootNode=function(e){if(this.rootNode!==e){for(var n=this.rootNode.children(),t=0;t<n.length;t++)e.add(n[t]);e!==this.scene&&this.scene.add(e),this.rootNode=e}},ir.prototype.add=function(e){this.rootNode.add(e)},ir.prototype.remove=function(e){this.rootNode.remove(e)},ir.prototype.removeAll=function(e){this.rootNode.removeAll(e)},Object.assign(ir.prototype,iN);const Vc=ir;function R5e(e,n){var r=us(e.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()});r.y=n.getHeight()-r.y-r.height,this.viewGL.setViewport(r.x,r.y,r.width,r.height,n.getDevicePixelRatio());var i=e.get("boxWidth"),a=e.get("boxHeight"),o=e.get("boxDepth");this.getAxis("x").setExtent(-i/2,i/2),this.getAxis("y").setExtent(o/2,-o/2),this.getAxis("z").setExtent(-a/2,a/2),this.size=[i,a,o]}function L5e(e,n){var t={};e.eachSeries(function(i){if(i.coordinateSystem===this){var a=i.getData();["x","y","z"].forEach(function(o){a.mapDimensionsAll(o,!0).forEach(function(s){!function r(i,a){t[i]=t[i]||[1/0,-1/0],t[i][0]=Math.min(a[0],t[i][0]),t[i][1]=Math.max(a[1],t[i][1])}(o,a.getDataExtent(s,!0))})})}},this),["xAxis3D","yAxis3D","zAxis3D"].forEach(function(i){e.eachComponent(i,function(a){var o=i.charAt(0),s=a.getReferringComponents("grid3D").models[0],l=s.coordinateSystem;if(l===this){var c=l.getAxis(o);if(!c){var u=tN(t[o]||[1/0,-1/0],a);(c=new WLe(o,u)).type=a.get("type"),c.onBand="category"===c.type&&a.get("boundaryGap"),c.inverse=a.get("inverse"),a.axis=c,c.model=a,c.getLabelModel=function(){return a.getModel("axisLabel",s.getModel("axisLabel"))},c.getTickModel=function(){return a.getModel("axisTick",s.getModel("axisTick"))},l.addAxis(c)}}},this)},this),this.resize(this.model,n)}var k5e={dimensions:xZ.prototype.dimensions,create:function(e,n){var t=[];e.eachComponent("grid3D",function(a){a.__viewGL=a.__viewGL||new Vc;var o=new xZ;o.model=a,o.viewGL=a.__viewGL,a.coordinateSystem=o,t.push(o),o.resize=R5e,o.update=L5e});var r=["xAxis3D","yAxis3D","zAxis3D"];return e.eachSeries(function(a){if("cartesian3D"===a.get("coordinateSystem")){if(null==(o=a.getReferringComponents("grid3D").models[0])){var s=function i(a,o){return r.map(function(s){var l=a.getReferringComponents(s).models[0];return null==l&&(l=o.getComponent(s)),l})}(a,e),o=s[0].getCoordSysModel();s.forEach(function(u){u.getCoordSysModel()})}a.coordinateSystem=o.coordinateSystem}}),t}};const F5e=k5e;var jZ=cn.extend({type:"cartesian3DAxis",axis:null,getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"grid3D",index:this.option.gridIndex,id:this.option.gridId})[0]}});!function oOe(e){Ta(e,LY)}(jZ);const z5e=jZ;var $Z={show:!0,grid3DIndex:0,inverse:!1,name:"",nameLocation:"middle",nameTextStyle:{fontSize:16},nameGap:20,axisPointer:{},axisLine:{},axisTick:{},axisLabel:{},splitArea:{}},B5e=Ee({boundaryGap:!0,axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"},axisPointer:{label:{show:!1}}},$Z),ZN=Ee({boundaryGap:[0,0],splitNumber:5,axisPointer:{label:{}}},$Z),V5e=ut({scale:!0,min:"dataMin",max:"dataMax"},ZN),YZ=ut({logBase:10},ZN);YZ.scale=!0;const H5e={categoryAxis3D:B5e,valueAxis3D:ZN,timeAxis3D:V5e,logAxis3D:YZ};var U5e=["value","category","time","log"];function W5e(e,n){return n.type||(n.data?"category":"value")}Vn(function j5e(e){e.registerComponentModel(LLe),e.registerComponentView(GLe),e.registerCoordinateSystem("grid3D",F5e),["x","y","z"].forEach(function(n){!function G5e(e,n,t,r,i){U5e.forEach(function(a){var o=t.extend({type:n+"Axis3D."+a,__ordinalMeta:null,mergeDefaultAndTheme:function(s,l){Ee(s,l.getTheme().get(a+"Axis3D")),Ee(s,this.getDefaultOption()),s.type=r(n,s)},optionUpdated:function(){"category"===this.option.type&&(this.__ordinalMeta=Yb.createByAxisModel(this))},getCategories:function(){if("category"===this.option.type)return this.__ordinalMeta.categories},getOrdinalMeta:function(){return this.__ordinalMeta},defaultOption:Ee(ht(H5e[a+"Axis3D"]),i||{},!0)});e.registerComponentModel(o)}),e.registerSubTypeDefaulter(n+"Axis3D",An(r,n))}(e,n,z5e,W5e,{name:n.toUpperCase()});const t=e.ComponentView.extend({type:n+"Axis3D"});e.registerComponentView(t)}),e.registerAction({type:"grid3DChangeCamera",event:"grid3dcamerachanged",update:"series:updateCamera"},function(n,t){t.eachComponent({mainType:"grid3D",query:n},function(r){r.setView(n)})}),e.registerAction({type:"grid3DShowAxisPointer",event:"grid3dshowaxispointer",update:"grid3D:showAxisPointer"},function(n,t){}),e.registerAction({type:"grid3DHideAxisPointer",event:"grid3dhideaxispointer",update:"grid3D:hideAxisPointer"},function(n,t){})});const Ap={defaultOption:{shading:null,realisticMaterial:{textureTiling:1,textureOffset:0,detailTexture:null},lambertMaterial:{textureTiling:1,textureOffset:0,detailTexture:null},colorMaterial:{textureTiling:1,textureOffset:0,detailTexture:null},hatchingMaterial:{textureTiling:1,textureOffset:0,paperColor:"#fff"}}},XZ={getFilledRegions:function(e,n){var r,t=(e||[]).slice();if("string"==typeof n?r=(n=UA(n))&&n.geoJson:n&&n.features&&(r=n),!r)return[];for(var i={},a=r.features,o=0;o<t.length;o++)i[t[o].name]=t[o];for(o=0;o<a.length;o++){var s=a[o].properties.name;i[s]||t.push({name:s})}return t},defaultOption:{show:!0,zlevel:-10,map:"",left:0,top:0,width:"100%",height:"100%",boxWidth:100,boxHeight:10,boxDepth:"auto",regionHeight:3,environment:"auto",groundPlane:{show:!1,color:"#aaa"},shading:"lambert",light:{main:{alpha:40,beta:30}},viewControl:{alpha:40,beta:0,distance:100,orthographicSize:60,minAlpha:5,minBeta:-80,maxBeta:80},label:{show:!1,distance:2,textStyle:{fontSize:20,color:"#000",backgroundColor:"rgba(255,255,255,0.7)",padding:3,borderRadius:4}},itemStyle:{color:"#fff",borderWidth:0,borderColor:"#333"},emphasis:{itemStyle:{color:"#639fc0"},label:{show:!0}}}};var Np=cn.extend({type:"geo3D",layoutMode:"box",coordinateSystem:null,optionUpdated:function(){var e=this.option;e.regions=this.getFilledRegions(e.regions,e.map);var n=im(e.data||[],{coordDimensions:["value"],encodeDefine:this.get("encode"),dimensionsDefine:this.get("dimensions")}),t=new Lo(n,this);t.initData(e.regions);var r={};t.each(function(i){var a=t.getName(i),o=t.getItemModel(i);r[a]=o}),this._regionModelMap=r,this._data=t},getData:function(){return this._data},getRegionModel:function(e){var n=this.getData().getName(e);return this._regionModelMap[n]||new Tr(null,this)},getRegionPolygonCoords:function(e){var n=this.getData().getName(e),t=this.coordinateSystem.getRegion(n);return t?t.geometries:[]},getFormattedLabel:function(e,n){var t=this._data.getName(e),r=this.getRegionModel(e),i=r.get("normal"===n?["label","formatter"]:["emphasis","label","formatter"]);null==i&&(i=r.get(["label","formatter"]));var a={name:t};return"function"==typeof i?(a.status=n,i(a)):"string"==typeof i?i.replace("{a}",a.seriesName??""):t},defaultOption:{regions:[]}});Ee(Np.prototype,XZ),Ee(Np.prototype,XC),Ee(Np.prototype,xp),Ee(Np.prototype,Mp),Ee(Np.prototype,Ap);const $5e=Np,Y5e=qZ;function qZ(e,n,t){t=t||2;var s,l,c,u,h,d,f,r=n&&n.length,i=r?n[0]*t:e.length,a=ZZ(e,0,i,t,!0),o=[];if(!a)return o;if(r&&(a=function Q5e(e,n,t,r){var a,o,c,i=[];for(a=0,o=n.length;a<o;a++)(c=ZZ(e,n[a]*r,a<o-1?n[a+1]*r:e.length,r,!1))===c.next&&(c.steiner=!0),i.push(ike(c));for(i.sort(J5e),a=0;a<i.length;a++)eke(i[a],t),t=Lm(t,t.next);return t}(e,n,a,t)),e.length>80*t){s=c=e[0],l=u=e[1];for(var p=t;p<i;p+=t)(h=e[p])<s&&(s=h),(d=e[p+1])<l&&(l=d),h>c&&(c=h),d>u&&(u=d);f=Math.max(c-s,u-l)}return km(a,o,t,s,l,f),o}function ZZ(e,n,t,r,i){var a,o;if(i===JN(e,n,t,r)>0)for(a=n;a<t;a+=r)o=JZ(a,e[a],e[a+1],o);else for(a=t-r;a>=n;a-=r)o=JZ(a,e[a],e[a+1],o);return o&&Xh(o,o.next)&&(zm(o),o=o.next),o}function Lm(e,n){if(!e)return e;n||(n=e);var r,t=e;do{if(r=!1,t.steiner||!Xh(t,t.next)&&0!==pa(t.prev,t,t.next))t=t.next;else{if(zm(t),(t=n=t.prev)===t.next)return null;r=!0}}while(r||t!==n);return n}function km(e,n,t,r,i,a,o){if(e){!o&&a&&function nke(e,n,t,r){var i=e;do{null===i.z&&(i.z=KN(i.x,i.y,n,t,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function rke(e){var n,t,r,i,a,o,s,l,c=1;do{for(t=e,e=null,a=null,o=0;t;){for(o++,r=t,s=0,n=0;n<c&&(s++,r=r.nextZ);n++);for(l=c;s>0||l>0&&r;)0!==s&&(0===l||!r||t.z<=r.z)?(i=t,t=t.nextZ,s--):(i=r,r=r.nextZ,l--),a?a.nextZ=i:e=i,i.prevZ=a,a=i;t=r}a.nextZ=null,c*=2}while(o>1)}(i)}(e,r,i,a);for(var l,c,s=e;e.prev!==e.next;)if(l=e.prev,c=e.next,a?q5e(e,r,i,a):X5e(e))n.push(l.i/t),n.push(e.i/t),n.push(c.i/t),zm(e),e=c.next,s=c.next;else if((e=c)===s){o?1===o?km(e=Z5e(e,n,t),n,t,r,i,a,2):2===o&&K5e(e,n,t,r,i,a):km(Lm(e),n,t,r,i,a,1);break}}}function X5e(e){var n=e.prev,t=e,r=e.next;if(pa(n,t,r)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if(nw(n.x,n.y,t.x,t.y,r.x,r.y,i.x,i.y)&&pa(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function q5e(e,n,t,r){var i=e.prev,a=e,o=e.next;if(pa(i,a,o)>=0)return!1;for(var c=i.x>a.x?i.x>o.x?i.x:o.x:a.x>o.x?a.x:o.x,u=i.y>a.y?i.y>o.y?i.y:o.y:a.y>o.y?a.y:o.y,h=KN(i.x<a.x?i.x<o.x?i.x:o.x:a.x<o.x?a.x:o.x,i.y<a.y?i.y<o.y?i.y:o.y:a.y<o.y?a.y:o.y,n,t,r),d=KN(c,u,n,t,r),f=e.nextZ;f&&f.z<=d;){if(f!==e.prev&&f!==e.next&&nw(i.x,i.y,a.x,a.y,o.x,o.y,f.x,f.y)&&pa(f.prev,f,f.next)>=0)return!1;f=f.nextZ}for(f=e.prevZ;f&&f.z>=h;){if(f!==e.prev&&f!==e.next&&nw(i.x,i.y,a.x,a.y,o.x,o.y,f.x,f.y)&&pa(f.prev,f,f.next)>=0)return!1;f=f.prevZ}return!0}function Z5e(e,n,t){var r=e;do{var i=r.prev,a=r.next.next;!Xh(i,a)&&KZ(i,r,r.next,a)&&Fm(i,a)&&Fm(a,i)&&(n.push(i.i/t),n.push(r.i/t),n.push(a.i/t),zm(r),zm(r.next),r=e=a),r=r.next}while(r!==e);return r}function K5e(e,n,t,r,i,a){var o=e;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&&ake(o,s)){var l=QZ(o,s);return o=Lm(o,o.next),l=Lm(l,l.next),km(o,n,t,r,i,a),void km(l,n,t,r,i,a)}s=s.next}o=o.next}while(o!==e)}function J5e(e,n){return e.x-n.x}function eke(e,n){if(n=function tke(e,n){var o,t=n,r=e.x,i=e.y,a=-1/0;do{if(i<=t.y&&i>=t.next.y&&t.next.y!==t.y){var s=t.x+(i-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(s<=r&&s>a){if(a=s,s===r){if(i===t.y)return t;if(i===t.next.y)return t.next}o=t.x<t.next.x?t:t.next}}t=t.next}while(t!==n);if(!o)return null;if(r===a)return o.prev;var d,l=o,c=o.x,u=o.y,h=1/0;for(t=o.next;t!==l;)r>=t.x&&t.x>=c&&r!==t.x&&nw(i<u?r:a,i,c,u,i<u?a:r,i,t.x,t.y)&&((d=Math.abs(i-t.y)/(r-t.x))<h||d===h&&t.x>o.x)&&Fm(t,e)&&(o=t,h=d),t=t.next;return o}(e,n),n){var t=QZ(n,e);Lm(t,t.next)}}function KN(e,n,t,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-t)/i)|e<<8))|e<<4))|e<<2))|e<<1))|(n=1431655765&((n=858993459&((n=252645135&((n=16711935&((n=32767*(n-r)/i)|n<<8))|n<<4))|n<<2))|n<<1))<<1}function ike(e){var n=e,t=e;do{n.x<t.x&&(t=n),n=n.next}while(n!==e);return t}function nw(e,n,t,r,i,a,o,s){return(i-o)*(n-s)-(e-o)*(a-s)>=0&&(e-o)*(r-s)-(t-o)*(n-s)>=0&&(t-o)*(a-s)-(i-o)*(r-s)>=0}function ake(e,n){return e.next.i!==n.i&&e.prev.i!==n.i&&!function oke(e,n){var t=e;do{if(t.i!==e.i&&t.next.i!==e.i&&t.i!==n.i&&t.next.i!==n.i&&KZ(t,t.next,e,n))return!0;t=t.next}while(t!==e);return!1}(e,n)&&Fm(e,n)&&Fm(n,e)&&function ske(e,n){var t=e,r=!1,i=(e.x+n.x)/2,a=(e.y+n.y)/2;do{t.y>a!=t.next.y>a&&t.next.y!==t.y&&i<(t.next.x-t.x)*(a-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next}while(t!==e);return r}(e,n)}function pa(e,n,t){return(n.y-e.y)*(t.x-n.x)-(n.x-e.x)*(t.y-n.y)}function Xh(e,n){return e.x===n.x&&e.y===n.y}function KZ(e,n,t,r){return!!(Xh(e,n)&&Xh(t,r)||Xh(e,r)&&Xh(t,n))||pa(e,n,t)>0!=pa(e,n,r)>0&&pa(t,r,e)>0!=pa(t,r,n)>0}function Fm(e,n){return pa(e.prev,e,e.next)<0?pa(e,n,e.next)>=0&&pa(e,e.prev,n)>=0:pa(e,n,e.prev)<0||pa(e,e.next,n)<0}function QZ(e,n){var t=new QN(e.i,e.x,e.y),r=new QN(n.i,n.x,n.y),i=e.next,a=n.prev;return e.next=n,n.prev=e,t.next=i,i.prev=t,r.next=t,t.prev=r,a.next=r,r.prev=a,r}function JZ(e,n,t,r){var i=new QN(e,n,t);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function zm(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function QN(e,n,t){this.i=e,this.x=n,this.y=t,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function JN(e,n,t,r){for(var i=0,a=n,o=t-r;a<t;a+=r)i+=(e[o]-e[a])*(e[a+1]+e[o+1]),o=a;return i}function eI(e,n,t){var r=e[n];e[n]=e[t],e[t]=r}function eK(e,n,t,r,i){var a=t,o=e[n];eI(e,n,r);for(var s=t;s<r;s++)i(e[s],o)<0&&(eI(e,s,a),a++);return eI(e,r,a),a}function rw(e,n,t,r){if(t<r){var a=eK(e,Math.floor((t+r)/2),t,r,n);rw(e,n,t,a-1),rw(e,n,a+1,r)}}function tI(){this._parts=[]}qZ.deviation=function(e,n,t,r){var i=n&&n.length,o=Math.abs(JN(e,0,i?n[0]*t:e.length,t));if(i)for(var s=0,l=n.length;s<l;s++)o-=Math.abs(JN(e,n[s]*t,s<l-1?n[s+1]*t:e.length,t));var h=0;for(s=0;s<r.length;s+=3){var d=r[s]*t,f=r[s+1]*t,p=r[s+2]*t;h+=Math.abs((e[d]-e[p])*(e[f+1]-e[d+1])-(e[d]-e[f])*(e[p+1]-e[d+1]))}return 0===o&&0===h?0:Math.abs((h-o)/o)},tI.prototype.step=function(e,n,t){var r=e.length;if(0===t){this._parts=[],this._sorted=!1;var i=Math.floor(r/2);this._parts.push({pivot:i,left:0,right:r-1}),this._currentSortPartIdx=0}if(!this._sorted){var a=this._parts;if(0===a.length)return this._sorted=!0,!0;if(a.length<512){for(var o=0;o<a.length;o++)a[o].pivot=eK(e,a[o].pivot,a[o].left,a[o].right,n);var s=[];for(o=0;o<a.length;o++){var l,c;(c=a[o].pivot-1)>(l=a[o].left)&&s.push({pivot:Math.floor((c+l)/2),left:l,right:c}),(c=a[o].right)>(l=a[o].pivot+1)&&s.push({pivot:Math.floor((c+l)/2),left:l,right:c})}a=this._parts=s}else for(o=0;o<Math.floor(a.length/10);o++){var u=a.length-1-this._currentSortPartIdx;if(rw(e,n,a[u].left,a[u].right),this._currentSortPartIdx++,this._currentSortPartIdx===a.length)return this._sorted=!0,!0}return!1}},tI.sort=rw;const iw=tI;var Ip=Ar.vec3,tK=Ip.create(),nK=Ip.create(),rK=Ip.create();const nI={needsSortTriangles:function(){return this.indices&&this.sortTriangles},needsSortTrianglesProgressively:function(){return this.needsSortTriangles()&&this.triangleCount>=2e4},doSortTriangles:function(e,n){var t=this.indices;if(0===n){var r=this.attributes.position;e=e.array,(!this._triangleZList||this._triangleZList.length!==this.triangleCount)&&(this._triangleZList=new Float32Array(this.triangleCount),this._sortedTriangleIndices=new Uint32Array(this.triangleCount),this._indicesTmp=new t.constructor(t.length),this._triangleZListTmp=new Float32Array(this.triangleCount));for(var a,i=0,o=0;o<t.length;){r.get(t[o++],tK),r.get(t[o++],nK),r.get(t[o++],rK);var s=Ip.sqrDist(tK,e),l=Ip.sqrDist(nK,e),c=Ip.sqrDist(rK,e),u=Math.min(s,l);u=Math.min(u,c),3===o?(a=u,u=0):u-=a,this._triangleZList[i++]=u}}var h=this._sortedTriangleIndices;for(o=0;o<h.length;o++)h[o]=o;if(this.triangleCount<2e4)0===n&&this._simpleSort(!0);else for(o=0;o<3;o++)this._progressiveQuickSort(3*n+o);var d=this._indicesTmp,f=this._triangleZListTmp,p=this._triangleZList;for(o=0;o<this.triangleCount;o++){var g=3*h[o],m=3*o;d[m++]=t[g++],d[m++]=t[g++],d[m]=t[g],f[o]=p[h[o]]}var v=this._indicesTmp;this._indicesTmp=this.indices,this.indices=v,v=this._triangleZListTmp,this._triangleZListTmp=this._triangleZList,this._triangleZList=v,this.dirtyIndices()},_simpleSort:function(e){var n=this._triangleZList,t=this._sortedTriangleIndices;function r(i,a){return n[a]-n[i]}e?Array.prototype.sort.call(t,r):iw.sort(t,r,0,t.length-1)},_progressiveQuickSort:function(e){var n=this._triangleZList,t=this._sortedTriangleIndices;this._quickSort=this._quickSort||new iw,this._quickSort.step(t,function(r,i){return n[i]-n[r]},e)}};function ui(e,n){const t=e.getItemVisual(n,"style");if(t)return t[e.getVisual("drawType")]}function hi(e,n){const t=e.getItemVisual(n,"style");return t&&t.opacity}function qh(e,n,t){this._labelsMesh=new VN,this._labelTextureSurface=new FN({width:512,height:512,devicePixelRatio:t.getDevicePixelRatio(),onupdate:function(){t.getZr().refresh()}}),this._api=t,this._labelsMesh.material.set("textureAtlas",this._labelTextureSurface.getTexture())}qh.prototype.getLabelPosition=function(e,n,t){return[0,0,0]},qh.prototype.getLabelDistance=function(e,n,t){return 0},qh.prototype.getMesh=function(){return this._labelsMesh},qh.prototype.updateData=function(e,n,t){null==n&&(n=0),null==t&&(t=e.count()),(!this._labelsVisibilitiesBits||this._labelsVisibilitiesBits.length!==t-n)&&(this._labelsVisibilitiesBits=new Uint8Array(t-n));for(var r=["label","show"],i=["emphasis","label","show"],a=n;a<t;a++){var o=e.getItemModel(a),s=o.get(r),l=o.get(i);null==l&&(l=s),this._labelsVisibilitiesBits[a-n]=(s?1:0)|(l?2:0)}this._start=n,this._end=t,this._data=e},qh.prototype.updateLabels=function(e){if(this._data){for(var n=(e=e||[]).length>0,t={},r=0;r<e.length;r++)t[e[r]]=!0;this._labelsMesh.geometry.convertToDynamicArray(!0),this._labelTextureSurface.clear();for(var i=["label"],a=["emphasis","label"],o=this._data.hostModel,s=this._data,l=o.getModel(i),c=o.getModel(a,l),u={left:"right",right:"left",top:"center",bottom:"center"},h={left:"middle",right:"middle",top:"bottom",bottom:"top"},d=this._start;d<this._end;d++){var f=!1;if(n&&t[d]&&(f=!0),this._labelsVisibilitiesBits[d-this._start]&(f?2:1)){var m=s.getItemModel(d).getModel(f?a:i,f?c:l),v=m.get("distance")||0,_=m.get("position"),y=this._api.getDevicePixelRatio(),b=o.getFormattedLabel(d,f?"emphasis":"normal");if(null==b||""===b)return;var w=new nr({style:Ti(m,{text:b,fill:m.get("color")||ui(s,d)||"#000",align:"left",verticalAlign:"top",opacity:Ct.firstNotNull(m.get("opacity"),hi(s,d),1)})}),C=w.getBoundingRect();C.height*=1.2;var x=this._labelTextureSurface.add(w),M=u[_]||"center",E=h[_]||"bottom";this._labelsMesh.geometry.addSprite(this.getLabelPosition(d,_,v),[C.width*y,C.height*y],x,M,E,this.getLabelDistance(d,_,v)*y)}}this._labelsMesh.material.set("uvScale",this._labelTextureSurface.getCoordsScale()),this._labelTextureSurface.getZr().refreshImmediately(),this._labelsMesh.geometry.convertToTypedArray(),this._labelsMesh.geometry.dirty()}},qh.prototype.dispose=function(){this._labelTextureSurface.dispose()};const rI=qh;var ka=Ar.vec3;function iI(e){this.rootNode=new P.Node,this._triangulationResults={},this._shadersMap=P.COMMON_SHADERS.filter(function(t){return"shadow"!==t}).reduce(function(t,r){return t[r]=P.createShader("ecgl."+r),t},{}),this._linesShader=P.createShader("ecgl.meshLines3D");var n={};P.COMMON_SHADERS.forEach(function(t){n[t]=new P.Material({shader:P.createShader("ecgl."+t)})}),this._groundMaterials=n,this._groundMesh=new P.Mesh({geometry:new P.PlaneGeometry({dynamic:!0}),castShadow:!1,renderNormal:!0,$ignorePicking:!0}),this._groundMesh.rotation.rotateX(-Math.PI/2),this._labelsBuilder=new rI(512,512,e),this._labelsBuilder.getMesh().renderOrder=100,this._labelsBuilder.getMesh().material.depthTest=!1,this.rootNode.add(this._labelsBuilder.getMesh()),this._initMeshes(),this._api=e}P.Shader.import(JC),iI.prototype={constructor:iI,extrudeY:!0,update:function(e,n,t,r,i){var a=e.getData();null==r&&(r=0),null==i&&(i=a.count()),this._startIndex=r,this._endIndex=i-1,this._triangulation(e,r,i);var o=this._getShader(e.get("shading"));this._prepareMesh(e,o,t,r,i),this.rootNode.updateWorldTransform(),this._updateRegionMesh(e,t,r,i);var s=e.coordinateSystem;"geo3D"===s.type&&this._updateGroundPlane(e,s,t);var l=this;this._labelsBuilder.updateData(a,r,i),this._labelsBuilder.getLabelPosition=function(c,u,h){var d=a.getName(c),p=h;if("geo3D"===s.type){var g=s.getRegion(d);return g?(f=g.getCenter(),s.dataToPoint([f[0],f[1],p])):[NaN,NaN,NaN]}var v=l._triangulationResults[c-l._startIndex],f=l.extrudeY?[(v.max[0]+v.min[0])/2,v.max[1]+p,(v.max[2]+v.min[2])/2]:[(v.max[0]+v.min[0])/2,(v.max[1]+v.min[1])/2,v.max[2]+p]},this._data=a,this._labelsBuilder.updateLabels(),this._updateDebugWireframe(e),this._lastHoverDataIndex=0},_initMeshes:function(){var e=this,t=function n(){var i=new P.Mesh({name:"Polygon",material:new P.Material({shader:e._shadersMap.lambert}),geometry:new P.Geometry({sortTriangles:!0,dynamic:!0}),culling:!1,ignorePicking:!0,renderNormal:!0});return Object.assign(i.geometry,nI),i}(),r=new P.Mesh({material:new P.Material({shader:this._linesShader}),castShadow:!1,ignorePicking:!0,$ignorePicking:!0,geometry:new Gh({useNativeLine:!1})});this.rootNode.add(t),this.rootNode.add(r),t.material.define("both","VERTEX_COLOR"),t.material.define("fragment","DOUBLE_SIDED"),this._polygonMesh=t,this._linesMesh=r,this.rootNode.add(this._groundMesh)},_getShader:function(e){var n=this._shadersMap[e];return n||(n=this._shadersMap.lambert),n.__shading=e,n},_prepareMesh:function(e,n,t,r,i){for(var a=0,o=0,s=0,l=0,c=r;c<i;c++){var u=this._getRegionPolygonInfo(c),h=this._getRegionLinesInfo(c,e,this._linesMesh.geometry);a+=u.vertexCount,o+=u.triangleCount,s+=h.vertexCount,l+=h.triangleCount}var d=this._polygonMesh,f=d.geometry;["position","normal","texcoord0","color"].forEach(function(p){f.attributes[p].init(a)}),f.indices=a>65535?new Uint32Array(3*o):new Uint16Array(3*o),d.material.shader!==n&&d.material.attachShader(n,!0),P.setMaterialFromModel(n.__shading,d.material,e,t),s>0&&(this._linesMesh.geometry.resetOffset(),this._linesMesh.geometry.setVertexCount(s),this._linesMesh.geometry.setTriangleCount(l)),this._dataIndexOfVertex=new Uint32Array(a),this._vertexRangeOfDataIndex=new Uint32Array(2*(i-r))},_updateRegionMesh:function(e,n,t,r){for(var i=e.getData(),a=0,o=0,s=!1,C=this._polygonMesh,l=this._linesMesh,c=t;c<r;c++){var u=e.getRegionModel(c),h=u.getModel("itemStyle"),d=Ct.firstNotNull(ui(i,c),h.get("color"),"#fff"),f=Ct.firstNotNull(hi(i,c),h.get("opacity"),1),p=P.parseColor(d),g=P.parseColor(h.get("borderColor"));p[3]*=f,g[3]*=f;var m=p[3]<.99;C.material.set("color",[1,1,1,1]),s=s||m;for(var v=Ct.firstNotNull(u.get("height",!0),e.get("regionHeight")),_=this._updatePolygonGeometry(e,C.geometry,c,v,a,o,p),y=a;y<_.vertexOffset;y++)this._dataIndexOfVertex[y]=c;this._vertexRangeOfDataIndex[2*(c-t)]=a,this._vertexRangeOfDataIndex[2*(c-t)+1]=_.vertexOffset,a=_.vertexOffset,o=_.triangleOffset;var b=h.get("borderWidth"),w=b>0;w&&(b*=n.getDevicePixelRatio(),this._updateLinesGeometry(l.geometry,e,c,v,b,e.coordinateSystem.transform)),l.invisible=!w,l.material.set({color:g})}(C=this._polygonMesh).material.transparent=s,C.material.depthMask=!s,C.geometry.updateBoundingBox(),C.frontFace=this.extrudeY?P.Mesh.CCW:P.Mesh.CW,C.material.get("normalMap")&&C.geometry.generateTangents(),C.seriesIndex=e.seriesIndex,C.on("mousemove",this._onmousemove,this),C.on("mouseout",this._onmouseout,this)},_updateDebugWireframe:function(e){var n=e.getModel("debug.wireframe");if(n.get("show")){var t=P.parseColor(n.get("lineStyle.color")||"rgba(0,0,0,0.5)"),r=Ct.firstNotNull(n.get("lineStyle.width"),1),i=this._polygonMesh;i.geometry.generateBarycentric(),i.material.define("both","WIREFRAME_TRIANGLE"),i.material.set("wireframeLineColor",t),i.material.set("wireframeLineWidth",r)}},_onmousemove:function(e){var n=this._dataIndexOfVertex[e.triangle[0]];null==n&&(n=-1),n!==this._lastHoverDataIndex&&(this.downplay(this._lastHoverDataIndex),this.highlight(n),this._labelsBuilder.updateLabels([n])),this._lastHoverDataIndex=n,this._polygonMesh.dataIndex=n},_onmouseout:function(e){e.target&&(this.downplay(this._lastHoverDataIndex),this._lastHoverDataIndex=-1,this._polygonMesh.dataIndex=-1),this._labelsBuilder.updateLabels([])},_updateGroundPlane:function(e,n,t){var r=e.getModel("groundPlane",e);if(this._groundMesh.invisible=!r.get("show",!0),!this._groundMesh.invisible){var i=e.get("shading"),a=this._groundMaterials[i];a||(a=this._groundMaterials.lambert),P.setMaterialFromModel(i,a,r,t),a.get("normalMap")&&this._groundMesh.geometry.generateTangents(),this._groundMesh.material=a,this._groundMesh.material.set("color",P.parseColor(r.get("color"))),this._groundMesh.scale.set(n.size[0],n.size[2],1)}},_triangulation:function(e,n,t){this._triangulationResults=[];for(var r=[1/0,1/0,1/0],i=[-1/0,-1/0,-1/0],a=e.coordinateSystem,o=n;o<t;o++){for(var s=[],l=e.getRegionPolygonCoords(o),c=0;c<l.length;c++){var u=l[c].exterior,h=l[c].interiors,d=[],f=[];if(!(u.length<3)){for(var p=0,g=0;g<u.length;g++)d[p++]=(m=u[g])[0],d[p++]=m[1];for(g=0;g<h.length;g++)if(!(h[g].length<3)){for(var v=d.length/2,_=0;_<h[g].length;_++){var m;d.push((m=h[g][_])[0]),d.push(m[1])}f.push(v)}var y=Y5e(d,f),b=new Float64Array(d.length/2*3),w=[],C=[1/0,1/0,1/0],S=[-1/0,-1/0,-1/0],x=0;for(g=0;g<d.length;)ka.set(w,d[g++],0,d[g++]),a&&a.transform&&ka.transformMat4(w,w,a.transform),ka.min(C,C,w),ka.max(S,S,w),b[x++]=w[0],b[x++]=w[1],b[x++]=w[2];ka.min(r,r,C),ka.max(i,i,S),s.push({points:b,indices:y,min:C,max:S})}}this._triangulationResults.push(s)}this._geoBoundingBox=[r,i]},_getRegionPolygonInfo:function(e){for(var n=this._triangulationResults[e-this._startIndex],t=0,r=0,i=0;i<n.length;i++)t+=n[i].points.length/3,r+=n[i].indices.length/3;return{vertexCount:2*t+4*t,triangleCount:2*r+2*t}},_updatePolygonGeometry:function(e,n,t,r,i,a,o){var s=e.get("projectUVOnGround"),l=n.attributes.position,c=n.attributes.normal,u=n.attributes.texcoord0,h=n.attributes.color,d=this._triangulationResults[t-this._startIndex],f=h.value&&o,p=n.indices,g=this.extrudeY?1:2,m=this.extrudeY?2:1,v=[this.rootNode.worldTransform.x.len(),this.rootNode.worldTransform.y.len(),this.rootNode.worldTransform.z.len()],_=ka.mul([],this._geoBoundingBox[0],v),y=ka.mul([],this._geoBoundingBox[1],v),b=Math.max(y[0]-_[0],y[2]-_[2]);function C(Rt,ct,pt){var Se=i;!function w(Rt,ct,pt){for(var Se=Rt.points,Lt=Se.length,Rn=[],Zn=[],di=0;di<Lt;di+=3)Rn[0]=Se[di],Rn[g]=ct,Rn[m]=Se[di+2],Zn[0]=(Se[di]*v[0]-_[0])/b,Zn[1]=(Se[di+2]*v[m]-_[2])/b,l.set(i,Rn),f&&h.set(i,o),u.set(i++,Zn)}(Rt,ct);for(var Lt=Rt.indices.length,Rn=0;Rn<Lt;Rn++)p[3*a+Rn]=Rt.indices[Rn]+Se;a+=Rt.indices.length/3}for(var S=this.extrudeY?[0,1,0]:[0,0,1],x=ka.negate([],S),M=0;M<d.length;M++){var E=i,T=d[M];C(T,0),C(T,r);for(var A=T.points.length/3,N=0;N<A;N++)c.set(E+N,x),c.set(E+N+A,S);var R=[0,3,1,1,3,2],z=[[],[],[],[]],L=[],V=[],F=[],j=[],Y=0;for(N=0;N<A;N++){for(var se=(N+1)%A,de=(T.points[3*se]-T.points[3*N])*v[0],we=(T.points[3*se+2]-T.points[3*N+2])*v[m],pe=Math.sqrt(de*de+we*we),Le=0;Le<4;Le++){var lt=0===Le||3===Le,Ye=3*(lt?N:se);z[Le][0]=T.points[Ye],z[Le][g]=Le>1?r:0,z[Le][m]=T.points[Ye+2],l.set(i+Le,z[Le]),s?(j[0]=(T.points[Ye]*v[0]-_[0])/b,j[1]=(T.points[Ye+2]*v[m]-_[m])/b):(j[0]=(lt?Y:Y+pe)/b,j[1]=(z[Le][g]*v[g]-_[g])/b),u.set(i+Le,j)}for(ka.sub(L,z[1],z[0]),ka.sub(V,z[3],z[0]),ka.cross(F,L,V),ka.normalize(F,F),Le=0;Le<4;Le++)c.set(i+Le,F),f&&h.set(i+Le,o);for(Le=0;Le<6;Le++)p[3*a+Le]=R[Le]+i;i+=4,a+=2,Y+=pe}}return n.dirty(),{vertexOffset:i,triangleOffset:a}},_getRegionLinesInfo:function(e,n,t){var r=0,i=0;return n.getRegionModel(e).getModel("itemStyle").get("borderWidth")>0&&n.getRegionPolygonCoords(e).forEach(function(c){var u=c.exterior,h=c.interiors;r+=t.getPolylineVertexCount(u),i+=t.getPolylineTriangleCount(u);for(var d=0;d<h.length;d++)r+=t.getPolylineVertexCount(h[d]),i+=t.getPolylineTriangleCount(h[d])},this),{vertexCount:r,triangleCount:i}},_updateLinesGeometry:function(e,n,t,r,i,a){function o(c){for(var u=new Float64Array(3*c.length),h=0,d=[],f=0;f<c.length;f++)d[0]=c[f][0],d[1]=r+.1,d[2]=c[f][1],a&&ka.transformMat4(d,d,a),u[h++]=d[0],u[h++]=d[1],u[h++]=d[2];return u}var s=[1,1,1,1];n.getRegionPolygonCoords(t).forEach(function(c){var h=c.interiors;e.addPolyline(o(c.exterior),s,i);for(var d=0;d<h.length;d++)e.addPolyline(o(h[d]),s,i)})},highlight:function(e){var n=this._data;if(n){var r=n.getItemModel(e).getModel(["emphasis","itemStyle"]),i=r.get("color"),a=Ct.firstNotNull(r.get("opacity"),hi(n,e),1);null==i&&(i=Kg(ui(n,e),-.4)),null==a&&(a=hi(n,e));var s=P.parseColor(i);s[3]*=a,this._setColorOfDataIndex(n,e,s)}},downplay:function(e){var n=this._data;if(n){var t=n.getItemModel(e),r=Ct.firstNotNull(ui(n,e),t.get(["itemStyle","color"]),"#fff"),i=Ct.firstNotNull(hi(n,e),t.get(["itemStyle","opacity"]),1),a=P.parseColor(r);a[3]*=i,this._setColorOfDataIndex(n,e,a)}},dispose:function(){this._labelsBuilder.dispose()},_setColorOfDataIndex:function(e,n,t){if(!(n<this._startIndex&&n>this._endIndex)){for(var r=this._vertexRangeOfDataIndex[2*(n-=this._startIndex)];r<this._vertexRangeOfDataIndex[2*n+1];r++)this._polygonMesh.geometry.attributes.color.set(r,t);this._polygonMesh.geometry.dirty(),this._api.getZr().refresh()}}};const aw=iI,uke=Ei.extend({type:"geo3D",__ecgl__:!0,init:function(e,n){this._geo3DBuilder=new aw(n),this.groupGL=new P.Node,this._lightRoot=new P.Node,this._sceneHelper=new Tp(this._lightRoot),this._sceneHelper.initLight(this._lightRoot),this._control=new ZC({zr:n.getZr()}),this._control.init()},render:function(e,n,t){this.groupGL.add(this._geo3DBuilder.rootNode);var r=e.coordinateSystem;if(r&&r.viewGL){r.viewGL.add(this._lightRoot),e.get("show")?r.viewGL.add(this.groupGL):r.viewGL.remove(this.groupGL);var i=this._control;i.setViewGL(r.viewGL);var a=e.getModel("viewControl");i.setFromViewControlModel(a,0),this._sceneHelper.setScene(r.viewGL.scene),this._sceneHelper.updateLight(e),r.viewGL.setPostEffect(e.getModel("postEffect"),t),r.viewGL.setTemporalSuperSampling(e.getModel("temporalSuperSampling")),this._geo3DBuilder.update(e,n,t,0,e.getData().count());var o=r.viewGL.isLinearSpace()?"define":"undefine";this._geo3DBuilder.rootNode.traverse(function(s){s.material&&s.material[o]("fragment","SRGB_DECODE")}),i.off("update"),i.on("update",function(){t.dispatchAction({type:"geo3DChangeCamera",alpha:i.getAlpha(),beta:i.getBeta(),distance:i.getDistance(),center:i.getCenter(),from:this.uid,geo3DId:e.id})}),i.update()}},afterRender:function(e,n,t,r){var i=r.renderer;this._sceneHelper.updateAmbientCubemap(i,e,t),this._sceneHelper.updateSkybox(i,e,t)},dispose:function(){this._control.dispose(),this._geo3DBuilder.dispose()}});var hke={\u5357\u6d77\u8bf8\u5c9b:[32,80],\u5e7f\u4e1c:[0,-10],\u9999\u6e2f:[10,5],\u6fb3\u95e8:[-10,10],\u5929\u6d25:[5,5]},fke={Russia:[100,60],"United States":[-99,38],"United States of America":[-99,38]},gke=Ar.vec3,Pp=Ar.mat4,mke=[function dke(e,n){if("china"===e){var t=hke[n.name];if(t){var r=n.getCenter();r[0]+=t[0]/10.5,r[1]+=-t[1]/14,n.setCenter(r)}}},function pke(e,n){if("world"===e){var t=fke[n.name];t&&n.setCenter([t[0],t[1]])}}];function aI(e,n,t,r,i){this.name=e,this.map=n,this.regionHeight=0,this.regions=[],this._nameCoordMap={},this.loadGeoJson(t,r,i),this.transform=Pp.identity(new Float64Array(16)),this.invTransform=Pp.identity(new Float64Array(16)),this.extrudeY=!0}aI.prototype={constructor:aI,type:"geo3D",dimensions:["lng","lat","alt"],containPoint:function(){},loadGeoJson:function(e,n,t){var r=hq||hq;try{this.regions=e?r(e):[]}catch(c){throw"Invalid geoJson format\n"+c}n=n||{},t=t||{};for(var i=this.regions,a={},o=0;o<i.length;o++){var s=i[o].name;i[o].name=s=t[s]||s,a[s]=i[o],this.addGeoCoord(s,i[o].getCenter());var l=n[s];l&&i[o].transformTo(l.left,l.top,l.width,l.height)}this._regionsMap=a,this._geoRect=null,mke.forEach(function(c){c(this)},this)},getGeoBoundingRect:function(){if(this._geoRect)return this._geoRect;for(var e,n=this.regions,t=0;t<n.length;t++){var r=n[t].getBoundingRect();(e=e||r.clone()).union(r)}return this._geoRect=e||new Yt(0,0,0,0)},addGeoCoord:function(e,n){this._nameCoordMap[e]=n},getRegion:function(e){return this._regionsMap[e]},getRegionByCoord:function(e){for(var n=this.regions,t=0;t<n.length;t++)if(n[t].contain(e))return n[t]},setSize:function(e,n,t){this.size=[e,n,t];var r=this.getGeoBoundingRect(),i=e/r.width,a=-t/r.height,o=-e/2-r.x*i,s=t/2-r.y*a,l=this.extrudeY?[o,0,s]:[o,s,0],c=this.extrudeY?[i,1,a]:[i,a,1],u=this.transform;Pp.identity(u),Pp.translate(u,u,l),Pp.scale(u,u,c),Pp.invert(this.invTransform,u)},dataToPoint:function(e,n){n=n||[];var t=this.extrudeY?1:2,r=this.extrudeY?2:1,i=e[2];return isNaN(i)&&(i=0),n[0]=e[0],n[r]=e[1],n[t]=this.altitudeAxis?this.altitudeAxis.dataToCoord(i):0,n[t]+=this.regionHeight,gke.transformMat4(n,n,this.transform),n},pointToData:function(e,n){}};const oK=aI;function vke(e,n){var r=us(e.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()});r.y=n.getHeight()-r.y-r.height,this.viewGL.setViewport(r.x,r.y,r.width,r.height,n.getDevicePixelRatio());var i=this.getGeoBoundingRect(),a=i.width/i.height*(e.get("aspectScale")||.75),o=e.get("boxWidth"),s=e.get("boxDepth"),l=e.get("boxHeight");null==l&&(l=5),isNaN(o)&&isNaN(s)&&(o=100),isNaN(s)?s=o/a:isNaN(o)&&(o=s/a),this.setSize(o,l,s),this.regionHeight=e.get("regionHeight"),this.altitudeAxis&&this.altitudeAxis.setExtent(0,Math.max(l-this.regionHeight,0))}function _ke(e,n){var t=[1/0,-1/0];if(e.eachSeries(function(i){if(i.coordinateSystem===this&&"series.map3D"!==i.type){var a=i.getData(),o=i.coordDimToDataDim("alt"),s=o&&o[0];if(s){var l=a.getDataExtent(s,!0);t[0]=Math.min(t[0],l[0]),t[1]=Math.max(t[1],l[1])}}},this),t&&isFinite(t[1]-t[0])){var r=tN(t,{type:"value",min:"dataMin",max:"dataMax"});this.altitudeAxis=new dm("altitude",r),this.resize(this.model,n)}}var sK=0,lK={dimensions:oK.prototype.dimensions,create:function(e,n){var t=[];if(!UA)throw new Error("geo3D component depends on geo component");function r(i,a){var o=lK.createGeo3D(i);i.__viewGL=i.__viewGL||new Vc,o.viewGL=i.__viewGL,i.coordinateSystem=o,o.model=i,t.push(o),o.resize=vke,o.resize(i,n),o.update=_ke}return e.eachComponent("geo3D",function(i,a){r(i)}),e.eachSeriesByType("map3D",function(i,a){var o=i.get("coordinateSystem");null==o&&(o="geo3D"),"geo3D"===o&&r(i)}),e.eachSeries(function(i){if("geo3D"===i.get("coordinateSystem")){if("series.map3D"===i.type)return;var a=i.getReferringComponents("geo3D").models[0];if(a||(a=e.getComponent("geo3D")),!a)throw new Error('geo "'+Ct.firstNotNull(i.get("geo3DIndex"),i.get("geo3DId"),0)+'" not found');i.coordinateSystem=a.coordinateSystem}}),t},createGeo3D:function(e){var t,n=e.get("map");return"string"==typeof n?(t=n,n=UA(n)):n&&n.features&&(n={geoJson:n}),null==t&&(t="GEO_ANONYMOUS_"+sK++),new oK(t+sK++,t,n&&n.geoJson,n&&n.specialAreas,e.get("nameMap"))}};const cK=lK;function uK(e){e.registerComponentModel($5e),e.registerComponentView(uke),e.registerAction({type:"geo3DChangeCamera",event:"geo3dcamerachanged",update:"series:updateCamera"},function(n,t){t.eachComponent({mainType:"geo3D",query:n},function(r){r.setView(n)})}),e.registerCoordinateSystem("geo3D",cK)}function hK(e,n){e.id=e.id||e.name||n+""}Vn(uK);var Zh=cn.extend({type:"globe",layoutMode:"box",coordinateSystem:null,init:function(){Zh.superApply(this,"init",arguments),I(this.option.layers,function(e,n){Ee(e,this.defaultLayerOption),hK(e,n)},this)},mergeOption:function(e){var n=this.option.layers;function t(o){return Dl(o,function(s,l,c){return hK(l,c),s[l.id]=l,s},{})}if(this.option.layers=null,Zh.superApply(this,"mergeOption",arguments),n&&n.length){var r=t(e.layers),i=t(n);for(var a in r)i[a]?Ee(i[a],r[a],!0):n.push(e.layers[a]);this.option.layers=n}I(this.option.layers,function(o){Ee(o,this.defaultLayerOption)},this)},optionUpdated:function(){this.updateDisplacementHash()},defaultLayerOption:{show:!0,type:"overlay"},defaultOption:{show:!0,zlevel:-10,left:0,top:0,width:"100%",height:"100%",environment:"auto",baseColor:"#fff",baseTexture:"",heightTexture:"",displacementTexture:"",displacementScale:0,displacementQuality:"medium",globeRadius:100,globeOuterRadius:150,shading:"lambert",light:{main:{time:""}},atmosphere:{show:!1,offset:5,color:"#ffffff",glowPower:6,innerGlowPower:2},viewControl:{autoRotate:!0,panSensitivity:0,targetCoord:null},layers:[]},setDisplacementData:function(e,n,t){this.displacementData=e,this.displacementWidth=n,this.displacementHeight=t},getDisplacementTexture:function(){return this.get("displacementTexture")||this.get("heightTexture")},getDisplacemenScale:function(){var e=this.getDisplacementTexture(),n=this.get("displacementScale");return(!e||"none"===e)&&(n=0),n},hasDisplacement:function(){return this.getDisplacemenScale()>0},_displacementChanged:!0,_displacementScale:0,updateDisplacementHash:function(){var e=this.getDisplacementTexture(),n=this.getDisplacemenScale();this._displacementChanged=this._displacementTexture!==e||this._displacementScale!==n,this._displacementTexture=e,this._displacementScale=n},isDisplacementChanged:function(){return this._displacementChanged}});Ee(Zh.prototype,XC),Ee(Zh.prototype,xp),Ee(Zh.prototype,Mp),Ee(Zh.prototype,Ap);const yke=Zh;var dK=Math.PI,Vo=Math.sin,$l=Math.cos,fK=Math.tan,pK=Math.asin,gK=Math.atan2,Kh=dK/180,ow=23.4397*Kh;function Mke(e,n){return gK(Vo(e)*$l(ow)-fK(n)*Vo(ow),$l(e))}function Tke(e,n){return pK(Vo(n)*$l(ow)+$l(n)*Vo(ow)*Vo(e))}function Dke(e,n,t){return gK(Vo(e),$l(e)*Vo(n)-fK(t)*$l(n))}function Eke(e,n,t){return pK(Vo(n)*Vo(t)+$l(n)*$l(t)*$l(e))}var mK={};mK.getPosition=function(e,n,t){var r=Kh*-t,i=Kh*n,a=function xke(e){return function Ske(e){return e.valueOf()/864e5-.5+2440588}(e)-2451545}(e),o=function Pke(e){var n=function Nke(e){return Kh*(357.5291+.98560028*e)}(e),t=function Ike(e){return e+Kh*(1.9148*Vo(e)+.02*Vo(2*e)+3e-4*Vo(3*e))+102.9372*Kh+dK}(n);return{dec:Tke(t,0),ra:Mke(t,0)}}(a),s=function Ake(e,n){return Kh*(280.16+360.9856235*e)-n}(a,r)-o.ra;return{azimuth:Dke(s,i,o.dec),altitude:Eke(s,i,o.dec)}};const Oke=mK;P.Shader.import(sZ),P.Shader.import("@export ecgl.atmosphere.vertex\nattribute vec3 position: POSITION;\nattribute vec3 normal : NORMAL;\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform mat4 normalMatrix : WORLDINVERSETRANSPOSE;\n\nvarying vec3 v_Normal;\n\nvoid main() {\n v_Normal = normalize((normalMatrix * vec4(normal, 0.0)).xyz);\n gl_Position = worldViewProjection * vec4(position, 1.0);\n}\n@end\n\n\n@export ecgl.atmosphere.fragment\nuniform mat4 viewTranspose: VIEWTRANSPOSE;\nuniform float glowPower;\nuniform vec3 glowColor;\n\nvarying vec3 v_Normal;\n\nvoid main() {\n float intensity = pow(1.0 - dot(v_Normal, (viewTranspose * vec4(0.0, 0.0, 1.0, 0.0)).xyz), glowPower);\n gl_FragColor = vec4(glowColor, intensity * intensity);\n}\n@end");const Lke=Ei.extend({type:"globe",__ecgl__:!0,_displacementScale:0,init:function(e,n){this.groupGL=new P.Node,this._sphereGeometry=new P.SphereGeometry({widthSegments:200,heightSegments:100,dynamic:!0}),this._overlayGeometry=new P.SphereGeometry({widthSegments:80,heightSegments:40}),this._planeGeometry=new P.PlaneGeometry,this._earthMesh=new P.Mesh({renderNormal:!0}),this._atmosphereMesh=new P.Mesh,this._atmosphereGeometry=new P.SphereGeometry({widthSegments:80,heightSegments:40}),this._atmosphereMaterial=new P.Material({shader:new P.Shader(P.Shader.source("ecgl.atmosphere.vertex"),P.Shader.source("ecgl.atmosphere.fragment")),transparent:!0}),this._atmosphereMesh.geometry=this._atmosphereGeometry,this._atmosphereMesh.material=this._atmosphereMaterial,this._atmosphereMesh.frontFace=P.Mesh.CW,this._lightRoot=new P.Node,this._sceneHelper=new Tp,this._sceneHelper.initLight(this._lightRoot),this.groupGL.add(this._atmosphereMesh),this.groupGL.add(this._earthMesh),this._control=new ZC({zr:n.getZr()}),this._control.init(),this._layerMeshes={}},render:function(e,n,t){var r=e.coordinateSystem,i=e.get("shading");r.viewGL.add(this._lightRoot),e.get("show")?r.viewGL.add(this.groupGL):r.viewGL.remove(this.groupGL),this._sceneHelper.setScene(r.viewGL.scene),r.viewGL.setPostEffect(e.getModel("postEffect"),t),r.viewGL.setTemporalSuperSampling(e.getModel("temporalSuperSampling"));var a=this._earthMesh;a.geometry=this._sphereGeometry;var o="ecgl."+i;(!a.material||a.material.shader.name!==o)&&(a.material=P.createMaterial(o)),P.setMaterialFromModel(i,a.material,e,t),["roughnessMap","metalnessMap","detailMap","normalMap"].forEach(function(h){var d=a.material.get(h);d&&(d.flipY=!1)}),a.material.set("color",P.parseColor(e.get("baseColor")));var s=.99*r.radius;if(a.scale.set(s,s,s),e.get("atmosphere.show")){a.material.define("both","ATMOSPHERE_ENABLED"),this._atmosphereMesh.invisible=!1,this._atmosphereMaterial.setUniforms({glowPower:e.get("atmosphere.glowPower")||6,glowColor:e.get("atmosphere.color")||"#ffffff"}),a.material.setUniforms({glowPower:e.get("atmosphere.innerGlowPower")||2,glowColor:e.get("atmosphere.color")||"#ffffff"});var l=e.get("atmosphere.offset")||5;this._atmosphereMesh.scale.set(s+l,s+l,s+l)}else a.material.undefine("both","ATMOSPHERE_ENABLED"),this._atmosphereMesh.invisible=!0;var c=a.material.setTextureImage("diffuseMap",e.get("baseTexture"),t,{flipY:!1,anisotropic:8});c&&c.surface&&c.surface.attachToMesh(a);var u=a.material.setTextureImage("bumpMap",e.get("heightTexture"),t,{flipY:!1,anisotropic:8});u&&u.surface&&u.surface.attachToMesh(a),a.material[e.get("postEffect.enable")?"define":"undefine"]("fragment","SRGB_DECODE"),this._updateLight(e,t),this._displaceVertices(e,t),this._updateViewControl(e,t),this._updateLayers(e,t)},afterRender:function(e,n,t,r){var i=r.renderer;this._sceneHelper.updateAmbientCubemap(i,e,t),this._sceneHelper.updateSkybox(i,e,t)},_updateLayers:function(e,n){var t=e.coordinateSystem,r=e.get("layers"),i=t.radius,a=[],o=[],s=[],l=[];I(r,function(f){var p=new Tr(f),g=p.get("type"),m=P.loadTexture(p.get("texture"),n,{flipY:!1,anisotropic:8});if(m.surface&&m.surface.attachToMesh(this._earthMesh),"blend"===g){var v=p.get("blendTo"),_=Ct.firstNotNull(p.get("intensity"),1);"emission"===v?(s.push(m),l.push(_)):(a.push(m),o.push(_))}else{var y=p.get("id"),b=this._layerMeshes[y];b||(b=this._layerMeshes[y]=new P.Mesh({geometry:this._overlayGeometry,castShadow:!1,ignorePicking:!0})),"lambert"===p.get("shading")?(b.material=b.__lambertMaterial||new P.Material({autoUpdateTextureStatus:!1,shader:P.createShader("ecgl.lambert"),transparent:!0,depthMask:!1}),b.__lambertMaterial=b.material):(b.material=b.__colorMaterial||new P.Material({autoUpdateTextureStatus:!1,shader:P.createShader("ecgl.color"),transparent:!0,depthMask:!1}),b.__colorMaterial=b.material),b.material.enableTexture("diffuseMap");var C=p.get("distance"),S=i+(C??t.radius/100);b.scale.set(S,S,S),i=S;var x=this._blankTexture||(this._blankTexture=P.createBlankTexture("rgba(255, 255, 255, 0)"));b.material.set("diffuseMap",x),P.loadTexture(p.get("texture"),n,{flipY:!1,anisotropic:8},function(M){M.surface&&M.surface.attachToMesh(b),b.material.set("diffuseMap",M),n.getZr().refresh()}),p.get("show")?this.groupGL.add(b):this.groupGL.remove(b)}},this);var c=this._earthMesh.material;c.define("fragment","LAYER_DIFFUSEMAP_COUNT",a.length),c.define("fragment","LAYER_EMISSIVEMAP_COUNT",s.length),c.set("layerDiffuseMap",a),c.set("layerDiffuseIntensity",o),c.set("layerEmissiveMap",s),c.set("layerEmissionIntensity",l);var u=e.getModel("debug.wireframe");if(u.get("show")){c.define("both","WIREFRAME_TRIANGLE");var h=P.parseColor(u.get("lineStyle.color")||"rgba(0,0,0,0.5)"),d=Ct.firstNotNull(u.get("lineStyle.width"),1);c.set("wireframeLineWidth",d),c.set("wireframeLineColor",h)}else c.undefine("both","WIREFRAME_TRIANGLE")},_updateViewControl:function(e,n){var t=e.coordinateSystem,r=e.getModel("viewControl"),a=this,s=this._control;s.setViewGL(t.viewGL);var c,u,l=r.get("targetCoord");null!=l&&(u=l[0]+90,c=l[1]),s.setFromViewControlModel(r,{baseDistance:t.radius,alpha:c,beta:u}),s.off("update"),s.on("update",function(){n.dispatchAction(function o(){return{type:"globeChangeCamera",alpha:s.getAlpha(),beta:s.getBeta(),distance:s.getDistance()-t.radius,center:s.getCenter(),from:a.uid,globeId:e.id}}())})},_displaceVertices:function(e,n){var t=e.get("displacementQuality"),r=e.get("debug.wireframe.show"),i=e.coordinateSystem;if(e.isDisplacementChanged()||t!==this._displacementQuality||r!==this._showDebugWireframe){this._displacementQuality=t,this._showDebugWireframe=r;var a=this._sphereGeometry,o={low:100,medium:200,high:400,ultra:800}[t]||200,s=o/2;(a.widthSegments!==o||r)&&(a.widthSegments=o,a.heightSegments=s,a.build()),this._doDisplaceVertices(a,i),r&&a.generateBarycentric()}},_doDisplaceVertices:function(e,n){var t=e.attributes.position.value,r=e.attributes.texcoord0.value,i=e.__originalPosition;(!i||i.length!==t.length)&&((i=new Float32Array(t.length)).set(t),e.__originalPosition=i);for(var a=n.displacementWidth,o=n.displacementHeight,s=n.displacementData,l=0;l<e.vertexCount;l++){var c=3*l,u=2*l,h=i[c+1],d=i[c+2],f=i[c+3],p=r[u++],g=r[u++],m=Math.round(p*(a-1)),v=Math.round(g*(o-1)),y=s?s[v*a+m]:0;t[c+1]=h+h*y,t[c+2]=d+d*y,t[c+3]=f+f*y}e.generateVertexNormals(),e.dirty(),e.updateBoundingBox()},_updateLight:function(e,n){var t=this._earthMesh;this._sceneHelper.updateLight(e);var r=this._sceneHelper.mainLight,i=e.get("light.main.time")||new Date,a=Oke.getPosition(ss(i),0,0),o=Math.cos(a.altitude);r.position.y=-o*Math.cos(a.azimuth),r.position.x=Math.sin(a.altitude),r.position.z=o*Math.sin(a.azimuth),r.lookAt(t.getWorldPosition())},dispose:function(e,n){this.groupGL.removeAll(),this._control.dispose()}});var kke=Ar.vec3;function oI(e){this.radius=e,this.viewGL=null,this.displacementData=null}oI.prototype={constructor:oI,dimensions:["lng","lat","alt"],type:"globe",containPoint:function(){},setDisplacementData:function(e,n,t){this.displacementData=e,this.displacementWidth=n,this.displacementHeight=t},_getDisplacementScale:function(e,n){var r=(90-n)/180*(this.displacementHeight-1),i=Math.round((e+180)/360*(this.displacementWidth-1))+Math.round(r)*this.displacementWidth;return this.displacementData[i]},dataToPoint:function(e,n){var t=e[0],r=e[1],i=e[2]||0,a=this.radius;this.displacementData&&(a*=1+this._getDisplacementScale(t,r)),this.altitudeAxis&&(a+=this.altitudeAxis.dataToCoord(i)),t=t*Math.PI/180,r=r*Math.PI/180;var o=Math.cos(r)*a;return(n=n||[])[0]=-o*Math.cos(t+Math.PI),n[1]=Math.sin(r)*a,n[2]=o*Math.sin(t+Math.PI),n},pointToData:function(e,n){var t=e[0],r=e[1],i=e[2],a=kke.len(e);t/=a,i/=a;var o=Math.asin(r/=a),s=Math.atan2(i,-t);s<0&&(s=2*Math.PI+s);var l=180*o/Math.PI,c=180*s/Math.PI-180;return(n=n||[])[0]=c,n[1]=l,n[2]=a-this.radius,this.altitudeAxis&&(n[2]=this.altitudeAxis.coordToData(n[2])),n}};const vK=oI;function zke(e,n){var r=us(e.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()});r.y=n.getHeight()-r.y-r.height,this.viewGL.setViewport(r.x,r.y,r.width,r.height,n.getDevicePixelRatio()),this.radius=e.get("globeRadius");var i=e.get("globeOuterRadius");this.altitudeAxis&&this.altitudeAxis.setExtent(0,i-this.radius)}function Bke(e,n){var t=[1/0,-1/0];if(e.eachSeries(function(i){if(i.coordinateSystem===this){var a=i.getData(),o=i.coordDimToDataDim("alt"),s=o&&o[0];if(s){var l=a.getDataExtent(s,!0);t[0]=Math.min(t[0],l[0]),t[1]=Math.max(t[1],l[1])}}},this),t&&isFinite(t[1]-t[0])){var r=tN(t,{type:"value",min:"dataMin",max:"dataMax"});this.altitudeAxis=new dm("altitude",r),this.resize(this.model,n)}}var Vke={dimensions:vK.prototype.dimensions,create:function(e,n){var t=[];return e.eachComponent("globe",function(r){r.__viewGL=r.__viewGL||new Vc;var i=new vK;i.viewGL=r.__viewGL,r.coordinateSystem=i,i.model=r,t.push(i),i.resize=zke,i.resize(r,n),i.update=Bke}),e.eachSeries(function(r){if("globe"===r.get("coordinateSystem")){var i=r.getReferringComponents("globe").models[0];if(i||(i=e.getComponent("globe")),!i)throw new Error('globe "'+Ct.firstNotNull(r.get("globe3DIndex"),r.get("globe3DId"),0)+'" not found');r.coordinateSystem=i.coordinateSystem}}),e.eachComponent("globe",function(r,i){var a=r.coordinateSystem,o=r.getDisplacementTexture(),s=r.getDisplacemenScale();if(r.isDisplacementChanged()){if(r.hasDisplacement()){var l=!0;P.loadTexture(o,n,function(c){var h=function Fke(e,n){var t=document.createElement("canvas"),r=t.getContext("2d"),i=e.width,a=e.height;t.width=i,t.height=a,r.drawImage(e,0,0,i,a);for(var o=r.getImageData(0,0,i,a).data,s=new Float32Array(o.length/4),l=0;l<o.length/4;l++)s[l]=o[4*l]/255*n;return{data:s,width:i,height:a}}(c.image,s);r.setDisplacementData(h.data,h.width,h.height),l||n.dispatchAction({type:"globeUpdateDisplacment"})}),l=!1}else a.setDisplacementData(null,0,0);a.setDisplacementData(r.displacementData,r.displacementWidth,r.displacementHeight)}}),t}};const Hke=Vke;Vn(function Uke(e){e.registerComponentModel(yke),e.registerComponentView(Lke),e.registerCoordinateSystem("globe",Hke),e.registerAction({type:"globeChangeCamera",event:"globecamerachanged",update:"series:updateCamera"},function(n,t){t.eachComponent({mainType:"globe",query:n},function(r){r.setView(n)})}),e.registerAction({type:"globeUpdateDisplacment",event:"globedisplacementupdated",update:"update"},function(n,t){})});var _K=["zoom","center","pitch","bearing"],sI=cn.extend({type:"mapbox3D",layoutMode:"box",coordinateSystem:null,defaultOption:{zlevel:-10,style:"mapbox://styles/mapbox/light-v9",center:[0,0],zoom:0,pitch:0,bearing:0,light:{main:{alpha:20,beta:30}},altitudeScale:1,boxHeight:"auto"},getMapboxCameraOption:function(){var e=this;return _K.reduce(function(n,t){return n[t]=e.get(t),n},{})},setMapboxCameraOption:function(e){null!=e&&_K.forEach(function(n){null!=e[n]&&(this.option[n]=e[n])},this)},getMapbox:function(){return this._mapbox},setMapbox:function(e){this._mapbox=e}});Ee(sI.prototype,xp),Ee(sI.prototype,Mp);const Gke=sI;function Hc(e,n){if(this.id=e,this.zr=n,this.dom=document.createElement("div"),this.dom.style.cssText="position:absolute;left:0;right:0;top:0;bottom:0;",!mapboxgl)throw new Error("Mapbox GL library must be included. See https://www.mapbox.com/mapbox-gl-js/api/");this._mapbox=new mapboxgl.Map({container:this.dom}),this._initEvents()}Hc.prototype.setUnpainted=function(){},Hc.prototype.resize=function(){this._mapbox.resize()},Hc.prototype.getMapbox=function(){return this._mapbox},Hc.prototype.clear=function(){},Hc.prototype.refresh=function(){this._mapbox.resize()};var yK=["mousedown","mouseup","click","dblclick","mousemove","mousewheel","wheel","touchstart","touchend","touchmove","touchcancel"];Hc.prototype._initEvents=function(){var e=this._mapbox.getCanvasContainer();this._handlers=this._handlers||{contextmenu:function(n){return n.preventDefault(),!1}},yK.forEach(function(n){this._handlers[n]=function(t){var r={};for(var i in t)r[i]=t[i];r.bubbles=!1;var a=new t.constructor(t.type,r);e.dispatchEvent(a)},this.zr.dom.addEventListener(n,this._handlers[n])},this),this.zr.dom.addEventListener("contextmenu",this._handlers.contextmenu)},Hc.prototype.dispose=function(){yK.forEach(function(e){this.zr.dom.removeEventListener(e,this._handlers[e])},this)};const Wke=Hc,bK="\n@export ecgl.displayShadow.vertex\n\n@import ecgl.common.transformUniforms\n\n@import ecgl.common.uv.header\n\n@import ecgl.common.attributes\n\nvarying vec3 v_WorldPosition;\n\nvarying vec3 v_Normal;\n\nvoid main()\n{\n @import ecgl.common.uv.main\n v_Normal = normalize((worldInverseTranspose * vec4(normal, 0.0)).xyz);\n\n v_WorldPosition = (world * vec4(position, 1.0)).xyz;\n gl_Position = worldViewProjection * vec4(position, 1.0);\n}\n\n@end\n\n\n@export ecgl.displayShadow.fragment\n\n@import ecgl.common.uv.fragmentHeader\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\nuniform float roughness: 0.2;\n\n#ifdef DIRECTIONAL_LIGHT_COUNT\n@import clay.header.directional_light\n#endif\n\n@import ecgl.common.ssaoMap.header\n\n@import clay.plugin.compute_shadow_map\n\nvoid main()\n{\n float shadow = 1.0;\n\n @import ecgl.common.ssaoMap.main\n\n#if defined(DIRECTIONAL_LIGHT_COUNT) && defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n float shadowContribsDir[DIRECTIONAL_LIGHT_COUNT];\n if(shadowEnabled)\n {\n computeShadowOfDirectionalLights(v_WorldPosition, shadowContribsDir);\n }\n for (int i = 0; i < DIRECTIONAL_LIGHT_COUNT; i++) {\n shadow = min(shadow, shadowContribsDir[i] * 0.5 + 0.5);\n }\n#endif\n\n shadow *= 0.5 + ao * 0.5;\n shadow = clamp(shadow, 0.0, 1.0);\n\n gl_FragColor = vec4(vec3(0.0), 1.0 - shadow);\n}\n\n@end";P.Shader.import(bK);const jke=Ei.extend({type:"mapbox3D",__ecgl__:!0,init:function(e,n){var t=n.getZr();this._zrLayer=new Wke("mapbox3D",t),t.painter.insertLayer(-1e3,this._zrLayer),this._lightRoot=new P.Node,this._sceneHelper=new Tp(this._lightRoot),this._sceneHelper.initLight(this._lightRoot);var r=this._zrLayer.getMapbox(),i=this._dispatchInteractAction.bind(this,n,r);["zoom","rotate","drag","pitch","rotate","move"].forEach(function(a){r.on(a,i)}),this._groundMesh=new P.Mesh({geometry:new P.PlaneGeometry,material:new P.Material({shader:new P.Shader({vertex:P.Shader.source("ecgl.displayShadow.vertex"),fragment:P.Shader.source("ecgl.displayShadow.fragment")}),depthMask:!1}),renderOrder:-100,culling:!1,castShadow:!1,$ignorePicking:!0,renderNormal:!0})},render:function(e,n,t){var r=this._zrLayer.getMapbox(),i=e.get("style"),a=JSON.stringify(i);a!==this._oldStyleStr&&i&&r.setStyle(i),this._oldStyleStr=a,r.setCenter(e.get("center")),r.setZoom(e.get("zoom")),r.setPitch(e.get("pitch")),r.setBearing(e.get("bearing")),e.setMapbox(r);var o=e.coordinateSystem;o.viewGL.scene.add(this._lightRoot),o.viewGL.add(this._groundMesh),this._updateGroundMesh(),this._sceneHelper.setScene(o.viewGL.scene),this._sceneHelper.updateLight(e),o.viewGL.setPostEffect(e.getModel("postEffect"),t),o.viewGL.setTemporalSuperSampling(e.getModel("temporalSuperSampling")),this._mapbox3DModel=e},afterRender:function(e,n,t,r){var i=r.renderer;this._sceneHelper.updateAmbientCubemap(i,e,t),this._sceneHelper.updateSkybox(i,e,t),e.coordinateSystem.viewGL.scene.traverse(function(a){a.material&&(a.material.define("fragment","NORMAL_UP_AXIS",2),a.material.define("fragment","NORMAL_FRONT_AXIS",1))})},updateCamera:function(e,n,t,r){e.coordinateSystem.setCameraOption(r),this._updateGroundMesh(),t.getZr().refresh()},_dispatchInteractAction:function(e,n,t){e.dispatchAction({type:"mapbox3DChangeCamera",pitch:n.getPitch(),zoom:n.getZoom(),center:n.getCenter().toArray(),bearing:n.getBearing(),mapbox3DId:this._mapbox3DModel&&this._mapbox3DModel.id})},_updateGroundMesh:function(){if(this._mapbox3DModel){var e=this._mapbox3DModel.coordinateSystem,n=e.dataToPoint(e.center);this._groundMesh.position.set(n[0],n[1],-.001);var t=new P.Plane(new P.Vector3(0,0,1),0),r=e.viewGL.camera.castRay(new P.Vector2(-1,-1)),i=e.viewGL.camera.castRay(new P.Vector2(1,1)),a=r.intersectPlane(t),o=i.intersectPlane(t),s=a.dist(o)/e.viewGL.rootNode.scale.x;this._groundMesh.scale.set(s,s,1)}},dispose:function(e,n){this._zrLayer&&this._zrLayer.dispose(),n.getZr().painter.delLayer(-1e3)}});var Uc=Ar.mat4,lI=.6435011087932844,Fa=Math.PI;function cI(){this.width=0,this.height=0,this.altitudeScale=1,this.boxHeight="auto",this.bearing=0,this.pitch=0,this.center=[0,0],this.zoom=0,this.maxPitch=60,this.zoomOffset=0}cI.prototype={constructor:cI,dimensions:["lng","lat","alt"],containPoint:function(){},setCameraOption:function(e){this.bearing=e.bearing,this.pitch=e.pitch,this.center=e.center,this.zoom=e.zoom,this._origin||(this._origin=this.projectOnTileWithScale(this.center,512)),null==this._initialZoom&&(this._initialZoom=this.zoom),this.updateTransform()},updateTransform:function(){if(this.height){var e=.5/Math.tan(lI/2)*this.height*.1,n=Math.max(Math.min(this.pitch,this.maxPitch),0)/180*Math.PI,t=lI/2,r=Math.PI/2+n,i=Math.sin(t)*e/Math.sin(Math.PI-r-t),o=1.1*(Math.cos(Math.PI/2-n)*i+e);this.pitch>50&&(o=1e3),Uc.perspective(s=[],lI,this.width/this.height,1,o),this.viewGL.camera.projectionMatrix.setArray(s),this.viewGL.camera.decomposeProjectionMatrix();var s=Uc.identity([]),l=this.dataToPoint(this.center);Uc.scale(s,s,[1,-1,1]),Uc.translate(s,s,[0,0,-e]),Uc.rotateX(s,s,n),Uc.rotateZ(s,s,-this.bearing/180*Math.PI),Uc.translate(s,s,[-l[0]*this.getScale()*.1,-l[1]*this.getScale()*.1,0]),this.viewGL.camera.viewMatrix.array=s;var c=[];Uc.invert(c,s),this.viewGL.camera.worldTransform.array=c,this.viewGL.camera.decomposeWorldTransform();var h,u=512*this.getScale();h=this.altitudeExtent&&!isNaN(this.boxHeight)?this.boxHeight/(this.altitudeExtent[1]-this.altitudeExtent[0])*this.getScale()/Math.pow(2,this._initialZoom-this.zoomOffset):u/(2*Math.PI*6378e3*Math.abs(Math.cos(this.center[1]*(Math.PI/180))))*this.altitudeScale*.1,this.viewGL.rootNode.scale.set(.1*this.getScale(),.1*this.getScale(),h)}},getScale:function(){return Math.pow(2,this.zoom-this.zoomOffset)},projectOnTile:function(e,n){return this.projectOnTileWithScale(e,512*this.getScale(),n)},projectOnTileWithScale:function(e,n,t){var s=n*(e[0]*Fa/180+Fa)/(2*Fa),l=n*(Fa-Math.log(Math.tan(Fa/4+e[1]*Fa/180*.5)))/(2*Fa);return(t=t||[])[0]=s,t[1]=l,t},unprojectFromTile:function(e,n){return this.unprojectOnTileWithScale(e,512*this.getScale(),n)},unprojectOnTileWithScale:function(e,n,t){var a=e[0]/n*(2*Fa)-Fa,o=2*(Math.atan(Math.exp(Fa-e[1]/n*(2*Fa)))-Fa/4);return(t=t||[])[0]=180*a/Fa,t[1]=180*o/Fa,t},dataToPoint:function(e,n){return(n=this.projectOnTileWithScale(e,512,n))[0]-=this._origin[0],n[1]-=this._origin[1],n[2]=isNaN(e[2])?0:e[2],isNaN(e[2])||(n[2]=e[2],this.altitudeExtent&&(n[2]-=this.altitudeExtent[0])),n}};const sw=cI;function Vm(){sw.apply(this,arguments)}function CK(e,n,t){function r(a,o){var s=o.getWidth(),l=o.getHeight(),c=o.getDevicePixelRatio();this.viewGL.setViewport(0,0,s,l,c),this.width=s,this.height=l,this.altitudeScale=a.get("altitudeScale"),this.boxHeight=a.get("boxHeight")}function i(a,o){if("auto"!==this.model.get("boxHeight")){var s=[1/0,-1/0];a.eachSeries(function(l){if(l.coordinateSystem===this){var c=l.getData(),u=l.coordDimToDataDim("alt")[0];if(u){var h=c.getDataExtent(u,!0);s[0]=Math.min(s[0],h[0]),s[1]=Math.max(s[1],h[1])}}},this),s&&isFinite(s[1]-s[0])&&(this.altitudeExtent=s)}}return{dimensions:n.prototype.dimensions,create:function(a,o){var s=[];return a.eachComponent(e,function(l){var c=l.__viewGL;c||(c=l.__viewGL=new Vc).setRootNode(new P.Node);var u=new n;u.viewGL=l.__viewGL,u.resize=r,u.resize(l,o),s.push(u),l.coordinateSystem=u,u.model=l,u.update=i}),a.eachSeries(function(l){if(l.get("coordinateSystem")===e){var c=l.getReferringComponents(e).models[0];if(c||(c=a.getComponent(e)),!c)throw new Error(e+' "'+Ct.firstNotNull(l.get(e+"Index"),l.get(e+"Id"),0)+'" not found');l.coordinateSystem=c.coordinateSystem}}),t&&t(s,a,o),s}}}(Vm.prototype=new sw).constructor=Vm,Vm.prototype.type="mapbox3D";var Yke=CK("mapbox3D",Vm,function(e){e.forEach(function(n){n.setCameraOption(n.model.getMapboxCameraOption())})});const Xke=Yke;Vn(function qke(e){e.registerComponentModel(Gke),e.registerComponentView(jke),e.registerCoordinateSystem("mapbox3D",Xke),e.registerAction({type:"mapbox3DChangeCamera",event:"mapbox3dcamerachanged",update:"mapbox3D:updateCamera"},function(n,t){t.eachComponent({mainType:"mapbox3D",query:n},function(r){r.setMapboxCameraOption(n)})})});var wK=["zoom","center","pitch","bearing"],uI=cn.extend({type:"maptalks3D",layoutMode:"box",coordinateSystem:null,defaultOption:{zlevel:-10,urlTemplate:"http://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png",attribution:'&copy; <a href="http://osm.org">OpenStreetMap</a> contributors, &copy; <a href="https://carto.com/">CARTO</a>',center:[0,0],zoom:0,pitch:0,bearing:0,light:{main:{alpha:20,beta:30}},altitudeScale:1,boxHeight:"auto"},getMaptalksCameraOption:function(){var e=this;return wK.reduce(function(n,t){return n[t]=e.get(t),n},{})},setMaptalksCameraOption:function(e){null!=e&&wK.forEach(function(n){null!=e[n]&&(this.option[n]=e[n])},this)},getMaptalks:function(){return this._maptalks},setMaptalks:function(e){this._maptalks=e}});Ee(uI.prototype,xp),Ee(uI.prototype,Mp);const Zke=uI;function Gc(e,n,t,r){if(this.id=e,this.zr=n,this.dom=document.createElement("div"),this.dom.style.cssText="position:absolute;left:0;right:0;top:0;bottom:0;",!maptalks)throw new Error("Maptalks library must be included. See https://maptalks.org");this._maptalks=new maptalks.Map(this.dom,{center:t,zoom:r,doubleClickZoom:!1,fog:!1}),this._initEvents()}Gc.prototype.setUnpainted=function(){},Gc.prototype.resize=function(){this._maptalks.checkSize()},Gc.prototype.getMaptalks=function(){return this._maptalks},Gc.prototype.clear=function(){},Gc.prototype.refresh=function(){this._maptalks.checkSize()};var SK=["mousedown","mouseup","click","dblclick","mousemove","mousewheel","DOMMouseScroll","touchstart","touchend","touchmove","touchcancel"];Gc.prototype._initEvents=function(){var e=this.dom;this._handlers=this._handlers||{contextmenu:function(n){return n.preventDefault(),!1}},SK.forEach(function(n){this._handlers[n]=function(t){var r={};for(var i in t)r[i]=t[i];r.bubbles=!1;var a=new t.constructor(t.type,r);"mousewheel"===n||"DOMMouseScroll"===n?e.dispatchEvent(a):e.firstElementChild.dispatchEvent(a)},this.zr.dom.addEventListener(n,this._handlers[n])},this),this.zr.dom.addEventListener("contextmenu",this._handlers.contextmenu)},Gc.prototype.dispose=function(){SK.forEach(function(e){this.zr.dom.removeEventListener(e,this._handlers[e])},this),this._maptalks.remove()};const Kke=Gc;P.Shader.import(bK);const Qke=Ei.extend({type:"maptalks3D",__ecgl__:!0,init:function(e,n){this._groundMesh=new P.Mesh({geometry:new P.PlaneGeometry,material:new P.Material({shader:new P.Shader({vertex:P.Shader.source("ecgl.displayShadow.vertex"),fragment:P.Shader.source("ecgl.displayShadow.fragment")}),depthMask:!1}),renderOrder:-100,culling:!1,castShadow:!1,$ignorePicking:!0,renderNormal:!0})},_initMaptalksLayer:function(e,n){var t=n.getZr();this._zrLayer=new Kke("maptalks3D",t,e.get("center"),e.get("zoom")),t.painter.insertLayer(-1e3,this._zrLayer),this._lightRoot=new P.Node,this._sceneHelper=new Tp(this._lightRoot),this._sceneHelper.initLight(this._lightRoot);var r=this._zrLayer.getMaptalks(),i=this._dispatchInteractAction.bind(this,n,r);["zoomend","zooming","zoomstart","dragrotating","pitch","pitchend","movestart","moving","moveend","resize","touchstart","touchmove","touchend","animating"].forEach(function(a){r.on(a,i)})},render:function(e,n,t){this._zrLayer||this._initMaptalksLayer(e,t);var r=this._zrLayer.getMaptalks(),i=e.get("urlTemplate"),a=r.getBaseLayer();i!==this._oldUrlTemplate&&(a?a.setOptions({urlTemplate:i,attribution:e.get("attribution")}):(a=new maptalks.TileLayer("maptalks-echarts-gl-baselayer",{urlTemplate:i,subdomains:["a","b","c"],attribution:e.get("attribution")}),r.setBaseLayer(a))),this._oldUrlTemplate=i,r.setCenter(e.get("center")),r.setZoom(e.get("zoom"),{animation:!1}),r.setPitch(e.get("pitch")),r.setBearing(e.get("bearing")),e.setMaptalks(r);var o=e.coordinateSystem;o.viewGL.scene.add(this._lightRoot),o.viewGL.add(this._groundMesh),this._updateGroundMesh(),this._sceneHelper.setScene(o.viewGL.scene),this._sceneHelper.updateLight(e),o.viewGL.setPostEffect(e.getModel("postEffect"),t),o.viewGL.setTemporalSuperSampling(e.getModel("temporalSuperSampling")),this._maptalks3DModel=e},afterRender:function(e,n,t,r){var i=r.renderer;this._sceneHelper.updateAmbientCubemap(i,e,t),this._sceneHelper.updateSkybox(i,e,t),e.coordinateSystem.viewGL.scene.traverse(function(a){a.material&&(a.material.define("fragment","NORMAL_UP_AXIS",2),a.material.define("fragment","NORMAL_FRONT_AXIS",1))})},updateCamera:function(e,n,t,r){e.coordinateSystem.setCameraOption(r),this._updateGroundMesh(),t.getZr().refresh()},_dispatchInteractAction:function(e,n,t){e.dispatchAction({type:"maptalks3DChangeCamera",pitch:n.getPitch(),zoom:e6e(n.getResolution())+1,center:n.getCenter().toArray(),bearing:n.getBearing(),maptalks3DId:this._maptalks3DModel&&this._maptalks3DModel.id})},_updateGroundMesh:function(){if(this._maptalks3DModel){var e=this._maptalks3DModel.coordinateSystem,n=e.dataToPoint(e.center);this._groundMesh.position.set(n[0],n[1],-.001);var t=new P.Plane(new P.Vector3(0,0,1),0),r=e.viewGL.camera.castRay(new P.Vector2(-1,-1)),i=e.viewGL.camera.castRay(new P.Vector2(1,1)),a=r.intersectPlane(t),o=i.intersectPlane(t),s=a.dist(o)/e.viewGL.rootNode.scale.x;this._groundMesh.scale.set(s,s,1)}},dispose:function(e,n){this._zrLayer&&this._zrLayer.dispose(),n.getZr().painter.delLayer(-1e3)}}),Jke=12756274*Math.PI/(256*Math.pow(2,20));function e6e(e){return 19-Math.log(e/Jke)/Math.LN2}function Hm(){sw.apply(this,arguments),this.maxPitch=85,this.zoomOffset=1}(Hm.prototype=new sw).constructor=Hm,Hm.prototype.type="maptalks3D";var t6e=CK("maptalks3D",Hm,function(e){e.forEach(function(n){n.setCameraOption(n.model.getMaptalksCameraOption())})});const n6e=t6e;Vn(function r6e(e){e.registerComponentModel(Zke),e.registerComponentView(Qke),e.registerCoordinateSystem("maptalks3D",n6e),e.registerAction({type:"maptalks3DChangeCamera",event:"maptalks3dcamerachanged",update:"maptalks3D:updateCamera"},function(n,t){t.eachComponent({mainType:"maptalks3D",query:n},function(r){r.setMaptalksCameraOption(n)})})});var i6e=Ar.vec3,a6e=eN.isDimensionStacked;function hI(e,n,t){for(var r=e.getDataExtent(n),i=e.getDataExtent(t),a=r[1]-r[0]||r[0],o=i[1]-i[0]||i[0],l=new Uint8Array(2500),c=0;c<e.count();c++){var u=e.get(n,c),h=e.get(t,c),d=Math.floor((u-r[0])/a*49),p=50*Math.floor((h-i[0])/o*49)+d;l[p]=l[p]||1}var g=0;for(c=0;c<l.length;c++)l[c]&&g++;return g/l.length}var xK=Ar.vec3,c6e=eN.isDimensionStacked;function dI(e,n){var t=c6e(e,n[2]);return{dimension:t?e.getCalculationInfo("stackResultDimension"):n[2],isStacked:t}}function f6e(e){e.registerLayout(function(n,t){n.eachSeriesByType("bar3D",function(r){var i=r.coordinateSystem,a=i&&i.type;"globe"===a?function u6e(e,n){var t=e.getData(),r=e.get("minHeight")||0,i=e.get("barSize"),a=["lng","lat","alt"].map(function(c){return e.coordDimToDataDim(c)[0]});if(null==i){var o=n.radius*Math.PI,s=hI(t,a[0],a[1]);i=[o/Math.sqrt(t.count()/s),o/Math.sqrt(t.count()/s)]}else ne(i)||(i=[i,i]);var l=dI(t,a);t.each(a,function(c,u,h,d){var f=t.get(l.dimension,d),p=l.isStacked?f-h:n.altitudeAxis.scale.getExtent()[0],g=Math.max(n.altitudeAxis.dataToCoord(h),r),m=n.dataToPoint([c,u,p]),v=n.dataToPoint([c,u,f]),_=xK.sub([],v,m);xK.normalize(_,_),t.setItemLayout(d,[m,_,[i[0],g,i[1]]])}),t.setLayout("orient",fe.UP.array)}(r,i):"cartesian3D"===a?function s6e(e,n){var t=e.getData(),r=e.get("barSize");if(null==r){var a,o,i=n.size,s=n.getAxis("x"),l=n.getAxis("y");a="category"===s.type?.7*s.getBandWidth():.6*Math.round(i[0]/Math.sqrt(t.count())),o="category"===l.type?.7*l.getBandWidth():.6*Math.round(i[1]/Math.sqrt(t.count())),r=[a,o]}else ne(r)||(r=[r,r]);var c=n.getAxis("z").scale.getExtent(),u=function o6e(e){var n=e[0],t=e[1];return!(n>0&&t>0||n<0&&t<0)}(c),h=["x","y","z"].map(function(p){return e.coordDimToDataDim(p)[0]}),d=a6e(t,h[2]),f=d?t.getCalculationInfo("stackResultDimension"):h[2];t.each(h,function(p,g,m,v){var _=t.get(f,v),b=n.dataToPoint([p,g,d?_-m:u?0:c[0]]),w=n.dataToPoint([p,g,_]),C=i6e.dist(b,w),S=[0,w[1]<b[1]?-1:1,0];0===Math.abs(C)&&(C=.1),t.setItemLayout(v,[b,S,[r[0],C,r[1]]])}),t.setLayout("orient",[1,0,0])}(r,i):"geo3D"===a?function h6e(e,n){var t=e.getData(),r=e.get("barSize"),i=e.get("minHeight")||0,a=["lng","lat","alt"].map(function(u){return e.coordDimToDataDim(u)[0]});if(null==r){var o=Math.min(n.size[0],n.size[2]),s=hI(t,a[0],a[1]);r=[o/Math.sqrt(t.count()/s),o/Math.sqrt(t.count()/s)]}else ne(r)||(r=[r,r]);var l=[0,1,0],c=dI(t,a);t.each(a,function(u,h,d,f){var p=t.get(c.dimension,f),g=c.isStacked?p-d:n.altitudeAxis.scale.getExtent()[0],m=Math.max(n.altitudeAxis.dataToCoord(d),i),v=n.dataToPoint([u,h,g]);t.setItemLayout(f,[v,l,[r[0],m,r[1]]])}),t.setLayout("orient",[1,0,0])}(r,i):("mapbox3D"===a||"maptalks3D"===a)&&function d6e(e,n){var t=e.getData(),r=e.coordDimToDataDim("lng")[0],i=e.coordDimToDataDim("lat")[0],a=e.coordDimToDataDim("alt")[0],o=e.get("barSize"),s=e.get("minHeight")||0;if(null==o){var l=t.getDataExtent(r),c=t.getDataExtent(i),u=n.dataToPoint([l[0],c[0]]),h=n.dataToPoint([l[1],c[1]]),d=Math.min(Math.abs(u[0]-h[0]),Math.abs(u[1]-h[1]))||1,f=hI(t,r,i);o=[d/Math.sqrt(t.count()/f),d/Math.sqrt(t.count()/f)]}else ne(o)||(o=[o,o]),o[0]/=n.getScale()/16,o[1]/=n.getScale()/16;var p=[0,0,1],g=[r,i,a],m=dI(t,g);t.each(g,function(v,_,y,b){var w=t.get(m.dimension,b),S=n.dataToPoint([v,_,m.isStacked?w-y:0]),x=n.dataToPoint([v,_,w]),M=Math.max(x[2]-S[2],s);t.setItemLayout(b,[S,p,[o[0],M,o[1]]])}),t.setLayout("orient",[1,0,0])}(r,i)})})}var fI={getFormattedLabel:function(e,n,t,r,i){t=t||"normal";var o=e.getData(r).getItemModel(n),s=e.getDataParams(n,r);null!=i&&s.value instanceof Array&&(s.value=s.value[i]);var c,l=o.get("normal"===t?["label","formatter"]:["emphasis","label","formatter"]);return null==l&&(l=o.get(["label","formatter"])),"function"==typeof l?(s.status=t,c=l(s)):"string"==typeof l&&(c=RE(l,s)),c},normalizeToArray:function(e){return e instanceof Array?e:null==e?[]:[e]}};const Rp=fI;function Um(e,n,t){var i=e.getData(),a=e.getRawValue(n),o=ne(a)?function r(h){var f=[],p=function p6e(e,n){var t=[];return I(e.dimensions,function(r){var i=e.getDimensionInfo(r),o=i.otherDims[n];null!=o&&!1!==o&&(t[o]=i.name)}),t}(i,"tooltip");function g(m,v){var _=i.getDimensionInfo(v);if(_&&!1!==_.otherDims.tooltip){var y=_.type,b="- "+(_.tooltipName||_.name)+": "+("ordinal"===y?m+"":"time"===y?t?"":function nxe(e,n,t){("week"===e||"month"===e||"quarter"===e||"half-year"===e||"year"===e)&&(e="MM-dd\nyyyy");var r=ss(n),i=t?"getUTC":"get",a=r[i+"FullYear"](),o=r[i+"Month"]()+1,s=r[i+"Date"](),l=r[i+"Hours"](),c=r[i+"Minutes"](),u=r[i+"Seconds"](),h=r[i+"Milliseconds"]();return e.replace("MM",Aa(o,2)).replace("M",o).replace("yyyy",a).replace("yy",Aa(a%100+"",2)).replace("dd",Aa(s,2)).replace("d",s).replace("hh",Aa(l,2)).replace("h",l).replace("mm",Aa(c,2)).replace("m",c).replace("ss",Aa(u,2)).replace("s",u).replace("SSS",Aa(h,3))}("yyyy/MM/dd hh:mm:ss",m):ib(m));b&&f.push(gi(b))}}return p.length?I(p,function(m){g(i.get(m,n),m)}):I(h,g),"<br/>"+f.join("<br/>")}(a):gi(ib(a)),s=i.getName(n),l=ui(i,n);ze(l)&&l.colorStops&&(l=(l.colorStops[0]||{}).color);var c=LU(l=l||"transparent"),u=e.name;return"\0-"===u&&(u=""),u=u?gi(u)+(t?": ":"<br/>"):"",t?c+u+o:u+c+(s?gi(s)+": "+o:o)}function lw(e,n,t){t=t||e.getSource();var r=n||Ij(e.get("coordinateSystem"))||["x","y","z"],i=im(t,{dimensionsDefine:t.dimensionsDefine||e.get("dimensions"),encodeDefine:t.encodeDefine||e.get("encode"),coordDimensions:r.map(function(s){var l=e.getReferringComponents(s+"Axis3D").models[0];return{type:l&&"category"===l.get("type")?"ordinal":"float",name:s}})});"cartesian3D"===e.get("coordinateSystem")&&i.forEach(function(s){if(r.indexOf(s.coordDim)>=0){var l=e.getReferringComponents(s.coordDim+"Axis3D").models[0];l&&"category"===l.get("type")&&(s.ordinalMeta=l.getOrdinalMeta())}});var a=eN.enableDataStack(e,i,{byIndex:!0,stackedCoordDimension:"z"}),o=new Lo(i,e);return o.setCalculationInfo(a),o.initData(t),o}var MK=si.extend({type:"series.bar3D",dependencies:["globe"],visualStyleAccessPathvisu:"itemStyle",getInitialData:function(e,n){return lw(this)},getFormattedLabel:function(e,n,t,r){var i=Rp.getFormattedLabel(this,e,n,t,r);return null==i&&(i=this.getData().get("z",e)),i},formatTooltip:function(e){return Um(this,e)},defaultOption:{coordinateSystem:"cartesian3D",globeIndex:0,grid3DIndex:0,zlevel:-10,bevelSize:0,bevelSmoothness:2,onGridPlane:"xy",shading:"color",minHeight:0,itemStyle:{opacity:1},label:{show:!1,distance:2,textStyle:{fontSize:14,color:"#000",backgroundColor:"rgba(255,255,255,0.7)",padding:3,borderRadius:3}},emphasis:{label:{show:!0}},animationDurationUpdate:500}});Ee(MK.prototype,Ap);const g6e=MK;var dr=Ar.vec3,m6e=Ar.mat3,pI=Qt.extend(function(){return{attributes:{position:new Qt.Attribute("position","float",3,"POSITION"),normal:new Qt.Attribute("normal","float",3,"NORMAL"),color:new Qt.Attribute("color","float",4,"COLOR"),prevPosition:new Qt.Attribute("prevPosition","float",3),prevNormal:new Qt.Attribute("prevNormal","float",3)},dynamic:!0,enableNormal:!1,bevelSize:1,bevelSegments:0,_dataIndices:null,_vertexOffset:0,_triangleOffset:0}},{resetOffset:function(){this._vertexOffset=0,this._triangleOffset=0},setBarCount:function(e){var n=this.enableNormal,t=this.getBarVertexCount()*e,r=this.getBarTriangleCount()*e;this.vertexCount!==t&&(this.attributes.position.init(t),n?this.attributes.normal.init(t):this.attributes.normal.value=null,this.attributes.color.init(t)),this.triangleCount!==r&&(this.indices=t>65535?new Uint32Array(3*r):new Uint16Array(3*r),this._dataIndices=new Uint32Array(t))},getBarVertexCount:function(){var e=this.bevelSize>0?this.bevelSegments:0;return e>0?this._getBevelBarVertexCount(e):this.enableNormal?24:8},getBarTriangleCount:function(){var e=this.bevelSize>0?this.bevelSegments:0;return e>0?this._getBevelBarTriangleCount(e):12},_getBevelBarVertexCount:function(e){return 4*(e+1)*(e+1)*2},_getBevelBarTriangleCount:function(e){return(4*e+3+1)*(2*e+1)*2+4},setColor:function(e,n){for(var t=this.getBarVertexCount(),i=t*(e+1),a=t*e;a<i;a++)this.attributes.color.set(a,n);this.dirtyAttribute("color")},getDataIndexOfVertex:function(e){return this._dataIndices?this._dataIndices[e]:null},addBar:function(){for(var e=dr.create,n=dr.scaleAndAdd,t=e(),r=e(),i=e(),a=e(),o=e(),s=e(),l=e(),c=[],u=[],h=0;h<8;h++)c[h]=e();var d=[[0,1,5,4],[2,3,7,6],[4,5,6,7],[3,2,1,0],[0,4,7,3],[1,2,6,5]],f=[0,1,2,0,2,3],p=[];for(h=0;h<d.length;h++)for(var g=d[h],m=0;m<2;m++){for(var v=[],_=0;_<3;_++)v.push(g[f[3*m+_]]);p.push(v)}return function(y,b,w,C,S,x){var M=this._vertexOffset;if(this.bevelSize>0&&this.bevelSegments>0)this._addBevelBar(y,b,w,C,this.bevelSize,this.bevelSegments,S);else{dr.copy(i,b),dr.normalize(i,i),dr.cross(a,w,i),dr.normalize(a,a),dr.cross(r,i,a),dr.normalize(a,a),dr.negate(o,r),dr.negate(s,i),dr.negate(l,a),n(c[0],y,r,C[0]/2),n(c[0],c[0],a,C[2]/2),n(c[1],y,r,C[0]/2),n(c[1],c[1],l,C[2]/2),n(c[2],y,o,C[0]/2),n(c[2],c[2],l,C[2]/2),n(c[3],y,o,C[0]/2),n(c[3],c[3],a,C[2]/2),n(t,y,i,C[1]),n(c[4],t,r,C[0]/2),n(c[4],c[4],a,C[2]/2),n(c[5],t,r,C[0]/2),n(c[5],c[5],l,C[2]/2),n(c[6],t,o,C[0]/2),n(c[6],c[6],l,C[2]/2),n(c[7],t,o,C[0]/2),n(c[7],c[7],a,C[2]/2);var E=this.attributes;if(this.enableNormal){u[0]=r,u[1]=o,u[2]=i,u[3]=s,u[4]=a,u[5]=l;for(var T=this._vertexOffset,A=0;A<d.length;A++){for(var N=3*this._triangleOffset,R=0;R<6;R++)this.indices[N++]=T+f[R];T+=4,this._triangleOffset+=2}for(A=0;A<d.length;A++){var z=u[A];for(R=0;R<4;R++)E.position.set(this._vertexOffset,c[d[A][R]]),E.normal.set(this._vertexOffset,z),E.color.set(this._vertexOffset++,S)}}else{for(A=0;A<p.length;A++){for(N=3*this._triangleOffset,R=0;R<3;R++)this.indices[N+R]=p[A][R]+this._vertexOffset;this._triangleOffset++}for(A=0;A<c.length;A++)E.position.set(this._vertexOffset,c[A]),E.color.set(this._vertexOffset++,S)}}var V=this._vertexOffset;for(A=M;A<V;A++)this._dataIndices[A]=x}}(),_addBevelBar:function(){var e=dr.create(),n=dr.create(),t=dr.create(),r=m6e.create(),i=[],a=[1,-1,-1,1],o=[1,1,-1,-1],s=[2,0];return function(l,c,u,h,d,f,p){dr.copy(n,c),dr.normalize(n,n),dr.cross(t,u,n),dr.normalize(t,t),dr.cross(e,n,t),dr.normalize(t,t),r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=n[0],r[4]=n[1],r[5]=n[2],r[6]=t[0],r[7]=t[1],r[8]=t[2],d=Math.min(h[0],h[2])/2*d;for(var g=0;g<3;g++)i[g]=Math.max(h[g]-2*d,0);var m=(h[0]-i[0])/2,v=(h[1]-i[1])/2,_=(h[2]-i[2])/2,y=[],b=[],w=this._vertexOffset,C=[];for(g=0;g<2;g++){C[g]=C[g]=[];for(var S=0;S<=f;S++)for(var x=0;x<4;x++){(0===S&&0===g||1===g&&S===f)&&C[g].push(w);for(var M=0;M<=f;M++){var E=M/f*Math.PI/2+Math.PI/2*x,T=S/f*Math.PI/2+Math.PI/2*g;b[0]=m*Math.cos(E)*Math.sin(T),b[1]=v*Math.cos(T),b[2]=_*Math.sin(E)*Math.sin(T),y[0]=b[0]+a[x]*i[0]/2,y[1]=b[1]+v+s[g]*i[1]/2,y[2]=b[2]+o[x]*i[2]/2,Math.abs(m-v)<1e-6&&Math.abs(v-_)<1e-6||(b[0]/=m*m,b[1]/=v*v,b[2]/=_*_),dr.normalize(b,b),dr.transformMat3(y,y,r),dr.transformMat3(b,b,r),dr.add(y,y,l),this.attributes.position.set(w,y),this.enableNormal&&this.attributes.normal.set(w,b),this.attributes.color.set(w,p),w++}}}var A=4*f+3,N=2*f+1,R=A+1;for(x=0;x<N;x++)for(g=0;g<=A;g++){var z=x*R+g+this._vertexOffset,L=x*R+(g+1)%R+this._vertexOffset,V=(x+1)*R+(g+1)%R+this._vertexOffset,F=(x+1)*R+g+this._vertexOffset;this.setTriangleIndices(this._triangleOffset++,[V,z,L]),this.setTriangleIndices(this._triangleOffset++,[V,F,z])}this.setTriangleIndices(this._triangleOffset++,[C[0][0],C[0][2],C[0][1]]),this.setTriangleIndices(this._triangleOffset++,[C[0][0],C[0][3],C[0][2]]),this.setTriangleIndices(this._triangleOffset++,[C[1][0],C[1][1],C[1][2]]),this.setTriangleIndices(this._triangleOffset++,[C[1][0],C[1][2],C[1][3]]),this._vertexOffset=w}}()});ut(pI.prototype,Pm),ut(pI.prototype,nI);const v6e=pI;var _6e=Ar.vec3;const y6e=Rr.extend({type:"bar3D",__ecgl__:!0,init:function(e,n){this.groupGL=new P.Node,this._api=n,this._labelsBuilder=new rI(256,256,n);var t=this;this._labelsBuilder.getLabelPosition=function(r,i,a){if(t._data){var o=t._data.getItemLayout(r);return _6e.scaleAndAdd([],o[0],o[1],a+o[2][1])}return[0,0]},this._labelsBuilder.getMesh().renderOrder=100},render:function(e,n,t){var r=this._prevBarMesh;this._prevBarMesh=this._barMesh,this._barMesh=r,this._barMesh||(this._barMesh=new P.Mesh({geometry:new v6e,shadowDepthMaterial:new P.Material({shader:new P.Shader(P.Shader.source("ecgl.sm.depth.vertex"),P.Shader.source("ecgl.sm.depth.fragment"))}),culling:"cartesian3D"===e.coordinateSystem.type,renderOrder:10,renderNormal:!0})),this.groupGL.remove(this._prevBarMesh),this.groupGL.add(this._barMesh),this.groupGL.add(this._labelsBuilder.getMesh());var i=e.coordinateSystem;if(this._doRender(e,t),i&&i.viewGL){i.viewGL.add(this.groupGL);var a=i.viewGL.isLinearSpace()?"define":"undefine";this._barMesh.material[a]("fragment","SRGB_DECODE")}this._data=e.getData(),this._labelsBuilder.updateData(this._data),this._labelsBuilder.updateLabels(),this._updateAnimation(e)},_updateAnimation:function(e){P.updateVertexAnimation([["prevPosition","position"],["prevNormal","normal"]],this._prevBarMesh,this._barMesh,e)},_doRender:function(e,n){var t=e.getData(),r=e.get("shading"),i="color"!==r,a=this,o=this._barMesh,s="ecgl."+r;(!o.material||o.material.shader.name!==s)&&(o.material=P.createMaterial(s,["VERTEX_COLOR"])),P.setMaterialFromModel(r,o.material,e,n),o.geometry.enableNormal=i,o.geometry.resetOffset();var l=e.get("bevelSize"),c=e.get("bevelSmoothness");o.geometry.bevelSegments=c,o.geometry.bevelSize=l;var u=[],h=new Float32Array(4*t.count()),d=0,m=0,f=!1;t.each(function(_){if(t.hasValue(_)){var y=ui(t,_),b=hi(t,_);null==b&&(b=1),P.parseColor(y,u),u[3]*=b,h[d++]=u[0],h[d++]=u[1],h[d++]=u[2],h[d++]=u[3],u[3]>0&&(m++,u[3]<.99&&(f=!0))}}),o.geometry.setBarCount(m);var p=t.getLayout("orient"),g=this._barIndexOfData=new Int32Array(t.count());m=0,t.each(function(_){if(t.hasValue(_)){var y=t.getItemLayout(_),b=y[0],w=y[1],C=y[2],S=4*_;u[0]=h[S++],u[1]=h[S++],u[2]=h[S++],u[3]=h[S++],u[3]>0&&(a._barMesh.geometry.addBar(b,w,p,C,u,_),g[_]=m++)}else g[_]=-1}),o.geometry.dirty(),o.geometry.updateBoundingBox();var v=o.material;v.transparent=f,v.depthMask=!f,o.geometry.sortTriangles=f,this._initHandler(e,n)},_initHandler:function(e,n){var t=e.getData(),r=this._barMesh,i="cartesian3D"===e.coordinateSystem.type;r.seriesIndex=e.seriesIndex;var a=-1;r.off("mousemove"),r.off("mouseout"),r.on("mousemove",function(o){var s=r.geometry.getDataIndexOfVertex(o.triangle[0]);s!==a&&(this._downplay(a),this._highlight(s),this._labelsBuilder.updateLabels([s]),i&&n.dispatchAction({type:"grid3DShowAxisPointer",value:[t.get("x",s),t.get("y",s),t.get("z",s,!0)]})),a=s,r.dataIndex=s},this),r.on("mouseout",function(o){this._downplay(a),this._labelsBuilder.updateLabels(),a=-1,r.dataIndex=-1,i&&n.dispatchAction({type:"grid3DHideAxisPointer"})},this)},_highlight:function(e){var n=this._data;if(n){var t=this._barIndexOfData[e];if(!(t<0)){var i=n.getItemModel(e).getModel("emphasis.itemStyle"),a=i.get("color"),o=i.get("opacity");null==a&&(a=Kg(ui(n,e),-.4)),null==o&&(o=hi(n,e));var l=P.parseColor(a);l[3]*=o,this._barMesh.geometry.setColor(t,l),this._api.getZr().refresh()}}},_downplay:function(e){var n=this._data;if(n){var t=this._barIndexOfData[e];if(!(t<0)){var r=ui(n,e),i=hi(n,e),a=P.parseColor(r);a[3]*=i,this._barMesh.geometry.setColor(t,a),this._api.getZr().refresh()}}},highlight:function(e,n,t,r){this._toggleStatus("highlight",e,n,t,r)},downplay:function(e,n,t,r){this._toggleStatus("downplay",e,n,t,r)},_toggleStatus:function(e,n,t,r,i){var a=n.getData(),o=Ct.queryDataIndex(a,i),s=this;null!=o?I(Rp.normalizeToArray(o),function(l){"highlight"===e?this._highlight(l):this._downplay(l)},this):a.each(function(l){"highlight"===e?s._highlight(l):s._downplay(l)})},remove:function(){this.groupGL.removeAll()},dispose:function(){this._labelsBuilder.dispose(),this.groupGL.removeAll()}});Vn(function b6e(e){e.registerChartView(y6e),e.registerSeriesModel(g6e),f6e(e),e.registerProcessor(function(n,t){n.eachSeriesByType("bar3d",function(r){var i=r.getData();i.filterSelf(function(a){return i.hasValue(a)})})})});var C6e=si.extend({type:"series.line3D",dependencies:["grid3D"],visualStyleAccessPath:"lineStyle",visualDrawType:"stroke",getInitialData:function(e,n){return lw(this)},formatTooltip:function(e){return Um(this,e)},defaultOption:{coordinateSystem:"cartesian3D",zlevel:-10,grid3DIndex:0,lineStyle:{width:2},animationDurationUpdate:500}});const w6e=C6e;var S6e=Ar.vec3;P.Shader.import(JC);const x6e=Rr.extend({type:"line3D",__ecgl__:!0,init:function(e,n){this.groupGL=new P.Node,this._api=n},render:function(e,n,t){var r=this._prevLine3DMesh;this._prevLine3DMesh=this._line3DMesh,this._line3DMesh=r,this._line3DMesh||(this._line3DMesh=new P.Mesh({geometry:new Gh({useNativeLine:!1,sortTriangles:!0}),material:new P.Material({shader:P.createShader("ecgl.meshLines3D")}),renderOrder:10}),this._line3DMesh.geometry.pick=this._pick.bind(this)),this.groupGL.remove(this._prevLine3DMesh),this.groupGL.add(this._line3DMesh);var i=e.coordinateSystem;if(i&&i.viewGL){i.viewGL.add(this.groupGL);var a=i.viewGL.isLinearSpace()?"define":"undefine";this._line3DMesh.material[a]("fragment","SRGB_DECODE")}this._doRender(e,t),this._data=e.getData(),this._camera=i.viewGL.camera,this.updateCamera(),this._updateAnimation(e)},updateCamera:function(){this._updateNDCPosition()},_doRender:function(e,n){var t=e.getData(),r=this._line3DMesh;r.geometry.resetOffset();var i=t.getLayout("points"),a=[],o=new Float32Array(i.length/3*4),s=0,l=!1;t.each(function(h){var d=ui(t,h),f=hi(t,h);null==f&&(f=1),P.parseColor(d,a),a[3]*=f,o[s++]=a[0],o[s++]=a[1],o[s++]=a[2],o[s++]=a[3],a[3]<.99&&(l=!0)}),r.geometry.setVertexCount(r.geometry.getPolylineVertexCount(i)),r.geometry.setTriangleCount(r.geometry.getPolylineTriangleCount(i)),r.geometry.addPolyline(i,o,Ct.firstNotNull(e.get("lineStyle.width"),1)),r.geometry.dirty(),r.geometry.updateBoundingBox();var c=r.material;c.transparent=l,c.depthMask=!l;var u=e.getModel("debug.wireframe");u.get("show")?(r.geometry.createAttribute("barycentric","float",3),r.geometry.generateBarycentric(),r.material.set("both","WIREFRAME_TRIANGLE"),r.material.set("wireframeLineColor",P.parseColor(u.get("lineStyle.color")||"rgba(0,0,0,0.5)")),r.material.set("wireframeLineWidth",Ct.firstNotNull(u.get("lineStyle.width"),1))):r.material.set("both","WIREFRAME_TRIANGLE"),this._points=i,this._initHandler(e,n)},_updateAnimation:function(e){P.updateVertexAnimation([["prevPosition","position"],["prevPositionPrev","positionPrev"],["prevPositionNext","positionNext"]],this._prevLine3DMesh,this._line3DMesh,e)},_initHandler:function(e,n){var t=e.getData(),r=e.coordinateSystem,i=this._line3DMesh,a=-1;i.seriesIndex=e.seriesIndex,i.off("mousemove"),i.off("mouseout"),i.on("mousemove",function(o){var s=r.pointToData(o.point.array),l=t.indicesOfNearest("x",s[0])[0];l!==a&&(n.dispatchAction({type:"grid3DShowAxisPointer",value:[t.get("x",l),t.get("y",l),t.get("z",l)]}),i.dataIndex=l),a=l},this),i.on("mouseout",function(o){a=-1,i.dataIndex=-1,n.dispatchAction({type:"grid3DHideAxisPointer"})},this)},_updateNDCPosition:function(){var e=new Oe,n=this._camera;Oe.multiply(e,n.projectionMatrix,n.viewMatrix);var t=this._positionNDC,r=this._points,i=r.length/3;(!t||t.length/2!==i)&&(t=this._positionNDC=new Float32Array(2*i));for(var a=[],o=0;o<i;o++){var s=3*o,l=2*o;a[0]=r[s],a[1]=r[s+1],a[2]=r[s+2],a[3]=1,S6e.transformMat4(a,a,e.array),t[l]=a[0]/a[3],t[l+1]=a[1]/a[3]}},_pick:function(e,n,t,r,i,a){var o=this._positionNDC,l=this._data.hostModel.get("lineStyle.width"),c=-1,d=.5*t.viewport.width,f=.5*t.viewport.height;e=(e+1)*d,n=(n+1)*f;for(var p=1;p<o.length/2;p++){var g=(o[2*(p-1)]+1)*d,m=(o[2*(p-1)+1]+1)*f,v=(o[2*p]+1)*d,_=(o[2*p+1]+1)*f;oh(g,m,v,_,l,e,n)&&(c=(g-e)*(g-e)+(m-n)*(m-n)<(v-e)*(v-e)+(_-n)*(_-n)?p-1:p)}if(c>=0){var w=3*c,C=new fe(this._points[w],this._points[w+1],this._points[w+2]);a.push({dataIndex:c,point:C,pointWorld:C.clone(),target:this._line3DMesh,distance:this._camera.getWorldPosition().dist(C)})}},remove:function(){this.groupGL.removeAll()},dispose:function(){this.groupGL.removeAll()}});Vn(function M6e(e){e.registerChartView(x6e),e.registerSeriesModel(w6e),e.registerLayout(function(n,t){n.eachSeriesByType("line3D",function(r){var i=r.getData(),a=r.coordinateSystem;if(a){if("cartesian3D"!==a.type)return;var o=new Float32Array(3*i.count()),s=[],l=[],u=a.dimensions.map(function(h){return r.coordDimToDataDim(h)[0]});a&&i.each(u,function(h,d,f,p){s[0]=h,s[1]=d,s[2]=f,a.dataToPoint(s,l),o[3*p]=l[0],o[3*p+1]=l[1],o[3*p+2]=l[2]}),i.setLayout("points",o)}})})});const T6e=si.extend({type:"series.scatter3D",dependencies:["globe","grid3D","geo3D"],visualStyleAccessPath:"itemStyle",hasSymbolVisual:!0,getInitialData:function(e,n){return lw(this)},getFormattedLabel:function(e,n,t,r){var i=Rp.getFormattedLabel(this,e,n,t,r);if(null==i){var a=this.getData();i=a.get(a.dimensions[a.dimensions.length-1],e)}return i},formatTooltip:function(e){return Um(this,e)},defaultOption:{coordinateSystem:"cartesian3D",zlevel:-10,progressive:1e5,progressiveThreshold:1e5,grid3DIndex:0,globeIndex:0,symbol:"circle",symbolSize:10,blendMode:"source-over",label:{show:!1,position:"right",distance:5,textStyle:{fontSize:14,color:"#000",backgroundColor:"rgba(255,255,255,0.7)",padding:3,borderRadius:3}},itemStyle:{opacity:.8},emphasis:{label:{show:!0}},animationDurationUpdate:500}});function gI(e,r,t){(r=r||document.createElement("canvas")).width=e,r.height=e;var i=r.getContext("2d");return t&&t(i),r}var mI={getMarginByStyle:function(e){var n=e.minMargin||0,t=0;e.stroke&&"none"!==e.stroke&&(t=null==e.lineWidth?1:e.lineWidth);var r=e.shadowBlur||0,i=e.shadowOffsetX||0,a=e.shadowOffsetY||0,o={};return o.left=Math.max(t/2,-i+r,n),o.right=Math.max(t/2,i+r,n),o.top=Math.max(t/2,-a+r,n),o.bottom=Math.max(t/2,a+r,n),o},createSymbolSprite:function(e,n,t,r){var i=function D6e(e,n,t,r){ne(n)||(n=[n,n]);var i=mI.getMarginByStyle(t,r),a=n[0]+i.left+i.right,o=n[1]+i.top+i.bottom,s=Qs(e,0,0,n[0],n[1]),l=Math.max(a,o);s.x=i.left,s.y=i.top,a>o?s.y+=(l-o)/2:s.x+=(l-a)/2;var c=s.getBoundingRect();return s.x-=c.x,s.y-=c.y,s.setStyle(t),s.update(),s.__size=l,s}(e,n,t),a=mI.getMarginByStyle(t);return{image:gI(i.__size,r,function(o){Pb(o,i)}),margin:a}},createSDFFromCanvas:function(e,n,t,r){return gI(n,r,function(i){var o=e.getContext("2d").getImageData(0,0,e.width,e.height);i.putImageData(function E6e(e,n,t){var r=n.width,i=n.height,a=e.canvas.width,o=e.canvas.height,s=r/a,l=i/o;function c(v){return v<128?1:-1}function u(v,_){var y=1/0;v=Math.floor(v*s),_=Math.floor(_*l);for(var C=c(n.data[4*(_*r+v)]),S=Math.max(_-t,0);S<Math.min(_+t,i);S++)for(var x=Math.max(v-t,0);x<Math.min(v+t,r);x++){var T=x-v,A=S-_;if(C!==c(n.data[4*(S*r+x)])){var N=T*T+A*A;N<y&&(y=N)}}return C*Math.sqrt(y)}for(var h=e.createImageData(a,o),d=0;d<o;d++)for(var f=0;f<a;f++){var g=u(f,d)/t*.5+.5,m=4*(d*a+f);h.data[m++]=255*(1-g),h.data[m++]=255*(1-g),h.data[m++]=255*(1-g),h.data[m++]=255}return h}(i,o,t),0,0)})},createSimpleSprite:function(e,n){return gI(e,n,function(t){var r=e/2;t.beginPath(),t.arc(r,r,60,0,2*Math.PI,!1),t.closePath();var i=t.createRadialGradient(r,r,0,r,r,r);i.addColorStop(0,"rgba(255, 255, 255, 1)"),i.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),i.addColorStop(1,"rgba(255, 255, 255, 0)"),t.fillStyle=i,t.fill()})}};const TK=mI;var DK=Ar.vec3;const A6e={needsSortVertices:function(){return this.sortVertices},needsSortVerticesProgressively:function(){return this.needsSortVertices()&&this.vertexCount>=2e4},doSortVertices:function(e,n){var t=this.indices,r=DK.create();if(!t){t=this.indices=this.vertexCount>65535?new Uint32Array(this.vertexCount):new Uint16Array(this.vertexCount);for(var i=0;i<t.length;i++)t[i]=i}if(0===n){var s,a=this.attributes.position,o=(e=e.array,0);for((!this._zList||this._zList.length!==this.vertexCount)&&(this._zList=new Float32Array(this.vertexCount)),i=0;i<this.vertexCount;i++){a.get(i,r);var l=DK.sqrDist(r,e);isNaN(l)&&(l=1e7,o++),0===i?(s=l,l=0):l-=s,this._zList[i]=l}this._noneCount=o}if(this.vertexCount<2e4)0===n&&this._simpleSort(this._noneCount/this.vertexCount>.05);else for(i=0;i<3;i++)this._progressiveQuickSort(3*n+i);this.dirtyIndices()},_simpleSort:function(e){var n=this._zList,t=this.indices;function r(i,a){return n[a]-n[i]}e?Array.prototype.sort.call(t,r):iw.sort(t,r,0,t.length-1)},_progressiveQuickSort:function(e){var n=this._zList,t=this.indices;this._quickSort=this._quickSort||new iw,this._quickSort.step(t,function(r,i){return n[i]-n[r]},e)}};var vI=Ar.vec4;P.Shader.import("@export ecgl.sdfSprite.vertex\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform float elapsedTime : 0;\n\nattribute vec3 position : POSITION;\n\n#ifdef VERTEX_SIZE\nattribute float size;\n#else\nuniform float u_Size;\n#endif\n\n#ifdef VERTEX_COLOR\nattribute vec4 a_FillColor: COLOR;\nvarying vec4 v_Color;\n#endif\n\n#ifdef VERTEX_ANIMATION\nattribute vec3 prevPosition;\nattribute float prevSize;\nuniform float percent : 1.0;\n#endif\n\n\n#ifdef POSITIONTEXTURE_ENABLED\nuniform sampler2D positionTexture;\n#endif\n\nvarying float v_Size;\n\nvoid main()\n{\n\n#ifdef POSITIONTEXTURE_ENABLED\n gl_Position = worldViewProjection * vec4(texture2D(positionTexture, position.xy).xy, -10.0, 1.0);\n#else\n\n #ifdef VERTEX_ANIMATION\n vec3 pos = mix(prevPosition, position, percent);\n #else\n vec3 pos = position;\n #endif\n gl_Position = worldViewProjection * vec4(pos, 1.0);\n#endif\n\n#ifdef VERTEX_SIZE\n#ifdef VERTEX_ANIMATION\n v_Size = mix(prevSize, size, percent);\n#else\n v_Size = size;\n#endif\n#else\n v_Size = u_Size;\n#endif\n\n#ifdef VERTEX_COLOR\n v_Color = a_FillColor;\n #endif\n\n gl_PointSize = v_Size;\n}\n\n@end\n\n@export ecgl.sdfSprite.fragment\n\nuniform vec4 color: [1, 1, 1, 1];\nuniform vec4 strokeColor: [1, 1, 1, 1];\nuniform float smoothing: 0.07;\n\nuniform float lineWidth: 0.0;\n\n#ifdef VERTEX_COLOR\nvarying vec4 v_Color;\n#endif\n\nvarying float v_Size;\n\nuniform sampler2D sprite;\n\n@import clay.util.srgb\n\nvoid main()\n{\n gl_FragColor = color;\n\n vec4 _strokeColor = strokeColor;\n\n#ifdef VERTEX_COLOR\n gl_FragColor *= v_Color;\n #endif\n\n#ifdef SPRITE_ENABLED\n float d = texture2D(sprite, gl_PointCoord).r;\n gl_FragColor.a *= smoothstep(0.5 - smoothing, 0.5 + smoothing, d);\n\n if (lineWidth > 0.0) {\n float sLineWidth = lineWidth / 2.0;\n\n float outlineMaxValue0 = 0.5 + sLineWidth;\n float outlineMaxValue1 = 0.5 + sLineWidth + smoothing;\n float outlineMinValue0 = 0.5 - sLineWidth - smoothing;\n float outlineMinValue1 = 0.5 - sLineWidth;\n\n if (d <= outlineMaxValue1 && d >= outlineMinValue0) {\n float a = _strokeColor.a;\n if (d <= outlineMinValue1) {\n a = a * smoothstep(outlineMinValue0, outlineMinValue1, d);\n }\n else {\n a = a * smoothstep(outlineMaxValue1, outlineMaxValue0, d);\n }\n gl_FragColor.rgb = mix(gl_FragColor.rgb * gl_FragColor.a, _strokeColor.rgb, a);\n gl_FragColor.a = gl_FragColor.a * (1.0 - a) + a;\n }\n }\n#endif\n\n#ifdef SRGB_DECODE\n gl_FragColor = sRGBToLinear(gl_FragColor);\n#endif\n}\n@end");var I6e=P.Mesh.extend(function(){var e=new P.Geometry({dynamic:!0,attributes:{color:new P.Geometry.Attribute("color","float",4,"COLOR"),position:new P.Geometry.Attribute("position","float",3,"POSITION"),size:new P.Geometry.Attribute("size","float",1),prevPosition:new P.Geometry.Attribute("prevPosition","float",3),prevSize:new P.Geometry.Attribute("prevSize","float",1)}});Object.assign(e,A6e);var n=new P.Material({shader:P.createShader("ecgl.sdfSprite"),transparent:!0,depthMask:!1});n.enableTexture("sprite"),n.define("both","VERTEX_COLOR"),n.define("both","VERTEX_SIZE");var t=new P.Texture2D({image:document.createElement("canvas"),flipY:!1});return n.set("sprite",t),e.pick=this._pick.bind(this),{geometry:e,material:n,mode:P.Mesh.POINTS,sizeScale:1}},{_pick:function(e,n,t,r,i,a){var o=this._positionNDC;if(o)for(var s=t.viewport,l=2/s.width,c=2/s.height,u=this.geometry.vertexCount-1;u>=0;u--){var h,d=o[2*(h=this.geometry.indices?this.geometry.indices[u]:u)],f=o[2*h+1],g=this.geometry.attributes.size.get(h)/this.sizeScale/2;if(e>d-g*l&&e<d+g*l&&n>f-g*c&&n<f+g*c){var m=new P.Vector3,v=new P.Vector3;this.geometry.attributes.position.get(h,m.array),P.Vector3.transformMat4(v,m,this.worldTransform),a.push({vertexIndex:h,point:m,pointWorld:v,target:this,distance:v.distance(r.getWorldPosition())})}}},updateNDCPosition:function(e,n,t){var r=this._positionNDC,i=this.geometry;(!r||r.length/2!==i.vertexCount)&&(r=this._positionNDC=new Float32Array(2*i.vertexCount));for(var a=vI.create(),o=0;o<i.vertexCount;o++)i.attributes.position.get(o,a),a[3]=1,vI.transformMat4(a,a,e.array),vI.scale(a,a,1/a[3]),r[2*o]=a[0],r[2*o+1]=a[1]}});const P6e=I6e;function _I(e,n){this.rootNode=new P.Node,this.is2D=e,this._labelsBuilder=new rI(256,256,n),this._labelsBuilder.getMesh().renderOrder=100,this.rootNode.add(this._labelsBuilder.getMesh()),this._api=n,this._spriteImageCanvas=document.createElement("canvas"),this._startDataIndex=0,this._endDataIndex=0,this._sizeScale=1}_I.prototype={constructor:_I,highlightOnMouseover:!0,update:function(e,n,t,r,i){var a=this._prevMesh;this._prevMesh=this._mesh,this._mesh=a;var o=e.getData();if(null==r&&(r=0),null==i&&(i=o.count()),this._startDataIndex=r,this._endDataIndex=i-1,!this._mesh){var s=this._prevMesh&&this._prevMesh.material;this._mesh=new P6e({renderOrder:10,frustumCulling:!1}),s&&(this._mesh.material=s)}s=this._mesh.material;var l=this._mesh.geometry,c=l.attributes;this.rootNode.remove(this._prevMesh),this.rootNode.add(this._mesh),this._setPositionTextureToMesh(this._mesh,this._positionTexture);var u=this._getSymbolInfo(e,r,i),h=t.getDevicePixelRatio(),d=e.getModel("itemStyle").getItemStyle(),f=e.get("large"),p=1;u.maxSize>2?(p=this._updateSymbolSprite(e,d,u,h),s.enableTexture("sprite")):s.disableTexture("sprite"),c.position.init(i-r);var g=[];if(f){s.undefine("VERTEX_SIZE"),s.undefine("VERTEX_COLOR");var m=function lke(e){const n=e.getVisual("style");if(n)return n[e.getVisual("drawType")]}(o),v=function cke(e){return e.getVisual("style").opacity}(o);P.parseColor(m,g),g[3]*=v,s.set({color:g,u_Size:u.maxSize*this._sizeScale})}else s.set({color:[1,1,1,1]}),s.define("VERTEX_SIZE"),s.define("VERTEX_COLOR"),c.size.init(i-r),c.color.init(i-r),this._originalOpacity=new Float32Array(i-r);for(var _=o.getLayout("points"),y=c.position.value,w=0;w<i-r;w++){var C=3*w,S=2*w;if(this.is2D?(y[C]=_[S],y[C+1]=_[S+1],y[C+2]=-10):(y[C]=_[C],y[C+1]=_[C+1],y[C+2]=_[C+2]),!f){m=ui(o,w),v=hi(o,w),P.parseColor(m,g),g[3]*=v,c.color.set(w,g);var x=o.getItemVisual(w,"symbolSize");x=x instanceof Array?Math.max(x[0],x[1]):x,isNaN(x)&&(x=0),c.size.value[w]=x*p*this._sizeScale,this._originalOpacity[w]=g[3]}}this._mesh.sizeScale=p,l.updateBoundingBox(),l.dirty(),this._updateMaterial(e,d);var M=e.coordinateSystem;M&&M.viewGL&&s[M.viewGL.isLinearSpace()?"define":"undefine"]("fragment","SRGB_DECODE"),f||this._updateLabelBuilder(e,r,i),this._updateHandler(e,n,t),this._updateAnimation(e),this._api=t},getPointsMesh:function(){return this._mesh},updateLabels:function(e){this._labelsBuilder.updateLabels(e)},hideLabels:function(){this.rootNode.remove(this._labelsBuilder.getMesh())},showLabels:function(){this.rootNode.add(this._labelsBuilder.getMesh())},dispose:function(){this._labelsBuilder.dispose()},_updateSymbolSprite:function(e,n,t,r){t.maxSize=Math.min(2*t.maxSize,200);var i=[];return t.aspect>1?(i[0]=t.maxSize,i[1]=t.maxSize/t.aspect):(i[1]=t.maxSize,i[0]=t.maxSize*t.aspect),i[0]=i[0]||1,i[1]=i[1]||1,(this._symbolType!==t.type||!function O6e(e,n){return e&&n&&e[0]===n[0]&&e[1]===n[1]}(this._symbolSize,i)||this._lineWidth!==n.lineWidth)&&(TK.createSymbolSprite(t.type,i,{fill:"#fff",lineWidth:n.lineWidth,stroke:"transparent",shadowColor:"transparent",minMargin:Math.min(i[0]/2,10)},this._spriteImageCanvas),TK.createSDFFromCanvas(this._spriteImageCanvas,Math.min(this._spriteImageCanvas.width,32),20,this._mesh.material.get("sprite").image),this._symbolType=t.type,this._symbolSize=i,this._lineWidth=n.lineWidth),this._spriteImageCanvas.width/t.maxSize*r},_updateMaterial:function(e,n){var t="lighter"===e.get("blendMode")?P.additiveBlend:null,r=this._mesh.material;r.blend=t,r.set("lineWidth",n.lineWidth/20);var i=P.parseColor(n.stroke);r.set("strokeColor",i),r.transparent=!0,r.depthMask=!1,r.depthTest=!this.is2D,r.sortVertices=!this.is2D},_updateLabelBuilder:function(e,o,t){var r=e.getData(),i=this._mesh.geometry,a=i.attributes.position.value,s=this._mesh.sizeScale;this._labelsBuilder.updateData(r,o=this._startDataIndex,t),this._labelsBuilder.getLabelPosition=function(l,c,u){var h=3*(l-o);return[a[h],a[h+1],a[h+2]]},this._labelsBuilder.getLabelDistance=function(l,c,u){return i.attributes.size.get(l-o)/s/2+u},this._labelsBuilder.updateLabels()},_updateAnimation:function(e){P.updateVertexAnimation([["prevPosition","position"],["prevSize","size"]],this._prevMesh,this._mesh,e)},_updateHandler:function(e,n,t){var l,r=e.getData(),i=this._mesh,a=this,o=-1,s=e.coordinateSystem&&"cartesian3D"===e.coordinateSystem.type;s&&(l=e.coordinateSystem.model),i.seriesIndex=e.seriesIndex,i.off("mousemove"),i.off("mouseout"),i.on("mousemove",function(c){var u=c.vertexIndex+a._startDataIndex;u!==o&&(this.highlightOnMouseover&&(this.downplay(r,o),this.highlight(r,u),this._labelsBuilder.updateLabels([u])),s&&t.dispatchAction({type:"grid3DShowAxisPointer",value:[r.get(e.coordDimToDataDim("x")[0],u),r.get(e.coordDimToDataDim("y")[0],u),r.get(e.coordDimToDataDim("z")[0],u)],grid3DIndex:l.componentIndex})),i.dataIndex=u,o=u},this),i.on("mouseout",function(c){this.highlightOnMouseover&&(this.downplay(r,c.vertexIndex+a._startDataIndex),this._labelsBuilder.updateLabels()),o=-1,i.dataIndex=-1,s&&t.dispatchAction({type:"grid3DHideAxisPointer",grid3DIndex:l.componentIndex})},this)},updateLayout:function(e,n,t){var r=e.getData();if(this._mesh){var i=this._mesh.geometry.attributes.position.value,a=r.getLayout("points");if(this.is2D)for(var o=0;o<a.length/2;o++){var s=3*o,l=2*o;i[s]=a[l],i[s+1]=a[l+1],i[s+2]=-10}else for(o=0;o<a.length;o++)i[o]=a[o];this._mesh.geometry.dirty(),t.getZr().refresh()}},updateView:function(e){if(this._mesh){var n=new Oe;Oe.mul(n,e.viewMatrix,this._mesh.worldTransform),Oe.mul(n,e.projectionMatrix,n),this._mesh.updateNDCPosition(n,this.is2D,this._api)}},highlight:function(e,n){if(!(n>this._endDataIndex||n<this._startDataIndex)){var r=e.getItemModel(n).getModel("emphasis.itemStyle"),i=r.get("color"),a=r.get("opacity");null==i&&(i=Kg(ui(e,n),-.4)),null==a&&(a=hi(e,n));var s=P.parseColor(i);s[3]*=a,this._mesh.geometry.attributes.color.set(n-this._startDataIndex,s),this._mesh.geometry.dirtyAttribute("color"),this._api.getZr().refresh()}},downplay:function(e,n){if(!(n>this._endDataIndex||n<this._startDataIndex)){var t=ui(e,n),r=hi(e,n),i=P.parseColor(t);i[3]*=r,this._mesh.geometry.attributes.color.set(n-this._startDataIndex,i),this._mesh.geometry.dirtyAttribute("color"),this._api.getZr().refresh()}},fadeOutAll:function(e){if(this._originalOpacity){for(var n=this._mesh.geometry,t=0;t<n.vertexCount;t++)n.attributes.color.value[4*t+3]=this._originalOpacity[t]*e;n.dirtyAttribute("color"),this._api.getZr().refresh()}},fadeInAll:function(){this.fadeOutAll(1)},setPositionTexture:function(e){this._mesh&&this._setPositionTextureToMesh(this._mesh,e),this._positionTexture=e},removePositionTexture:function(){this._positionTexture=null,this._mesh&&this._setPositionTextureToMesh(this._mesh,null)},setSizeScale:function(e){if(e!==this._sizeScale){if(this._mesh){var n=this._mesh.material.get("u_Size");this._mesh.material.set("u_Size",n/this._sizeScale*e);var t=this._mesh.geometry.attributes;if(t.size.value)for(var r=0;r<t.size.value.length;r++)t.size.value[r]=t.size.value[r]/this._sizeScale*e}this._sizeScale=e}},_setPositionTextureToMesh:function(e,n){n&&e.material.set("positionTexture",n),e.material[n?"enableTexture":"disableTexture"]("positionTexture")},_getSymbolInfo:function(e,n,t){if(e.get("large"))return(r=Ct.firstNotNull(e.get("symbolSize"),1))instanceof Array?(c=Math.max(r[0],r[1]),a=r[0]/r[1]):(c=r,a=1),{maxSize:r,type:e.get("symbol"),aspect:a};for(var a,i=e.getData(),s=i.getItemVisual(0,"symbol")||"circle",c=0,u=n;u<t;u++){var d,r=i.getItemVisual(u,"symbolSize"),h=i.getItemVisual(u,"symbol");if(r instanceof Array)d=r[0]/r[1],c=Math.max(Math.max(r[0],r[1]),c);else{if(isNaN(r))continue;d=1,c=Math.max(r,c)}s=h,a=d}return{maxSize:c,type:s,aspect:a}}};const Gm=_I,R6e=Rr.extend({type:"scatter3D",hasSymbolVisual:!0,__ecgl__:!0,init:function(e,n){this.groupGL=new P.Node,this._pointsBuilderList=[],this._currentStep=0},render:function(e,n,t){if(this.groupGL.removeAll(),e.getData().count()){var r=e.coordinateSystem;if(r&&r.viewGL){r.viewGL.add(this.groupGL),this._camera=r.viewGL.camera;var i=this._pointsBuilderList[0];i||(i=this._pointsBuilderList[0]=new Gm(!1,t)),this._pointsBuilderList.length=1,this.groupGL.add(i.rootNode),i.update(e,n,t),i.updateView(r.viewGL.camera)}}},incrementalPrepareRender:function(e,n,t){var r=e.coordinateSystem;r&&r.viewGL&&(r.viewGL.add(this.groupGL),this._camera=r.viewGL.camera),this.groupGL.removeAll(),this._currentStep=0},incrementalRender:function(e,n,t,r){if(!(e.end<=e.start)){var i=this._pointsBuilderList[this._currentStep];i||(i=new Gm(!1,r),this._pointsBuilderList[this._currentStep]=i),this.groupGL.add(i.rootNode),i.update(n,t,r,e.start,e.end),i.updateView(n.coordinateSystem.viewGL.camera),this._currentStep++}},updateCamera:function(){this._pointsBuilderList.forEach(function(e){e.updateView(this._camera)},this)},highlight:function(e,n,t,r){this._toggleStatus("highlight",e,n,t,r)},downplay:function(e,n,t,r){this._toggleStatus("downplay",e,n,t,r)},_toggleStatus:function(e,n,t,r,i){var a=n.getData(),o=Ct.queryDataIndex(a,i),s="highlight"===e;null!=o?I(Rp.normalizeToArray(o),function(l){for(var c=0;c<this._pointsBuilderList.length;c++){var u=this._pointsBuilderList[c];s?u.highlight(a,l):u.downplay(a,l)}},this):a.each(function(l){for(var c=0;c<this._pointsBuilderList.length;c++){var u=this._pointsBuilderList[c];s?u.highlight(a,l):u.downplay(a,l)}})},dispose:function(){this._pointsBuilderList.forEach(function(e){e.dispose()}),this.groupGL.removeAll()},remove:function(){this.groupGL.removeAll()}});Vn(function L6e(e){e.registerChartView(R6e),e.registerSeriesModel(T6e),e.registerLayout({seriesType:"scatter3D",reset:function(n){var t=n.coordinateSystem;if(t){var r=t.dimensions;if(r.length<3)return;var i=r.map(function(s){return n.coordDimToDataDim(s)[0]}),a=[],o=[];return{progress:function(s,l){for(var c=new Float32Array(3*(s.end-s.start)),u=s.start;u<s.end;u++){var h=3*(u-s.start);a[0]=l.get(i[0],u),a[1]=l.get(i[1],u),a[2]=l.get(i[2],u),t.dataToPoint(a,o),c[h]=o[0],c[h+1]=o[1],c[h+2]=o[2]}l.setLayout("points",c)}}}}})});var Zr=Ar.vec3,NK=Ar.vec2,Yl=Zr.normalize,cw=Zr.cross,IK=Zr.sub,yI=Zr.add,Wc=Zr.create,jc=Wc(),Ho=Wc(),$c=Wc(),Wm=Wc(),PK=[],OK=[];function k6e(e,n){NK.copy(PK,e[0]),NK.copy(OK,e[1]);var t=[],r=t[0]=Wc(),i=t[1]=Wc(),a=t[2]=Wc(),o=t[3]=Wc();n.dataToPoint(PK,r),n.dataToPoint(OK,o),Yl(jc,r),IK(Ho,o,r),Yl(Ho,Ho),cw($c,Ho,jc),Yl($c,$c),cw(Ho,jc,$c),yI(i,jc,Ho),Yl(i,i),Yl(jc,o),IK(Ho,r,o),Yl(Ho,Ho),cw($c,Ho,jc),Yl($c,$c),cw(Ho,jc,$c),yI(a,jc,Ho),Yl(a,a),yI(Wm,r,o),Yl(Wm,Wm);var s=Zr.dot(r,Wm),l=Zr.dot(Wm,i),c=(Math.max(Zr.len(r),Zr.len(o))-s)/l*2;return Zr.scaleAndAdd(i,r,i,c),Zr.scaleAndAdd(a,o,a,c),t}function RK(e,n){for(var t=new Float32Array(3*e.length),r=0,i=[],a=0;a<e.length;a++)n.dataToPoint(e[a],i),t[r++]=i[0],t[r++]=i[1],t[r++]=i[2];return t}function LK(e){var n=[];return e.each(function(t){var r=e.getItemModel(t),i=r.option instanceof Array?r.option:r.getShallow("coords",!0);n.push(i)}),{coordsList:n}}function kK(e,n,t){var r=e.getData(),i=e.get("polyline"),a=LK(r);r.setLayout("lineType",i?"polyline":"cubicBezier"),r.each(function(o){var s=a.coordsList[o],l=i?RK(s,n):function F6e(e,n,t){var r=[],i=r[0]=Zr.create(),a=r[1]=Zr.create(),o=r[2]=Zr.create(),s=r[3]=Zr.create();n.dataToPoint(e[0],i),n.dataToPoint(e[1],s);var l=Zr.dist(i,s);return Zr.lerp(a,i,s,.3),Zr.lerp(o,i,s,.3),Zr.scaleAndAdd(a,a,t,Math.min(.1*l,10)),Zr.scaleAndAdd(o,o,t,Math.min(.1*l,10)),r}(s,n,t);r.setItemLayout(o,l)})}function B6e(e,n){e.eachSeriesByType("lines3D",function(t){var r=t.coordinateSystem;"globe"===r.type?function z6e(e,n){var t=e.getData(),r=e.get("polyline");t.setLayout("lineType",r?"polyline":"cubicBezier");var i=LK(t);t.each(function(a){t.setItemLayout(a,(r?RK:k6e)(i.coordsList[a],n))})}(t,r):"geo3D"===r.type?kK(t,r,[0,1,0]):("mapbox3D"===r.type||"maptalks3D"===r.type)&&kK(t,r,[0,0,1])})}const V6e=si.extend({type:"series.lines3D",dependencies:["globe"],visualStyleAccessPath:"lineStyle",visualDrawType:"stroke",getInitialData:function(e,n){var t=new Lo(["value"],this);return t.hasItemOption=!1,t.initData(e.data,[],function(r,i,a,o){if(r instanceof Array)return NaN;t.hasItemOption=!0;var s=r.value;return null!=s?s instanceof Array?s[o]:s:void 0}),t},defaultOption:{coordinateSystem:"globe",globeIndex:0,geo3DIndex:0,zlevel:-10,polyline:!1,effect:{show:!1,period:4,trailWidth:4,trailLength:.2,spotIntensity:6},silent:!0,blendMode:"source-over",lineStyle:{width:1,opacity:.5}}});var FK=Ar.vec3;function U6e(e){return e>0?1:-1}P.Shader.import("@export ecgl.trail2.vertex\nattribute vec3 position: POSITION;\nattribute vec3 positionPrev;\nattribute vec3 positionNext;\nattribute float offset;\nattribute float dist;\nattribute float distAll;\nattribute float start;\n\nattribute vec4 a_Color : COLOR;\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform vec4 viewport : VIEWPORT;\nuniform float near : NEAR;\n\nuniform float speed : 0;\nuniform float trailLength: 0.3;\nuniform float time;\nuniform float period: 1000;\n\nuniform float spotSize: 1;\n\nvarying vec4 v_Color;\nvarying float v_Percent;\nvarying float v_SpotPercent;\n\n@import ecgl.common.wireframe.vertexHeader\n\n@import ecgl.lines3D.clipNear\n\nvoid main()\n{\n @import ecgl.lines3D.expandLine\n\n gl_Position = currProj;\n\n v_Color = a_Color;\n\n @import ecgl.common.wireframe.vertexMain\n\n#ifdef CONSTANT_SPEED\n float t = mod((speed * time + start) / distAll, 1. + trailLength) - trailLength;\n#else\n float t = mod((time + start) / period, 1. + trailLength) - trailLength;\n#endif\n\n float trailLen = distAll * trailLength;\n\n v_Percent = (dist - t * distAll) / trailLen;\n\n v_SpotPercent = spotSize / distAll;\n\n }\n@end\n\n\n@export ecgl.trail2.fragment\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\nuniform float spotIntensity: 5;\n\nvarying vec4 v_Color;\nvarying float v_Percent;\nvarying float v_SpotPercent;\n\n@import ecgl.common.wireframe.fragmentHeader\n\n@import clay.util.srgb\n\nvoid main()\n{\n if (v_Percent > 1.0 || v_Percent < 0.0) {\n discard;\n }\n\n float fade = v_Percent;\n\n#ifdef SRGB_DECODE\n gl_FragColor = sRGBToLinear(color * v_Color);\n#else\n gl_FragColor = color * v_Color;\n#endif\n\n @import ecgl.common.wireframe.fragmentMain\n\n if (v_Percent > (1.0 - v_SpotPercent)) {\n gl_FragColor.rgb *= spotIntensity;\n }\n\n gl_FragColor.a *= fade;\n}\n\n@end");const G6e=P.Mesh.extend(function(){var e=new P.Material({shader:new P.Shader(P.Shader.source("ecgl.trail2.vertex"),P.Shader.source("ecgl.trail2.fragment")),transparent:!0,depthMask:!1}),n=new Gh({dynamic:!0});return n.createAttribute("dist","float",1),n.createAttribute("distAll","float",1),n.createAttribute("start","float",1),{geometry:n,material:e,culling:!1,$ignorePicking:!0}},{updateData:function(e,n,t){var r=e.hostModel,i=this.geometry,a=r.getModel("effect"),o=a.get("trailWidth")*n.getDevicePixelRatio(),s=a.get("trailLength"),l=r.get("effect.constantSpeed"),c=1e3*r.get("effect.period"),u=null!=l;u?this.material.set("speed",l/1e3):this.material.set("period",c),this.material[u?"define":"undefine"]("vertex","CONSTANT_SPEED");var h=r.get("polyline");i.trailLength=s,this.material.set("trailLength",s),i.resetOffset(),["position","positionPrev","positionNext"].forEach(function(S){i.attributes[S].value=t.attributes[S].value}),["dist","distAll","start","offset","color"].forEach(function(S){i.attributes[S].init(i.vertexCount)}),i.indices=t.indices;var f=[],p=a.get("trailColor"),g=a.get("trailOpacity"),m=null!=p,v=null!=g;this.updateWorldTransform();var _=this.worldTransform.x.len(),y=this.worldTransform.y.len(),b=this.worldTransform.z.len(),w=0,C=0;e.each(function(S){var x=e.getItemLayout(S),M=v?g:hi(e,S),E=ui(e,S);null==M&&(M=1),(f=P.parseColor(m?p:E,f))[3]*=M;for(var T=h?t.getPolylineVertexCount(x):t.getCubicCurveVertexCount(x[0],x[1],x[2],x[3]),A=0,N=[],R=[],z=w;z<w+T;z++)i.attributes.position.get(z,N),N[0]*=_,N[1]*=y,N[2]*=b,z>w&&(A+=FK.dist(N,R)),i.attributes.dist.set(z,A),FK.copy(R,N);C=Math.max(C,A);var L=Math.random()*(u?A:c);for(z=w;z<w+T;z++)i.attributes.distAll.set(z,A),i.attributes.start.set(z,L),i.attributes.offset.set(z,U6e(t.attributes.offset.get(z))*o/2),i.attributes.color.set(z,f);w+=T}),this.material.set("spotSize",.1*C*s),this.material.set("spotIntensity",a.get("spotIntensity")),i.dirty()},setAnimationTime:function(e){this.material.set("time",e)}});P.Shader.import(JC);const j6e=Rr.extend({type:"lines3D",__ecgl__:!0,init:function(e,n){this.groupGL=new P.Node,this._meshLinesMaterial=new P.Material({shader:P.createShader("ecgl.meshLines3D"),transparent:!0,depthMask:!1}),this._linesMesh=new P.Mesh({geometry:new Gh,material:this._meshLinesMaterial,$ignorePicking:!0}),this._trailMesh=new G6e},render:function(e,n,t){this.groupGL.add(this._linesMesh);var r=e.coordinateSystem,i=e.getData();if(r&&r.viewGL){r.viewGL.add(this.groupGL),this._updateLines(e,n,t);var o=r.viewGL.isLinearSpace()?"define":"undefine";this._linesMesh.material[o]("fragment","SRGB_DECODE"),this._trailMesh.material[o]("fragment","SRGB_DECODE")}var s=this._trailMesh;if(s.stopAnimation(),e.get("effect.show")){this.groupGL.add(s),s.updateData(i,t,this._linesMesh.geometry),s.__time=s.__time||0;var l=36e5;this._curveEffectsAnimator=s.animate("",{loop:!0}).when(l,{__time:l}).during(function(){s.setAnimationTime(s.__time)}).start()}else this.groupGL.remove(s),this._curveEffectsAnimator=null;this._linesMesh.material.blend=this._trailMesh.material.blend="lighter"===e.get("blendMode")?P.additiveBlend:null},pauseEffect:function(){this._curveEffectsAnimator&&this._curveEffectsAnimator.pause()},resumeEffect:function(){this._curveEffectsAnimator&&this._curveEffectsAnimator.resume()},toggleEffect:function(){var e=this._curveEffectsAnimator;e&&(e.isPaused()?e.resume():e.pause())},_updateLines:function(e,n,t){var r=e.getData(),i=e.coordinateSystem,a=this._linesMesh.geometry,o=e.get("polyline");a.expandLine=!0;var s=function W6e(e){return null!=e.radius?e.radius:null!=e.size?Math.max(e.size[0],e.size[1],e.size[2]):100}(i);a.segmentScale=s/20;var l="lineStyle.width".split("."),c=t.getDevicePixelRatio(),u=0;r.each(function(p){var m=r.getItemModel(p).get(l);null==m&&(m=1),r.setItemVisual(p,"lineWidth",m),u=Math.max(m,u)}),a.useNativeLine=!1;var h=0,d=0;r.each(function(p){var g=r.getItemLayout(p);o?(h+=a.getPolylineVertexCount(g),d+=a.getPolylineTriangleCount(g)):(h+=a.getCubicCurveVertexCount(g[0],g[1],g[2],g[3]),d+=a.getCubicCurveTriangleCount(g[0],g[1],g[2],g[3]))}),a.setVertexCount(h),a.setTriangleCount(d),a.resetOffset();var f=[];r.each(function(p){var g=r.getItemLayout(p),m=ui(r,p),v=hi(r,p),_=r.getItemVisual(p,"lineWidth")*c;null==v&&(v=1),(f=P.parseColor(m,f))[3]*=v,o?a.addPolyline(g,f,_):a.addCubicCurve(g[0],g[1],g[2],g[3],f,_)}),a.dirty()},remove:function(){this.groupGL.removeAll()},dispose:function(){this.groupGL.removeAll()}});function zK(e,n){for(var t=[],r=0;r<n.length;r++)t.push(e.dataToPoint(n[r]));return t}Vn(function $6e(e){e.registerChartView(j6e),e.registerSeriesModel(V6e),e.registerLayout(B6e),e.registerAction({type:"lines3DPauseEffect",event:"lines3deffectpaused",update:"series.lines3D:pauseEffect"},function(){}),e.registerAction({type:"lines3DResumeEffect",event:"lines3deffectresumed",update:"series.lines3D:resumeEffect"},function(){}),e.registerAction({type:"lines3DToggleEffect",event:"lines3deffectchanged",update:"series.lines3D:toggleEffect"},function(){})});var BK=si.extend({type:"series.polygons3D",getRegionModel:function(e){return this.getData().getItemModel(e)},getRegionPolygonCoords:function(e){var n=this.coordinateSystem,t=this.getData().getItemModel(e),r=t.option instanceof Array?t.option:t.getShallow("coords");t.get("multiPolygon")||(r=[r]);for(var i=[],a=0;a<r.length;a++){for(var o=[],s=1;s<r[a].length;s++)o.push(zK(n,r[a][s]));i.push({exterior:zK(n,r[a][0]),interiors:o})}return i},getInitialData:function(e){var n=new Lo(["value"],this);return n.hasItemOption=!1,n.initData(e.data,[],function(t,r,i,a){if(t instanceof Array)return NaN;n.hasItemOption=!0;var o=t.value;return null!=o?o instanceof Array?o[a]:o:void 0}),n},defaultOption:{show:!0,data:null,multiPolygon:!1,progressiveThreshold:1e3,progressive:1e3,zlevel:-10,label:{show:!1,distance:2,textStyle:{fontSize:20,color:"#000",backgroundColor:"rgba(255,255,255,0.7)",padding:3,borderRadius:4}},itemStyle:{color:"#fff",borderWidth:0,borderColor:"#333"},emphasis:{itemStyle:{color:"#639fc0"},label:{show:!0}}}});Ee(BK.prototype,Ap);const Y6e=BK,X6e=Rr.extend({type:"polygons3D",__ecgl__:!0,init:function(e,n){this.groupGL=new P.Node,this._geo3DBuilderList=[],this._currentStep=0},render:function(e,n,t){this.groupGL.removeAll();var r=e.coordinateSystem;r&&r.viewGL&&r.viewGL.add(this.groupGL);var i=this._geo3DBuilderList[0];i||((i=new aw(t)).extrudeY="mapbox3D"!==r.type&&"maptalks3D"!==r.type,this._geo3DBuilderList[0]=i),this._updateShaderDefines(r,i),i.update(e,n,t),this._geo3DBuilderList.length=1,this.groupGL.add(i.rootNode)},incrementalPrepareRender:function(e,n,t){this.groupGL.removeAll();var r=e.coordinateSystem;r&&r.viewGL&&r.viewGL.add(this.groupGL),this._currentStep=0},incrementalRender:function(e,n,t,r){var i=this._geo3DBuilderList[this._currentStep],a=n.coordinateSystem;i||((i=new aw(r)).extrudeY="mapbox3D"!==a.type&&"maptalks3D"!==a.type,this._geo3DBuilderList[this._currentStep]=i),i.update(n,t,r,e.start,e.end),this.groupGL.add(i.rootNode),this._updateShaderDefines(a,i),this._currentStep++},_updateShaderDefines:function(e,n){var t=e.viewGL.isLinearSpace()?"define":"undefine";n.rootNode.traverse(function(r){r.material&&(r.material[t]("fragment","SRGB_DECODE"),("mapbox3D"===e.type||"maptalks3D"===e.type)&&(r.material.define("fragment","NORMAL_UP_AXIS",2),r.material.define("fragment","NORMAL_FRONT_AXIS",1)))})},remove:function(){this.groupGL.removeAll()},dispose:function(){this.groupGL.removeAll(),this._geo3DBuilderList.forEach(function(e){e.dispose()})}});Vn(function q6e(e){e.registerChartView(X6e),e.registerSeriesModel(Y6e)});var VK=si.extend({type:"series.surface",dependencies:["globe","grid3D","geo3D"],visualStyleAccessPath:"itemStyle",formatTooltip:function(e){return Um(this,e)},getInitialData:function(e,n){var t=e.data;function r(V){return!(isNaN(V.min)||isNaN(V.max)||isNaN(V.step))}function i(V){var F=B3;return Math.max(F(V.min),F(V.max),F(V.step))+1}if(!t)if(e.parametric){var b=e.parametricEquation||{},w=b.u||{},C=b.v||{};["u","v"].forEach(function(F){r(b[F])}),["x","y","z"].forEach(function(F){});var S=Math.floor((w.max+w.step-w.min)/w.step),x=Math.floor((C.max+C.step-C.min)/C.step);t=new Float32Array(S*x*5);for(var M=i(w),E=i(C),d=0,f=0;f<x;f++)for(var p=0;p<S;p++){var A=f*C.step+C.min,N=ur(Math.min(p*w.step+w.min,w.max),M),R=ur(Math.min(A,C.max),E),g=b.x(N,R),m=b.y(N,R),y=b.z(N,R);t[d++]=g,t[d++]=m,t[d++]=y,t[d++]=N,t[d++]=R}}else{var a=e.equation||{},o=a.x||{},s=a.y||{};if(["x","y"].forEach(function(V){r(a[V])}),"function"!=typeof a.z)return;var l=Math.floor((o.max+o.step-o.min)/o.step),c=Math.floor((s.max+s.step-s.min)/s.step);t=new Float32Array(l*c*3);var u=i(o),h=i(s);for(d=0,f=0;f<c;f++)for(p=0;p<l;p++){g=p*o.step+o.min,m=f*s.step+s.min;var v=ur(Math.min(g,o.max),u),_=ur(Math.min(m,s.max),h);y=a.z(v,_),t[d++]=v,t[d++]=_,t[d++]=y}}var z=["x","y","z"];return e.parametric&&z.push("u","v"),lw(this,z,t)},defaultOption:{coordinateSystem:"cartesian3D",zlevel:-10,grid3DIndex:0,shading:"lambert",parametric:!1,wireframe:{show:!0,lineStyle:{color:"rgba(0,0,0,0.5)",width:1}},equation:{x:{min:-1,max:1,step:.1},y:{min:-1,max:1,step:.1},z:null},parametricEquation:{u:{min:-1,max:1,step:.1},v:{min:-1,max:1,step:.1},x:null,y:null,z:null},dataShape:null,itemStyle:{},animationDurationUpdate:500}});Ee(VK.prototype,Ap);const Z6e=VK;var Qh=Ar.vec3;function K6e(e){return isNaN(e[0])||isNaN(e[1])||isNaN(e[2])}const Q6e=Rr.extend({type:"surface",__ecgl__:!0,init:function(e,n){this.groupGL=new P.Node},render:function(e,n,t){var r=this._prevSurfaceMesh;this._prevSurfaceMesh=this._surfaceMesh,this._surfaceMesh=r,this._surfaceMesh||(this._surfaceMesh=this._createSurfaceMesh()),this.groupGL.remove(this._prevSurfaceMesh),this.groupGL.add(this._surfaceMesh);var i=e.coordinateSystem,a=e.get("shading"),o=e.getData(),s="ecgl."+a;if((!this._surfaceMesh.material||this._surfaceMesh.material.shader.name!==s)&&(this._surfaceMesh.material=P.createMaterial(s,["VERTEX_COLOR","DOUBLE_SIDED"])),P.setMaterialFromModel(a,this._surfaceMesh.material,e,t),i&&i.viewGL){i.viewGL.add(this.groupGL);var l=i.viewGL.isLinearSpace()?"define":"undefine";this._surfaceMesh.material[l]("fragment","SRGB_DECODE")}var c=e.get("parametric"),u=e.get("dataShape");u||(u=this._getDataShape(o,c));var h=e.getModel("wireframe"),d=h.get("lineStyle.width"),f=h.get("show")&&d>0;this._updateSurfaceMesh(this._surfaceMesh,e,u,f);var p=this._surfaceMesh.material;f?(p.define("WIREFRAME_QUAD"),p.set("wireframeLineWidth",d),p.set("wireframeLineColor",P.parseColor(h.get("lineStyle.color")))):p.undefine("WIREFRAME_QUAD"),this._initHandler(e,t),this._updateAnimation(e)},_updateAnimation:function(e){P.updateVertexAnimation([["prevPosition","position"],["prevNormal","normal"]],this._prevSurfaceMesh,this._surfaceMesh,e)},_createSurfaceMesh:function(){var e=new P.Mesh({geometry:new P.Geometry({dynamic:!0,sortTriangles:!0}),shadowDepthMaterial:new P.Material({shader:new P.Shader(P.Shader.source("ecgl.sm.depth.vertex"),P.Shader.source("ecgl.sm.depth.fragment"))}),culling:!1,renderOrder:10,renderNormal:!0});return e.geometry.createAttribute("barycentric","float",4),e.geometry.createAttribute("prevPosition","float",3),e.geometry.createAttribute("prevNormal","float",3),Object.assign(e.geometry,nI),e},_initHandler:function(e,n){var t=e.getData(),r=this._surfaceMesh,i=e.coordinateSystem;r.seriesIndex=e.seriesIndex;var o=-1;r.off("mousemove"),r.off("mouseout"),r.on("mousemove",function(s){var l=function a(s,l){for(var c=1/0,u=-1,h=[],d=0;d<s.length;d++){r.geometry.attributes.position.get(s[d],h);var f=Qh.dist(l.array,h);f<c&&(c=f,u=s[d])}return u}(s.triangle,s.point);if(l>=0){var c=[];r.geometry.attributes.position.get(l,c);for(var u=i.pointToData(c),h=1/0,d=-1,f=[],p=0;p<t.count();p++){f[0]=t.get("x",p),f[1]=t.get("y",p),f[2]=t.get("z",p);var g=Qh.squaredDistance(f,u);g<h&&(d=p,h=g)}d!==o&&n.dispatchAction({type:"grid3DShowAxisPointer",value:u}),o=d,r.dataIndex=d}else r.dataIndex=-1},this),r.on("mouseout",function(s){o=-1,r.dataIndex=-1,n.dispatchAction({type:"grid3DHideAxisPointer"})},this)},_updateSurfaceMesh:function(e,n,t,r){var i=e.geometry,a=n.getData(),o=a.getLayout("points"),s=0;a.each(function(Rn){a.hasValue(Rn)||s++});var l=s||r,c=i.attributes.position,u=i.attributes.normal,h=i.attributes.texcoord0,d=i.attributes.barycentric,f=i.attributes.color,p=t[0],g=t[1],v="color"!==n.get("shading");if(l){var _=(p-1)*(g-1)*4;c.init(_),r&&d.init(_)}else c.value=new Float32Array(o);f.init(i.vertexCount),h.init(i.vertexCount);var y=[0,3,1,1,3,2],b=[[1,1,0,0],[0,1,0,1],[1,0,0,1],[1,0,1,0]],w=i.indices=new(i.vertexCount>65535?Uint32Array:Uint16Array)((p-1)*(g-1)*6),C=function(Rn,Zn,di){di[1]=Rn*g+Zn,di[0]=Rn*g+Zn+1,di[3]=(Rn+1)*g+Zn+1,di[2]=(Rn+1)*g+Zn},S=!1;if(l){var x=[],M=[],E=0;v?u.init(i.vertexCount):u.value=null;for(var T=[[],[],[]],A=[],N=[],R=Qh.create(),z=function(Rn,Zn,di){var zp=3*Zn;return di[0]=Rn[zp],di[1]=Rn[zp+1],di[2]=Rn[zp+2],di},L=new Float32Array(o.length),V=new Float32Array(o.length/3*4),F=0;F<a.count();F++)if(a.hasValue(F)){var pt=P.parseColor(ui(a,F));null!=(j=hi(a,F))&&(pt[3]*=j),pt[3]<.99&&(S=!0);for(var Y=0;Y<4;Y++)V[4*F+Y]=pt[Y]}var se=[1e7,1e7,1e7];for(F=0;F<p-1;F++)for(var de=0;de<g-1;de++){var pe=4*(F*(g-1)+de);C(F,de,x);var Le=!1;for(Y=0;Y<4;Y++)z(o,x[Y],M),K6e(M)&&(Le=!0);for(Y=0;Y<4;Y++)Le?c.set(pe+Y,se):(z(o,x[Y],M),c.set(pe+Y,M)),r&&d.set(pe+Y,b[Y]);for(Y=0;Y<6;Y++)w[E++]=y[Y]+pe;if(v&&!Le)for(Y=0;Y<2;Y++){for(var lt=3*Y,Ye=0;Ye<3;Ye++)z(o,Rt=x[y[lt]+Ye],T[Ye]);for(Qh.sub(A,T[0],T[1]),Qh.sub(N,T[1],T[2]),Qh.cross(R,A,N),Ye=0;Ye<3;Ye++){var ct=3*x[y[lt]+Ye];L[ct]=L[ct]+R[0],L[ct+1]=L[ct+1]+R[1],L[ct+2]=L[ct+2]+R[2]}}}if(v)for(F=0;F<L.length/3;F++)z(L,F,R),Qh.normalize(R,R),L[3*F]=R[0],L[3*F+1]=R[1],L[3*F+2]=R[2];pt=[];var Se=[];for(F=0;F<p-1;F++)for(de=0;de<g-1;de++)for(pe=4*(F*(g-1)+de),C(F,de,x),Y=0;Y<4;Y++){for(Ye=0;Ye<4;Ye++)pt[Ye]=V[4*x[Y]+Ye];var Rt;f.set(pe+Y,pt),v&&(z(L,x[Y],R),u.set(pe+Y,R)),Se[0]=(Rt=x[Y])%g/(g-1),Se[1]=Math.floor(Rt/g)/(p-1),h.set(pe+Y,Se)}}else{for(Se=[],F=0;F<a.count();F++){var j;Se[0]=F%g/(g-1),Se[1]=Math.floor(F/g)/(p-1),pt=P.parseColor(ui(a,F)),null!=(j=hi(a,F))&&(pt[3]*=j),pt[3]<.99&&(S=!0),f.set(F,pt),h.set(F,Se)}x=[];var Lt=0;for(F=0;F<p-1;F++)for(de=0;de<g-1;de++)for(C(F,de,x),Y=0;Y<6;Y++)w[Lt++]=x[y[Y]];v?i.generateVertexNormals():u.value=null}e.material.get("normalMap")&&i.generateTangents(),i.updateBoundingBox(),i.dirty(),e.material.transparent=S,e.material.depthMask=!S},_getDataShape:function(e,n){for(var t=-1/0,r=0,i=0,o=!1,s=n?"u":"x",l=e.count(),c=0;c<l;c++){var u=e.get(s,c);u<t&&(i=0,r++),t=u,i++}if((!r||1===i)&&(o=!0),!o)return[r+1,i];for(var h=Math.floor(Math.sqrt(l));h>0;){if(Math.floor(l/h)===l/h)return[h,l/h];h--}return[h=Math.floor(Math.sqrt(l)),h]},dispose:function(){this.groupGL.removeAll()},remove:function(){this.groupGL.removeAll()}});function HK(e,n){for(var t=[],r=0;r<n.length;r++)t.push(e.dataToPoint(n[r]));return t}Vn(function J6e(e){e.registerChartView(Q6e),e.registerSeriesModel(Z6e),e.registerLayout(function(n,t){n.eachSeriesByType("surface",function(r){var i=r.coordinateSystem,a=r.getData(),o=new Float32Array(3*a.count()),s=[NaN,NaN,NaN];if(i&&"cartesian3D"===i.type){var c=i.dimensions.map(function(u){return r.coordDimToDataDim(u)[0]});a.each(c,function(u,h,d,f){var p;p=a.hasValue(f)?i.dataToPoint([u,h,d]):s,o[3*f]=p[0],o[3*f+1]=p[1],o[3*f+2]=p[2]})}a.setLayout("points",o)})})});var Lp=si.extend({type:"series.map3D",layoutMode:"box",coordinateSystem:null,visualStyleAccessPath:"itemStyle",optionUpdated:function(e){e=e||{};var n=this.get("coordinateSystem");null!=n&&"geo3D"!==n&&(this.get("groundPlane.show")&&(this.option.groundPlane.show=!1),this._geo=null)},getInitialData:function(e){e.data=this.getFilledRegions(e.data,e.map);var n=im(e.data,{coordDimensions:["value"]}),t=new Lo(n,this);t.initData(e.data);var r={};return t.each(function(i){var a=t.getName(i),o=t.getItemModel(i);r[a]=o}),this._regionModelMap=r,t},formatTooltip:function(e){return Um(this,e)},getRegionModel:function(e){var n=this.getData().getName(e);return this._regionModelMap[n]||new Tr(null,this)},getRegionPolygonCoords:function(e){var n=this.coordinateSystem,t=this.getData().getName(e);if(n.transform)return(r=n.getRegion(t))?r.geometries:[];this._geo||(this._geo=cK.createGeo3D(this));for(var r=this._geo.getRegion(t),i=[],a=0;a<r.geometries.length;a++){var o=r.geometries[a],s=[],l=HK(n,o.exterior);if(s&&s.length)for(var c=0;c<o.interiors.length;c++)s.push(HK(n,s[c]));i.push({interiors:s,exterior:l})}return i},getFormattedLabel:function(e,n){var t=Rp.getFormattedLabel(this,e,n);return null==t&&(t=this.getData().getName(e)),t},defaultOption:{coordinateSystem:"geo3D",data:null}});Ee(Lp.prototype,XZ),Ee(Lp.prototype,XC),Ee(Lp.prototype,xp),Ee(Lp.prototype,Mp),Ee(Lp.prototype,Ap);const eFe=Lp,tFe=Rr.extend({type:"map3D",__ecgl__:!0,init:function(e,n){this._geo3DBuilder=new aw(n),this.groupGL=new P.Node},render:function(e,n,t){var r=e.coordinateSystem;if(r&&r.viewGL){if(this.groupGL.add(this._geo3DBuilder.rootNode),r.viewGL.add(this.groupGL),"geo3D"===r.type){this._sceneHelper||(this._sceneHelper=new Tp,this._sceneHelper.initLight(this.groupGL)),this._sceneHelper.setScene(r.viewGL.scene),this._sceneHelper.updateLight(e),r.viewGL.setPostEffect(e.getModel("postEffect"),t),r.viewGL.setTemporalSuperSampling(e.getModel("temporalSuperSampling"));var a=this._control;a||(a=this._control=new ZC({zr:t.getZr()}),this._control.init());var o=e.getModel("viewControl");a.setViewGL(r.viewGL),a.setFromViewControlModel(o,0),a.off("update"),a.on("update",function(){t.dispatchAction({type:"map3DChangeCamera",alpha:a.getAlpha(),beta:a.getBeta(),distance:a.getDistance(),from:this.uid,map3DId:e.id})}),this._geo3DBuilder.extrudeY=!0}else this._control&&(this._control.dispose(),this._control=null),this._sceneHelper&&(this._sceneHelper.dispose(),this._sceneHelper=null),e.getData().getLayout("geo3D"),this._geo3DBuilder.extrudeY=!1;this._geo3DBuilder.update(e,n,t,0,e.getData().count());var s=r.viewGL.isLinearSpace()?"define":"undefine";this._geo3DBuilder.rootNode.traverse(function(l){l.material&&l.material[s]("fragment","SRGB_DECODE")})}},afterRender:function(e,n,t,r){var i=r.renderer,a=e.coordinateSystem;a&&"geo3D"===a.type&&(this._sceneHelper.updateAmbientCubemap(i,e,t),this._sceneHelper.updateSkybox(i,e,t))},dispose:function(){this.groupGL.removeAll(),this._control.dispose(),this._geo3DBuilder.dispose()}});Vn(function nFe(e){uK(e),e.registerChartView(tFe),e.registerSeriesModel(eFe),e.registerAction({type:"map3DChangeCamera",event:"map3dcamerachanged",update:"series:updateCamera"},function(n,t){t.eachComponent({mainType:"series",subType:"map3D",query:n},function(r){r.setView(n)})})});const rFe=si.extend({type:"series.scatterGL",dependencies:["grid","polar","geo","singleAxis"],visualStyleAccessPath:"itemStyle",hasSymbolVisual:!0,getInitialData:function(){return function aOe(e){return am(null,e)}(this)},defaultOption:{coordinateSystem:"cartesian2d",zlevel:10,progressive:1e5,progressiveThreshold:1e5,large:!1,symbol:"circle",symbolSize:10,zoomScale:0,blendMode:"source-over",itemStyle:{opacity:.8},postEffect:{enable:!1,colorCorrection:{exposure:0,brightness:0,contrast:1,saturation:1,enable:!0}}}});function Yc(e){this.viewGL=e}Yc.prototype.reset=function(e,n){this._updateCamera(n.getWidth(),n.getHeight(),n.getDevicePixelRatio()),this._viewTransform=[1,0,0,1,0,0],this.updateTransform(e,n)},Yc.prototype.updateTransform=function(e,n){var t=e.coordinateSystem;t.getRoamTransform&&(Sf(this._viewTransform,t.getRoamTransform()),this._setCameraTransform(this._viewTransform),n.getZr().refresh())},Yc.prototype.dataToPoint=function(e,n,t){t=e.dataToPoint(n,null,t);var r=this._viewTransform;r&&zi(t,t,r)},Yc.prototype.removeTransformInPoint=function(e){return this._viewTransform&&zi(e,e,this._viewTransform),e},Yc.prototype.getZoom=function(){if(this._viewTransform){var e=this._viewTransform;return 1/Math.max(Math.sqrt(e[0]*e[0]+e[1]*e[1]),Math.sqrt(e[2]*e[2]+e[3]*e[3]))}return 1},Yc.prototype._setCameraTransform=function(e){var n=this.viewGL.camera;n.position.set(e[4],e[5],0),n.scale.set(Math.sqrt(e[0]*e[0]+e[1]*e[1]),Math.sqrt(e[2]*e[2]+e[3]*e[3]),1)},Yc.prototype._updateCamera=function(e,n,t){this.viewGL.setViewport(0,0,e,n,t);var r=this.viewGL.camera;r.left=r.top=0,r.bottom=n,r.right=e,r.near=0,r.far=100};const UK=Yc,iFe=Rr.extend({type:"scatterGL",__ecgl__:!0,init:function(e,n){this.groupGL=new P.Node,this.viewGL=new Vc("orthographic"),this.viewGL.add(this.groupGL),this._pointsBuilderList=[],this._currentStep=0,this._sizeScale=1,this._glViewHelper=new UK(this.viewGL)},render:function(e,n,t){if(this.groupGL.removeAll(),this._glViewHelper.reset(e,t),e.getData().count()){var r=this._pointsBuilderList[0];r||(r=this._pointsBuilderList[0]=new Gm(!0,t)),this._pointsBuilderList.length=1,this.groupGL.add(r.rootNode),this._removeTransformInPoints(e.getData().getLayout("points")),r.update(e,n,t),this.viewGL.setPostEffect(e.getModel("postEffect"),t)}},incrementalPrepareRender:function(e,n,t){this.groupGL.removeAll(),this._glViewHelper.reset(e,t),this._currentStep=0,this.viewGL.setPostEffect(e.getModel("postEffect"),t)},incrementalRender:function(e,n,t,r){if(!(e.end<=e.start)){var i=this._pointsBuilderList[this._currentStep];i||(i=new Gm(!0,r),this._pointsBuilderList[this._currentStep]=i),this.groupGL.add(i.rootNode),this._removeTransformInPoints(n.getData().getLayout("points")),i.setSizeScale(this._sizeScale),i.update(n,t,r,e.start,e.end),r.getZr().refresh(),this._currentStep++}},updateTransform:function(e,n,t){if(e.coordinateSystem.getRoamTransform){this._glViewHelper.updateTransform(e,t);var r=this._glViewHelper.getZoom(),i=Math.max((e.get("zoomScale")||0)*(r-1)+1,0);this._sizeScale=i,this._pointsBuilderList.forEach(function(a){a.setSizeScale(i)})}},_removeTransformInPoints:function(e){if(e)for(var n=[],t=0;t<e.length;t+=2)n[0]=e[t],n[1]=e[t+1],this._glViewHelper.removeTransformInPoint(n),e[t]=n[0],e[t+1]=n[1]},dispose:function(){this.groupGL.removeAll(),this._pointsBuilderList.forEach(function(e){e.dispose()})},remove:function(){this.groupGL.removeAll()}});function kp(e){return"_EC_"+e}Vn(function aFe(e){e.registerChartView(iFe),e.registerSeriesModel(rFe),e.registerLayout({seriesType:"scatterGL",reset:function(n){var i,t=n.coordinateSystem,r=n.getData();if(t){var a=t.dimensions.map(function(s){return r.mapDimension(s)}).slice(0,2),o=[];1===a.length?i=function(s){for(var l=new Float32Array(2*(s.end-s.start)),c=s.start;c<s.end;c++){var u=2*(c-s.start),h=r.get(a[0],c),d=t.dataToPoint(h);l[u]=d[0],l[u+1]=d[1]}r.setLayout("points",l)}:2===a.length&&(i=function(s){for(var l=new Float32Array(2*(s.end-s.start)),c=s.start;c<s.end;c++){var u=2*(c-s.start),h=r.get(a[0],c),d=r.get(a[1],c);o[0]=h,o[1]=d,o=t.dataToPoint(o),l[u]=o[0],l[u+1]=o[1]}r.setLayout("points",l)})}return{progress:i}}})});var oFe=function(){function e(n){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=n||!1}return e.prototype.isDirected=function(){return this._directed},e.prototype.addNode=function(n,t){var r=this._nodesMap;if(!r[kp(n=null==n?""+t:""+n)]){var i=new Jh(n,t);return i.hostGraph=this,this.nodes.push(i),r[kp(n)]=i,i}},e.prototype.getNodeByIndex=function(n){var t=this.data.getRawIndex(n);return this.nodes[t]},e.prototype.getNodeById=function(n){return this._nodesMap[kp(n)]},e.prototype.addEdge=function(n,t,r){var i=this._nodesMap,a=this._edgesMap;if(Sn(n)&&(n=this.nodes[n]),Sn(t)&&(t=this.nodes[t]),n instanceof Jh||(n=i[kp(n)]),t instanceof Jh||(t=i[kp(t)]),n&&t){var o=n.id+"-"+t.id,s=new GK(n,t,r);return s.hostGraph=this,this._directed&&(n.outEdges.push(s),t.inEdges.push(s)),n.edges.push(s),n!==t&&t.edges.push(s),this.edges.push(s),a[o]=s,s}},e.prototype.getEdgeByIndex=function(n){var t=this.edgeData.getRawIndex(n);return this.edges[t]},e.prototype.getEdge=function(n,t){n instanceof Jh&&(n=n.id),t instanceof Jh&&(t=t.id);var r=this._edgesMap;return this._directed?r[n+"-"+t]:r[n+"-"+t]||r[t+"-"+n]},e.prototype.eachNode=function(n,t){for(var r=this.nodes,i=r.length,a=0;a<i;a++)r[a].dataIndex>=0&&n.call(t,r[a],a)},e.prototype.eachEdge=function(n,t){for(var r=this.edges,i=r.length,a=0;a<i;a++)r[a].dataIndex>=0&&r[a].node1.dataIndex>=0&&r[a].node2.dataIndex>=0&&n.call(t,r[a],a)},e.prototype.breadthFirstTraverse=function(n,t,r,i){if(t instanceof Jh||(t=this._nodesMap[kp(t)]),t){for(var a="out"===r?"outEdges":"in"===r?"inEdges":"edges",o=0;o<this.nodes.length;o++)this.nodes[o].__visited=!1;if(!n.call(i,t,null))for(var s=[t];s.length;){var l=s.shift(),c=l[a];for(o=0;o<c.length;o++){var u=c[o],h=u.node1===l?u.node2:u.node1;if(!h.__visited){if(n.call(i,h,l))return;s.push(h),h.__visited=!0}}}}},e.prototype.update=function(){for(var n=this.data,t=this.edgeData,r=this.nodes,i=this.edges,a=0,o=r.length;a<o;a++)r[a].dataIndex=-1;for(a=0,o=n.count();a<o;a++)r[n.getRawIndex(a)].dataIndex=a;for(t.filterSelf(function(s){var l=i[t.getRawIndex(s)];return l.node1.dataIndex>=0&&l.node2.dataIndex>=0}),a=0,o=i.length;a<o;a++)i[a].dataIndex=-1;for(a=0,o=t.count();a<o;a++)i[t.getRawIndex(a)].dataIndex=a},e.prototype.clone=function(){for(var n=new e(this._directed),t=this.nodes,r=this.edges,i=0;i<t.length;i++)n.addNode(t[i].id,t[i].dataIndex);for(i=0;i<r.length;i++){var a=r[i];n.addEdge(a.node1.id,a.node2.id,a.dataIndex)}return n},e}(),Jh=function(){function e(n,t){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=n??"",this.dataIndex=t??-1}return e.prototype.degree=function(){return this.edges.length},e.prototype.inDegree=function(){return this.inEdges.length},e.prototype.outDegree=function(){return this.outEdges.length},e.prototype.getModel=function(n){if(!(this.dataIndex<0))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(n)},e.prototype.getAdjacentDataIndices=function(){for(var n={edge:[],node:[]},t=0;t<this.edges.length;t++){var r=this.edges[t];r.dataIndex<0||(n.edge.push(r.dataIndex),n.node.push(r.node1.dataIndex,r.node2.dataIndex))}return n},e}(),GK=function(){function e(n,t,r){this.dataIndex=-1,this.node1=n,this.node2=t,this.dataIndex=r??-1}return e.prototype.getModel=function(n){if(!(this.dataIndex<0))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(n)},e.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},e}();function WK(e,n){return{getValue:function(t){var r=this[e][n];return r.getStore().get(r.getDimensionIndex(t||"value"),this.dataIndex)},setVisual:function(t,r){this.dataIndex>=0&&this[e][n].setItemVisual(this.dataIndex,t,r)},getVisual:function(t){return this[e][n].getItemVisual(this.dataIndex,t)},setLayout:function(t,r){this.dataIndex>=0&&this[e][n].setItemLayout(this.dataIndex,t,r)},getLayout:function(){return this[e][n].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[e][n].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[e][n].getRawIndex(this.dataIndex)}}}Ta(Jh,WK("hostGraph","data")),Ta(GK,WK("hostGraph","edgeData"));const sFe=oFe;var Uo=$n();function cFe(e,n){if(function pFe(e){return Uo(e).mainData===e}(this)){var t=oe({},Uo(this).datas);t[this.dataType]=n,jK(n,t,e)}else bI(n,this.dataType,Uo(this).mainData,e);return n}function uFe(e,n){return e.struct&&e.struct.update(),n}function hFe(e,n){return I(Uo(n).datas,function(t,r){t!==n&&bI(t.cloneShallow(),r,n,e)}),n}function dFe(e){var n=Uo(this).mainData;return null==e||null==n?n:Uo(n).datas[e]}function fFe(){var e=Uo(this).mainData;return null==e?[{data:e}]:De(Bn(Uo(e).datas),function(n){return{type:n,data:Uo(e).datas[n]}})}function jK(e,n,t){Uo(e).datas={},I(n,function(r,i){bI(r,i,e,t)})}function bI(e,n,t,r){Uo(t).datas[n]=e,Uo(e).mainData=t,e.dataType=n,r.struct&&(e[r.structAttr]=r.struct,r.struct[r.datasAttr[n]]=e),e.getLinkedData=dFe,e.getLinkedDataAll=fFe}var jm=si.extend({type:"series.graphGL",visualStyleAccessPath:"itemStyle",hasSymbolVisual:!0,init:function(e){jm.superApply(this,"init",arguments),this.legendDataProvider=function(){return this._categoriesData},this._updateCategoriesData()},mergeOption:function(e){jm.superApply(this,"mergeOption",arguments),this._updateCategoriesData()},getFormattedLabel:function(e,n,t,r){var i=Rp.getFormattedLabel(this,e,n,t,r);if(null==i){var a=this.getData();i=a.get(a.dimensions[a.dimensions.length-1],e)}return i},getInitialData:function(e,n){var t=e.edges||e.links||[],r=e.data||e.nodes||[],i=this;if(r&&t)return function mFe(e,n,t,r,i){for(var a=new sFe(r),o=0;o<e.length;o++)a.addNode(Ct.firstNotNull(e[o].id,e[o].name,o),o);var s=[],l=[],c=0;for(o=0;o<n.length;o++){var u=n[o],h=u.source,d=u.target;a.addEdge(h,d,c)&&(l.push(u),s.push(Ct.firstNotNull(u.id,h+" > "+d)),c++)}var f,p=im(e,{coordDimensions:["value"]});(f=new Lo(p,t)).initData(e);var g=new Lo(["value"],t);return g.initData(l,s),i&&i(f,g),function lFe(e){var n=e.mainData,t=e.datas;t||(t={main:n},e.datasAttr={main:"data"}),e.datas=e.mainData=null,jK(n,t,e),I(t,function(r){I(n.TRANSFERABLE_METHODS,function(i){r.wrapMethod(i,An(cFe,e))})}),n.wrapMethod("cloneShallow",An(hFe,e)),I(n.CHANGABLE_METHODS,function(r){n.wrapMethod(r,An(uFe,e))}),rs(t[n.dataType]===n)}({mainData:f,struct:a,structAttr:"graph",datas:{node:f,edge:g},datasAttr:{node:"data",edge:"edgeData"}}),a.update(),a}(r,t,this,!0,function a(o,s){o.wrapMethod("getItemModel",function(h){const p=i._categoriesModels[h.getShallow("category")];return p&&(p.parentModel=h.parentModel,h.parentModel=p),h});const l=n.getModel([]).getModel;function c(h,d){const f=l.call(this,h,d);return f.resolveParentPath=u,f}function u(h){if(h&&("label"===h[0]||"label"===h[1])){const d=h.slice();return"label"===h[0]?d[0]="edgeLabel":"label"===h[1]&&(d[1]="edgeLabel"),d}return h}s.wrapMethod("getItemModel",function(h){return h.resolveParentPath=u,h.getModel=c,h})}).data},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},getCategoriesData:function(){return this._categoriesData},formatTooltip:function(e,n,t){if("edge"===t){var r=this.getData(),i=this.getDataParams(e,t),a=r.graph.getEdgeByIndex(e),o=r.getName(a.node1.dataIndex),s=r.getName(a.node2.dataIndex),l=[];return null!=o&&l.push(o),null!=s&&l.push(s),l=gi(l.join(" > ")),i.value&&(l+=" : "+gi(i.value)),l}return jm.superApply(this,"formatTooltip",arguments)},_updateCategoriesData:function(){var e=(this.option.categories||[]).map(function(t){return null!=t.value?t:Object.assign({value:0},t)}),n=new Lo(["value"],this);n.initData(e),this._categoriesData=n,this._categoriesModels=n.mapArray(function(t){return n.getItemModel(t,!0)})},setView:function(e){null!=e.zoom&&(this.option.zoom=e.zoom),null!=e.offset&&(this.option.offset=e.offset)},setNodePosition:function(e){for(var n=0;n<e.length/2;n++){var t=e[2*n],r=e[2*n+1],i=this.getData().getRawDataItem(n);i.x=t,i.y=r}},isAnimationEnabled:function(){return jm.superCall(this,"isAnimationEnabled")&&!("force"===this.get("layout")&&this.get("force.layoutAnimation"))},defaultOption:{zlevel:10,z:2,legendHoverLink:!0,layout:"forceAtlas2",forceAtlas2:{initLayout:null,GPU:!0,steps:1,maxSteps:1e3,repulsionByDegree:!0,linLogMode:!1,strongGravityMode:!1,gravity:1,edgeWeightInfluence:1,edgeWeight:[1,4],nodeWeight:[1,4],preventOverlap:!1,gravityCenter:null},focusNodeAdjacency:!0,focusNodeAdjacencyOn:"mouseover",left:"center",top:"center",symbol:"circle",symbolSize:5,roam:!1,center:null,zoom:1,label:{show:!1,formatter:"{b}",position:"right",distance:5,textStyle:{fontSize:14}},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{label:{show:!0}},animation:!1}});const vFe=jm;var Kr=Ar.vec2,$K=[[0,0],[1,1]],YK=Qt.extend(function(){return{segmentScale:4,dynamic:!0,useNativeLine:!0,attributes:{position:new Qt.Attribute("position","float",2,"POSITION"),normal:new Qt.Attribute("normal","float",2),offset:new Qt.Attribute("offset","float",1),color:new Qt.Attribute("color","float",4,"COLOR")}}},{resetOffset:function(){this._vertexOffset=0,this._faceOffset=0,this._itemVertexOffsets=[]},setVertexCount:function(e){var n=this.attributes;this.vertexCount!==e&&(n.position.init(e),n.color.init(e),this.useNativeLine||(n.offset.init(e),n.normal.init(e)),e>65535?this.indices instanceof Uint16Array&&(this.indices=new Uint32Array(this.indices)):this.indices instanceof Uint32Array&&(this.indices=new Uint16Array(this.indices)))},setTriangleCount:function(e){this.triangleCount!==e&&(this.indices=0===e?null:this.vertexCount>65535?new Uint32Array(3*e):new Uint16Array(3*e))},_getCubicCurveApproxStep:function(e,n,t,r){return 1/(Kr.dist(e,n)+Kr.dist(t,n)+Kr.dist(r,t)+1)*this.segmentScale},getCubicCurveVertexCount:function(e,n,t,r){var i=this._getCubicCurveApproxStep(e,n,t,r),a=Math.ceil(1/i);return this.useNativeLine?2*a:2*a+2},getCubicCurveTriangleCount:function(e,n,t,r){var i=this._getCubicCurveApproxStep(e,n,t,r),a=Math.ceil(1/i);return this.useNativeLine?0:2*a},getLineVertexCount:function(){return this.getPolylineVertexCount($K)},getLineTriangleCount:function(){return this.getPolylineTriangleCount($K)},getPolylineVertexCount:function(e){var n;return n="number"==typeof e?e:"number"!=typeof e[0]?e.length:e.length/2,this.useNativeLine?2*(n-1):2*(n-1)+2},getPolylineTriangleCount:function(e){var n;return n="number"==typeof e?e:"number"!=typeof e[0]?e.length:e.length/2,this.useNativeLine?0:2*(n-1)},addCubicCurve:function(e,n,t,r,i,a){null==a&&(a=1);var o=e[0],s=e[1],l=n[0],c=n[1],u=t[0],h=t[1],d=r[0],f=r[1],p=this._getCubicCurveApproxStep(e,n,t,r),g=p*p,m=g*p,v=3*p,_=3*g,y=6*g,b=6*m,w=o-2*l+u,C=s-2*c+h,S=3*(l-u)-o+d,x=3*(c-h)-s+f,M=o,E=s,T=(l-o)*v+w*_+S*m,A=(c-s)*v+C*_+x*m,N=w*y+S*b,R=C*y+x*b,z=S*b,L=x*b,V=0,F=0,j=Math.ceil(1/p),Y=new Float32Array(3*(j+1)),se=(Y=[],0);for(F=0;F<j+1;F++)Y[se++]=M,Y[se++]=E,M+=T,E+=A,T+=N,A+=R,N+=z,R+=L,(V+=p)>1&&(M=T>0?Math.min(M,d):Math.max(M,d),E=A>0?Math.min(E,f):Math.max(E,f));this.addPolyline(Y,i,a)},addLine:function(e,n,t,r){this.addPolyline([e,n],t,r)},addPolyline:function(){var e=Kr.create(),n=Kr.create(),t=Kr.create(),r=Kr.create(),i=[],a=[],o=[];return function(s,l,c,u,h){if(s.length){var d="number"!=typeof s[0];if(null==h&&(h=d?s.length:s.length/2),!(h<2)){null==u&&(u=0),null==c&&(c=1),this._itemVertexOffsets.push(this._vertexOffset);for(var b,f=d?"number"!=typeof l[0]:l.length/4===h,p=this.attributes.position,g=this.attributes.color,m=this.attributes.offset,v=this.attributes.normal,_=this.indices,y=this._vertexOffset,w=0;w<h;w++){if(d)i=s[w+u],b=f?l[w+u]:l;else if((i=i||[])[0]=s[C=2*w+u],i[1]=s[C+1],f){var S=4*w+u;(b=b||[])[0]=l[S],b[1]=l[S+1],b[2]=l[S+2],b[3]=l[S+3]}else b=l;if(this.useNativeLine)w>1&&(p.copy(y,y-1),g.copy(y,y-1),y++);else{var x,C;if(w<h-1)if(d?Kr.copy(a,s[w+1]):((a=a||[])[0]=s[C=2*(w+1)+u],a[1]=s[C+1]),w>0){Kr.sub(e,i,o),Kr.sub(n,a,i),Kr.normalize(e,e),Kr.normalize(n,n),Kr.add(r,e,n),Kr.normalize(r,r);var M=c/2*Math.min(1/Kr.dot(e,r),2);t[0]=-r[1],t[1]=r[0],x=M}else Kr.sub(e,a,i),Kr.normalize(e,e),t[0]=-e[1],t[1]=e[0],x=c/2;else Kr.sub(e,i,o),Kr.normalize(e,e),t[0]=-e[1],t[1]=e[0],x=c/2;v.set(y,t),v.set(y+1,t),m.set(y,x),m.set(y+1,-x),Kr.copy(o,i),p.set(y,i),p.set(y+1,i),g.set(y,b),g.set(y+1,b),y+=2}if(this.useNativeLine)g.set(y,b),p.set(y,i),y++;else if(w>0){var E=3*this._faceOffset;(_=this.indices)[E]=y-4,_[E+1]=y-3,_[E+2]=y-2,_[E+3]=y-3,_[E+4]=y-1,_[E+5]=y-2,this._faceOffset+=2}}this._vertexOffset=y}}}}(),setItemColor:function(e,n){for(var r=e<this._itemVertexOffsets.length-1?this._itemVertexOffsets[e+1]:this._vertexOffset,i=this._itemVertexOffsets[e];i<r;i++)this.attributes.color.set(i,n);this.dirty("color")}});ut(YK.prototype,Pm);const XK=YK;P.Shader.import("@export ecgl.forceAtlas2.updateNodeRepulsion\n\n#define NODE_COUNT 0\n\nuniform sampler2D positionTex;\n\nuniform vec2 textureSize;\nuniform float gravity;\nuniform float scaling;\nuniform vec2 gravityCenter;\n\nuniform bool strongGravityMode;\nuniform bool preventOverlap;\n\nvarying vec2 v_Texcoord;\n\nvoid main() {\n\n vec4 n0 = texture2D(positionTex, v_Texcoord);\n\n vec2 force = vec2(0.0);\n for (int i = 0; i < NODE_COUNT; i++) {\n vec2 uv = vec2(\n mod(float(i), textureSize.x) / (textureSize.x - 1.0),\n floor(float(i) / textureSize.x) / (textureSize.y - 1.0)\n );\n vec4 n1 = texture2D(positionTex, uv);\n\n vec2 dir = n0.xy - n1.xy;\n float d2 = dot(dir, dir);\n\n if (d2 > 0.0) {\n float factor = 0.0;\n if (preventOverlap) {\n float d = sqrt(d2);\n d = d - n0.w - n1.w;\n if (d > 0.0) {\n factor = scaling * n0.z * n1.z / (d * d);\n }\n else if (d < 0.0) {\n factor = scaling * 100.0 * n0.z * n1.z;\n }\n }\n else {\n factor = scaling * n0.z * n1.z / d2;\n }\n force += dir * factor;\n }\n }\n\n vec2 dir = gravityCenter - n0.xy;\n float d = 1.0;\n if (!strongGravityMode) {\n d = length(dir);\n }\n\n force += dir * n0.z * gravity / (d + 1.0);\n\n gl_FragColor = vec4(force, 0.0, 1.0);\n}\n@end\n\n@export ecgl.forceAtlas2.updateEdgeAttraction.vertex\n\nattribute vec2 node1;\nattribute vec2 node2;\nattribute float weight;\n\nuniform sampler2D positionTex;\nuniform float edgeWeightInfluence;\nuniform bool preventOverlap;\nuniform bool linLogMode;\n\nuniform vec2 windowSize: WINDOW_SIZE;\n\nvarying vec2 v_Force;\n\nvoid main() {\n\n vec4 n0 = texture2D(positionTex, node1);\n vec4 n1 = texture2D(positionTex, node2);\n\n vec2 dir = n1.xy - n0.xy;\n float d = length(dir);\n float w;\n if (edgeWeightInfluence == 0.0) {\n w = 1.0;\n }\n else if (edgeWeightInfluence == 1.0) {\n w = weight;\n }\n else {\n w = pow(weight, edgeWeightInfluence);\n }\n vec2 offset = vec2(1.0 / windowSize.x, 1.0 / windowSize.y);\n vec2 scale = vec2((windowSize.x - 1.0) / windowSize.x, (windowSize.y - 1.0) / windowSize.y);\n vec2 pos = node1 * scale * 2.0 - 1.0;\n gl_Position = vec4(pos + offset, 0.0, 1.0);\n gl_PointSize = 1.0;\n\n float factor;\n if (preventOverlap) {\n d = d - n1.w - n0.w;\n }\n if (d <= 0.0) {\n v_Force = vec2(0.0);\n return;\n }\n\n if (linLogMode) {\n factor = w * log(d) / d;\n }\n else {\n factor = w;\n }\n v_Force = dir * factor;\n}\n@end\n\n@export ecgl.forceAtlas2.updateEdgeAttraction.fragment\n\nvarying vec2 v_Force;\n\nvoid main() {\n gl_FragColor = vec4(v_Force, 0.0, 0.0);\n}\n@end\n\n@export ecgl.forceAtlas2.calcWeightedSum.vertex\n\nattribute vec2 node;\n\nvarying vec2 v_NodeUv;\n\nvoid main() {\n\n v_NodeUv = node;\n gl_Position = vec4(0.0, 0.0, 0.0, 1.0);\n gl_PointSize = 1.0;\n}\n@end\n\n@export ecgl.forceAtlas2.calcWeightedSum.fragment\n\nvarying vec2 v_NodeUv;\n\nuniform sampler2D positionTex;\nuniform sampler2D forceTex;\nuniform sampler2D forcePrevTex;\n\nvoid main() {\n vec2 force = texture2D(forceTex, v_NodeUv).rg;\n vec2 forcePrev = texture2D(forcePrevTex, v_NodeUv).rg;\n\n float mass = texture2D(positionTex, v_NodeUv).z;\n float swing = length(force - forcePrev) * mass;\n float traction = length(force + forcePrev) * 0.5 * mass;\n\n gl_FragColor = vec4(swing, traction, 0.0, 0.0);\n}\n@end\n\n@export ecgl.forceAtlas2.calcGlobalSpeed\n\nuniform sampler2D globalSpeedPrevTex;\nuniform sampler2D weightedSumTex;\nuniform float jitterTolerence;\n\nvoid main() {\n vec2 weightedSum = texture2D(weightedSumTex, vec2(0.5)).xy;\n float prevGlobalSpeed = texture2D(globalSpeedPrevTex, vec2(0.5)).x;\n float globalSpeed = jitterTolerence * jitterTolerence\n * weightedSum.y / weightedSum.x;\n if (prevGlobalSpeed > 0.0) {\n globalSpeed = min(globalSpeed / prevGlobalSpeed, 1.5) * prevGlobalSpeed;\n }\n gl_FragColor = vec4(globalSpeed, 0.0, 0.0, 1.0);\n}\n@end\n\n@export ecgl.forceAtlas2.updatePosition\n\nuniform sampler2D forceTex;\nuniform sampler2D forcePrevTex;\nuniform sampler2D positionTex;\nuniform sampler2D globalSpeedTex;\n\nvarying vec2 v_Texcoord;\n\nvoid main() {\n vec2 force = texture2D(forceTex, v_Texcoord).xy;\n vec2 forcePrev = texture2D(forcePrevTex, v_Texcoord).xy;\n vec4 node = texture2D(positionTex, v_Texcoord);\n\n float globalSpeed = texture2D(globalSpeedTex, vec2(0.5)).r;\n float swing = length(force - forcePrev);\n float speed = 0.1 * globalSpeed / (0.1 + globalSpeed * sqrt(swing));\n\n float df = length(force);\n if (df > 0.0) {\n speed = min(df * speed, 10.0) / df;\n\n gl_FragColor = vec4(node.xy + speed * force, node.zw);\n }\n else {\n gl_FragColor = node;\n }\n}\n@end\n\n@export ecgl.forceAtlas2.edges.vertex\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\n\nattribute vec2 node;\nattribute vec4 a_Color : COLOR;\nvarying vec4 v_Color;\n\nuniform sampler2D positionTex;\n\nvoid main()\n{\n gl_Position = worldViewProjection * vec4(\n texture2D(positionTex, node).xy, -10.0, 1.0\n );\n v_Color = a_Color;\n}\n@end\n\n@export ecgl.forceAtlas2.edges.fragment\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\nvarying vec4 v_Color;\nvoid main() {\n gl_FragColor = color * v_Color;\n}\n@end");var CI={repulsionByDegree:!0,linLogMode:!1,strongGravityMode:!1,gravity:1,scaling:1,edgeWeightInfluence:1,jitterTolerence:.1,preventOverlap:!1,dissuadeHubs:!1,gravityCenter:null};function bi(e){var n={type:P.Texture.FLOAT,minFilter:P.Texture.NEAREST,magFilter:P.Texture.NEAREST};this._positionSourceTex=new P.Texture2D(n),this._positionSourceTex.flipY=!1,this._positionTex=new P.Texture2D(n),this._positionPrevTex=new P.Texture2D(n),this._forceTex=new P.Texture2D(n),this._forcePrevTex=new P.Texture2D(n),this._weightedSumTex=new P.Texture2D(n),this._weightedSumTex.width=this._weightedSumTex.height=1,this._globalSpeedTex=new P.Texture2D(n),this._globalSpeedPrevTex=new P.Texture2D(n),this._globalSpeedTex.width=this._globalSpeedTex.height=1,this._globalSpeedPrevTex.width=this._globalSpeedPrevTex.height=1,this._nodeRepulsionPass=new kr({fragment:P.Shader.source("ecgl.forceAtlas2.updateNodeRepulsion")}),this._positionPass=new kr({fragment:P.Shader.source("ecgl.forceAtlas2.updatePosition")}),this._globalSpeedPass=new kr({fragment:P.Shader.source("ecgl.forceAtlas2.calcGlobalSpeed")}),this._copyPass=new kr({fragment:P.Shader.source("clay.compositor.output")});var t=function(r){r.blendEquation(r.FUNC_ADD),r.blendFunc(r.ONE,r.ONE)};this._edgeForceMesh=new P.Mesh({geometry:new P.Geometry({attributes:{node1:new P.Geometry.Attribute("node1","float",2),node2:new P.Geometry.Attribute("node2","float",2),weight:new P.Geometry.Attribute("weight","float",1)},dynamic:!0,mainAttribute:"node1"}),material:new P.Material({transparent:!0,shader:P.createShader("ecgl.forceAtlas2.updateEdgeAttraction"),blend:t,depthMask:!1,depthText:!1}),mode:P.Mesh.POINTS}),this._weightedSumMesh=new P.Mesh({geometry:new P.Geometry({attributes:{node:new P.Geometry.Attribute("node","float",2)},dynamic:!0,mainAttribute:"node"}),material:new P.Material({transparent:!0,shader:P.createShader("ecgl.forceAtlas2.calcWeightedSum"),blend:t,depthMask:!1,depthText:!1}),mode:P.Mesh.POINTS}),this._framebuffer=new yi({depthBuffer:!1}),this._dummyCamera=new P.OrthographicCamera({left:-1,right:1,top:1,bottom:-1,near:0,far:100}),this._globalSpeed=0}bi.prototype.updateOption=function(e){for(var n in CI)this[n]=CI[n];var t=this._nodes.length;if(this.jitterTolerence=t>5e4?10:t>5e3?1:.1,this.scaling=t>100?2:10,e)for(var n in CI)null!=e[n]&&(this[n]=e[n]);if(this.repulsionByDegree)for(var r=this._positionSourceTex.pixels,i=0;i<this._nodes.length;i++)r[4*i+2]=(this._nodes[i].degree||0)+1},bi.prototype._updateGravityCenter=function(e){var n=this._nodes,t=this._edges;if(this.gravityCenter)this._gravityCenter=this.gravityCenter;else{for(var r=[1/0,1/0],i=[-1/0,-1/0],a=0;a<n.length;a++)r[0]=Math.min(n[a].x,r[0]),r[1]=Math.min(n[a].y,r[1]),i[0]=Math.max(n[a].x,i[0]),i[1]=Math.max(n[a].y,i[1]);this._gravityCenter=[.5*(r[0]+i[0]),.5*(r[1]+i[1])]}for(a=0;a<t.length;a++){var o=t[a].node1,s=t[a].node2;n[o].degree=(n[o].degree||0)+1,n[s].degree=(n[s].degree||0)+1}},bi.prototype.initData=function(e,n){this._nodes=e,this._edges=n,this._updateGravityCenter();var t=Math.ceil(Math.sqrt(e.length)),r=t,i=new Float32Array(t*r*4);this._resize(t,r);for(var a=0,o=0;o<e.length;o++){var s=e[o];i[a++]=s.x||0,i[a++]=s.y||0,i[a++]=s.mass||1,i[a++]=s.size||1}this._positionSourceTex.pixels=i;var l=this._edgeForceMesh.geometry,c=n.length;l.attributes.node1.init(2*c),l.attributes.node2.init(2*c),l.attributes.weight.init(2*c);var u=[];for(o=0;o<n.length;o++){var h=l.attributes,d=n[o].weight;null==d&&(d=1),h.node1.set(o,this.getNodeUV(n[o].node1,u)),h.node2.set(o,this.getNodeUV(n[o].node2,u)),h.weight.set(o,d),h.node1.set(o+c,this.getNodeUV(n[o].node2,u)),h.node2.set(o+c,this.getNodeUV(n[o].node1,u)),h.weight.set(o+c,d)}var f=this._weightedSumMesh.geometry;for(f.attributes.node.init(e.length),o=0;o<e.length;o++)f.attributes.node.set(o,this.getNodeUV(o,u));l.dirty(),f.dirty(),this._nodeRepulsionPass.material.define("fragment","NODE_COUNT",e.length),this._nodeRepulsionPass.material.setUniform("textureSize",[t,r]),this._inited=!1,this._frame=0},bi.prototype.getNodes=function(){return this._nodes},bi.prototype.getEdges=function(){return this._edges},bi.prototype.step=function(e){this._inited||(this._initFromSource(e),this._inited=!0),this._frame++,this._framebuffer.attach(this._forceTex),this._framebuffer.bind(e);var n=this._nodeRepulsionPass;n.setUniform("strongGravityMode",this.strongGravityMode),n.setUniform("gravity",this.gravity),n.setUniform("gravityCenter",this._gravityCenter),n.setUniform("scaling",this.scaling),n.setUniform("preventOverlap",this.preventOverlap),n.setUniform("positionTex",this._positionPrevTex),n.render(e);var t=this._edgeForceMesh;t.material.set("linLogMode",this.linLogMode),t.material.set("edgeWeightInfluence",this.edgeWeightInfluence),t.material.set("preventOverlap",this.preventOverlap),t.material.set("positionTex",this._positionPrevTex),e.gl.enable(e.gl.BLEND),e.renderPass([t],this._dummyCamera),this._framebuffer.attach(this._weightedSumTex),e.gl.clearColor(0,0,0,0),e.gl.clear(e.gl.COLOR_BUFFER_BIT),e.gl.enable(e.gl.BLEND);var r=this._weightedSumMesh;r.material.set("positionTex",this._positionPrevTex),r.material.set("forceTex",this._forceTex),r.material.set("forcePrevTex",this._forcePrevTex),e.renderPass([r],this._dummyCamera),this._framebuffer.attach(this._globalSpeedTex);var i=this._globalSpeedPass;i.setUniform("globalSpeedPrevTex",this._globalSpeedPrevTex),i.setUniform("weightedSumTex",this._weightedSumTex),i.setUniform("jitterTolerence",this.jitterTolerence),e.gl.disable(e.gl.BLEND),i.render(e);var a=this._positionPass;this._framebuffer.attach(this._positionTex),a.setUniform("globalSpeedTex",this._globalSpeedTex),a.setUniform("positionTex",this._positionPrevTex),a.setUniform("forceTex",this._forceTex),a.setUniform("forcePrevTex",this._forcePrevTex),a.render(e),this._framebuffer.unbind(e),this._swapTexture()},bi.prototype.update=function(e,n,t){null==n&&(n=1),n=Math.max(n,1);for(var r=0;r<n;r++)this.step(e);t&&t()},bi.prototype.getNodePositionTexture=function(){return this._inited?this._positionPrevTex:this._positionSourceTex},bi.prototype.getNodeUV=function(e,n){var t=this._positionTex.width,r=this._positionTex.height;return(n=n||[])[0]=e%t/(t-1),n[1]=Math.floor(e/t)/(r-1)||0,n},bi.prototype.getNodePosition=function(e,n){var t=this._positionArr,r=this._positionTex.width,i=this._positionTex.height,a=r*i;(!t||t.length!==4*a)&&(t=this._positionArr=new Float32Array(4*a)),this._framebuffer.bind(e),this._framebuffer.attach(this._positionPrevTex),e.gl.readPixels(0,0,r,i,e.gl.RGBA,e.gl.FLOAT,t),this._framebuffer.unbind(e),n||(n=new Float32Array(2*this._nodes.length));for(var o=0;o<this._nodes.length;o++)n[2*o]=t[4*o],n[2*o+1]=t[4*o+1];return n},bi.prototype.getTextureData=function(e,n){var t=this["_"+n+"Tex"],r=t.width,i=t.height;this._framebuffer.bind(e),this._framebuffer.attach(t);var a=new Float32Array(r*i*4);return e.gl.readPixels(0,0,r,i,e.gl.RGBA,e.gl.FLOAT,a),this._framebuffer.unbind(e),a},bi.prototype.getTextureSize=function(){return{width:this._positionTex.width,height:this._positionTex.height}},bi.prototype.isFinished=function(e){return this._frame>e},bi.prototype._swapTexture=function(){var e=this._positionPrevTex;this._positionPrevTex=this._positionTex,this._positionTex=e,e=this._forcePrevTex,this._forcePrevTex=this._forceTex,this._forceTex=e,e=this._globalSpeedPrevTex,this._globalSpeedPrevTex=this._globalSpeedTex,this._globalSpeedTex=e},bi.prototype._initFromSource=function(e){this._framebuffer.attach(this._positionPrevTex),this._framebuffer.bind(e),this._copyPass.setUniform("texture",this._positionSourceTex),this._copyPass.render(e),e.gl.clearColor(0,0,0,0),this._framebuffer.attach(this._forcePrevTex),e.gl.clear(e.gl.COLOR_BUFFER_BIT),this._framebuffer.attach(this._globalSpeedPrevTex),e.gl.clear(e.gl.COLOR_BUFFER_BIT),this._framebuffer.unbind(e)},bi.prototype._resize=function(e,n){["_positionSourceTex","_positionTex","_positionPrevTex","_forceTex","_forcePrevTex"].forEach(function(t){this[t].width=e,this[t].height=n,this[t].dirty()},this)},bi.prototype.dispose=function(e){this._framebuffer.dispose(e),this._copyPass.dispose(e),this._nodeRepulsionPass.dispose(e),this._positionPass.dispose(e),this._globalSpeedPass.dispose(e),this._edgeForceMesh.geometry.dispose(e),this._weightedSumMesh.geometry.dispose(e),this._positionSourceTex.dispose(e),this._positionTex.dispose(e),this._positionPrevTex.dispose(e),this._forceTex.dispose(e),this._forcePrevTex.dispose(e),this._weightedSumTex.dispose(e),this._globalSpeedTex.dispose(e),this._globalSpeedPrevTex.dispose(e)};const wI=bi;var $m=function yFe(){var e_create=function(){return new Float32Array(2)},e_dist=function(l,c){var u=c[0]-l[0],h=c[1]-l[1];return Math.sqrt(u*u+h*h)},e_len=function(l){var c=l[0],u=l[1];return Math.sqrt(c*c+u*u)},e_scaleAndAdd=function(l,c,u,h){return l[0]=c[0]+u[0]*h,l[1]=c[1]+u[1]*h,l},e_add=function(l,c,u){return l[0]=c[0]+u[0],l[1]=c[1]+u[1],l},e_sub=function(l,c,u){return l[0]=c[0]-u[0],l[1]=c[1]-u[1],l},e_copy=function(l,c){return l[0]=c[0],l[1]=c[1],l},e_set=function(l,c,u){return l[0]=c,l[1]=u,l};function n(){this.subRegions=[],this.nSubRegions=0,this.node=null,this.mass=0,this.centerOfMass=null,this.bbox=new Float32Array(4),this.size=0}var t=n.prototype;function r(){this.position=new Float32Array(2),this.force=e_create(),this.forcePrev=e_create(),this.mass=1,this.inDegree=0,this.outDegree=0}function i(l,c){this.source=l,this.target=c,this.weight=1}function a(){this.autoSettings=!0,this.barnesHutOptimize=!0,this.barnesHutTheta=1.5,this.repulsionByDegree=!0,this.linLogMode=!1,this.strongGravityMode=!1,this.gravity=1,this.scaling=1,this.edgeWeightInfluence=1,this.jitterTolerence=.1,this.preventOverlap=!1,this.dissuadeHubs=!1,this.rootRegion=new n,this.rootRegion.centerOfMass=e_create(),this.nodes=[],this.edges=[],this.bbox=new Float32Array(4),this.gravityCenter=null,this._massArr=null,this._swingingArr=null,this._sizeArr=null,this._globalSpeed=0}t.beforeUpdate=function(){for(var l=0;l<this.nSubRegions;l++)this.subRegions[l].beforeUpdate();this.mass=0,this.centerOfMass&&(this.centerOfMass[0]=0,this.centerOfMass[1]=0),this.nSubRegions=0,this.node=null},t.afterUpdate=function(){this.subRegions.length=this.nSubRegions;for(var l=0;l<this.nSubRegions;l++)this.subRegions[l].afterUpdate()},t.addNode=function(l){if(0===this.nSubRegions){if(null==this.node)return void(this.node=l);this._addNodeToSubRegion(this.node),this.node=null}this._addNodeToSubRegion(l),this._updateCenterOfMass(l)},t.findSubRegion=function(l,c){for(var u=0;u<this.nSubRegions;u++){var h=this.subRegions[u];if(h.contain(l,c))return h}},t.contain=function(l,c){return this.bbox[0]<=l&&this.bbox[2]>=l&&this.bbox[1]<=c&&this.bbox[3]>=c},t.setBBox=function(l,c,u,h){this.bbox[0]=l,this.bbox[1]=c,this.bbox[2]=u,this.bbox[3]=h,this.size=(u-l+h-c)/2},t._newSubRegion=function(){var l=this.subRegions[this.nSubRegions];return l||(l=new n,this.subRegions[this.nSubRegions]=l),this.nSubRegions++,l},t._addNodeToSubRegion=function(l){var c=this.findSubRegion(l.position[0],l.position[1]),u=this.bbox;if(!c){var f=(u[2]-u[0])/2,p=(u[3]-u[1])/2,g=l.position[0]>=(u[0]+u[2])/2?1:0,m=l.position[1]>=(u[1]+u[3])/2?1:0;(c=this._newSubRegion()).setBBox(g*f+u[0],m*p+u[1],(g+1)*f+u[0],(m+1)*p+u[1])}c.addNode(l)},t._updateCenterOfMass=function(l){null==this.centerOfMass&&(this.centerOfMass=new Float32Array(2));var c=this.centerOfMass[0]*this.mass,u=this.centerOfMass[1]*this.mass;c+=l.position[0]*l.mass,u+=l.position[1]*l.mass,this.mass+=l.mass,this.centerOfMass[0]=c/this.mass,this.centerOfMass[1]=u/this.mass};var l,o=a.prototype;o.initNodes=function(l,c,u){var h=c.length;this.nodes.length=0;for(var d=typeof u<"u",f=0;f<h;f++){var p=new r;p.position[0]=l[2*f],p.position[1]=l[2*f+1],p.mass=c[f],d&&(p.size=u[f]),this.nodes.push(p)}this._massArr=c,this._swingingArr=new Float32Array(h),d&&(this._sizeArr=u)},o.initEdges=function(l,c){var u=l.length/2;this.edges.length=0;for(var h=0;h<u;h++){var p=this.nodes[l[2*h]],g=this.nodes[l[2*h+1]];if(!p||!g)return void console.error("Node not exists, try initNodes before initEdges");p.outDegree++,g.inDegree++;var m=new i(p,g);c&&(m.weight=c[h]),this.edges.push(m)}},o.updateSettings=function(){if(this.repulsionByDegree)for(var l=0;l<this.nodes.length;l++)(c=this.nodes[l]).mass=c.inDegree+c.outDegree+1;else for(l=0;l<this.nodes.length;l++){var c;(c=this.nodes[l]).mass=this._massArr[l]}},o.update=function(){var l=this.nodes.length;if(this.updateSettings(),this.updateBBox(),this.barnesHutOptimize){this.rootRegion.setBBox(this.bbox[0],this.bbox[1],this.bbox[2],this.bbox[3]),this.rootRegion.beforeUpdate();for(var c=0;c<l;c++)this.rootRegion.addNode(this.nodes[c]);this.rootRegion.afterUpdate()}for(c=0;c<l;c++)e_copy((u=this.nodes[c]).forcePrev,u.force),e_set(u.force,0,0);for(c=0;c<l;c++){var h=this.nodes[c];if(this.barnesHutOptimize)this.applyRegionToNodeRepulsion(this.rootRegion,h);else for(var d=c+1;d<l;d++)this.applyNodeToNodeRepulsion(h,this.nodes[d],!1);this.gravity>0&&(this.strongGravityMode?this.applyNodeStrongGravity(h):this.applyNodeGravity(h))}for(c=0;c<this.edges.length;c++)this.applyEdgeAttraction(this.edges[c]);var p=0,g=0,m=e_create();for(c=0;c<l;c++)p+=(v=e_dist((u=this.nodes[c]).force,u.forcePrev))*u.mass,e_add(m,u.force,u.forcePrev),g+=.5*e_len(m)*u.mass,this._swingingArr[c]=v;var y=this.jitterTolerence*this.jitterTolerence*g/p;for(this._globalSpeed>0&&(y=Math.min(y/this._globalSpeed,1.5)*this._globalSpeed),this._globalSpeed=y,c=0;c<l;c++){var u=this.nodes[c],v=this._swingingArr[c],b=.1*y/(1+y*Math.sqrt(v)),w=e_len(u.force);w>0&&(b=Math.min(w*b,10)/w,e_scaleAndAdd(u.position,u.position,u.force,b))}},o.applyRegionToNodeRepulsion=(l=e_create(),function(u,h){if(u.node)this.applyNodeToNodeRepulsion(u.node,h,!0);else{e_sub(l,h.position,u.centerOfMass);var d=l[0]*l[0]+l[1]*l[1];if(d>this.barnesHutTheta*u.size*u.size)e_scaleAndAdd(h.force,h.force,l,this.scaling*h.mass*u.mass/d);else for(var p=0;p<u.nSubRegions;p++)this.applyRegionToNodeRepulsion(u.subRegions[p],h)}}),o.applyNodeToNodeRepulsion=function(){var l=e_create();return function(u,h,d){if(u!=h){e_sub(l,u.position,h.position);var f=l[0]*l[0]+l[1]*l[1];if(0!==f){var p;if(this.preventOverlap){var g=Math.sqrt(f);if((g=g-u.size-h.size)>0)p=this.scaling*u.mass*h.mass/(g*g);else{if(!(g<0))return;p=100*this.scaling*u.mass*h.mass}}else p=this.scaling*u.mass*h.mass/f;e_scaleAndAdd(u.force,u.force,l,p),e_scaleAndAdd(h.force,h.force,l,-p)}}}}(),o.applyEdgeAttraction=function(){var l=e_create();return function(u){var h=u.source,d=u.target;e_sub(l,h.position,d.position);var p,g,f=e_len(l);p=0===this.edgeWeightInfluence?1:1===this.edgeWeightInfluence?u.weight:Math.pow(u.weight,this.edgeWeightInfluence),this.preventOverlap&&(f=f-h.size-d.size)<=0||(g=this.linLogMode?-p*Math.log(f+1)/(f+1):-p,e_scaleAndAdd(h.force,h.force,l,g),e_scaleAndAdd(d.force,d.force,l,-g))}}(),o.applyNodeGravity=function(){var l=e_create();return function(c){e_sub(l,this.gravityCenter,c.position);var u=e_len(l);e_scaleAndAdd(c.force,c.force,l,this.gravity*c.mass/(u+1))}}(),o.applyNodeStrongGravity=function(){var l=e_create();return function(c){e_sub(l,this.gravityCenter,c.position),e_scaleAndAdd(c.force,c.force,l,this.gravity*c.mass)}}(),o.updateBBox=function(){for(var l=1/0,c=1/0,u=-1/0,h=-1/0,d=0;d<this.nodes.length;d++){var f=this.nodes[d].position;l=Math.min(l,f[0]),c=Math.min(c,f[1]),u=Math.max(u,f[0]),h=Math.max(h,f[1])}this.bbox[0]=l,this.bbox[1]=c,this.bbox[2]=u,this.bbox[3]=h},o.getGlobalSpeed=function(){return this._globalSpeed};var s=null;self.onmessage=function(l){switch(l.data.cmd){case"init":(s=new a).initNodes(l.data.nodesPosition,l.data.nodesMass,l.data.nodesSize),s.initEdges(l.data.edges,l.data.edgesWeight);break;case"updateConfig":if(s)for(var c in l.data.config)s[c]=l.data.config[c];break;case"update":var u=l.data.steps;if(s){for(var h=0;h<u;h++)s.update();var d=s.nodes.length,f=new Float32Array(2*d);for(h=0;h<d;h++){var p=s.nodes[h];f[2*h]=p.position[0],f[2*h+1]=p.position[1]}self.postMessage({buffer:f.buffer,globalSpeed:s.getGlobalSpeed()},[f.buffer])}else{var g=new Float32Array;self.postMessage({buffer:g.buffer,globalSpeed:s.getGlobalSpeed()},[g.buffer])}}}}.toString();$m=$m.slice($m.indexOf("{")+1,$m.lastIndexOf("}"));var Ym={barnesHutOptimize:!0,barnesHutTheta:1.5,repulsionByDegree:!0,linLogMode:!1,strongGravityMode:!1,gravity:1,scaling:1,edgeWeightInfluence:1,jitterTolerence:.1,preventOverlap:!1,dissuadeHubs:!1,gravityCenter:null},co=function(e){for(var n in Ym)this[n]=Ym[n];if(e)for(var n in e)this[n]=e[n];this._nodes=[],this._edges=[],this._disposed=!1,this._positionTex=new yt({type:Be.FLOAT,flipY:!1,minFilter:Be.NEAREST,magFilter:Be.NEAREST})};co.prototype.initData=function(e,n){var t=new Blob([$m]),r=window.URL.createObjectURL(t);this._worker=new Worker(r),this._worker.onmessage=this._$onupdate.bind(this),this._nodes=e,this._edges=n,this._frame=0;for(var i=e.length,a=n.length,o=new Float32Array(2*i),s=new Float32Array(i),l=new Float32Array(i),c=new Float32Array(2*a),u=new Float32Array(a),h=0;h<e.length;h++){var d=e[h];o[2*h]=d.x,o[2*h+1]=d.y,s[h]=null==d.mass?1:d.mass,l[h]=null==d.size?1:d.size}for(h=0;h<n.length;h++){var f=n[h],g=f.node2;c[2*h]=f.node1,c[2*h+1]=g,u[h]=null==f.weight?1:f.weight}var m=Math.ceil(Math.sqrt(e.length)),v=m,_=new Float32Array(m*v*4),y=this._positionTex;y.width=m,y.height=v,y.pixels=_,this._worker.postMessage({cmd:"init",nodesPosition:o,nodesMass:s,nodesSize:l,edges:c,edgesWeight:u}),this._globalSpeed=1/0},co.prototype.updateOption=function(e){var n={};for(var t in Ym)n[t]=Ym[t];var r=this._nodes,i=this._edges,a=r.length;if(n.jitterTolerence=a>5e4?10:a>5e3?1:.1,n.scaling=a>100?2:10,n.barnesHutOptimize=a>1e3,e)for(var t in Ym)null!=e[t]&&(n[t]=e[t]);if(!n.gravityCenter){for(var o=[1/0,1/0],s=[-1/0,-1/0],l=0;l<r.length;l++)o[0]=Math.min(r[l].x,o[0]),o[1]=Math.min(r[l].y,o[1]),s[0]=Math.max(r[l].x,s[0]),s[1]=Math.max(r[l].y,s[1]);n.gravityCenter=[.5*(o[0]+s[0]),.5*(o[1]+s[1])]}for(l=0;l<i.length;l++){var c=i[l].node1,u=i[l].node2;r[c].degree=(r[c].degree||0)+1,r[u].degree=(r[u].degree||0)+1}this._worker&&this._worker.postMessage({cmd:"updateConfig",config:n})},co.prototype.update=function(e,n,t){null==n&&(n=1),n=Math.max(n,1),this._frame+=n,this._onupdate=t,this._worker&&this._worker.postMessage({cmd:"update",steps:Math.round(n)})},co.prototype._$onupdate=function(e){if(!this._disposed){var n=new Float32Array(e.data.buffer);this._globalSpeed=e.data.globalSpeed,this._positionArr=n,this._updateTexture(n),this._onupdate&&this._onupdate()}},co.prototype.getNodePositionTexture=function(){return this._positionTex},co.prototype.getNodeUV=function(e,n){var t=this._positionTex.width,r=this._positionTex.height;return(n=n||[])[0]=e%t/(t-1),n[1]=Math.floor(e/t)/(r-1),n},co.prototype.getNodes=function(){return this._nodes},co.prototype.getEdges=function(){return this._edges},co.prototype.isFinished=function(e){return this._frame>e},co.prototype.getNodePosition=function(e,n){if(n||(n=new Float32Array(2*this._nodes.length)),this._positionArr)for(var t=0;t<this._positionArr.length;t++)n[t]=this._positionArr[t];return n},co.prototype._updateTexture=function(e){for(var n=this._positionTex.pixels,t=0,r=0;r<e.length;)n[t++]=e[r++],n[t++]=e[r++],n[t++]=1,n[t++]=1;this._positionTex.dirty()},co.prototype.dispose=function(e){this._disposed=!0,this._worker=null};const qK=co;var bFe=ca.extend(function(){return{zr:null,viewGL:null,minZoom:.2,maxZoom:5,_needsUpdate:!1,_dx:0,_dy:0,_zoom:1}},function(){this._mouseDownHandler=this._mouseDownHandler.bind(this),this._mouseWheelHandler=this._mouseWheelHandler.bind(this),this._mouseMoveHandler=this._mouseMoveHandler.bind(this),this._mouseUpHandler=this._mouseUpHandler.bind(this),this._update=this._update.bind(this)},{init:function(){var e=this.zr;e.on("mousedown",this._mouseDownHandler),e.on("mousewheel",this._mouseWheelHandler),e.on("globalout",this._mouseUpHandler),e.animation.on("frame",this._update)},setTarget:function(e){this._target=e},setZoom:function(e){this._zoom=Math.max(Math.min(e,this.maxZoom),this.minZoom),this._needsUpdate=!0},setOffset:function(e){this._dx=e[0],this._dy=e[1],this._needsUpdate=!0},getZoom:function(){return this._zoom},getOffset:function(){return[this._dx,this._dy]},_update:function(){if(this._target&&this._needsUpdate){var e=this._target,n=this._zoom;e.position.x=this._dx,e.position.y=this._dy,e.scale.set(n,n,n),this.zr.refresh(),this._needsUpdate=!1,this.trigger("update")}},_mouseDownHandler:function(e){if(!e.target){var n=e.offsetX,t=e.offsetY;if(!this.viewGL||this.viewGL.containPoint(n,t)){this.zr.on("mousemove",this._mouseMoveHandler),this.zr.on("mouseup",this._mouseUpHandler);var r=this._convertPos(n,t);this._x=r.x,this._y=r.y}}},_convertPos:function(e,n){var t=this.viewGL.camera,r=this.viewGL.viewport;return{x:(e-r.x)/r.width*(t.right-t.left)+t.left,y:(n-r.y)/r.height*(t.bottom-t.top)+t.top}},_mouseMoveHandler:function(e){var n=this._convertPos(e.offsetX,e.offsetY);this._dx+=n.x-this._x,this._dy+=n.y-this._y,this._x=n.x,this._y=n.y,this._needsUpdate=!0},_mouseUpHandler:function(e){this.zr.off("mousemove",this._mouseMoveHandler),this.zr.off("mouseup",this._mouseUpHandler)},_mouseWheelHandler:function(e){var n=(e=e.event).wheelDelta||-e.detail;if(0!==n){var t=e.offsetX,r=e.offsetY;if(!this.viewGL||this.viewGL.containPoint(t,r)){var i=n>0?1.1:.9,a=Math.max(Math.min(this._zoom*i,this.maxZoom),this.minZoom);i=a/this._zoom;var o=this._convertPos(t,r),l=(o.y-this._dy)*(i-1);this._dx-=(o.x-this._dx)*(i-1),this._dy-=l,this._zoom=a,this._needsUpdate=!0}}},dispose:function(){var e=this.zr;e.off("mousedown",this._mouseDownHandler),e.off("mousemove",this._mouseMoveHandler),e.off("mouseup",this._mouseUpHandler),e.off("mousewheel",this._mouseWheelHandler),e.off("globalout",this._mouseUpHandler),e.animation.off("frame",this._update)}});const CFe=bFe;var uw=Ar.vec2;P.Shader.import("@export ecgl.lines2D.vertex\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\n\nattribute vec2 position: POSITION;\nattribute vec4 a_Color : COLOR;\nvarying vec4 v_Color;\n\n#ifdef POSITIONTEXTURE_ENABLED\nuniform sampler2D positionTexture;\n#endif\n\nvoid main()\n{\n gl_Position = worldViewProjection * vec4(position, -10.0, 1.0);\n\n v_Color = a_Color;\n}\n\n@end\n\n@export ecgl.lines2D.fragment\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\n\nvarying vec4 v_Color;\n\nvoid main()\n{\n gl_FragColor = color * v_Color;\n}\n@end\n\n\n@export ecgl.meshLines2D.vertex\n\nattribute vec2 position: POSITION;\nattribute vec2 normal;\nattribute float offset;\nattribute vec4 a_Color : COLOR;\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform vec4 viewport : VIEWPORT;\n\nvarying vec4 v_Color;\nvarying float v_Miter;\n\nvoid main()\n{\n vec4 p2 = worldViewProjection * vec4(position + normal, -10.0, 1.0);\n gl_Position = worldViewProjection * vec4(position, -10.0, 1.0);\n\n p2.xy /= p2.w;\n gl_Position.xy /= gl_Position.w;\n\n vec2 N = normalize(p2.xy - gl_Position.xy);\n gl_Position.xy += N * offset / viewport.zw * 2.0;\n\n gl_Position.xy *= gl_Position.w;\n\n v_Color = a_Color;\n}\n@end\n\n\n@export ecgl.meshLines2D.fragment\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\n\nvarying vec4 v_Color;\nvarying float v_Miter;\n\nvoid main()\n{\n gl_FragColor = color * v_Color;\n}\n\n@end");var SFe=1;const xFe=Rr.extend({type:"graphGL",__ecgl__:!0,init:function(e,n){this.groupGL=new P.Node,this.viewGL=new Vc("orthographic"),this.viewGL.camera.left=this.viewGL.camera.right=0,this.viewGL.add(this.groupGL),this._pointsBuilder=new Gm(!0,n),this._forceEdgesMesh=new P.Mesh({material:new P.Material({shader:P.createShader("ecgl.forceAtlas2.edges"),transparent:!0,depthMask:!1,depthTest:!1}),$ignorePicking:!0,geometry:new P.Geometry({attributes:{node:new P.Geometry.Attribute("node","float",2),color:new P.Geometry.Attribute("color","float",4,"COLOR")},dynamic:!0,mainAttribute:"node"}),renderOrder:-1,mode:P.Mesh.LINES}),this._edgesMesh=new P.Mesh({material:new P.Material({shader:P.createShader("ecgl.meshLines2D"),transparent:!0,depthMask:!1,depthTest:!1}),$ignorePicking:!0,geometry:new XK({useNativeLine:!1,dynamic:!0}),renderOrder:-1,culling:!1}),this._layoutId=0,this._control=new CFe({zr:n.getZr(),viewGL:this.viewGL}),this._control.setTarget(this.groupGL),this._control.init(),this._clickHandler=this._clickHandler.bind(this)},render:function(e,n,t){this.groupGL.add(this._pointsBuilder.rootNode),this._model=e,this._api=t,this._initLayout(e,n,t),this._pointsBuilder.update(e,n,t),this._forceLayoutInstance instanceof wI||this.groupGL.remove(this._forceEdgesMesh),this._updateCamera(e,t),this._control.off("update"),this._control.on("update",function(){t.dispatchAction({type:"graphGLRoam",seriesId:e.id,zoom:this._control.getZoom(),offset:this._control.getOffset()}),this._pointsBuilder.updateView(this.viewGL.camera)},this),this._control.setZoom(Ct.firstNotNull(e.get("zoom"),1)),this._control.setOffset(e.get("offset")||[0,0]);var r=this._pointsBuilder.getPointsMesh();if(r.off("mousemove",this._mousemoveHandler),r.off("mouseout",this._mouseOutHandler,this),t.getZr().off("click",this._clickHandler),this._pointsBuilder.highlightOnMouseover=!0,e.get("focusNodeAdjacency")){var i=e.get("focusNodeAdjacencyOn");"click"===i?t.getZr().on("click",this._clickHandler):"mouseover"===i&&(r.on("mousemove",this._mousemoveHandler,this),r.on("mouseout",this._mouseOutHandler,this),this._pointsBuilder.highlightOnMouseover=!1)}this._lastMouseOverDataIndex=-1},_clickHandler:function(e){if(!this._layouting){var n=this._pointsBuilder.getPointsMesh().dataIndex;this._api.dispatchAction(n>=0?{type:"graphGLFocusNodeAdjacency",seriesId:this._model.id,dataIndex:n}:{type:"graphGLUnfocusNodeAdjacency",seriesId:this._model.id})}},_mousemoveHandler:function(e){if(!this._layouting){var n=this._pointsBuilder.getPointsMesh().dataIndex;n>=0?n!==this._lastMouseOverDataIndex&&this._api.dispatchAction({type:"graphGLFocusNodeAdjacency",seriesId:this._model.id,dataIndex:n}):this._mouseOutHandler(e),this._lastMouseOverDataIndex=n}},_mouseOutHandler:function(e){this._layouting||(this._api.dispatchAction({type:"graphGLUnfocusNodeAdjacency",seriesId:this._model.id}),this._lastMouseOverDataIndex=-1)},_updateForceEdgesGeometry:function(e,n){var t=this._forceEdgesMesh.geometry,r=n.getEdgeData(),i=0,a=this._forceLayoutInstance,o=2*r.count();t.attributes.node.init(o),t.attributes.color.init(o),r.each(function(s){var l=e[s];t.attributes.node.set(i,a.getNodeUV(l.node1)),t.attributes.node.set(i+1,a.getNodeUV(l.node2));var c=ui(r,l.dataIndex),u=P.parseColor(c);u[3]*=Ct.firstNotNull(hi(r,l.dataIndex),1),t.attributes.color.set(i,u),t.attributes.color.set(i+1,u),i+=2}),t.dirty()},_updateMeshLinesGeometry:function(){var n=this._model.getEdgeData(),e=this._edgesMesh.geometry,t=(n=this._model.getEdgeData(),this._model.getData().getLayout("points"));e.resetOffset(),e.setVertexCount(n.count()*e.getLineVertexCount()),e.setTriangleCount(n.count()*e.getLineTriangleCount());var r=[],i=[],a=["lineStyle","width"];this._originalEdgeColors=new Float32Array(4*n.count()),this._edgeIndicesMap=new Float32Array(n.count()),n.each(function(o){var s=n.graph.getEdgeByIndex(o),l=2*s.node1.dataIndex,c=2*s.node2.dataIndex;r[0]=t[l],r[1]=t[l+1],i[0]=t[c],i[1]=t[c+1];var u=ui(n,s.dataIndex),h=P.parseColor(u);h[3]*=Ct.firstNotNull(hi(n,s.dataIndex),1);var d=n.getItemModel(s.dataIndex),f=Ct.firstNotNull(d.get(a),1)*this._api.getDevicePixelRatio();e.addLine(r,i,h,f);for(var p=0;p<4;p++)this._originalEdgeColors[4*s.dataIndex+p]=h[p];this._edgeIndicesMap[s.dataIndex]=o},this),e.dirty()},_updateForceNodesGeometry:function(e){for(var n=this._pointsBuilder.getPointsMesh(),t=[],r=0;r<e.count();r++)this._forceLayoutInstance.getNodeUV(r,t),n.geometry.attributes.position.set(r,t);n.geometry.dirty("position")},_initLayout:function(e,n,t){var r=e.get("layout"),i=e.getGraph(),o=us(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()});"force"===r&&(r="forceAtlas2"),this.stopLayout(e,n,t,{beforeLayout:!0});var s=e.getData(),l=e.getData();if("forceAtlas2"===r){var c=e.getModel("forceAtlas2"),u=this._forceLayoutInstance,h=[],d=[],f=s.getDataExtent("value"),p=l.getDataExtent("value"),g=Ct.firstNotNull(c.get("edgeWeight"),1),m=Ct.firstNotNull(c.get("nodeWeight"),1);"number"==typeof g&&(g=[g,g]),"number"==typeof m&&(m=[m,m]);var v=0,_={},y=new Float32Array(2*s.count());if(i.eachNode(function(w){var x,M,C=w.dataIndex,S=s.get("value",C);if(s.hasItemOption){var E=s.getItemModel(C);x=E.get("x"),M=E.get("y")}null==x&&(x=o.x+Math.random()*o.width,M=o.y+Math.random()*o.height),y[2*v]=x,y[2*v+1]=M,_[w.id]=v++;var T=os(S,f,m);isNaN(T)&&(T=isNaN(m[0])?1:m[0]),h.push({x,y:M,mass:T,size:s.getItemVisual(C,"symbolSize")})}),s.setLayout("points",y),i.eachEdge(function(w){var C=w.dataIndex,x=os(s.get("value",C),p,g);isNaN(x)&&(x=isNaN(g[0])?1:g[0]),d.push({node1:_[w.node1.id],node2:_[w.node2.id],weight:x,dataIndex:C})}),!u){var b=c.get("GPU");this._forceLayoutInstance&&(b&&!(this._forceLayoutInstance instanceof wI)||!b&&!(this._forceLayoutInstance instanceof qK))&&(this._forceLayoutInstanceToDispose=this._forceLayoutInstance),u=this._forceLayoutInstance=b?new wI:new qK}u.initData(h,d),u.updateOption(c.option),this._updateForceEdgesGeometry(u.getEdges(),e),this._updatePositionTexture(),t.dispatchAction({type:"graphGLStartLayout",from:this.uid})}else y=new Float32Array(2*s.count()),v=0,i.eachNode(function(S){var M,E;if(s.hasItemOption){var T=s.getItemModel(S.dataIndex);M=T.get("x"),E=T.get("y")}y[v++]=M,y[v++]=E}),s.setLayout("points",y),this._updateAfterLayout(e,n,t)},_updatePositionTexture:function(){var e=this._forceLayoutInstance.getNodePositionTexture();this._pointsBuilder.setPositionTexture(e),this._forceEdgesMesh.material.set("positionTex",e)},startLayout:function(e,n,a,r){if(!r||null==r.from||r.from===this.uid){var i=this.viewGL,o=(a=this._api,this._forceLayoutInstance),s=this._model.getData(),l=this._model.getModel("forceAtlas2");if(o&&(this.groupGL.remove(this._edgesMesh),this.groupGL.add(this._forceEdgesMesh),this._forceLayoutInstance)){this._updateForceNodesGeometry(e.getData()),this._pointsBuilder.hideLabels();var c=this,u=this._layoutId=SFe++,h=l.getShallow("maxSteps"),d=l.getShallow("steps"),f=0,p=Math.max(2*d,20),g=function(m){if(m===c._layoutId){if(o.isFinished(h))return a.dispatchAction({type:"graphGLStopLayout",from:c.uid}),void a.dispatchAction({type:"graphGLFinishLayout",points:s.getLayout("points"),from:c.uid});o.update(i.layer.renderer,d,function(){c._updatePositionTexture(),(f+=d)>=p&&(c._syncNodePosition(e),f=0),a.getZr().refresh(),Mf(function(){g(m)})})}};Mf(function(){c._forceLayoutInstanceToDispose&&(c._forceLayoutInstanceToDispose.dispose(i.layer.renderer),c._forceLayoutInstanceToDispose=null),g(u)}),this._layouting=!0}}},stopLayout:function(e,n,t,r){r&&null!=r.from&&r.from!==this.uid||(this._layoutId=0,this.groupGL.remove(this._forceEdgesMesh),this.groupGL.add(this._edgesMesh),this._forceLayoutInstance&&(!this.viewGL.layer||(r&&r.beforeLayout||(this._syncNodePosition(e),this._updateAfterLayout(e,n,t)),this._api.getZr().refresh(),this._layouting=!1)))},_syncNodePosition:function(e){var n=this._forceLayoutInstance.getNodePosition(this.viewGL.layer.renderer);e.getData().setLayout("points",n),e.setNodePosition(n)},_updateAfterLayout:function(e,n,t){this._updateMeshLinesGeometry(),this._pointsBuilder.removePositionTexture(),this._pointsBuilder.updateLayout(e,n,t),this._pointsBuilder.updateView(this.viewGL.camera),this._pointsBuilder.updateLabels(),this._pointsBuilder.showLabels()},focusNodeAdjacency:function(e,n,t,r){var i=this._model.getData();this._downplayAll();var s=[],l=i.graph.getNodeByIndex(r.dataIndex);s.push(l),l.edges.forEach(function(u){u.dataIndex<0||(u.node1!==l&&s.push(u.node1),u.node2!==l&&s.push(u.node2))},this),this._pointsBuilder.fadeOutAll(.05),this._fadeOutEdgesAll(.05),s.forEach(function(u){this._pointsBuilder.highlight(i,u.dataIndex)},this),this._pointsBuilder.updateLabels(s.map(function(u){return u.dataIndex}));var c=[];l.edges.forEach(function(u){u.dataIndex>=0&&(this._highlightEdge(u.dataIndex),c.push(u))},this),this._focusNodes=s,this._focusEdges=c},unfocusNodeAdjacency:function(e,n,t,r){this._downplayAll(),this._pointsBuilder.fadeInAll(),this._fadeInEdgesAll(),this._pointsBuilder.updateLabels()},_highlightEdge:function(e){var n=this._model.getEdgeData().getItemModel(e),t=P.parseColor(n.get("emphasis.lineStyle.color")||n.get("lineStyle.color")),r=Ct.firstNotNull(n.get("emphasis.lineStyle.opacity"),n.get("lineStyle.opacity"),1);t[3]*=r,this._edgesMesh.geometry.setItemColor(this._edgeIndicesMap[e],t)},_downplayAll:function(){this._focusNodes&&this._focusNodes.forEach(function(e){this._pointsBuilder.downplay(this._model.getData(),e.dataIndex)},this),this._focusEdges&&this._focusEdges.forEach(function(e){this._downplayEdge(e.dataIndex)},this)},_downplayEdge:function(e){var n=this._getColor(e,[]);this._edgesMesh.geometry.setItemColor(this._edgeIndicesMap[e],n)},_setEdgeFade:function(){var e=[];return function(n,t){this._getColor(n,e),e[3]*=t,this._edgesMesh.geometry.setItemColor(this._edgeIndicesMap[n],e)}}(),_getColor:function(e,n){for(var t=0;t<4;t++)n[t]=this._originalEdgeColors[4*e+t];return n},_fadeOutEdgesAll:function(e){this._model.getData().graph.eachEdge(function(t){this._setEdgeFade(t.dataIndex,e)},this)},_fadeInEdgesAll:function(){this._fadeOutEdgesAll(1)},_updateCamera:function(e,n){this.viewGL.setViewport(0,0,n.getWidth(),n.getHeight(),n.getDevicePixelRatio());for(var t=this.viewGL.camera,i=e.getData().getLayout("points"),a=uw.create(1/0,1/0),o=uw.create(-1/0,-1/0),s=[],l=0;l<i.length;)s[0]=i[l++],s[1]=i[l++],uw.min(a,a,s),uw.max(o,o,s);var c=(o[1]+a[1])/2,u=(o[0]+a[0])/2;if(!(u>t.left&&u<t.right&&c<t.bottom&&c>t.top)){var h=Math.max(o[0]-a[0],10),d=h/n.getWidth()*n.getHeight();d*=1.4,a[0]-=.2*(h*=1.4),t.left=a[0],t.top=c-d/2,t.bottom=c+d/2,t.right=h+a[0],t.near=0,t.far=100}},dispose:function(){this._forceLayoutInstance&&this._forceLayoutInstance.dispose(this.viewGL.layer.renderer),this.groupGL.removeAll(),this._layoutId=-1,this._pointsBuilder.dispose()},remove:function(){this.groupGL.removeAll(),this._control.dispose()}});function hw(e){return e instanceof Array||(e=[e,e]),e}Vn(function MFe(e){function n(){}e.registerChartView(xFe),e.registerSeriesModel(vFe),e.registerVisual(function(t){const r={};t.eachSeriesByType("graphGL",function(i){var a=i.getCategoriesData(),o=i.getData(),s={};a.each(function(l){var c=a.getName(l);s["ec-"+c]=l;var u=a.getItemModel(l),h=u.getModel("itemStyle").getItemStyle();h.fill||(h.fill=i.getColorFromPalette(c,r)),a.setItemVisual(l,"style",h);var d=["symbol","symbolSize","symbolKeepAspect"];for(let p=0;p<d.length;p++){var f=u.getShallow(d[p],!0);null!=f&&a.setItemVisual(l,d[p],f)}}),a.count()&&o.each(function(l){let u=o.getItemModel(l).getShallow("category");if(null!=u){"string"==typeof u&&(u=s["ec-"+u]);var h=a.getItemVisual(u,"style");oe(o.ensureUniqueItemVisual(l,"style"),h);var f=["symbol","symbolSize","symbolKeepAspect"];for(let p=0;p<f.length;p++)o.setItemVisual(l,f[p],a.getItemVisual(u,f[p]))}})})}),e.registerVisual(function(t){t.eachSeriesByType("graphGL",function(r){var i=r.getGraph(),a=r.getEdgeData(),o=hw(r.get("edgeSymbol")),s=hw(r.get("edgeSymbolSize"));a.setVisual("drawType","stroke"),a.setVisual("fromSymbol",o&&o[0]),a.setVisual("toSymbol",o&&o[1]),a.setVisual("fromSymbolSize",s&&s[0]),a.setVisual("toSymbolSize",s&&s[1]),a.setVisual("style",r.getModel("lineStyle").getLineStyle()),a.each(function(l){var c=a.getItemModel(l),u=i.getEdgeByIndex(l),h=hw(c.getShallow("symbol",!0)),d=hw(c.getShallow("symbolSize",!0)),f=c.getModel("lineStyle").getLineStyle(),p=a.ensureUniqueItemVisual(l,"style");switch(oe(p,f),p.stroke){case"source":var g=u.node1.getVisual("style");p.stroke=g&&g.fill;break;case"target":g=u.node2.getVisual("style"),p.stroke=g&&g.fill}h[0]&&u.setVisual("fromSymbol",h[0]),h[1]&&u.setVisual("toSymbol",h[1]),d[0]&&u.setVisual("fromSymbolSize",d[0]),d[1]&&u.setVisual("toSymbolSize",d[1])})})}),e.registerAction({type:"graphGLRoam",event:"graphglroam",update:"series.graphGL:roam"},function(t,r){r.eachComponent({mainType:"series",query:t},function(i){i.setView(t)})}),e.registerAction({type:"graphGLStartLayout",event:"graphgllayoutstarted",update:"series.graphGL:startLayout"},n),e.registerAction({type:"graphGLStopLayout",event:"graphgllayoutstopped",update:"series.graphGL:stopLayout"},n),e.registerAction({type:"graphGLFocusNodeAdjacency",event:"graphGLFocusNodeAdjacency",update:"series.graphGL:focusNodeAdjacency"},n),e.registerAction({type:"graphGLUnfocusNodeAdjacency",event:"graphGLUnfocusNodeAdjacency",update:"series.graphGL:unfocusNodeAdjacency"},n)});const TFe=si.extend({type:"series.flowGL",dependencies:["geo","grid","bmap"],visualStyleAccessPath:"itemStyle",getInitialData:function(e,n){var t=this.get("coordinateSystem"),r="geo"===t?["lng","lat"]:Ij(t)||["x","y"];r.push("vx","vy");var i=im(this.getSource(),{coordDimensions:r,encodeDefine:this.get("encode"),dimensionsDefine:this.get("dimensions")}),a=new Lo(i,this);return a.initData(this.getSource()),a},defaultOption:{coordinateSystem:"cartesian2d",zlevel:10,supersampling:1,particleType:"point",particleDensity:128,particleSize:1,particleSpeed:1,particleTrail:2,colorTexture:null,gridWidth:"auto",gridHeight:"auto",itemStyle:{color:"#fff",opacity:.8}}});var DFe=Qt.extend(function(){return{dynamic:!0,attributes:{position:new Qt.Attribute("position","float",3,"POSITION")}}},{resetOffset:function(){this._vertexOffset=0,this._faceOffset=0},setLineCount:function(e){var t=4*e,r=2*e;this.vertexCount!==t&&this.attributes.position.init(t),this.triangleCount!==r&&(this.indices=0===r?null:this.vertexCount>65535?new Uint32Array(3*r):new Uint16Array(3*r))},addLine:function(e){var n=this._vertexOffset;this.attributes.position.set(n,[e[0],e[1],1]),this.attributes.position.set(n+1,[e[0],e[1],-1]),this.attributes.position.set(n+2,[e[0],e[1],2]),this.attributes.position.set(n+3,[e[0],e[1],-2]),this.setTriangleIndices(this._faceOffset++,[n,n+1,n+2]),this.setTriangleIndices(this._faceOffset++,[n+1,n+2,n+3]),this._vertexOffset+=4}});const EFe=DFe;ve.import("@export ecgl.vfParticle.particle.fragment\n\nuniform sampler2D particleTexture;\nuniform sampler2D spawnTexture;\nuniform sampler2D velocityTexture;\n\nuniform float deltaTime;\nuniform float elapsedTime;\n\nuniform float speedScaling : 1.0;\n\nuniform vec2 textureSize;\nuniform vec4 region : [0, 0, 1, 1];\nuniform float firstFrameTime;\n\nvarying vec2 v_Texcoord;\n\n\nvoid main()\n{\n vec4 p = texture2D(particleTexture, v_Texcoord);\n bool spawn = false;\n if (p.w <= 0.0) {\n p = texture2D(spawnTexture, fract(v_Texcoord + elapsedTime / 10.0));\n p.w -= firstFrameTime;\n spawn = true;\n }\n vec2 v = texture2D(velocityTexture, fract(p.xy * region.zw + region.xy)).xy;\n v = (v - 0.5) * 2.0;\n p.z = length(v);\n p.xy += v * deltaTime / 10.0 * speedScaling;\n p.w -= deltaTime;\n\n if (spawn || p.xy != fract(p.xy)) {\n p.z = 0.0;\n }\n p.xy = fract(p.xy);\n\n gl_FragColor = p;\n}\n@end\n\n@export ecgl.vfParticle.renderPoints.vertex\n\n#define PI 3.1415926\n\nattribute vec2 texcoord : TEXCOORD_0;\n\nuniform sampler2D particleTexture;\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\n\nuniform float size : 1.0;\n\nvarying float v_Mag;\nvarying vec2 v_Uv;\n\nvoid main()\n{\n vec4 p = texture2D(particleTexture, texcoord);\n\n if (p.w > 0.0 && p.z > 1e-5) {\n gl_Position = worldViewProjection * vec4(p.xy * 2.0 - 1.0, 0.0, 1.0);\n }\n else {\n gl_Position = vec4(100000.0, 100000.0, 100000.0, 1.0);\n }\n\n v_Mag = p.z;\n v_Uv = p.xy;\n\n gl_PointSize = size;\n}\n\n@end\n\n@export ecgl.vfParticle.renderPoints.fragment\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\nuniform sampler2D gradientTexture;\nuniform sampler2D colorTexture;\nuniform sampler2D spriteTexture;\n\nvarying float v_Mag;\nvarying vec2 v_Uv;\n\nvoid main()\n{\n gl_FragColor = color;\n#ifdef SPRITETEXTURE_ENABLED\n gl_FragColor *= texture2D(spriteTexture, gl_PointCoord);\n if (color.a == 0.0) {\n discard;\n }\n#endif\n#ifdef GRADIENTTEXTURE_ENABLED\n gl_FragColor *= texture2D(gradientTexture, vec2(v_Mag, 0.5));\n#endif\n#ifdef COLORTEXTURE_ENABLED\n gl_FragColor *= texture2D(colorTexture, v_Uv);\n#endif\n}\n\n@end\n\n@export ecgl.vfParticle.renderLines.vertex\n\n#define PI 3.1415926\n\nattribute vec3 position : POSITION;\n\nuniform sampler2D particleTexture;\nuniform sampler2D prevParticleTexture;\n\nuniform float size : 1.0;\nuniform vec4 vp: VIEWPORT;\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\n\nvarying float v_Mag;\nvarying vec2 v_Uv;\n\n@import clay.util.rand\n\nvoid main()\n{\n vec4 p = texture2D(particleTexture, position.xy);\n vec4 p2 = texture2D(prevParticleTexture, position.xy);\n\n p.xy = p.xy * 2.0 - 1.0;\n p2.xy = p2.xy * 2.0 - 1.0;\n\n if (p.w > 0.0 && p.z > 1e-5) {\n vec2 dir = normalize(p.xy - p2.xy);\n vec2 norm = vec2(dir.y / vp.z, -dir.x / vp.w) * sign(position.z) * size;\n if (abs(position.z) == 2.0) {\n gl_Position = vec4(p.xy + norm, 0.0, 1.0);\n v_Uv = p.xy;\n v_Mag = p.z;\n }\n else {\n gl_Position = vec4(p2.xy + norm, 0.0, 1.0);\n v_Mag = p2.z;\n v_Uv = p2.xy;\n }\n gl_Position = worldViewProjection * gl_Position;\n }\n else {\n gl_Position = vec4(100000.0, 100000.0, 100000.0, 1.0);\n }\n}\n\n@end\n\n@export ecgl.vfParticle.renderLines.fragment\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\nuniform sampler2D gradientTexture;\nuniform sampler2D colorTexture;\n\nvarying float v_Mag;\nvarying vec2 v_Uv;\n\nvoid main()\n{\n gl_FragColor = color;\n #ifdef GRADIENTTEXTURE_ENABLED\n gl_FragColor *= texture2D(gradientTexture, vec2(v_Mag, 0.5));\n#endif\n#ifdef COLORTEXTURE_ENABLED\n gl_FragColor *= texture2D(colorTexture, v_Uv);\n#endif\n}\n\n@end\n");var SI=function(){this.motionBlurFactor=.99,this.vectorFieldTexture=new yt({type:Be.FLOAT,flipY:!1}),this.particleLife=[5,20],this._particleType="point",this._particleSize=1,this.particleColor=[1,1,1,1],this.particleSpeedScaling=1,this._thisFrameTexture=null,this._particlePass=null,this._spawnTexture=null,this._particleTexture0=null,this._particleTexture1=null,this._particlePointsMesh=null,this._surfaceFrameBuffer=null,this._elapsedTime=0,this._scene=null,this._camera=null,this._lastFrameTexture=null,this._supersampling=1,this._downsampleTextures=[],this._width=512,this._height=512,this.init()};SI.prototype={constructor:SI,init:function(){var e={type:Be.FLOAT,minFilter:Be.NEAREST,magFilter:Be.NEAREST,useMipmap:!1};this._spawnTexture=new yt(e),this._particleTexture0=new yt(e),this._particleTexture1=new yt(e),this._frameBuffer=new yi({depthBuffer:!1}),this._particlePass=new kr({fragment:ve.source("ecgl.vfParticle.particle.fragment")}),this._particlePass.setUniform("velocityTexture",this.vectorFieldTexture),this._particlePass.setUniform("spawnTexture",this._spawnTexture),this._downsamplePass=new kr({fragment:ve.source("clay.compositor.downsample")});var n=new Lh({renderOrder:10,material:new Fo({shader:new ve(ve.source("ecgl.vfParticle.renderPoints.vertex"),ve.source("ecgl.vfParticle.renderPoints.fragment"))}),mode:Lh.POINTS,geometry:new Qt({dynamic:!0,mainAttribute:"texcoord0"})}),t=new Lh({renderOrder:10,material:new Fo({shader:new ve(ve.source("ecgl.vfParticle.renderLines.vertex"),ve.source("ecgl.vfParticle.renderLines.fragment"))}),geometry:new EFe,culling:!1}),r=new Lh({material:new Fo({shader:new ve(ve.source("ecgl.color.vertex"),ve.source("ecgl.color.fragment"))}),geometry:new FC});r.material.enableTexture("diffuseMap"),this._particlePointsMesh=n,this._particleLinesMesh=t,this._lastFrameFullQuadMesh=r,this._camera=new Sp,this._thisFrameTexture=new yt,this._lastFrameTexture=new yt},setParticleDensity:function(e,n){for(var r=new Float32Array(e*n*4),i=0,a=this.particleLife,o=0;o<e;o++)for(var s=0;s<n;s++,i++){r[4*i]=Math.random(),r[4*i+1]=Math.random(),r[4*i+2]=Math.random();var l=(a[1]-a[0])*Math.random()+a[0];r[4*i+3]=l}"line"===this._particleType?this._setLineGeometry(e,n):this._setPointsGeometry(e,n),this._spawnTexture.width=e,this._spawnTexture.height=n,this._spawnTexture.pixels=r,this._particleTexture0.width=this._particleTexture1.width=e,this._particleTexture0.height=this._particleTexture1.height=n,this._particlePass.setUniform("textureSize",[e,n])},_setPointsGeometry:function(e,n){var r=this._particlePointsMesh.geometry,i=r.attributes;i.texcoord0.init(e*n);for(var a=0,o=0;o<e;o++)for(var s=0;s<n;s++,a++)i.texcoord0.value[2*a]=o/e,i.texcoord0.value[2*a+1]=s/n;r.dirty()},_setLineGeometry:function(e,n){var t=e*n,r=this._getParticleMesh().geometry;r.setLineCount(t),r.resetOffset();for(var i=0;i<e;i++)for(var a=0;a<n;a++)r.addLine([i/e,a/n]);r.dirty()},_getParticleMesh:function(){return"line"===this._particleType?this._particleLinesMesh:this._particlePointsMesh},update:function(e,n,t,r){var i=this._getParticleMesh(),a=this._frameBuffer,o=this._particlePass;r&&this._updateDownsampleTextures(e,n),i.material.set("size",this._particleSize*this._supersampling),i.material.set("color",this.particleColor),o.setUniform("speedScaling",this.particleSpeedScaling),a.attach(this._particleTexture1),o.setUniform("firstFrameTime",r?(this.particleLife[1]+this.particleLife[0])/2:0),o.setUniform("particleTexture",this._particleTexture0),o.setUniform("deltaTime",t),o.setUniform("elapsedTime",this._elapsedTime),o.render(e,a),i.material.set("particleTexture",this._particleTexture1),i.material.set("prevParticleTexture",this._particleTexture0),a.attach(this._thisFrameTexture),a.bind(e),e.gl.clear(e.gl.DEPTH_BUFFER_BIT|e.gl.COLOR_BUFFER_BIT);var s=this._lastFrameFullQuadMesh;s.material.set("diffuseMap",this._lastFrameTexture),s.material.set("color",[1,1,1,this.motionBlurFactor]),this._camera.update(!0),e.renderPass([s,i],this._camera),a.unbind(e),this._downsample(e),this._swapTexture(),this._elapsedTime+=t},_downsample:function(e){var n=this._downsampleTextures;if(0!==n.length)for(var t=0,r=this._thisFrameTexture,i=n[t];i;)this._frameBuffer.attach(i),this._downsamplePass.setUniform("texture",r),this._downsamplePass.setUniform("textureSize",[r.width,r.height]),this._downsamplePass.render(e,this._frameBuffer),r=i,i=n[++t]},getSurfaceTexture:function(){var e=this._downsampleTextures;return e.length>0?e[e.length-1]:this._lastFrameTexture},setRegion:function(e){this._particlePass.setUniform("region",e)},resize:function(e,n){this._lastFrameTexture.width=e*this._supersampling,this._lastFrameTexture.height=n*this._supersampling,this._thisFrameTexture.width=e*this._supersampling,this._thisFrameTexture.height=n*this._supersampling,this._width=e,this._height=n},setParticleSize:function(e){var n=this._getParticleMesh();if(e<=2)return n.material.disableTexture("spriteTexture"),void(n.material.transparent=!1);this._spriteTexture||(this._spriteTexture=new yt),(!this._spriteTexture.image||this._spriteTexture.image.width!==e)&&(this._spriteTexture.image=function NFe(e){var n=document.createElement("canvas");n.width=n.height=e;var t=n.getContext("2d");return t.fillStyle="#fff",t.arc(e/2,e/2,e/2,0,2*Math.PI),t.fill(),n}(e),this._spriteTexture.dirty()),n.material.transparent=!0,n.material.enableTexture("spriteTexture"),n.material.set("spriteTexture",this._spriteTexture),this._particleSize=e},setGradientTexture:function(e){var n=this._getParticleMesh().material;n[e?"enableTexture":"disableTexture"]("gradientTexture"),n.setUniform("gradientTexture",e)},setColorTextureImage:function(e,n){this._getParticleMesh().material.setTextureImage("colorTexture",e,n,{flipY:!0})},setParticleType:function(e){this._particleType=e},clearFrame:function(e){var n=this._frameBuffer;n.attach(this._lastFrameTexture),n.bind(e),e.gl.clear(e.gl.DEPTH_BUFFER_BIT|e.gl.COLOR_BUFFER_BIT),n.unbind(e)},setSupersampling:function(e){this._supersampling=e,this.resize(this._width,this._height)},_updateDownsampleTextures:function(e,n){for(var t=this._downsampleTextures,r=Math.max(Math.floor(Math.log(this._supersampling/n.getDevicePixelRatio())/Math.log(2)),0),i=2,a=this._width*this._supersampling,o=this._height*this._supersampling,s=0;s<r;s++)t[s]=t[s]||new yt,t[s].width=a/i,t[s].height=o/i,i*=2;for(;s<t.length;s++)t[s].dispose(e);t.length=r},_swapTexture:function(){var e=this._particleTexture0;this._particleTexture0=this._particleTexture1,this._particleTexture1=e,e=this._thisFrameTexture,this._thisFrameTexture=this._lastFrameTexture,this._lastFrameTexture=e},dispose:function(e){e.disposeFrameBuffer(this._frameBuffer),e.disposeTexture(this.vectorFieldTexture),e.disposeTexture(this._spawnTexture),e.disposeTexture(this._particleTexture0),e.disposeTexture(this._particleTexture1),e.disposeTexture(this._thisFrameTexture),e.disposeTexture(this._lastFrameTexture),e.disposeGeometry(this._particleLinesMesh.geometry),e.disposeGeometry(this._particlePointsMesh.geometry),e.disposeGeometry(this._lastFrameFullQuadMesh.geometry),this._spriteTexture&&e.disposeTexture(this._spriteTexture),this._particlePass.dispose(e),this._downsamplePass.dispose(e),this._downsampleTextures.forEach(function(n){n.dispose(e)})}};const IFe=SI,PFe=Rr.extend({type:"flowGL",__ecgl__:!0,init:function(e,n){this.viewGL=new Vc("orthographic"),this.groupGL=new P.Node,this.viewGL.add(this.groupGL),this._particleSurface=new IFe;var t=new P.Mesh({geometry:new P.PlaneGeometry,material:new P.Material({shader:new P.Shader({vertex:P.Shader.source("ecgl.color.vertex"),fragment:P.Shader.source("ecgl.color.fragment")}),transparent:!0})});t.material.enableTexture("diffuseMap"),this.groupGL.add(t),this._planeMesh=t},render:function(e,n,t){var r=this._particleSurface;r.setParticleType(e.get("particleType")),r.setSupersampling(e.get("supersampling")),this._updateData(e,t),this._updateCamera(t.getWidth(),t.getHeight(),t.getDevicePixelRatio());var i=Ct.firstNotNull(e.get("particleDensity"),128);r.setParticleDensity(i,i);var a=this._planeMesh,o=+new Date,s=this,l=!0;a.__percent=0,a.stopAnimation(),a.animate("",{loop:!0}).when(1e5,{__percent:1}).during(function(){var h=+new Date,d=Math.min(h-o,20);o+=d,s._renderer&&(r.update(s._renderer,t,d/1e3,l),a.material.set("diffuseMap",r.getSurfaceTexture())),l=!1}).start();var c=e.getModel("itemStyle"),u=P.parseColor(c.get("color"));u[3]*=Ct.firstNotNull(c.get("opacity"),1),a.material.set("color",u),r.setColorTextureImage(e.get("colorTexture"),t),r.setParticleSize(e.get("particleSize")),r.particleSpeedScaling=e.get("particleSpeed"),r.motionBlurFactor=1-Math.pow(.1,e.get("particleTrail"))},updateTransform:function(e,n,t){this._updateData(e,t)},afterRender:function(e,n,t,r){this._renderer=r.renderer},_updateData:function(e,n){var t=e.coordinateSystem,r=t.dimensions.map(function(_){return e.coordDimToDataDim(_)[0]}),i=e.getData(),a=i.getDataExtent(r[0]),o=i.getDataExtent(r[1]),s=e.get("gridWidth"),l=e.get("gridHeight");null!=s&&"auto"!==s||(s=Math.round(Math.sqrt((a[1]-a[0])/(o[1]-o[0])*i.count()))),(null==l||"auto"===l)&&(l=Math.ceil(i.count()/s));var u=this._particleSurface.vectorFieldTexture,h=u.pixels;if(h&&h.length===l*s*4)for(var d=0;d<h.length;d++)h[d]=0;else h=u.pixels=new Float32Array(s*l*4);var f=0,p=1/0,g=new Float32Array(2*i.count()),m=0,v=[[1/0,1/0],[-1/0,-1/0]];i.each([r[0],r[1],"vx","vy"],function(_,y,b,w){var C=t.dataToPoint([_,y]);g[m++]=C[0],g[m++]=C[1],v[0][0]=Math.min(C[0],v[0][0]),v[0][1]=Math.min(C[1],v[0][1]),v[1][0]=Math.max(C[0],v[1][0]),v[1][1]=Math.max(C[1],v[1][1]);var S=Math.sqrt(b*b+w*w);f=Math.max(f,S),p=Math.min(p,S)}),i.each(["vx","vy"],function(_,y,b){var w=Math.round((g[2*b]-v[0][0])/(v[1][0]-v[0][0])*(s-1)),S=4*((l-1-Math.round((g[2*b+1]-v[0][1])/(v[1][1]-v[0][1])*(l-1)))*s+w);h[S]=_/f*.5+.5,h[S+1]=y/f*.5+.5,h[S+3]=1}),u.width=s,u.height=l,"bmap"===e.get("coordinateSystem")&&this._fillEmptyPixels(u),u.dirty(),this._updatePlanePosition(v[0],v[1],e,n),this._updateGradientTexture(i.getVisual("visualMeta"),[p,f])},_fillEmptyPixels:function(e){var n=e.pixels,t=e.width,r=e.height;function i(g,m,v){g=Math.max(Math.min(g,t-1),0);var _=4*((m=Math.max(Math.min(m,r-1),0))*(t-1)+g);return 0!==n[_+3]&&(v[0]=n[_],v[1]=n[_+1],!0)}function a(g,m,v){v[0]=g[0]+m[0],v[1]=g[1]+m[1]}for(var o=[],s=[],l=[],c=[],u=[],h=0,d=0;d<r;d++)for(var f=0;f<t;f++){var p=4*(d*(t-1)+f);0===n[p+3]&&(h=o[0]=o[1]=0,i(f-1,d,s)&&(h++,a(s,o,o)),i(f+1,d,l)&&(h++,a(l,o,o)),i(f,d-1,c)&&(h++,a(c,o,o)),i(f,d+1,u)&&(h++,a(u,o,o)),o[0]/=h,o[1]/=h,n[p]=o[0],n[p+1]=o[1]),n[p+3]=1}},_updateGradientTexture:function(e,n){if(e&&e.length){this._gradientTexture=this._gradientTexture||new P.Texture2D({image:document.createElement("canvas")});var t=this._gradientTexture,r=t.image;r.width=200,r.height=1;var i=r.getContext("2d"),a=i.createLinearGradient(0,.5,r.width,.5);e[0].stops.forEach(function(o){var s;n[1]===n[0]?s=0:(s=o.value/n[1],s=Math.min(Math.max(s,0),1)),a.addColorStop(s,o.color)}),i.fillStyle=a,i.fillRect(0,0,r.width,r.height),t.dirty(),this._particleSurface.setGradientTexture(this._gradientTexture)}else this._particleSurface.setGradientTexture(null)},_updatePlanePosition:function(e,n,t,r){var i=this._limitInViewportAndFullFill(e,n,t,r);e=i.leftTop,n=i.rightBottom,this._particleSurface.setRegion(i.region),this._planeMesh.position.set((e[0]+n[0])/2,r.getHeight()-(e[1]+n[1])/2,0);var a=n[0]-e[0],o=n[1]-e[1];this._planeMesh.scale.set(a/2,o/2,1),this._particleSurface.resize(Math.max(Math.min(a,2048),1),Math.max(Math.min(o,2048),1)),this._renderer&&this._particleSurface.clearFrame(this._renderer)},_limitInViewportAndFullFill:function(e,n,t,r){var i=[Math.max(e[0],0),Math.max(e[1],0)],a=[Math.min(n[0],r.getWidth()),Math.min(n[1],r.getHeight())];if("bmap"===t.get("coordinateSystem")){var o=t.getData().getDataExtent(t.coordDimToDataDim("lng")[0]);Math.floor(o[1]-o[0])>=359&&(i[0]>0&&(i[0]=0),a[0]<r.getWidth()&&(a[0]=r.getWidth()))}var l=n[0]-e[0],c=n[1]-e[1],h=a[1]-i[1];return{leftTop:i,rightBottom:a,region:[(i[0]-e[0])/l,1-h/c-(i[1]-e[1])/c,(a[0]-i[0])/l,h/c]}},_updateCamera:function(e,n,t){this.viewGL.setViewport(0,0,e,n,t);var r=this.viewGL.camera;r.left=r.bottom=0,r.top=n,r.right=e,r.near=0,r.far=100,r.position.z=10},remove:function(){this._planeMesh.stopAnimation(),this.groupGL.removeAll()},dispose:function(){this._renderer&&this._particleSurface.dispose(this._renderer),this.groupGL.removeAll()}});Vn(function OFe(e){e.registerChartView(PFe),e.registerSeriesModel(TFe)});var xI=si.extend({type:"series.linesGL",dependencies:["grid","geo"],visualStyleAccessPath:"lineStyle",visualDrawType:"stroke",streamEnabled:!0,init:function(e){var n=this._processFlatCoordsArray(e.data);this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset,n.flatCoords&&(e.data=new Float32Array(n.count)),xI.superApply(this,"init",arguments)},mergeOption:function(e){var n=this._processFlatCoordsArray(e.data);this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset,n.flatCoords&&(e.data=new Float32Array(n.count)),xI.superApply(this,"mergeOption",arguments)},appendData:function(e){var n=this._processFlatCoordsArray(e.data);n.flatCoords&&(this._flatCoords?(this._flatCoords=YD(this._flatCoords,n.flatCoords),this._flatCoordsOffset=YD(this._flatCoordsOffset,n.flatCoordsOffset)):(this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset),e.data=new Float32Array(n.count)),this.getRawData().appendData(e.data)},_getCoordsFromItemModel:function(e){var n=this.getData().getItemModel(e);return n.option instanceof Array?n.option:n.getShallow("coords")},getLineCoordsCount:function(e){return this._flatCoordsOffset?this._flatCoordsOffset[2*e+1]:this._getCoordsFromItemModel(e).length},getLineCoords:function(e,n){if(this._flatCoordsOffset){for(var t=this._flatCoordsOffset[2*e],r=this._flatCoordsOffset[2*e+1],i=0;i<r;i++)n[i]=n[i]||[],n[i][0]=this._flatCoords[t+2*i],n[i][1]=this._flatCoords[t+2*i+1];return r}var a=this._getCoordsFromItemModel(e);for(i=0;i<a.length;i++)n[i]=n[i]||[],n[i][0]=a[i][0],n[i][1]=a[i][1];return a.length},_processFlatCoordsArray:function(e){var n=0;if(this._flatCoords&&(n=this._flatCoords.length),"number"==typeof e[0]){for(var t=e.length,r=new Uint32Array(t),i=new Float64Array(t),a=0,o=0,s=0,l=0;l<t;){s++;var c=e[l++];r[o++]=a+n,r[o++]=c;for(var u=0;u<c;u++){var h=e[l++],d=e[l++];i[a++]=h,i[a++]=d}}return{flatCoordsOffset:new Uint32Array(r.buffer,0,o),flatCoords:i,count:s}}return{flatCoordsOffset:null,flatCoords:null,count:e.length}},getInitialData:function(e,n){var t=new Lo(["value"],this);return t.hasItemOption=!1,t.initData(e.data,[],function(r,i,a,o){if(r instanceof Array)return NaN;t.hasItemOption=!0;var s=r.value;return null!=s?s instanceof Array?s[o]:s:void 0}),t},defaultOption:{coordinateSystem:"geo",zlevel:10,progressive:1e4,progressiveThreshold:5e4,blendMode:"source-over",lineStyle:{opacity:.8},postEffect:{enable:!1,colorCorrection:{exposure:0,brightness:0,contrast:1,saturation:1,enable:!0}}}});const RFe=xI,LFe=Rr.extend({type:"linesGL",__ecgl__:!0,init:function(e,n){this.groupGL=new P.Node,this.viewGL=new Vc("orthographic"),this.viewGL.add(this.groupGL),this._glViewHelper=new UK(this.viewGL),this._nativeLinesShader=P.createShader("ecgl.lines3D"),this._meshLinesShader=P.createShader("ecgl.meshLines3D"),this._linesMeshes=[],this._currentStep=0},render:function(e,n,t){this.groupGL.removeAll(),this._glViewHelper.reset(e,t);var r=this._linesMeshes[0];r||(r=this._linesMeshes[0]=this._createLinesMesh(e)),this._linesMeshes.length=1,this.groupGL.add(r),this._updateLinesMesh(e,r,0,e.getData().count()),this.viewGL.setPostEffect(e.getModel("postEffect"),t)},incrementalPrepareRender:function(e,n,t){this.groupGL.removeAll(),this._glViewHelper.reset(e,t),this._currentStep=0,this.viewGL.setPostEffect(e.getModel("postEffect"),t)},incrementalRender:function(e,n,t,r){var i=this._linesMeshes[this._currentStep];i||(i=this._createLinesMesh(n),this._linesMeshes[this._currentStep]=i),this._updateLinesMesh(n,i,e.start,e.end),this.groupGL.add(i),r.getZr().refresh(),this._currentStep++},updateTransform:function(e,n,t){e.coordinateSystem.getRoamTransform&&this._glViewHelper.updateTransform(e,t)},_createLinesMesh:function(e){return new P.Mesh({$ignorePicking:!0,material:new P.Material({shader:P.createShader("ecgl.lines3D"),transparent:!0,depthMask:!1,depthTest:!1}),geometry:new XK({segmentScale:10,useNativeLine:!0,dynamic:!1}),mode:P.Mesh.LINES,culling:!1})},_updateLinesMesh:function(e,n,t,r){var i=e.getData();n.material.blend="lighter"===e.get("blendMode")?P.additiveBlend:null;var a=e.get("lineStyle.curveness")||0,o=e.get("polyline"),s=n.geometry,l=e.coordinateSystem,c=Ct.firstNotNull(e.get("lineStyle.width"),1);c>1?(n.material.shader!==this._meshLinesShader&&n.material.attachShader(this._meshLinesShader),n.mode=P.Mesh.TRIANGLES):(n.material.shader!==this._nativeLinesShader&&n.material.attachShader(this._nativeLinesShader),n.mode=P.Mesh.LINES),t=t||0,r=r||i.count(),s.resetOffset();var u=0,h=0,d=[],f=[],p=[],g=[],m=[],v=.3,_=.7;function y(){f[0]=d[0]*_+g[0]*v-(d[1]-g[1])*a,f[1]=d[1]*_+g[1]*v-(g[0]-d[0])*a,p[0]=d[0]*v+g[0]*_-(d[1]-g[1])*a,p[1]=d[1]*v+g[1]*_-(g[0]-d[0])*a}if(o||0!==a)for(var b=t;b<r;b++)if(o){var w=e.getLineCoordsCount(b);u+=s.getPolylineVertexCount(w),h+=s.getPolylineTriangleCount(w)}else e.getLineCoords(b,m),this._glViewHelper.dataToPoint(l,m[0],d),this._glViewHelper.dataToPoint(l,m[1],g),y(),u+=s.getCubicCurveVertexCount(d,f,p,g),h+=s.getCubicCurveTriangleCount(d,f,p,g);else{var C=r-t;u+=C*s.getLineVertexCount(),h+=C*s.getLineVertexCount()}s.setVertexCount(u),s.setTriangleCount(h);var S=t,x=[];for(b=t;b<r;b++){P.parseColor(ui(i,S),x);var M=Ct.firstNotNull(hi(i,S),1);x[3]*=M,w=e.getLineCoords(b,m);for(var E=0;E<w;E++)this._glViewHelper.dataToPoint(l,m[E],m[E]);o?s.addPolyline(m,x,c,0,w):0!==a?(d=m[0],g=m[1],y(),s.addCubicCurve(d,f,p,g,x,c)):s.addPolyline(m,x,c,0,2),S++}},dispose:function(){this.groupGL.removeAll()},remove:function(){this.groupGL.removeAll()}});Vn(function kFe(e){e.registerChartView(LFe),e.registerSeriesModel(RFe)});class Fp{}Fp.\u0275fac=function(n){return new(n||Fp)},Fp.\u0275mod=It({type:Fp,bootstrap:[J1]}),Fp.\u0275inj=St({imports:[g6,nhe,A8,xhe,np,Pye,rye.forRoot({name:"dark"}),Lye.forRoot(),Bye.forRoot(),Yye,wB,e2e,$2e,Fg,wye,G2e]}),Vn([function BEe(e){e.registerChartView(zEe),e.registerSeriesModel(wEe),e.registerLayout(e.PRIORITY.VISUAL.LAYOUT,An(X3e,"bar")),e.registerLayout(e.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,function q3e(e){return{seriesType:e,plan:nA(),reset:function(n){if(e$(n)){var t=n.getData(),r=n.coordinateSystem,i=r.getBaseAxis(),a=r.getOtherAxis(i),o=t.getDimensionIndex(t.mapDimension(a.dim)),s=t.getDimensionIndex(t.mapDimension(i.dim)),l=n.get("showBackground",!0),c=t.mapDimension(a.dim),u=t.getCalculationInfo("stackResultDimension"),h=Dc(t,c)&&!!t.getCalculationInfo("stackedOnSeries"),d=a.isHorizontal(),f=function Z3e(e,n){return n.toGlobalCoord(n.dataToCoord("log"===n.type?1:0))}(0,a),p=t$(n),g=n.get("barMinHeight")||0,m=u&&t.getDimensionIndex(u),v=t.getLayout("size"),_=t.getLayout("offset");return{progress:function(y,b){for(var T,w=y.count,C=p&&zl(3*w),S=p&&l&&zl(3*w),x=p&&zl(w),M=r.master.getRect(),E=d?M.width:M.height,A=b.getStore(),N=0;null!=(T=y.next());){var R=A.get(h?m:o,T),z=A.get(s,T),L=f,V=void 0;h&&(V=+R-A.get(o,T));var F=void 0,j=void 0,Y=void 0,se=void 0;if(d){var de=r.dataToPoint([R,z]);h&&(L=r.dataToPoint([V,z])[0]),F=L,j=de[1]+_,Y=de[0]-L,se=v,Math.abs(Y)<g&&(Y=(Y<0?-1:1)*g)}else de=r.dataToPoint([z,R]),h&&(L=r.dataToPoint([z,V])[1]),F=de[0]+_,j=L,Y=v,se=de[1]-L,Math.abs(se)<g&&(se=(se<=0?-1:1)*g);p?(C[N]=F,C[N+1]=j,C[N+2]=d?Y:se,S&&(S[N]=d?M.x:F,S[N+1]=d?j:M.y,S[N+2]=E),x[T]=T):b.setItemLayout(T,{x:F,y:j,width:Y,height:se}),N+=3}p&&b.setLayout({largePoints:C,largeDataIndices:x,largeBackgroundPoints:S,valueAxisHorizontal:d})}}}}}}("bar")),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,n$("bar")),e.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(n,t){t.eachComponent({mainType:n.componentType||"series",query:n},function(i){n.sortInfo&&i.axis.setCategorySortInfo(n.sortInfo)})})},function cAe(e){e.registerChartView(sAe),e.registerSeriesModel(HEe),e.registerLayout(function lAe(e,n){return{seriesType:e,plan:nA(),reset:function(t){var r=t.getData(),i=t.coordinateSystem,o=n||t.pipelineContext.large;if(i){var s=De(i.dimensions,function(f){return r.mapDimension(f)}).slice(0,2),l=s.length,c=r.getCalculationInfo("stackResultDimension");Dc(r,s[0])&&(s[0]=c),Dc(r,s[1])&&(s[1]=c);var u=r.getStore(),h=r.getDimensionIndex(s[0]),d=r.getDimensionIndex(s[1]);return l&&{progress:function(f,p){for(var m=o&&zl((f.end-f.start)*l),v=[],_=[],y=f.start,b=0;y<f.end;y++){var w=void 0;if(1===l){var C=u.get(h,y);w=i.dataToPoint(C,null,_)}else v[0]=u.get(h,y),v[1]=u.get(d,y),w=i.dataToPoint(v,null,_);o?(m[b++]=w[0],m[b++]=w[1]):p.setItemLayout(y,w.slice())}o&&p.setLayout("points",m)}}}}}}("line",!0)),e.registerVisual({seriesType:"line",reset:function(n){var t=n.getData(),r=n.getModel("lineStyle").getLineStyle();r&&!r.stroke&&(r.stroke=t.getVisual("style").fill),t.setVisual("legendLineStyle",r)}}),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,n$("line"))},function yAe(e){e.registerChartView(mAe),e.registerSeriesModel(_Ae)},function wAe(e){e.registerComponentModel(bAe),e.registerComponentView(CAe)},function oNe(e){Vn(xY),e.registerComponentModel(B4e),e.registerComponentView(aNe),e.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},ea),e.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},ea)},function HNe(e){Vn(VNe),Vn(xY)},JY,function nIe(e){e.registerTransform(eIe),e.registerTransform(tIe)},function vIe(e){Vn(oX),Vn(mIe)},function PIe(e){e.registerComponentModel(bIe),e.registerComponentView(IIe),e.registerPreprocessor(function(n){(function _Ie(e,n){if(!e)return!1;for(var t=ne(e)?e:[e],r=0;r<t.length;r++)if(t[r]&&t[r][n])return!0;return!1})(n.series,"markPoint")&&(n.markPoint=n.markPoint||{})})},j4,function QPe(e){e.registerUpdateLifecycle("series:beforeupdate",function(n,t,r){I(mr(r.seriesTransition),function(i){I(mr(i.to),function(a){for(var o=r.updatedSeries,s=0;s<o.length;s++)(null!=a.seriesIndex&&a.seriesIndex===o[s].seriesIndex||null!=a.seriesId&&a.seriesId===o[s].id)&&(o[s][db]=!0)})})}),e.registerUpdateLifecycle("series:transition",function(n,t,r){var i=$Pe(t);if(i.oldSeries&&r.updatedSeries&&r.optionChanged){var a=r.seriesTransition;if(a)I(mr(a),function(f){!function KPe(e,n,t,r){var i=[],a=[];I(mr(e.from),function(o){var s=eq(n.oldSeries,o);s>=0&&i.push({dataGroupId:n.oldDataGroupIds[s],data:n.oldData[s],divide:Rc(n.oldData[s]),dim:o.dimension})}),I(mr(e.to),function(o){var s=eq(t.updatedSeries,o);if(s>=0){var l=t.updatedSeries[s].getData();a.push({dataGroupId:n.oldDataGroupIds[s],data:l,divide:Rc(l),dim:o.dimension})}}),i.length>0&&a.length>0&&KX(i,a,r)}(f,i,r,t)});else{var o=function ZPe(e,n){var t=bt(),r=bt(),i=bt();return I(e.oldSeries,function(o,s){var l=e.oldDataGroupIds[s],c=e.oldData[s],u=QX(o),h=JX(u);r.set(h,{dataGroupId:l,data:c}),ne(u)&&I(u,function(d){i.set(d,{key:h,dataGroupId:l,data:c})})}),I(n.updatedSeries,function(o){if(o.isUniversalTransitionEnabled()&&o.isAnimationEnabled()){var s=o.get("dataGroupId"),l=o.getData(),c=QX(o),u=JX(c),h=r.get(u);if(h)t.set(u,{oldSeries:[{dataGroupId:h.dataGroupId,divide:Rc(h.data),data:h.data}],newSeries:[{dataGroupId:s,divide:Rc(l),data:l}]});else if(ne(c)){var d=[];I(c,function(g){var m=r.get(g);m.data&&d.push({dataGroupId:m.dataGroupId,divide:Rc(m.data),data:m.data})}),d.length&&t.set(u,{oldSeries:d,newSeries:[{dataGroupId:s,data:l,divide:Rc(l)}]})}else{var f=i.get(c);if(f){var p=t.get(f.key);p||(p={oldSeries:[{dataGroupId:f.dataGroupId,data:f.data,divide:Rc(f.data)}],newSeries:[]},t.set(f.key,p)),p.newSeries.push({dataGroupId:s,data:l,divide:Rc(l)})}}}}),t}(i,r);I(o.keys(),function(f){var p=o.get(f);KX(p.oldSeries,p.newSeries,t)})}I(r.updatedSeries,function(f){f[db]&&(f[db]=!1)})}for(var s=n.getSeries(),l=i.oldSeries=[],c=i.oldDataGroupIds=[],u=i.oldData=[],h=0;h<s.length;h++){var d=s[h].getData();d.count()<1e4&&(l.push(s[h]),c.push(s[h].get("dataGroupId")),u.push(d))}})},function rPe(e){e.registerComponentModel(XIe),e.registerComponentView(KIe),TX(e)},function fPe(e){e.registerComponentModel(aPe),e.registerComponentView(dPe),TX(e)},rq]),Yle().bootstrapModule(Fp).catch(e=>console.error(e))},773:function(Bp){typeof self<"u"&&self,Bp.exports=function(Tn){var Jt={};function Ve(ue){if(Jt[ue])return Jt[ue].exports;var Xe=Jt[ue]={i:ue,l:!1,exports:{}};return Tn[ue].call(Xe.exports,Xe,Xe.exports,Ve),Xe.l=!0,Xe.exports}return Ve.m=Tn,Ve.c=Jt,Ve.d=function(ue,Xe,$t){Ve.o(ue,Xe)||Object.defineProperty(ue,Xe,{enumerable:!0,get:$t})},Ve.r=function(ue){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(ue,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(ue,"__esModule",{value:!0})},Ve.t=function(ue,Xe){if(1&Xe&&(ue=Ve(ue)),8&Xe||4&Xe&&"object"==typeof ue&&ue&&ue.__esModule)return ue;var $t=Object.create(null);if(Ve.r($t),Object.defineProperty($t,"default",{enumerable:!0,value:ue}),2&Xe&&"string"!=typeof ue)for(var wt in ue)Ve.d($t,wt,function(We){return ue[We]}.bind(null,wt));return $t},Ve.n=function(ue){var Xe=ue&&ue.__esModule?function(){return ue.default}:function(){return ue};return Ve.d(Xe,"a",Xe),Xe},Ve.o=function(ue,Xe){return Object.prototype.hasOwnProperty.call(ue,Xe)},Ve.p="",Ve(Ve.s="./package/src/index.js")}({"./node_modules/classnames/dedupe.js":function(Tn,Jt,Ve){var Xe;!function(){"use strict";var $t=function(){function wt(){}function We(or,gn){for(var Ie=gn.length,at=0;at<Ie;++at)Ss(or,gn[at])}wt.prototype=Object.create(null);var Kn={}.hasOwnProperty;var ar=/\s+/;function Ss(or,gn){if(gn){var Ie=typeof gn;"string"===Ie?function ga(or,gn){for(var Ie=gn.split(ar),at=Ie.length,le=0;le<at;++le)or[Ie[le]]=!0}(or,gn):Array.isArray(gn)?We(or,gn):"object"===Ie?function Ci(or,gn){for(var Ie in gn)Kn.call(gn,Ie)&&(or[Ie]=!!gn[Ie])}(or,gn):"number"===Ie&&function pn(or,gn){or[gn]=!0}(or,gn)}}return function za(){for(var or=arguments.length,gn=Array(or),Ie=0;Ie<or;Ie++)gn[Ie]=arguments[Ie];var at=new wt;We(at,gn);var le=[];for(var Ne in at)at[Ne]&&le.push(Ne);return le.join(" ")}}();typeof Tn<"u"&&Tn.exports?($t.default=$t,Tn.exports=$t):void 0!==(Xe=function(){return $t}.apply(Jt,[]))&&(Tn.exports=Xe)}()},"./node_modules/css-loader/index.js!./node_modules/sass-loader/lib/loader.js!./package/src/animation.scss":function(Tn,Jt,Ve){(Tn.exports=Ve("./node_modules/css-loader/lib/css-base.js")(!1)).push([Tn.i,"/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n.eva-animation {\n  animation-duration: 1s;\n  animation-fill-mode: both; }\n\n.eva-infinite {\n  animation-iteration-count: infinite; }\n\n.eva-icon-shake {\n  animation-name: eva-shake; }\n\n.eva-icon-zoom {\n  animation-name: eva-zoomIn; }\n\n.eva-icon-pulse {\n  animation-name: eva-pulse; }\n\n.eva-icon-flip {\n  animation-name: eva-flipInY; }\n\n.eva-hover {\n  display: inline-block; }\n\n.eva-hover:hover .eva-icon-hover-shake, .eva-parent-hover:hover .eva-icon-hover-shake {\n  animation-name: eva-shake; }\n\n.eva-hover:hover .eva-icon-hover-zoom, .eva-parent-hover:hover .eva-icon-hover-zoom {\n  animation-name: eva-zoomIn; }\n\n.eva-hover:hover .eva-icon-hover-pulse, .eva-parent-hover:hover .eva-icon-hover-pulse {\n  animation-name: eva-pulse; }\n\n.eva-hover:hover .eva-icon-hover-flip, .eva-parent-hover:hover .eva-icon-hover-flip {\n  animation-name: eva-flipInY; }\n\n@keyframes eva-flipInY {\n  from {\n    transform: perspective(400px) rotate3d(0, 1, 0, 90deg);\n    animation-timing-function: ease-in;\n    opacity: 0; }\n  40% {\n    transform: perspective(400px) rotate3d(0, 1, 0, -20deg);\n    animation-timing-function: ease-in; }\n  60% {\n    transform: perspective(400px) rotate3d(0, 1, 0, 10deg);\n    opacity: 1; }\n  80% {\n    transform: perspective(400px) rotate3d(0, 1, 0, -5deg); }\n  to {\n    transform: perspective(400px); } }\n\n@keyframes eva-shake {\n  from,\n  to {\n    transform: translate3d(0, 0, 0); }\n  10%,\n  30%,\n  50%,\n  70%,\n  90% {\n    transform: translate3d(-3px, 0, 0); }\n  20%,\n  40%,\n  60%,\n  80% {\n    transform: translate3d(3px, 0, 0); } }\n\n@keyframes eva-pulse {\n  from {\n    transform: scale3d(1, 1, 1); }\n  50% {\n    transform: scale3d(1.2, 1.2, 1.2); }\n  to {\n    transform: scale3d(1, 1, 1); } }\n\n@keyframes eva-zoomIn {\n  from {\n    opacity: 1;\n    transform: scale3d(0.5, 0.5, 0.5); }\n  50% {\n    opacity: 1; } }\n",""])},"./node_modules/css-loader/lib/css-base.js":function(Tn,Jt){function Ve(Xe,$t){var wt=Xe[1]||"",We=Xe[3];if(!We)return wt;if($t&&"function"==typeof btoa){var Kn=function ue(Xe){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(Xe))))+" */"}(We),pn=We.sources.map(function(Ci){return"/*# sourceURL="+We.sourceRoot+Ci+" */"});return[wt].concat(pn).concat([Kn]).join("\n")}return[wt].join("\n")}Tn.exports=function(Xe){var $t=[];return $t.toString=function(){return this.map(function(We){var Kn=Ve(We,Xe);return We[2]?"@media "+We[2]+"{"+Kn+"}":Kn}).join("")},$t.i=function(wt,We){"string"==typeof wt&&(wt=[[null,wt,""]]);for(var Kn={},pn=0;pn<this.length;pn++){var Ci=this[pn][0];"number"==typeof Ci&&(Kn[Ci]=!0)}for(pn=0;pn<wt.length;pn++){var ar=wt[pn];("number"!=typeof ar[0]||!Kn[ar[0]])&&(We&&!ar[2]?ar[2]=We:We&&(ar[2]="("+ar[2]+") and ("+We+")"),$t.push(ar))}},$t}},"./node_modules/isomorphic-style-loader/insertCss.js":function(Tn,Jt,Ve){"use strict";var ue={};function Xe(We){return btoa(encodeURIComponent(We).replace(/%([0-9A-F]{2})/g,function(Kn,pn){return String.fromCharCode("0x"+pn)}))}function $t(We){We.forEach(function(Kn){if(--ue[Kn]<=0){var pn=document.getElementById(Kn);pn&&pn.parentNode.removeChild(pn)}})}Tn.exports=function wt(We,Kn){for(var pn=void 0===Kn?{}:Kn,Ci=pn.replace,ar=void 0!==Ci&&Ci,ga=pn.prepend,Ss=void 0!==ga&&ga,za=pn.prefix,or=void 0===za?"s":za,gn=[],Ie=0;Ie<We.length;Ie++){var at=We[Ie],Ne=at[1],qe=at[2],At=at[3],Dn=""+or+at[0]+"-"+Ie;if(gn.push(Dn),!ue[Dn]||ar){ue[Dn]=1;var En=document.getElementById(Dn),ed=!1;En||(ed=!0,(En=document.createElement("style")).setAttribute("type","text/css"),En.id=Dn,qe&&En.setAttribute("media",qe));var uo=Ne;At&&"function"==typeof btoa&&(uo+="\n/*# sourceMappingURL=data:application/json;base64,"+Xe(JSON.stringify(At))+"*/",uo+="\n/*# sourceURL="+At.file+"?"+Dn+"*/"),"textContent"in En?En.textContent=uo:En.styleSheet.cssText=uo,ed&&(Ss?document.head.insertBefore(En,document.head.childNodes[0]):document.head.appendChild(En))}else ue[Dn]++}return $t.bind(null,gn)}},"./package-build/eva-icons.json":function(Tn){Tn.exports={activity:'<g data-name="Layer 2"><g data-name="activity"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M14.33 20h-.21a2 2 0 0 1-1.76-1.58L9.68 6l-2.76 6.4A1 1 0 0 1 6 13H3a1 1 0 0 1 0-2h2.34l2.51-5.79a2 2 0 0 1 3.79.38L14.32 18l2.76-6.38A1 1 0 0 1 18 11h3a1 1 0 0 1 0 2h-2.34l-2.51 5.79A2 2 0 0 1 14.33 20z"/></g></g>',"alert-circle":'<g data-name="Layer 2"><g data-name="alert-circle"><rect width="24" height="24" opacity="0"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 15a1 1 0 1 1 1-1 1 1 0 0 1-1 1zm1-4a1 1 0 0 1-2 0V8a1 1 0 0 1 2 0z"/></g></g>',"alert-triangle":'<g data-name="Layer 2"><g data-name="alert-triangle"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M22.56 16.3L14.89 3.58a3.43 3.43 0 0 0-5.78 0L1.44 16.3a3 3 0 0 0-.05 3A3.37 3.37 0 0 0 4.33 21h15.34a3.37 3.37 0 0 0 2.94-1.66 3 3 0 0 0-.05-3.04zM12 17a1 1 0 1 1 1-1 1 1 0 0 1-1 1zm1-4a1 1 0 0 1-2 0V9a1 1 0 0 1 2 0z"/></g></g>',archive:'<g data-name="Layer 2"><g data-name="archive"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M18 3H6a3 3 0 0 0-2 5.22V18a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V8.22A3 3 0 0 0 18 3zm-3 10.13a.87.87 0 0 1-.87.87H9.87a.87.87 0 0 1-.87-.87v-.26a.87.87 0 0 1 .87-.87h4.26a.87.87 0 0 1 .87.87zM18 7H6a1 1 0 0 1 0-2h12a1 1 0 0 1 0 2z"/></g></g>',"arrow-back":'<g data-name="Layer 2"><g data-name="arrow-back"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M19 11H7.14l3.63-4.36a1 1 0 1 0-1.54-1.28l-5 6a1.19 1.19 0 0 0-.09.15c0 .05 0 .08-.07.13A1 1 0 0 0 4 12a1 1 0 0 0 .07.36c0 .05 0 .08.07.13a1.19 1.19 0 0 0 .09.15l5 6A1 1 0 0 0 10 19a1 1 0 0 0 .64-.23 1 1 0 0 0 .13-1.41L7.14 13H19a1 1 0 0 0 0-2z"/></g></g>',"arrow-circle-down":'<g data-name="Layer 2"><g data-name="arrow-circle-down"><rect width="24" height="24" opacity="0"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm3.69 11.86l-3 2.86a.49.49 0 0 1-.15.1.54.54 0 0 1-.16.1.94.94 0 0 1-.76 0 1 1 0 0 1-.33-.21l-3-3a1 1 0 0 1 1.42-1.42l1.29 1.3V8a1 1 0 0 1 2 0v5.66l1.31-1.25a1 1 0 0 1 1.38 1.45z"/></g></g>',"arrow-circle-left":'<g data-name="Layer 2"><g data-name="arrow-circle-left"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M22 12a10 10 0 1 0-10 10 10 10 0 0 0 10-10zm-11.86 3.69l-2.86-3a.49.49 0 0 1-.1-.15.54.54 0 0 1-.1-.16.94.94 0 0 1 0-.76 1 1 0 0 1 .21-.33l3-3a1 1 0 0 1 1.42 1.42L10.41 11H16a1 1 0 0 1 0 2h-5.66l1.25 1.31a1 1 0 0 1-1.45 1.38z"/></g></g>',"arrow-circle-right":'<g data-name="Layer 2"><g data-name="arrow-circle-right"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><path d="M2 12A10 10 0 1 0 12 2 10 10 0 0 0 2 12zm11.86-3.69l2.86 3a.49.49 0 0 1 .1.15.54.54 0 0 1 .1.16.94.94 0 0 1 0 .76 1 1 0 0 1-.21.33l-3 3a1 1 0 0 1-1.42-1.42l1.3-1.29H8a1 1 0 0 1 0-2h5.66l-1.25-1.31a1 1 0 0 1 1.45-1.38z"/></g></g>',"arrow-circle-up":'<g data-name="Layer 2"><g data-name="arrow-circle-up"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M12 22A10 10 0 1 0 2 12a10 10 0 0 0 10 10zM8.31 10.14l3-2.86a.49.49 0 0 1 .15-.1.54.54 0 0 1 .16-.1.94.94 0 0 1 .76 0 1 1 0 0 1 .33.21l3 3a1 1 0 0 1-1.42 1.42L13 10.41V16a1 1 0 0 1-2 0v-5.66l-1.31 1.25a1 1 0 0 1-1.38-1.45z"/></g></g>',"arrow-down":'<g data-name="Layer 2"><g data-name="arrow-downward"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><path d="M12 17a1.72 1.72 0 0 1-1.33-.64l-4.21-5.1a2.1 2.1 0 0 1-.26-2.21A1.76 1.76 0 0 1 7.79 8h8.42a1.76 1.76 0 0 1 1.59 1.05 2.1 2.1 0 0 1-.26 2.21l-4.21 5.1A1.72 1.72 0 0 1 12 17z"/></g></g>',"arrow-downward":'<g data-name="Layer 2"><g data-name="arrow-down"><rect width="24" height="24" opacity="0"/><path d="M18.77 13.36a1 1 0 0 0-1.41-.13L13 16.86V5a1 1 0 0 0-2 0v11.86l-4.36-3.63a1 1 0 1 0-1.28 1.54l6 5 .15.09.13.07a1 1 0 0 0 .72 0l.13-.07.15-.09 6-5a1 1 0 0 0 .13-1.41z"/></g></g>',"arrow-forward":'<g data-name="Layer 2"><g data-name="arrow-forward"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><path d="M5 13h11.86l-3.63 4.36a1 1 0 0 0 1.54 1.28l5-6a1.19 1.19 0 0 0 .09-.15c0-.05.05-.08.07-.13A1 1 0 0 0 20 12a1 1 0 0 0-.07-.36c0-.05-.05-.08-.07-.13a1.19 1.19 0 0 0-.09-.15l-5-6A1 1 0 0 0 14 5a1 1 0 0 0-.64.23 1 1 0 0 0-.13 1.41L16.86 11H5a1 1 0 0 0 0 2z"/></g></g>',"arrow-ios-back":'<g data-name="Layer 2"><g data-name="arrow-ios-back"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M13.83 19a1 1 0 0 1-.78-.37l-4.83-6a1 1 0 0 1 0-1.27l5-6a1 1 0 0 1 1.54 1.28L10.29 12l4.32 5.36a1 1 0 0 1-.78 1.64z"/></g></g>',"arrow-ios-downward":'<g data-name="Layer 2"><g data-name="arrow-ios-downward"><rect width="24" height="24" opacity="0"/><path d="M12 16a1 1 0 0 1-.64-.23l-6-5a1 1 0 1 1 1.28-1.54L12 13.71l5.36-4.32a1 1 0 0 1 1.41.15 1 1 0 0 1-.14 1.46l-6 4.83A1 1 0 0 1 12 16z"/></g></g>',"arrow-ios-forward":'<g data-name="Layer 2"><g data-name="arrow-ios-forward"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><path d="M10 19a1 1 0 0 1-.64-.23 1 1 0 0 1-.13-1.41L13.71 12 9.39 6.63a1 1 0 0 1 .15-1.41 1 1 0 0 1 1.46.15l4.83 6a1 1 0 0 1 0 1.27l-5 6A1 1 0 0 1 10 19z"/></g></g>',"arrow-ios-upward":'<g data-name="Layer 2"><g data-name="arrow-ios-upward"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M18 15a1 1 0 0 1-.64-.23L12 10.29l-5.37 4.32a1 1 0 0 1-1.41-.15 1 1 0 0 1 .15-1.41l6-4.83a1 1 0 0 1 1.27 0l6 5a1 1 0 0 1 .13 1.41A1 1 0 0 1 18 15z"/></g></g>',"arrow-left":'<g data-name="Layer 2"><g data-name="arrow-left"><rect width="24" height="24" opacity="0"/><path d="M13.54 18a2.06 2.06 0 0 1-1.3-.46l-5.1-4.21a1.7 1.7 0 0 1 0-2.66l5.1-4.21a2.1 2.1 0 0 1 2.21-.26 1.76 1.76 0 0 1 1.05 1.59v8.42a1.76 1.76 0 0 1-1.05 1.59 2.23 2.23 0 0 1-.91.2z"/></g></g>',"arrow-right":'<g data-name="Layer 2"><g data-name="arrow-right"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M10.46 18a2.23 2.23 0 0 1-.91-.2 1.76 1.76 0 0 1-1.05-1.59V7.79A1.76 1.76 0 0 1 9.55 6.2a2.1 2.1 0 0 1 2.21.26l5.1 4.21a1.7 1.7 0 0 1 0 2.66l-5.1 4.21a2.06 2.06 0 0 1-1.3.46z"/></g></g>',"arrow-up":'<g data-name="Layer 2"><g data-name="arrow-up"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M16.21 16H7.79a1.76 1.76 0 0 1-1.59-1 2.1 2.1 0 0 1 .26-2.21l4.21-5.1a1.76 1.76 0 0 1 2.66 0l4.21 5.1A2.1 2.1 0 0 1 17.8 15a1.76 1.76 0 0 1-1.59 1z"/></g></g>',"arrow-upward":'<g data-name="Layer 2"><g data-name="arrow-upward"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M5.23 10.64a1 1 0 0 0 1.41.13L11 7.14V19a1 1 0 0 0 2 0V7.14l4.36 3.63a1 1 0 1 0 1.28-1.54l-6-5-.15-.09-.13-.07a1 1 0 0 0-.72 0l-.13.07-.15.09-6 5a1 1 0 0 0-.13 1.41z"/></g></g>',"arrowhead-down":'<g data-name="Layer 2"><g data-name="arrowhead-down"><rect width="24" height="24" opacity="0"/><path d="M17.37 12.39L12 16.71l-5.36-4.48a1 1 0 1 0-1.28 1.54l6 5a1 1 0 0 0 1.27 0l6-4.83a1 1 0 0 0 .15-1.41 1 1 0 0 0-1.41-.14z"/><path d="M11.36 11.77a1 1 0 0 0 1.27 0l6-4.83a1 1 0 0 0 .15-1.41 1 1 0 0 0-1.41-.15L12 9.71 6.64 5.23a1 1 0 0 0-1.28 1.54z"/></g></g>',"arrowhead-left":'<g data-name="Layer 2"><g data-name="arrowhead-left"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M11.64 5.23a1 1 0 0 0-1.41.13l-5 6a1 1 0 0 0 0 1.27l4.83 6a1 1 0 0 0 .78.37 1 1 0 0 0 .78-1.63L7.29 12l4.48-5.37a1 1 0 0 0-.13-1.4z"/><path d="M14.29 12l4.48-5.37a1 1 0 0 0-1.54-1.28l-5 6a1 1 0 0 0 0 1.27l4.83 6a1 1 0 0 0 .78.37 1 1 0 0 0 .78-1.63z"/></g></g>',"arrowhead-right":'<g data-name="Layer 2"><g data-name="arrowhead-right"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><path d="M18.78 11.37l-4.78-6a1 1 0 0 0-1.41-.15 1 1 0 0 0-.15 1.41L16.71 12l-4.48 5.37a1 1 0 0 0 .13 1.41A1 1 0 0 0 13 19a1 1 0 0 0 .77-.36l5-6a1 1 0 0 0 .01-1.27z"/><path d="M7 5.37a1 1 0 0 0-1.61 1.26L9.71 12l-4.48 5.36a1 1 0 0 0 .13 1.41A1 1 0 0 0 6 19a1 1 0 0 0 .77-.36l5-6a1 1 0 0 0 0-1.27z"/></g></g>',"arrowhead-up":'<g data-name="Layer 2"><g data-name="arrowhead-up"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M6.63 11.61L12 7.29l5.37 4.48A1 1 0 0 0 18 12a1 1 0 0 0 .77-.36 1 1 0 0 0-.13-1.41l-6-5a1 1 0 0 0-1.27 0l-6 4.83a1 1 0 0 0-.15 1.41 1 1 0 0 0 1.41.14z"/><path d="M12.64 12.23a1 1 0 0 0-1.27 0l-6 4.83a1 1 0 0 0-.15 1.41 1 1 0 0 0 1.41.15L12 14.29l5.37 4.48A1 1 0 0 0 18 19a1 1 0 0 0 .77-.36 1 1 0 0 0-.13-1.41z"/></g></g>',at:'<g data-name="Layer 2"><g data-name="at"><rect width="24" height="24" opacity="0"/><path d="M13 2a10 10 0 0 0-5 19.1 10.15 10.15 0 0 0 4 .9 10 10 0 0 0 6.08-2.06 1 1 0 0 0 .19-1.4 1 1 0 0 0-1.41-.19A8 8 0 1 1 12.77 4 8.17 8.17 0 0 1 20 12.22v.68a1.71 1.71 0 0 1-1.78 1.7 1.82 1.82 0 0 1-1.62-1.88V8.4a1 1 0 0 0-1-1 1 1 0 0 0-1 .87 5 5 0 0 0-3.44-1.36A5.09 5.09 0 1 0 15.31 15a3.6 3.6 0 0 0 5.55.61A3.67 3.67 0 0 0 22 12.9v-.68A10.2 10.2 0 0 0 13 2zm-1.82 13.09A3.09 3.09 0 1 1 14.27 12a3.1 3.1 0 0 1-3.09 3.09z"/></g></g>',"attach-2":'<g data-name="Layer 2"><g data-name="attach-2"><rect width="24" height="24" opacity="0"/><path d="M12 22a5.86 5.86 0 0 1-6-5.7V6.13A4.24 4.24 0 0 1 10.33 2a4.24 4.24 0 0 1 4.34 4.13v10.18a2.67 2.67 0 0 1-5.33 0V6.92a1 1 0 0 1 1-1 1 1 0 0 1 1 1v9.39a.67.67 0 0 0 1.33 0V6.13A2.25 2.25 0 0 0 10.33 4 2.25 2.25 0 0 0 8 6.13V16.3a3.86 3.86 0 0 0 4 3.7 3.86 3.86 0 0 0 4-3.7V6.13a1 1 0 1 1 2 0V16.3a5.86 5.86 0 0 1-6 5.7z"/></g></g>',attach:'<g data-name="Layer 2"><g data-name="attach"><rect width="24" height="24" opacity="0"/><path d="M9.29 21a6.23 6.23 0 0 1-4.43-1.88 6 6 0 0 1-.22-8.49L12 3.2A4.11 4.11 0 0 1 15 2a4.48 4.48 0 0 1 3.19 1.35 4.36 4.36 0 0 1 .15 6.13l-7.4 7.43a2.54 2.54 0 0 1-1.81.75 2.72 2.72 0 0 1-1.95-.82 2.68 2.68 0 0 1-.08-3.77l6.83-6.86a1 1 0 0 1 1.37 1.41l-6.83 6.86a.68.68 0 0 0 .08.95.78.78 0 0 0 .53.23.56.56 0 0 0 .4-.16l7.39-7.43a2.36 2.36 0 0 0-.15-3.31 2.38 2.38 0 0 0-3.27-.15L6.06 12a4 4 0 0 0 .22 5.67 4.22 4.22 0 0 0 3 1.29 3.67 3.67 0 0 0 2.61-1.06l7.39-7.43a1 1 0 1 1 1.42 1.41l-7.39 7.43A5.65 5.65 0 0 1 9.29 21z"/></g></g>',award:'<g data-name="Layer 2"><g data-name="award"><rect width="24" height="24" opacity="0"/><path d="M19 20.75l-2.31-9A5.94 5.94 0 0 0 18 8 6 6 0 0 0 6 8a5.94 5.94 0 0 0 1.34 3.77L5 20.75a1 1 0 0 0 1.48 1.11l5.33-3.13 5.68 3.14A.91.91 0 0 0 18 22a1 1 0 0 0 1-1.25zM12 4a4 4 0 1 1-4 4 4 4 0 0 1 4-4z"/></g></g>',backspace:'<g data-name="Layer 2"><g data-name="backspace"><rect width="24" height="24" opacity="0"/><path d="M20.14 4h-9.77a3 3 0 0 0-2 .78l-.1.11-6 7.48a1 1 0 0 0 .11 1.37l6 5.48a3 3 0 0 0 2 .78h9.77A1.84 1.84 0 0 0 22 18.18V5.82A1.84 1.84 0 0 0 20.14 4zm-3.43 9.29a1 1 0 0 1 0 1.42 1 1 0 0 1-1.42 0L14 13.41l-1.29 1.3a1 1 0 0 1-1.42 0 1 1 0 0 1 0-1.42l1.3-1.29-1.3-1.29a1 1 0 0 1 1.42-1.42l1.29 1.3 1.29-1.3a1 1 0 0 1 1.42 1.42L15.41 12z"/></g></g>',"bar-chart-2":'<g data-name="Layer 2"><g data-name="bar-chart-2"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M12 8a1 1 0 0 0-1 1v11a1 1 0 0 0 2 0V9a1 1 0 0 0-1-1z"/><path d="M19 4a1 1 0 0 0-1 1v15a1 1 0 0 0 2 0V5a1 1 0 0 0-1-1z"/><path d="M5 12a1 1 0 0 0-1 1v7a1 1 0 0 0 2 0v-7a1 1 0 0 0-1-1z"/></g></g>',"bar-chart":'<g data-name="Layer 2"><g data-name="bar-chart"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M12 4a1 1 0 0 0-1 1v15a1 1 0 0 0 2 0V5a1 1 0 0 0-1-1z"/><path d="M19 12a1 1 0 0 0-1 1v7a1 1 0 0 0 2 0v-7a1 1 0 0 0-1-1z"/><path d="M5 8a1 1 0 0 0-1 1v11a1 1 0 0 0 2 0V9a1 1 0 0 0-1-1z"/></g></g>',battery:'<g data-name="Layer 2"><g data-name="battery"><rect width="24" height="24" opacity="0"/><path d="M15.83 6H4.17A2.31 2.31 0 0 0 2 8.43v7.14A2.31 2.31 0 0 0 4.17 18h11.66A2.31 2.31 0 0 0 18 15.57V8.43A2.31 2.31 0 0 0 15.83 6z"/><path d="M21 9a1 1 0 0 0-1 1v4a1 1 0 0 0 2 0v-4a1 1 0 0 0-1-1z"/></g></g>',behance:'<g data-name="Layer 2"><g data-name="behance"><rect width="24" height="24" opacity="0"/><path d="M14.76 11.19a1 1 0 0 0-1 1.09h2.06a1 1 0 0 0-1.06-1.09z"/><path d="M9.49 12.3H8.26v1.94h1c1 0 1.44-.33 1.44-1s-.46-.94-1.21-.94z"/><path d="M10.36 10.52c0-.53-.35-.85-.95-.85H8.26v1.74h.85c.89 0 1.25-.32 1.25-.89z"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zM9.7 15.2H7V8.7h2.7c1.17 0 1.94.61 1.94 1.6a1.4 1.4 0 0 1-1.12 1.43A1.52 1.52 0 0 1 12 13.37c0 1.16-1 1.83-2.3 1.83zm3.55-6h3v.5h-3zM17 13.05h-3.3v.14a1.07 1.07 0 0 0 1.09 1.19.9.9 0 0 0 1-.63H17a2 2 0 0 1-2.17 1.55 2.15 2.15 0 0 1-2.36-2.3v-.44a2.11 2.11 0 0 1 2.28-2.25A2.12 2.12 0 0 1 17 12.58z"/></g></g>',"bell-off":'<g data-name="Layer 2"><g data-name="bell-off"><rect width="24" height="24" opacity="0"/><path d="M15.88 18.71l-.59-.59L14 16.78l-.07-.07L6.58 9.4 5.31 8.14a5.68 5.68 0 0 0 0 .59v4.67l-1.8 1.81A1.64 1.64 0 0 0 4.64 18H8v.34A3.84 3.84 0 0 0 12 22a3.88 3.88 0 0 0 4-3.22zM14 18.34A1.88 1.88 0 0 1 12 20a1.88 1.88 0 0 1-2-1.66V18h4z"/><path d="M7.13 4.3l1.46 1.46 9.53 9.53 2 2 .31.3a1.58 1.58 0 0 0 .45-.6 1.62 1.62 0 0 0-.35-1.78l-1.8-1.81V8.94a6.86 6.86 0 0 0-5.83-6.88 6.71 6.71 0 0 0-5.32 1.61 6.88 6.88 0 0 0-.58.54z"/><path d="M20.71 19.29L19.41 18l-2-2-9.52-9.53L6.42 5 4.71 3.29a1 1 0 0 0-1.42 1.42L5.53 7l1.75 1.7 7.31 7.3.07.07L16 17.41l.59.59 2.7 2.71a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"/></g></g>',bell:'<g data-name="Layer 2"><g data-name="bell"><rect width="24" height="24" opacity="0"/><path d="M20.52 15.21l-1.8-1.81V8.94a6.86 6.86 0 0 0-5.82-6.88 6.74 6.74 0 0 0-7.62 6.67v4.67l-1.8 1.81A1.64 1.64 0 0 0 4.64 18H8v.34A3.84 3.84 0 0 0 12 22a3.84 3.84 0 0 0 4-3.66V18h3.36a1.64 1.64 0 0 0 1.16-2.79zM14 18.34A1.88 1.88 0 0 1 12 20a1.88 1.88 0 0 1-2-1.66V18h4z"/></g></g>',bluetooth:'<g data-name="Layer 2"><g data-name="bluetooth"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M13.63 12l4-3.79a1.14 1.14 0 0 0-.13-1.77l-4.67-3.23a1.17 1.17 0 0 0-1.21-.08 1.15 1.15 0 0 0-.62 1v6.2l-3.19-4a1 1 0 0 0-1.56 1.3L9.72 12l-3.5 4.43a1 1 0 0 0 .16 1.4A1 1 0 0 0 7 18a1 1 0 0 0 .78-.38L11 13.56v6.29A1.16 1.16 0 0 0 12.16 21a1.16 1.16 0 0 0 .67-.21l4.64-3.18a1.17 1.17 0 0 0 .49-.85 1.15 1.15 0 0 0-.34-.91zM13 5.76l2.5 1.73L13 9.85zm0 12.49v-4.07l2.47 2.38z"/></g></g>',"book-open":'<g data-name="Layer 2"><g data-name="book-open"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M21 4.34a1.24 1.24 0 0 0-1.08-.23L13 5.89v14.27l7.56-1.94A1.25 1.25 0 0 0 21.5 17V5.32a1.25 1.25 0 0 0-.5-.98z"/><path d="M11 5.89L4.06 4.11A1.27 1.27 0 0 0 3 4.34a1.25 1.25 0 0 0-.48 1V17a1.25 1.25 0 0 0 .94 1.21L11 20.16z"/></g></g>',book:'<g data-name="Layer 2"><g data-name="book"><rect width="24" height="24" opacity="0"/><path d="M19 3H7a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1zM7 19a1 1 0 0 1 0-2h11v2z"/></g></g>',bookmark:'<g data-name="Layer 2"><g data-name="bookmark"><rect width="24" height="24" opacity="0"/><path d="M6 21a1 1 0 0 1-.49-.13A1 1 0 0 1 5 20V5.33A2.28 2.28 0 0 1 7.2 3h9.6A2.28 2.28 0 0 1 19 5.33V20a1 1 0 0 1-.5.86 1 1 0 0 1-1 0l-5.67-3.21-5.33 3.2A1 1 0 0 1 6 21z"/></g></g>',briefcase:'<g data-name="Layer 2"><g data-name="briefcase"><rect width="24" height="24" opacity="0"/><path d="M7 21h10V7h-1V5.5A2.5 2.5 0 0 0 13.5 3h-3A2.5 2.5 0 0 0 8 5.5V7H7zm3-15.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5V7h-4z"/><path d="M19 7v14a3 3 0 0 0 3-3v-8a3 3 0 0 0-3-3z"/><path d="M5 7a3 3 0 0 0-3 3v8a3 3 0 0 0 3 3z"/></g></g>',browser:'<g data-name="Layer 2"><g data-name="browser"><rect width="24" height="24" opacity="0"/><path d="M18 3H6a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3zm-6 3a1 1 0 1 1-1 1 1 1 0 0 1 1-1zM8 6a1 1 0 1 1-1 1 1 1 0 0 1 1-1zm11 12a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1v-7h14z"/></g></g>',brush:'<g data-name="Layer 2"><g data-name="brush"><rect width="24" height="24" opacity="0"/><path d="M7.12 12.55a4 4 0 0 0-3.07 3.86v3.11a.47.47 0 0 0 .48.48l3.24-.06a3.78 3.78 0 0 0 3.44-2.2 3.65 3.65 0 0 0-4.09-5.19z"/><path d="M19.26 4.46a2.14 2.14 0 0 0-2.88.21L10 11.08a.47.47 0 0 0 0 .66L12.25 14a.47.47 0 0 0 .66 0l6.49-6.47a2.06 2.06 0 0 0 .6-1.47 2 2 0 0 0-.74-1.6z"/></g></g>',bulb:'<g data-name="Layer 2"><g data-name="bulb"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M12 7a5 5 0 0 0-3 9v4a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2v-4a5 5 0 0 0-3-9z"/><path d="M12 6a1 1 0 0 0 1-1V3a1 1 0 0 0-2 0v2a1 1 0 0 0 1 1z"/><path d="M21 11h-2a1 1 0 0 0 0 2h2a1 1 0 0 0 0-2z"/><path d="M5 11H3a1 1 0 0 0 0 2h2a1 1 0 0 0 0-2z"/><path d="M7.66 6.42L6.22 5a1 1 0 0 0-1.39 1.47l1.44 1.39a1 1 0 0 0 .73.28 1 1 0 0 0 .72-.31 1 1 0 0 0-.06-1.41z"/><path d="M19.19 5.05a1 1 0 0 0-1.41 0l-1.44 1.37a1 1 0 0 0 0 1.41 1 1 0 0 0 .72.31 1 1 0 0 0 .69-.28l1.44-1.39a1 1 0 0 0 0-1.42z"/></g></g>',calendar:'<g data-name="Layer 2"><g data-name="calendar"><rect width="24" height="24" opacity="0"/><path d="M18 4h-1V3a1 1 0 0 0-2 0v1H9V3a1 1 0 0 0-2 0v1H6a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V7a3 3 0 0 0-3-3zM8 17a1 1 0 1 1 1-1 1 1 0 0 1-1 1zm8 0h-4a1 1 0 0 1 0-2h4a1 1 0 0 1 0 2zm3-6H5V7a1 1 0 0 1 1-1h1v1a1 1 0 0 0 2 0V6h6v1a1 1 0 0 0 2 0V6h1a1 1 0 0 1 1 1z"/></g></g>',camera:'<g data-name="Layer 2"><g data-name="camera"><rect width="24" height="24" opacity="0"/><circle cx="12" cy="14" r="1.5"/><path d="M19 7h-3V5.5A2.5 2.5 0 0 0 13.5 3h-3A2.5 2.5 0 0 0 8 5.5V7H5a3 3 0 0 0-3 3v8a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-8a3 3 0 0 0-3-3zm-9-1.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5V7h-4zm2 12a3.5 3.5 0 1 1 3.5-3.5 3.5 3.5 0 0 1-3.5 3.5z"/></g></g>',car:'<g data-name="Layer 2"><g data-name="car"><rect width="24" height="24" opacity="0"/><path d="M21.6 11.22L17 7.52V5a1.91 1.91 0 0 0-1.81-2H3.79A1.91 1.91 0 0 0 2 5v10a2 2 0 0 0 1.2 1.88 3 3 0 1 0 5.6.12h6.36a3 3 0 1 0 5.64 0h.2a1 1 0 0 0 1-1v-4a1 1 0 0 0-.4-.78zM20 12.48V15h-3v-4.92zM7 18a1 1 0 1 1-1-1 1 1 0 0 1 1 1zm12 0a1 1 0 1 1-1-1 1 1 0 0 1 1 1z"/></g></g>',cast:'<g data-name="Layer 2"><g data-name="cast"><polyline points="24 24 0 24 0 0" opacity="0"/><path d="M18.4 3H5.6A2.7 2.7 0 0 0 3 5.78V7a1 1 0 0 0 2 0V5.78A.72.72 0 0 1 5.6 5h12.8a.72.72 0 0 1 .6.78v12.44a.72.72 0 0 1-.6.78H17a1 1 0 0 0 0 2h1.4a2.7 2.7 0 0 0 2.6-2.78V5.78A2.7 2.7 0 0 0 18.4 3z"/><path d="M3.86 14A1 1 0 0 0 3 15.17a1 1 0 0 0 1.14.83 2.49 2.49 0 0 1 2.12.72 2.52 2.52 0 0 1 .51 2.84 1 1 0 0 0 .48 1.33 1.06 1.06 0 0 0 .42.09 1 1 0 0 0 .91-.58A4.52 4.52 0 0 0 3.86 14z"/><path d="M3.86 10.08a1 1 0 0 0 .28 2 6 6 0 0 1 5.09 1.71 6 6 0 0 1 1.53 5.95 1 1 0 0 0 .68 1.26.9.9 0 0 0 .28 0 1 1 0 0 0 1-.72 8 8 0 0 0-8.82-10.2z"/><circle cx="4" cy="19" r="1"/></g></g>',charging:'<g data-name="Layer 2"><g data-name="charging"><rect width="24" height="24" opacity="0"/><path d="M11.28 13H7a1 1 0 0 1-.86-.5 1 1 0 0 1 0-1L9.28 6H4.17A2.31 2.31 0 0 0 2 8.43v7.14A2.31 2.31 0 0 0 4.17 18h4.25z"/><path d="M15.83 6h-4.25l-2.86 5H13a1 1 0 0 1 .86.5 1 1 0 0 1 0 1L10.72 18h5.11A2.31 2.31 0 0 0 18 15.57V8.43A2.31 2.31 0 0 0 15.83 6z"/><path d="M21 9a1 1 0 0 0-1 1v4a1 1 0 0 0 2 0v-4a1 1 0 0 0-1-1z"/></g></g>',"checkmark-circle-2":'<g data-name="Layer 2"><g data-name="checkmark-circle-2"><rect width="24" height="24" opacity="0"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm4.3 7.61l-4.57 6a1 1 0 0 1-.79.39 1 1 0 0 1-.79-.38l-2.44-3.11a1 1 0 0 1 1.58-1.23l1.63 2.08 3.78-5a1 1 0 1 1 1.6 1.22z"/></g></g>',"checkmark-circle":'<g data-name="Layer 2"><g data-name="checkmark-circle"><rect width="24" height="24" opacity="0"/><path d="M9.71 11.29a1 1 0 0 0-1.42 1.42l3 3A1 1 0 0 0 12 16a1 1 0 0 0 .72-.34l7-8a1 1 0 0 0-1.5-1.32L12 13.54z"/><path d="M21 11a1 1 0 0 0-1 1 8 8 0 0 1-8 8A8 8 0 0 1 6.33 6.36 7.93 7.93 0 0 1 12 4a8.79 8.79 0 0 1 1.9.22 1 1 0 1 0 .47-1.94A10.54 10.54 0 0 0 12 2a10 10 0 0 0-7 17.09A9.93 9.93 0 0 0 12 22a10 10 0 0 0 10-10 1 1 0 0 0-1-1z"/></g></g>',"checkmark-square-2":'<g data-name="Layer 2"><g data-name="checkmark-square-2"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M18 3H6a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3zm-1.7 6.61l-4.57 6a1 1 0 0 1-.79.39 1 1 0 0 1-.79-.38l-2.44-3.11a1 1 0 0 1 1.58-1.23l1.63 2.08 3.78-5a1 1 0 1 1 1.6 1.22z"/></g></g>',"checkmark-square":'<g data-name="Layer 2"><g data-name="checkmark-square"><rect width="24" height="24" opacity="0"/><path d="M20 11.83a1 1 0 0 0-1 1v5.57a.6.6 0 0 1-.6.6H5.6a.6.6 0 0 1-.6-.6V5.6a.6.6 0 0 1 .6-.6h9.57a1 1 0 1 0 0-2H5.6A2.61 2.61 0 0 0 3 5.6v12.8A2.61 2.61 0 0 0 5.6 21h12.8a2.61 2.61 0 0 0 2.6-2.6v-5.57a1 1 0 0 0-1-1z"/><path d="M10.72 11a1 1 0 0 0-1.44 1.38l2.22 2.33a1 1 0 0 0 .72.31 1 1 0 0 0 .72-.3l6.78-7a1 1 0 1 0-1.44-1.4l-6.05 6.26z"/></g></g>',checkmark:'<g data-name="Layer 2"><g data-name="checkmark"><rect width="24" height="24" opacity="0"/><path d="M9.86 18a1 1 0 0 1-.73-.32l-4.86-5.17a1 1 0 1 1 1.46-1.37l4.12 4.39 8.41-9.2a1 1 0 1 1 1.48 1.34l-9.14 10a1 1 0 0 1-.73.33z"/></g></g>',"chevron-down":'<g data-name="Layer 2"><g data-name="chevron-down"><rect width="24" height="24" opacity="0"/><path d="M12 15.5a1 1 0 0 1-.71-.29l-4-4a1 1 0 1 1 1.42-1.42L12 13.1l3.3-3.18a1 1 0 1 1 1.38 1.44l-4 3.86a1 1 0 0 1-.68.28z"/></g></g>',"chevron-left":'<g data-name="Layer 2"><g data-name="chevron-left"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M13.36 17a1 1 0 0 1-.72-.31l-3.86-4a1 1 0 0 1 0-1.4l4-4a1 1 0 1 1 1.42 1.42L10.9 12l3.18 3.3a1 1 0 0 1 0 1.41 1 1 0 0 1-.72.29z"/></g></g>',"chevron-right":'<g data-name="Layer 2"><g data-name="chevron-right"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><path d="M10.5 17a1 1 0 0 1-.71-.29 1 1 0 0 1 0-1.42L13.1 12 9.92 8.69a1 1 0 0 1 0-1.41 1 1 0 0 1 1.42 0l3.86 4a1 1 0 0 1 0 1.4l-4 4a1 1 0 0 1-.7.32z"/></g></g>',"chevron-up":'<g data-name="Layer 2"><g data-name="chevron-up"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M16 14.5a1 1 0 0 1-.71-.29L12 10.9l-3.3 3.18a1 1 0 0 1-1.41 0 1 1 0 0 1 0-1.42l4-3.86a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1 0 1.42 1 1 0 0 1-.69.28z"/></g></g>',clipboard:'<g data-name="Layer 2"><g data-name="clipboard"><rect width="24" height="24" opacity="0"/><path d="M18 4v3a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2V4a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V7a3 3 0 0 0-3-3z"/><rect x="7" y="2" width="10" height="6" rx="1" ry="1"/></g></g>',clock:'<g data-name="Layer 2"><g data-name="clock"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm4 11h-4a1 1 0 0 1-1-1V8a1 1 0 0 1 2 0v3h3a1 1 0 0 1 0 2z"/></g></g>',"close-circle":'<g data-name="Layer 2"><g data-name="close-circle"><rect width="24" height="24" opacity="0"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm2.71 11.29a1 1 0 0 1 0 1.42 1 1 0 0 1-1.42 0L12 13.41l-1.29 1.3a1 1 0 0 1-1.42 0 1 1 0 0 1 0-1.42l1.3-1.29-1.3-1.29a1 1 0 0 1 1.42-1.42l1.29 1.3 1.29-1.3a1 1 0 0 1 1.42 1.42L13.41 12z"/></g></g>',"close-square":'<g data-name="Layer 2"><g data-name="close-square"><rect width="24" height="24" opacity="0"/><path d="M18 3H6a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3zm-3.29 10.29a1 1 0 0 1 0 1.42 1 1 0 0 1-1.42 0L12 13.41l-1.29 1.3a1 1 0 0 1-1.42 0 1 1 0 0 1 0-1.42l1.3-1.29-1.3-1.29a1 1 0 0 1 1.42-1.42l1.29 1.3 1.29-1.3a1 1 0 0 1 1.42 1.42L13.41 12z"/></g></g>',close:'<g data-name="Layer 2"><g data-name="close"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M13.41 12l4.3-4.29a1 1 0 1 0-1.42-1.42L12 10.59l-4.29-4.3a1 1 0 0 0-1.42 1.42l4.3 4.29-4.3 4.29a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0l4.29-4.3 4.29 4.3a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"/></g></g>',"cloud-download":'<g data-name="Layer 2"><g data-name="cloud-download"><rect width="24" height="24" opacity="0"/><path d="M21.9 11c0-.11-.06-.22-.09-.33a4.17 4.17 0 0 0-.18-.57c-.05-.12-.12-.24-.18-.37s-.15-.3-.24-.44S21 9.08 21 9s-.2-.25-.31-.37-.21-.2-.32-.3L20 8l-.36-.24a3.68 3.68 0 0 0-.44-.23l-.39-.18a4.13 4.13 0 0 0-.5-.15 3 3 0 0 0-.41-.09h-.18A6 6 0 0 0 6.33 7h-.18a3 3 0 0 0-.41.09 4.13 4.13 0 0 0-.5.15l-.39.18a3.68 3.68 0 0 0-.44.23L4.05 8l-.37.31c-.11.1-.22.19-.32.3s-.21.25-.31.37-.18.23-.26.36-.16.29-.24.44-.13.25-.18.37a4.17 4.17 0 0 0-.18.57c0 .11-.07.22-.09.33A5.23 5.23 0 0 0 2 12a5.5 5.5 0 0 0 .09.91c0 .1.05.19.07.29a5.58 5.58 0 0 0 .18.58l.12.29a5 5 0 0 0 .3.56l.14.22a.56.56 0 0 0 .05.08L3 15a5 5 0 0 0 4 2 2 2 0 0 1 .59-1.41A2 2 0 0 1 9 15a1.92 1.92 0 0 1 1 .27V12a2 2 0 0 1 4 0v3.37a2 2 0 0 1 1-.27 2.05 2.05 0 0 1 1.44.61A2 2 0 0 1 17 17a5 5 0 0 0 4-2l.05-.05a.56.56 0 0 0 .05-.08l.14-.22a5 5 0 0 0 .3-.56l.12-.29a5.58 5.58 0 0 0 .18-.58c0-.1.05-.19.07-.29A5.5 5.5 0 0 0 22 12a5.23 5.23 0 0 0-.1-1z"/><path d="M14.31 16.38L13 17.64V12a1 1 0 0 0-2 0v5.59l-1.29-1.3a1 1 0 0 0-1.42 1.42l3 3A1 1 0 0 0 12 21a1 1 0 0 0 .69-.28l3-2.9a1 1 0 1 0-1.38-1.44z"/><rect width="24" height="24" opacity="0"/><path d="M21.9 11c0-.11-.06-.22-.09-.33a4.17 4.17 0 0 0-.18-.57c-.05-.12-.12-.24-.18-.37s-.15-.3-.24-.44S21 9.08 21 9s-.2-.25-.31-.37-.21-.2-.32-.3L20 8l-.36-.24a3.68 3.68 0 0 0-.44-.23l-.39-.18a4.13 4.13 0 0 0-.5-.15 3 3 0 0 0-.41-.09h-.18A6 6 0 0 0 6.33 7h-.18a3 3 0 0 0-.41.09 4.13 4.13 0 0 0-.5.15l-.39.18a3.68 3.68 0 0 0-.44.23L4.05 8l-.37.31c-.11.1-.22.19-.32.3s-.21.25-.31.37-.18.23-.26.36-.16.29-.24.44-.13.25-.18.37a4.17 4.17 0 0 0-.18.57c0 .11-.07.22-.09.33A5.23 5.23 0 0 0 2 12a5.5 5.5 0 0 0 .09.91c0 .1.05.19.07.29a5.58 5.58 0 0 0 .18.58l.12.29a5 5 0 0 0 .3.56l.14.22a.56.56 0 0 0 .05.08L3 15a5 5 0 0 0 4 2 2 2 0 0 1 .59-1.41A2 2 0 0 1 9 15a1.92 1.92 0 0 1 1 .27V12a2 2 0 0 1 4 0v3.37a2 2 0 0 1 1-.27 2.05 2.05 0 0 1 1.44.61A2 2 0 0 1 17 17a5 5 0 0 0 4-2l.05-.05a.56.56 0 0 0 .05-.08l.14-.22a5 5 0 0 0 .3-.56l.12-.29a5.58 5.58 0 0 0 .18-.58c0-.1.05-.19.07-.29A5.5 5.5 0 0 0 22 12a5.23 5.23 0 0 0-.1-1z"/><path d="M14.31 16.38L13 17.64V12a1 1 0 0 0-2 0v5.59l-1.29-1.3a1 1 0 0 0-1.42 1.42l3 3A1 1 0 0 0 12 21a1 1 0 0 0 .69-.28l3-2.9a1 1 0 1 0-1.38-1.44z"/></g></g>',"cloud-upload":'<g data-name="Layer 2"><g data-name="cloud-upload"><rect width="24" height="24" opacity="0"/><path d="M21.9 12c0-.11-.06-.22-.09-.33a4.17 4.17 0 0 0-.18-.57c-.05-.12-.12-.24-.18-.37s-.15-.3-.24-.44S21 10.08 21 10s-.2-.25-.31-.37-.21-.2-.32-.3L20 9l-.36-.24a3.68 3.68 0 0 0-.44-.23l-.39-.18a4.13 4.13 0 0 0-.5-.15 3 3 0 0 0-.41-.09L17.67 8A6 6 0 0 0 6.33 8l-.18.05a3 3 0 0 0-.41.09 4.13 4.13 0 0 0-.5.15l-.39.18a3.68 3.68 0 0 0-.44.23l-.36.3-.37.31c-.11.1-.22.19-.32.3s-.21.25-.31.37-.18.23-.26.36-.16.29-.24.44-.13.25-.18.37a4.17 4.17 0 0 0-.18.57c0 .11-.07.22-.09.33A5.23 5.23 0 0 0 2 13a5.5 5.5 0 0 0 .09.91c0 .1.05.19.07.29a5.58 5.58 0 0 0 .18.58l.12.29a5 5 0 0 0 .3.56l.14.22a.56.56 0 0 0 .05.08L3 16a5 5 0 0 0 4 2h3v-1.37a2 2 0 0 1-1 .27 2.05 2.05 0 0 1-1.44-.61 2 2 0 0 1 .05-2.83l3-2.9A2 2 0 0 1 12 10a2 2 0 0 1 1.41.59l3 3a2 2 0 0 1 0 2.82A2 2 0 0 1 15 17a1.92 1.92 0 0 1-1-.27V18h3a5 5 0 0 0 4-2l.05-.05a.56.56 0 0 0 .05-.08l.14-.22a5 5 0 0 0 .3-.56l.12-.29a5.58 5.58 0 0 0 .18-.58c0-.1.05-.19.07-.29A5.5 5.5 0 0 0 22 13a5.23 5.23 0 0 0-.1-1z"/><path d="M12.71 11.29a1 1 0 0 0-1.4 0l-3 2.9a1 1 0 1 0 1.38 1.44L11 14.36V20a1 1 0 0 0 2 0v-5.59l1.29 1.3a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"/></g></g>',"code-download":'<g data-name="Layer 2"><g data-name="code-download"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M4.29 12l4.48-5.36a1 1 0 1 0-1.54-1.28l-5 6a1 1 0 0 0 0 1.27l4.83 6a1 1 0 0 0 .78.37 1 1 0 0 0 .78-1.63z"/><path d="M21.78 11.37l-4.78-6a1 1 0 0 0-1.56 1.26L19.71 12l-4.48 5.37a1 1 0 0 0 .13 1.41A1 1 0 0 0 16 19a1 1 0 0 0 .77-.36l5-6a1 1 0 0 0 .01-1.27z"/><path d="M15.72 11.41a1 1 0 0 0-1.41 0L13 12.64V8a1 1 0 0 0-2 0v4.59l-1.29-1.3a1 1 0 0 0-1.42 1.42l3 3A1 1 0 0 0 12 16a1 1 0 0 0 .69-.28l3-2.9a1 1 0 0 0 .03-1.41z"/></g></g>',code:'<g data-name="Layer 2"><g data-name="code"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M8.64 5.23a1 1 0 0 0-1.41.13l-5 6a1 1 0 0 0 0 1.27l4.83 6a1 1 0 0 0 .78.37 1 1 0 0 0 .78-1.63L4.29 12l4.48-5.36a1 1 0 0 0-.13-1.41z"/><path d="M21.78 11.37l-4.78-6a1 1 0 0 0-1.41-.15 1 1 0 0 0-.15 1.41L19.71 12l-4.48 5.37a1 1 0 0 0 .13 1.41A1 1 0 0 0 16 19a1 1 0 0 0 .77-.36l5-6a1 1 0 0 0 .01-1.27z"/></g></g>',collapse:'<g data-name="Layer 2"><g data-name="collapse"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M19 9h-2.58l3.29-3.29a1 1 0 1 0-1.42-1.42L15 7.57V5a1 1 0 0 0-1-1 1 1 0 0 0-1 1v5a1 1 0 0 0 1 1h5a1 1 0 0 0 0-2z"/><path d="M10 13H5a1 1 0 0 0 0 2h2.57l-3.28 3.29a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0L9 16.42V19a1 1 0 0 0 1 1 1 1 0 0 0 1-1v-5a1 1 0 0 0-1-1z"/></g></g>',"color-palette":'<g data-name="Layer 2"><g data-name="color-palette"><rect width="24" height="24" opacity="0"/><path d="M19.54 5.08A10.61 10.61 0 0 0 11.91 2a10 10 0 0 0-.05 20 2.58 2.58 0 0 0 2.53-1.89 2.52 2.52 0 0 0-.57-2.28.5.5 0 0 1 .37-.83h1.65A6.15 6.15 0 0 0 22 11.33a8.48 8.48 0 0 0-2.46-6.25zm-12.7 9.66a1.5 1.5 0 1 1 .4-2.08 1.49 1.49 0 0 1-.4 2.08zM8.3 9.25a1.5 1.5 0 1 1-.55-2 1.5 1.5 0 0 1 .55 2zM11 7a1.5 1.5 0 1 1 1.5-1.5A1.5 1.5 0 0 1 11 7zm5.75.8a1.5 1.5 0 1 1 .55-2 1.5 1.5 0 0 1-.55 2z"/></g></g>',"color-picker":'<g data-name="Layer 2"><g data-name="color-picker"><rect width="24" height="24" opacity="0"/><path d="M19.4 7.34L16.66 4.6A1.92 1.92 0 0 0 14 4.53l-2 2-1.29-1.24a1 1 0 0 0-1.42 1.42L10.53 8 5 13.53a2 2 0 0 0-.57 1.21L4 18.91a1 1 0 0 0 .29.8A1 1 0 0 0 5 20h.09l4.17-.38a2 2 0 0 0 1.21-.57l5.58-5.58 1.24 1.24a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42l-1.24-1.24 2-2a1.92 1.92 0 0 0-.07-2.71zm-13 7.6L12 9.36l2.69 2.7-2.79 2.79"/></g></g>',compass:'<g data-name="Layer 2"><g data-name="compass"><rect width="24" height="24" opacity="0"/><polygon points="10.8 13.21 12.49 12.53 13.2 10.79 11.51 11.47 10.8 13.21"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm3.93 7.42l-1.75 4.26a1 1 0 0 1-.55.55l-4.21 1.7A1 1 0 0 1 9 16a1 1 0 0 1-.71-.31h-.05a1 1 0 0 1-.18-1l1.75-4.26a1 1 0 0 1 .55-.55l4.21-1.7a1 1 0 0 1 1.1.25 1 1 0 0 1 .26.99z"/></g></g>',copy:'<g data-name="Layer 2"><g data-name="copy"><rect width="24" height="24" opacity="0"/><path d="M18 9h-3V5.67A2.68 2.68 0 0 0 12.33 3H5.67A2.68 2.68 0 0 0 3 5.67v6.66A2.68 2.68 0 0 0 5.67 15H9v3a3 3 0 0 0 3 3h6a3 3 0 0 0 3-3v-6a3 3 0 0 0-3-3zm-9 3v1H5.67a.67.67 0 0 1-.67-.67V5.67A.67.67 0 0 1 5.67 5h6.66a.67.67 0 0 1 .67.67V9h-1a3 3 0 0 0-3 3z"/></g></g>',"corner-down-left":'<g data-name="Layer 2"><g data-name="corner-down-left"><rect x=".05" y=".05" width="24" height="24" transform="rotate(-89.76 12.05 12.05)" opacity="0"/><path d="M20 6a1 1 0 0 0-1-1 1 1 0 0 0-1 1v5a1 1 0 0 1-.29.71A1 1 0 0 1 17 12H8.08l2.69-3.39a1 1 0 0 0-1.52-1.17l-4 5a1 1 0 0 0 0 1.25l4 5a1 1 0 0 0 .78.37 1 1 0 0 0 .62-.22 1 1 0 0 0 .15-1.41l-2.66-3.36h8.92a3 3 0 0 0 3-3z"/></g></g>',"corner-down-right":'<g data-name="Layer 2"><g data-name="corner-down-right"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><path d="M19.78 12.38l-4-5a1 1 0 0 0-1.56 1.24l2.7 3.38H8a1 1 0 0 1-1-1V6a1 1 0 0 0-2 0v5a3 3 0 0 0 3 3h8.92l-2.7 3.38a1 1 0 0 0 .16 1.4A1 1 0 0 0 15 19a1 1 0 0 0 .78-.38l4-5a1 1 0 0 0 0-1.24z"/></g></g>',"corner-left-down":'<g data-name="Layer 2"><g data-name="corner-left-down"><rect width="24" height="24" opacity="0"/><path d="M18 5h-5a3 3 0 0 0-3 3v8.92l-3.38-2.7a1 1 0 0 0-1.24 1.56l5 4a1 1 0 0 0 1.24 0l5-4a1 1 0 1 0-1.24-1.56L12 16.92V8a1 1 0 0 1 1-1h5a1 1 0 0 0 0-2z"/></g></g>',"corner-left-up":'<g data-name="Layer 2"><g data-name="corner-left-up"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M18 17h-5a1 1 0 0 1-1-1V7.08l3.38 2.7A1 1 0 0 0 16 10a1 1 0 0 0 .78-.38 1 1 0 0 0-.16-1.4l-5-4a1 1 0 0 0-1.24 0l-5 4a1 1 0 0 0 1.24 1.56L10 7.08V16a3 3 0 0 0 3 3h5a1 1 0 0 0 0-2z"/></g></g>',"corner-right-down":'<g data-name="Layer 2"><g data-name="corner-right-down"><rect width="24" height="24" opacity="0"/><path d="M18.78 14.38a1 1 0 0 0-1.4-.16L14 16.92V8a3 3 0 0 0-3-3H6a1 1 0 0 0 0 2h5a1 1 0 0 1 1 1v8.92l-3.38-2.7a1 1 0 0 0-1.24 1.56l5 4a1 1 0 0 0 1.24 0l5-4a1 1 0 0 0 .16-1.4z"/></g></g>',"corner-right-up":'<g data-name="Layer 2"><g data-name="corner-right-up"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M18.62 8.22l-5-4a1 1 0 0 0-1.24 0l-5 4a1 1 0 0 0 1.24 1.56L12 7.08V16a1 1 0 0 1-1 1H6a1 1 0 0 0 0 2h5a3 3 0 0 0 3-3V7.08l3.38 2.7A1 1 0 0 0 18 10a1 1 0 0 0 .78-.38 1 1 0 0 0-.16-1.4z"/></g></g>',"corner-up-left":'<g data-name="Layer 2"><g data-name="corner-up-left"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M16 10H7.08l2.7-3.38a1 1 0 1 0-1.56-1.24l-4 5a1 1 0 0 0 0 1.24l4 5A1 1 0 0 0 9 17a1 1 0 0 0 .62-.22 1 1 0 0 0 .16-1.4L7.08 12H16a1 1 0 0 1 1 1v5a1 1 0 0 0 2 0v-5a3 3 0 0 0-3-3z"/></g></g>',"corner-up-right":'<g data-name="Layer 2"><g data-name="corner-up-right"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><path d="M19.78 10.38l-4-5a1 1 0 0 0-1.56 1.24l2.7 3.38H8a3 3 0 0 0-3 3v5a1 1 0 0 0 2 0v-5a1 1 0 0 1 1-1h8.92l-2.7 3.38a1 1 0 0 0 .16 1.4A1 1 0 0 0 15 17a1 1 0 0 0 .78-.38l4-5a1 1 0 0 0 0-1.24z"/></g></g>',"credit-card":'<g data-name="Layer 2"><g data-name="credit-card"><rect width="24" height="24" opacity="0"/><path d="M19 5H5a3 3 0 0 0-3 3v8a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V8a3 3 0 0 0-3-3zm-8 10H7a1 1 0 0 1 0-2h4a1 1 0 0 1 0 2zm6 0h-2a1 1 0 0 1 0-2h2a1 1 0 0 1 0 2zm3-6H4V8a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1z"/></g></g>',crop:'<g data-name="Layer 2"><g data-name="crop"><rect width="24" height="24" opacity="0"/><path d="M21 16h-3V8.56A2.56 2.56 0 0 0 15.44 6H8V3a1 1 0 0 0-2 0v3H3a1 1 0 0 0 0 2h3v7.44A2.56 2.56 0 0 0 8.56 18H16v3a1 1 0 0 0 2 0v-3h3a1 1 0 0 0 0-2zM8.56 16a.56.56 0 0 1-.56-.56V8h7.44a.56.56 0 0 1 .56.56V16z"/></g></g>',cube:'<g data-name="Layer 2"><g data-name="cube"><rect width="24" height="24" opacity="0"/><path d="M11.25 11.83L3 8.36v7.73a1.69 1.69 0 0 0 1 1.52L11.19 21h.06z"/><path d="M12 10.5l8.51-3.57a1.62 1.62 0 0 0-.51-.38l-7.2-3.37a1.87 1.87 0 0 0-1.6 0L4 6.55a1.62 1.62 0 0 0-.51.38z"/><path d="M12.75 11.83V21h.05l7.2-3.39a1.69 1.69 0 0 0 1-1.51V8.36z"/></g></g>',"diagonal-arrow-left-down":'<g data-name="Layer 2"><g data-name="diagonal-arrow-left-down"><rect width="24" height="24" opacity="0"/><path d="M17.71 6.29a1 1 0 0 0-1.42 0L8 14.59V9a1 1 0 0 0-2 0v8a1 1 0 0 0 1 1h8a1 1 0 0 0 0-2H9.41l8.3-8.29a1 1 0 0 0 0-1.42z"/></g></g>',"diagonal-arrow-left-up":'<g data-name="Layer 2"><g data-name="diagonal-arrow-left-up"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M17.71 16.29L9.42 8H15a1 1 0 0 0 0-2H7.05a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1H7a1 1 0 0 0 1-1V9.45l8.26 8.26a1 1 0 0 0 1.42 0 1 1 0 0 0 .03-1.42z"/></g></g>',"diagonal-arrow-right-down":'<g data-name="Layer 2"><g data-name="diagonal-arrow-right-down"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><path d="M17 8a1 1 0 0 0-1 1v5.59l-8.29-8.3a1 1 0 0 0-1.42 1.42l8.3 8.29H9a1 1 0 0 0 0 2h8a1 1 0 0 0 1-1V9a1 1 0 0 0-1-1z"/></g></g>',"diagonal-arrow-right-up":'<g data-name="Layer 2"><g data-name="diagonal-arrow-right-up"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M18 7.05a1 1 0 0 0-1-1L9 6a1 1 0 0 0 0 2h5.56l-8.27 8.29a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0L16 9.42V15a1 1 0 0 0 1 1 1 1 0 0 0 1-1z"/></g></g>',"done-all":'<g data-name="Layer 2"><g data-name="done-all"><rect width="24" height="24" opacity="0"/><path d="M16.62 6.21a1 1 0 0 0-1.41.17l-7 9-3.43-4.18a1 1 0 1 0-1.56 1.25l4.17 5.18a1 1 0 0 0 .78.37 1 1 0 0 0 .83-.38l7.83-10a1 1 0 0 0-.21-1.41z"/><path d="M21.62 6.21a1 1 0 0 0-1.41.17l-7 9-.61-.75-1.26 1.62 1.1 1.37a1 1 0 0 0 .78.37 1 1 0 0 0 .78-.38l7.83-10a1 1 0 0 0-.21-1.4z"/><path d="M8.71 13.06L10 11.44l-.2-.24a1 1 0 0 0-1.43-.2 1 1 0 0 0-.15 1.41z"/></g></g>',download:'<g data-name="Layer 2"><g data-name="download"><rect width="24" height="24" opacity="0"/><rect x="4" y="18" width="16" height="2" rx="1" ry="1"/><rect x="3" y="17" width="4" height="2" rx="1" ry="1" transform="rotate(-90 5 18)"/><rect x="17" y="17" width="4" height="2" rx="1" ry="1" transform="rotate(-90 19 18)"/><path d="M12 15a1 1 0 0 1-.58-.18l-4-2.82a1 1 0 0 1-.24-1.39 1 1 0 0 1 1.4-.24L12 12.76l3.4-2.56a1 1 0 0 1 1.2 1.6l-4 3a1 1 0 0 1-.6.2z"/><path d="M12 13a1 1 0 0 1-1-1V4a1 1 0 0 1 2 0v8a1 1 0 0 1-1 1z"/></g></g>',"droplet-off":'<g data-name="Layer 2"><g data-name="droplet-off"><rect width="24" height="24" opacity="0"/><path d="M19 16.14A7.73 7.73 0 0 0 17.34 8l-4.56-4.69a1 1 0 0 0-.71-.31 1 1 0 0 0-.72.3L8.74 5.92z"/><path d="M6 8.82a7.73 7.73 0 0 0 .64 9.9A7.44 7.44 0 0 0 11.92 21a7.34 7.34 0 0 0 4.64-1.6z"/><path d="M20.71 19.29l-16-16a1 1 0 0 0-1.42 1.42l16 16a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"/></g></g>',droplet:'<g data-name="Layer 2"><g data-name="droplet"><rect x=".1" y=".1" width="24" height="24" transform="rotate(.48 11.987 11.887)" opacity="0"/><path d="M12 21.1a7.4 7.4 0 0 1-5.28-2.28 7.73 7.73 0 0 1 .1-10.77l4.64-4.65a.94.94 0 0 1 .71-.3 1 1 0 0 1 .71.31l4.56 4.72a7.73 7.73 0 0 1-.09 10.77A7.33 7.33 0 0 1 12 21.1z"/></g></g>',"edit-2":'<g data-name="Layer 2"><g data-name="edit-2"><rect width="24" height="24" opacity="0"/><path d="M19 20H5a1 1 0 0 0 0 2h14a1 1 0 0 0 0-2z"/><path d="M5 18h.09l4.17-.38a2 2 0 0 0 1.21-.57l9-9a1.92 1.92 0 0 0-.07-2.71L16.66 2.6A2 2 0 0 0 14 2.53l-9 9a2 2 0 0 0-.57 1.21L4 16.91a1 1 0 0 0 .29.8A1 1 0 0 0 5 18zM15.27 4L18 6.73l-2 1.95L13.32 6z"/></g></g>',edit:'<g data-name="Layer 2"><g data-name="edit"><rect width="24" height="24" opacity="0"/><path d="M19.4 7.34L16.66 4.6A2 2 0 0 0 14 4.53l-9 9a2 2 0 0 0-.57 1.21L4 18.91a1 1 0 0 0 .29.8A1 1 0 0 0 5 20h.09l4.17-.38a2 2 0 0 0 1.21-.57l9-9a1.92 1.92 0 0 0-.07-2.71zM16 10.68L13.32 8l1.95-2L18 8.73z"/></g></g>',email:'<g data-name="Layer 2"><g data-name="email"><rect width="24" height="24" opacity="0"/><path d="M19 4H5a3 3 0 0 0-3 3v10a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V7a3 3 0 0 0-3-3zm0 2l-6.5 4.47a1 1 0 0 1-1 0L5 6z"/></g></g>',expand:'<g data-name="Layer 2"><g data-name="expand"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M20 5a1 1 0 0 0-1-1h-5a1 1 0 0 0 0 2h2.57l-3.28 3.29a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0L18 7.42V10a1 1 0 0 0 1 1 1 1 0 0 0 1-1z"/><path d="M10.71 13.29a1 1 0 0 0-1.42 0L6 16.57V14a1 1 0 0 0-1-1 1 1 0 0 0-1 1v5a1 1 0 0 0 1 1h5a1 1 0 0 0 0-2H7.42l3.29-3.29a1 1 0 0 0 0-1.42z"/></g></g>',"external-link":'<g data-name="Layer 2"><g data-name="external-link"><rect width="24" height="24" opacity="0"/><path d="M20 11a1 1 0 0 0-1 1v6a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h6a1 1 0 0 0 0-2H6a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3v-6a1 1 0 0 0-1-1z"/><path d="M16 5h1.58l-6.29 6.28a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0L19 6.42V8a1 1 0 0 0 1 1 1 1 0 0 0 1-1V4a1 1 0 0 0-1-1h-4a1 1 0 0 0 0 2z"/></g></g>',"eye-off-2":'<g data-name="Layer 2"><g data-name="eye-off-2"><rect width="24" height="24" opacity="0"/><path d="M17.81 13.39A8.93 8.93 0 0 0 21 7.62a1 1 0 1 0-2-.24 7.07 7.07 0 0 1-14 0 1 1 0 1 0-2 .24 8.93 8.93 0 0 0 3.18 5.77l-2.3 2.32a1 1 0 0 0 1.41 1.41l2.61-2.6a9.06 9.06 0 0 0 3.1.92V19a1 1 0 0 0 2 0v-3.56a9.06 9.06 0 0 0 3.1-.92l2.61 2.6a1 1 0 0 0 1.41-1.41z"/></g></g>',"eye-off":'<g data-name="Layer 2"><g data-name="eye-off"><rect width="24" height="24" opacity="0"/><circle cx="12" cy="12" r="1.5"/><path d="M15.29 18.12L14 16.78l-.07-.07-1.27-1.27a4.07 4.07 0 0 1-.61.06A3.5 3.5 0 0 1 8.5 12a4.07 4.07 0 0 1 .06-.61l-2-2L5 7.87a15.89 15.89 0 0 0-2.87 3.63 1 1 0 0 0 0 1c.63 1.09 4 6.5 9.89 6.5h.25a9.48 9.48 0 0 0 3.23-.67z"/><path d="M8.59 5.76l2.8 2.8A4.07 4.07 0 0 1 12 8.5a3.5 3.5 0 0 1 3.5 3.5 4.07 4.07 0 0 1-.06.61l2.68 2.68.84.84a15.89 15.89 0 0 0 2.91-3.63 1 1 0 0 0 0-1c-.64-1.11-4.16-6.68-10.14-6.5a9.48 9.48 0 0 0-3.23.67z"/><path d="M20.71 19.29L19.41 18l-2-2-9.52-9.53L6.42 5 4.71 3.29a1 1 0 0 0-1.42 1.42L5.53 7l1.75 1.7 7.31 7.3.07.07L16 17.41l.59.59 2.7 2.71a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"/></g></g>',eye:'<g data-name="Layer 2"><g data-name="eye"><rect width="24" height="24" opacity="0"/><circle cx="12" cy="12" r="1.5"/><path d="M21.87 11.5c-.64-1.11-4.16-6.68-10.14-6.5-5.53.14-8.73 5-9.6 6.5a1 1 0 0 0 0 1c.63 1.09 4 6.5 9.89 6.5h.25c5.53-.14 8.74-5 9.6-6.5a1 1 0 0 0 0-1zm-9.87 4a3.5 3.5 0 1 1 3.5-3.5 3.5 3.5 0 0 1-3.5 3.5z"/></g></g>',facebook:'<g data-name="Layer 2"><g data-name="facebook"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M17 3.5a.5.5 0 0 0-.5-.5H14a4.77 4.77 0 0 0-5 4.5v2.7H6.5a.5.5 0 0 0-.5.5v2.6a.5.5 0 0 0 .5.5H9v6.7a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-6.7h2.62a.5.5 0 0 0 .49-.37l.72-2.6a.5.5 0 0 0-.48-.63H13V7.5a1 1 0 0 1 1-.9h2.5a.5.5 0 0 0 .5-.5z"/></g></g>',"file-add":'<g data-name="Layer 2"><g data-name="file-add"><rect width="24" height="24" opacity="0"/><path d="M19.74 7.33l-4.44-5a1 1 0 0 0-.74-.33h-8A2.53 2.53 0 0 0 4 4.5v15A2.53 2.53 0 0 0 6.56 22h10.88A2.53 2.53 0 0 0 20 19.5V8a1 1 0 0 0-.26-.67zM14 15h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1h1a1 1 0 0 1 0 2zm.71-7a.79.79 0 0 1-.71-.85V4l3.74 4z"/></g></g>',"file-remove":'<g data-name="Layer 2"><g data-name="file-remove"><rect width="24" height="24" opacity="0"/><path d="M19.74 7.33l-4.44-5a1 1 0 0 0-.74-.33h-8A2.53 2.53 0 0 0 4 4.5v15A2.53 2.53 0 0 0 6.56 22h10.88A2.53 2.53 0 0 0 20 19.5V8a1 1 0 0 0-.26-.67zM14 15h-4a1 1 0 0 1 0-2h4a1 1 0 0 1 0 2zm.71-7a.79.79 0 0 1-.71-.85V4l3.74 4z"/></g></g>',"file-text":'<g data-name="Layer 2"><g data-name="file-text"><rect width="24" height="24" opacity="0"/><path d="M19.74 7.33l-4.44-5a1 1 0 0 0-.74-.33h-8A2.53 2.53 0 0 0 4 4.5v15A2.53 2.53 0 0 0 6.56 22h10.88A2.53 2.53 0 0 0 20 19.5V8a1 1 0 0 0-.26-.67zM9 12h3a1 1 0 0 1 0 2H9a1 1 0 0 1 0-2zm6 6H9a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2zm-.29-10a.79.79 0 0 1-.71-.85V4l3.74 4z"/></g></g>',file:'<g data-name="Layer 2"><g data-name="file"><rect width="24" height="24" opacity="0"/><path d="M19.74 7.33l-4.44-5a1 1 0 0 0-.74-.33h-8A2.53 2.53 0 0 0 4 4.5v15A2.53 2.53 0 0 0 6.56 22h10.88A2.53 2.53 0 0 0 20 19.5V8a1 1 0 0 0-.26-.67zM14 4l3.74 4h-3a.79.79 0 0 1-.74-.85z"/></g></g>',film:'<g data-name="Layer 2"><g data-name="film"><rect width="24" height="24" opacity="0"/><path d="M18.26 3H5.74A2.74 2.74 0 0 0 3 5.74v12.52A2.74 2.74 0 0 0 5.74 21h12.52A2.74 2.74 0 0 0 21 18.26V5.74A2.74 2.74 0 0 0 18.26 3zM7 11H5V9h2zm-2 2h2v2H5zm14-2h-2V9h2zm-2 2h2v2h-2zm2-7.26V7h-2V5h1.26a.74.74 0 0 1 .74.74zM5.74 5H7v2H5V5.74A.74.74 0 0 1 5.74 5zM5 18.26V17h2v2H5.74a.74.74 0 0 1-.74-.74zm14 0a.74.74 0 0 1-.74.74H17v-2h2z"/></g></g>',flag:'<g data-name="Layer 2"><g data-name="flag"><polyline points="24 24 0 24 0 0" opacity="0"/><path d="M19.27 4.68a1.79 1.79 0 0 0-1.6-.25 7.53 7.53 0 0 1-2.17.28 8.54 8.54 0 0 1-3.13-.78A10.15 10.15 0 0 0 8.5 3c-2.89 0-4 1-4.2 1.14a1 1 0 0 0-.3.72V20a1 1 0 0 0 2 0v-4.3a6.28 6.28 0 0 1 2.5-.41 8.54 8.54 0 0 1 3.13.78 10.15 10.15 0 0 0 3.87.93 7.66 7.66 0 0 0 3.5-.7 1.74 1.74 0 0 0 1-1.55V6.11a1.77 1.77 0 0 0-.73-1.43z"/></g></g>',"flash-off":'<g data-name="Layer 2"><g data-name="flash-off"><rect width="24" height="24" opacity="0"/><path d="M17.33 14.5l2.5-3.74A1 1 0 0 0 19 9.2h-5.89l.77-7.09a1 1 0 0 0-.65-1 1 1 0 0 0-1.17.38L8.94 6.11z"/><path d="M6.67 9.5l-2.5 3.74A1 1 0 0 0 5 14.8h5.89l-.77 7.09a1 1 0 0 0 .65 1.05 1 1 0 0 0 .34.06 1 1 0 0 0 .83-.44l3.12-4.67z"/><path d="M20.71 19.29l-16-16a1 1 0 0 0-1.42 1.42l16 16a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"/></g></g>',flash:'<g data-name="Layer 2"><g data-name="flash"><rect width="24" height="24" opacity="0"/><path d="M11.11 23a1 1 0 0 1-.34-.06 1 1 0 0 1-.65-1.05l.77-7.09H5a1 1 0 0 1-.83-1.56l7.89-11.8a1 1 0 0 1 1.17-.38 1 1 0 0 1 .65 1l-.77 7.14H19a1 1 0 0 1 .83 1.56l-7.89 11.8a1 1 0 0 1-.83.44z"/></g></g>',"flip-2":'<g data-name="Layer 2"><g data-name="flip-2"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M6.09 19h12l-1.3 1.29a1 1 0 0 0 1.42 1.42l3-3a1 1 0 0 0 0-1.42l-3-3a1 1 0 0 0-1.42 0 1 1 0 0 0 0 1.42l1.3 1.29h-12a1.56 1.56 0 0 1-1.59-1.53V13a1 1 0 0 0-2 0v2.47A3.56 3.56 0 0 0 6.09 19z"/><path d="M5.79 9.71a1 1 0 1 0 1.42-1.42L5.91 7h12a1.56 1.56 0 0 1 1.59 1.53V11a1 1 0 0 0 2 0V8.53A3.56 3.56 0 0 0 17.91 5h-12l1.3-1.29a1 1 0 0 0 0-1.42 1 1 0 0 0-1.42 0l-3 3a1 1 0 0 0 0 1.42z"/></g></g>',flip:'<g data-name="Layer 2"><g data-name="flip-in"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><path d="M5 6.09v12l-1.29-1.3a1 1 0 0 0-1.42 1.42l3 3a1 1 0 0 0 1.42 0l3-3a1 1 0 0 0 0-1.42 1 1 0 0 0-1.42 0L7 18.09v-12A1.56 1.56 0 0 1 8.53 4.5H11a1 1 0 0 0 0-2H8.53A3.56 3.56 0 0 0 5 6.09z"/><path d="M14.29 5.79a1 1 0 0 0 1.42 1.42L17 5.91v12a1.56 1.56 0 0 1-1.53 1.59H13a1 1 0 0 0 0 2h2.47A3.56 3.56 0 0 0 19 17.91v-12l1.29 1.3a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42l-3-3a1 1 0 0 0-1.42 0z"/></g></g>',"folder-add":'<g data-name="Layer 2"><g data-name="folder-add"><rect width="24" height="24" opacity="0"/><path d="M19.5 7.05h-7L9.87 3.87a1 1 0 0 0-.77-.37H4.5A2.47 2.47 0 0 0 2 5.93v12.14a2.47 2.47 0 0 0 2.5 2.43h15a2.47 2.47 0 0 0 2.5-2.43V9.48a2.47 2.47 0 0 0-2.5-2.43zM14 15h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1h1a1 1 0 0 1 0 2z"/></g></g>',"folder-remove":'<g data-name="Layer 2"><g data-name="folder-remove"><rect width="24" height="24" opacity="0"/><path d="M19.5 7.05h-7L9.87 3.87a1 1 0 0 0-.77-.37H4.5A2.47 2.47 0 0 0 2 5.93v12.14a2.47 2.47 0 0 0 2.5 2.43h15a2.47 2.47 0 0 0 2.5-2.43V9.48a2.47 2.47 0 0 0-2.5-2.43zM14 15h-4a1 1 0 0 1 0-2h4a1 1 0 0 1 0 2z"/></g></g>',folder:'<g data-name="Layer 2"><g data-name="folder"><rect width="24" height="24" opacity="0"/><path d="M19.5 20.5h-15A2.47 2.47 0 0 1 2 18.07V5.93A2.47 2.47 0 0 1 4.5 3.5h4.6a1 1 0 0 1 .77.37l2.6 3.18h7A2.47 2.47 0 0 1 22 9.48v8.59a2.47 2.47 0 0 1-2.5 2.43z"/></g></g>',funnel:'<g data-name="Layer 2"><g data-name="funnel"><rect width="24" height="24" opacity="0"/><path d="M13.9 22a1 1 0 0 1-.6-.2l-4-3.05a1 1 0 0 1-.39-.8v-3.27l-4.8-9.22A1 1 0 0 1 5 4h14a1 1 0 0 1 .86.49 1 1 0 0 1 0 1l-5 9.21V21a1 1 0 0 1-.55.9 1 1 0 0 1-.41.1z"/></g></g>',gift:'<g data-name="Layer 2"><g data-name="gift"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M4.64 15.27v4.82a.92.92 0 0 0 .92.91h5.62v-5.73z"/><path d="M12.82 21h5.62a.92.92 0 0 0 .92-.91v-4.82h-6.54z"/><path d="M20.1 7.09h-1.84a2.82 2.82 0 0 0 .29-1.23A2.87 2.87 0 0 0 15.68 3 4.21 4.21 0 0 0 12 5.57 4.21 4.21 0 0 0 8.32 3a2.87 2.87 0 0 0-2.87 2.86 2.82 2.82 0 0 0 .29 1.23H3.9c-.5 0-.9.59-.9 1.31v3.93c0 .72.4 1.31.9 1.31h7.28V7.09h1.64v6.55h7.28c.5 0 .9-.59.9-1.31V8.4c0-.72-.4-1.31-.9-1.31zm-11.78 0a1.23 1.23 0 1 1 0-2.45c1.4 0 2.19 1.44 2.58 2.45zm7.36 0H13.1c.39-1 1.18-2.45 2.58-2.45a1.23 1.23 0 1 1 0 2.45z"/></g></g>',github:'<g data-name="Layer 2"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M12 1A10.89 10.89 0 0 0 1 11.77 10.79 10.79 0 0 0 8.52 22c.55.1.75-.23.75-.52v-1.83c-3.06.65-3.71-1.44-3.71-1.44a2.86 2.86 0 0 0-1.22-1.58c-1-.66.08-.65.08-.65a2.31 2.31 0 0 1 1.68 1.11 2.37 2.37 0 0 0 3.2.89 2.33 2.33 0 0 1 .7-1.44c-2.44-.27-5-1.19-5-5.32a4.15 4.15 0 0 1 1.11-2.91 3.78 3.78 0 0 1 .11-2.84s.93-.29 3 1.1a10.68 10.68 0 0 1 5.5 0c2.1-1.39 3-1.1 3-1.1a3.78 3.78 0 0 1 .11 2.84A4.15 4.15 0 0 1 19 11.2c0 4.14-2.58 5.05-5 5.32a2.5 2.5 0 0 1 .75 2v2.95c0 .35.2.63.75.52A10.8 10.8 0 0 0 23 11.77 10.89 10.89 0 0 0 12 1" data-name="github"/></g>',"globe-2":'<g data-name="Layer 2"><g data-name="globe-2"><rect width="24" height="24" opacity="0"/><rect width="24" height="24" opacity="0"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 2a8.19 8.19 0 0 1 1.79.21 2.61 2.61 0 0 1-.78 1c-.22.17-.46.31-.7.46a4.56 4.56 0 0 0-1.85 1.67 6.49 6.49 0 0 0-.62 3.3c0 1.36 0 2.16-.95 2.87-1.37 1.07-3.46.47-4.76-.07A8.33 8.33 0 0 1 4 12a8 8 0 0 1 8-8zm4.89 14.32a6.79 6.79 0 0 0-.63-1.14c-.11-.16-.22-.32-.32-.49-.39-.68-.25-1 .38-2l.1-.17a4.77 4.77 0 0 0 .58-2.43 5.42 5.42 0 0 1 .09-1c.16-.73 1.71-.93 2.67-1a7.94 7.94 0 0 1-2.86 8.28z"/></g></g>',"globe-3":'<g data-name="Layer 2"><g data-name="globe-3"><rect width="24" height="24" opacity="0"/><rect width="24" height="24" opacity="0"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zM5 15.8a8.42 8.42 0 0 0 2 .27 5 5 0 0 0 3.14-1c1.71-1.34 1.71-3.06 1.71-4.44a4.76 4.76 0 0 1 .37-2.34 2.86 2.86 0 0 1 1.12-.91 9.75 9.75 0 0 0 .92-.61 4.55 4.55 0 0 0 1.4-1.87A8 8 0 0 1 19 8.12c-1.43.2-3.46.67-3.86 2.53A7 7 0 0 0 15 12a2.93 2.93 0 0 1-.29 1.47l-.1.17c-.65 1.08-1.38 2.31-.39 4 .12.21.25.41.38.61a2.29 2.29 0 0 1 .52 1.08A7.89 7.89 0 0 1 12 20a8 8 0 0 1-7-4.2z"/></g></g>',globe:'<g data-name="Layer 2"><g data-name="globe"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M22 12A10 10 0 0 0 12 2a10 10 0 0 0 0 20 10 10 0 0 0 10-10zm-2.07-1H17a12.91 12.91 0 0 0-2.33-6.54A8 8 0 0 1 19.93 11zM9.08 13H15a11.44 11.44 0 0 1-3 6.61A11 11 0 0 1 9.08 13zm0-2A11.4 11.4 0 0 1 12 4.4a11.19 11.19 0 0 1 3 6.6zm.36-6.57A13.18 13.18 0 0 0 7.07 11h-3a8 8 0 0 1 5.37-6.57zM4.07 13h3a12.86 12.86 0 0 0 2.35 6.56A8 8 0 0 1 4.07 13zm10.55 6.55A13.14 13.14 0 0 0 17 13h2.95a8 8 0 0 1-5.33 6.55z"/></g></g>',google:'<g data-name="Layer 2"><g data-name="google"><polyline points="0 0 24 0 24 24 0 24" opacity="0"/><path d="M17.5 14a5.51 5.51 0 0 1-4.5 3.93 6.15 6.15 0 0 1-7-5.45A6 6 0 0 1 12 6a6.12 6.12 0 0 1 2.27.44.5.5 0 0 0 .64-.21l1.44-2.65a.52.52 0 0 0-.23-.7A10 10 0 0 0 2 12.29 10.12 10.12 0 0 0 11.57 22 10 10 0 0 0 22 12.52v-2a.51.51 0 0 0-.5-.5h-9a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h5"/></g></g>',grid:'<g data-name="Layer 2"><g data-name="grid"><rect width="24" height="24" opacity="0"/><path d="M9 3H5a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h4a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2z"/><path d="M19 3h-4a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h4a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2z"/><path d="M9 13H5a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h4a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2z"/><path d="M19 13h-4a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h4a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2z"/></g></g>',"hard-drive":'<g data-name="Layer 2"><g data-name="hard-drive"><rect width="24" height="24" opacity="0"/><path d="M20.79 11.34l-3.34-6.68A3 3 0 0 0 14.76 3H9.24a3 3 0 0 0-2.69 1.66l-3.34 6.68a2 2 0 0 0-.21.9V18a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3v-5.76a2 2 0 0 0-.21-.9zM8 17a1 1 0 1 1 1-1 1 1 0 0 1-1 1zm8 0h-4a1 1 0 0 1 0-2h4a1 1 0 0 1 0 2zM5.62 11l2.72-5.45a1 1 0 0 1 .9-.55h5.52a1 1 0 0 1 .9.55L18.38 11z"/></g></g>',hash:'<g data-name="Layer 2"><g data-name="hash"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M20 14h-4.3l.73-4H20a1 1 0 0 0 0-2h-3.21l.69-3.81A1 1 0 0 0 16.64 3a1 1 0 0 0-1.22.82L14.67 8h-3.88l.69-3.81A1 1 0 0 0 10.64 3a1 1 0 0 0-1.22.82L8.67 8H4a1 1 0 0 0 0 2h4.3l-.73 4H4a1 1 0 0 0 0 2h3.21l-.69 3.81A1 1 0 0 0 7.36 21a1 1 0 0 0 1.22-.82L9.33 16h3.88l-.69 3.81a1 1 0 0 0 .84 1.19 1 1 0 0 0 1.22-.82l.75-4.18H20a1 1 0 0 0 0-2zM9.7 14l.73-4h3.87l-.73 4z"/></g></g>',headphones:'<g data-name="Layer 2"><g data-name="headphones"><rect width="24" height="24" opacity="0"/><path d="M12 2A10.2 10.2 0 0 0 2 12.37V17a4 4 0 1 0 4-4 3.91 3.91 0 0 0-2 .56v-1.19A8.2 8.2 0 0 1 12 4a8.2 8.2 0 0 1 8 8.37v1.19a3.91 3.91 0 0 0-2-.56 4 4 0 1 0 4 4v-4.63A10.2 10.2 0 0 0 12 2z"/></g></g>',heart:'<g data-name="Layer 2"><g data-name="heart"><rect width="24" height="24" opacity="0"/><path d="M12 21a1 1 0 0 1-.71-.29l-7.77-7.78a5.26 5.26 0 0 1 0-7.4 5.24 5.24 0 0 1 7.4 0L12 6.61l1.08-1.08a5.24 5.24 0 0 1 7.4 0 5.26 5.26 0 0 1 0 7.4l-7.77 7.78A1 1 0 0 1 12 21z"/></g></g>',home:'<g data-name="Layer 2"><g data-name="home"><rect width="24" height="24" opacity="0"/><rect x="10" y="14" width="4" height="7"/><path d="M20.42 10.18L12.71 2.3a1 1 0 0 0-1.42 0l-7.71 7.89A2 2 0 0 0 3 11.62V20a2 2 0 0 0 1.89 2H8v-9a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v9h3.11A2 2 0 0 0 21 20v-8.38a2.07 2.07 0 0 0-.58-1.44z"/></g></g>',"image-2":'<g data-name="Layer 2"><g data-name="image-2"><rect width="24" height="24" opacity="0"/><path d="M18 3H6a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3zM8 7a1.5 1.5 0 1 1-1.5 1.5A1.5 1.5 0 0 1 8 7zm11 10.83A1.09 1.09 0 0 1 18 19H6l7.57-6.82a.69.69 0 0 1 .93 0l4.5 4.48z"/></g></g>',image:'<g data-name="Layer 2"><g data-name="image"><rect width="24" height="24" opacity="0"/><path d="M18 3H6a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3zM6 5h12a1 1 0 0 1 1 1v8.36l-3.2-2.73a2.77 2.77 0 0 0-3.52 0L5 17.7V6a1 1 0 0 1 1-1z"/><circle cx="8" cy="8.5" r="1.5"/></g></g>',inbox:'<g data-name="Layer 2"><g data-name="inbox"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M20.79 11.34l-3.34-6.68A3 3 0 0 0 14.76 3H9.24a3 3 0 0 0-2.69 1.66l-3.34 6.68a2 2 0 0 0-.21.9V18a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3v-5.76a2 2 0 0 0-.21-.9zM8.34 5.55a1 1 0 0 1 .9-.55h5.52a1 1 0 0 1 .9.55L18.38 11H16a1 1 0 0 0-1 1v2a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1v-2a1 1 0 0 0-1-1H5.62z"/></g></g>',info:'<g data-name="Layer 2"><g data-name="info"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm1 14a1 1 0 0 1-2 0v-5a1 1 0 0 1 2 0zm-1-7a1 1 0 1 1 1-1 1 1 0 0 1-1 1z"/></g></g>',keypad:'<g data-name="Layer 2"><g data-name="keypad"><rect width="24" height="24" opacity="0"/><path d="M5 2a3 3 0 1 0 3 3 3 3 0 0 0-3-3z"/><path d="M12 2a3 3 0 1 0 3 3 3 3 0 0 0-3-3z"/><path d="M19 8a3 3 0 1 0-3-3 3 3 0 0 0 3 3z"/><path d="M5 9a3 3 0 1 0 3 3 3 3 0 0 0-3-3z"/><path d="M12 9a3 3 0 1 0 3 3 3 3 0 0 0-3-3z"/><path d="M19 9a3 3 0 1 0 3 3 3 3 0 0 0-3-3z"/><path d="M5 16a3 3 0 1 0 3 3 3 3 0 0 0-3-3z"/><path d="M12 16a3 3 0 1 0 3 3 3 3 0 0 0-3-3z"/><path d="M19 16a3 3 0 1 0 3 3 3 3 0 0 0-3-3z"/></g></g>',layers:'<g data-name="Layer 2"><g data-name="layers"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M3.24 7.29l8.52 4.63a.51.51 0 0 0 .48 0l8.52-4.63a.44.44 0 0 0-.05-.81L12.19 3a.5.5 0 0 0-.38 0L3.29 6.48a.44.44 0 0 0-.05.81z"/><path d="M20.71 10.66l-1.83-.78-6.64 3.61a.51.51 0 0 1-.48 0L5.12 9.88l-1.83.78a.48.48 0 0 0 0 .85l8.52 4.9a.46.46 0 0 0 .48 0l8.52-4.9a.48.48 0 0 0-.1-.85z"/><path d="M20.71 15.1l-1.56-.68-6.91 3.76a.51.51 0 0 1-.48 0l-6.91-3.76-1.56.68a.49.49 0 0 0 0 .87l8.52 5a.51.51 0 0 0 .48 0l8.52-5a.49.49 0 0 0-.1-.87z"/></g></g>',layout:'<g data-name="Layer 2"><g data-name="layout"><rect width="24" height="24" opacity="0"/><path d="M21 8V6a3 3 0 0 0-3-3H6a3 3 0 0 0-3 3v2z"/><path d="M3 10v8a3 3 0 0 0 3 3h5V10z"/><path d="M13 10v11h5a3 3 0 0 0 3-3v-8z"/></g></g>',"link-2":'<g data-name="Layer 2"><g data-name="link-2"><rect width="24" height="24" opacity="0"/><path d="M13.29 9.29l-4 4a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0l4-4a1 1 0 0 0-1.42-1.42z"/><path d="M12.28 17.4L11 18.67a4.2 4.2 0 0 1-5.58.4 4 4 0 0 1-.27-5.93l1.42-1.43a1 1 0 0 0 0-1.42 1 1 0 0 0-1.42 0l-1.27 1.28a6.15 6.15 0 0 0-.67 8.07 6.06 6.06 0 0 0 9.07.6l1.42-1.42a1 1 0 0 0-1.42-1.42z"/><path d="M19.66 3.22a6.18 6.18 0 0 0-8.13.68L10.45 5a1.09 1.09 0 0 0-.17 1.61 1 1 0 0 0 1.42 0L13 5.3a4.17 4.17 0 0 1 5.57-.4 4 4 0 0 1 .27 5.95l-1.42 1.43a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0l1.42-1.42a6.06 6.06 0 0 0-.6-9.06z"/></g></g>',link:'<g data-name="Layer 2"><g data-name="link"><rect width="24" height="24" opacity="0"/><path d="M8 12a1 1 0 0 0 1 1h6a1 1 0 0 0 0-2H9a1 1 0 0 0-1 1z"/><path d="M9 16H7.21A4.13 4.13 0 0 1 3 12.37 4 4 0 0 1 7 8h2a1 1 0 0 0 0-2H7.21a6.15 6.15 0 0 0-6.16 5.21A6 6 0 0 0 7 18h2a1 1 0 0 0 0-2z"/><path d="M23 11.24A6.16 6.16 0 0 0 16.76 6h-1.51C14.44 6 14 6.45 14 7a1 1 0 0 0 1 1h1.79A4.13 4.13 0 0 1 21 11.63 4 4 0 0 1 17 16h-2a1 1 0 0 0 0 2h2a6 6 0 0 0 6-6.76z"/></g></g>',linkedin:'<g data-name="Layer 2"><g data-name="linkedin"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M15.15 8.4a5.83 5.83 0 0 0-5.85 5.82v5.88a.9.9 0 0 0 .9.9h2.1a.9.9 0 0 0 .9-.9v-5.88a1.94 1.94 0 0 1 2.15-1.93 2 2 0 0 1 1.75 2v5.81a.9.9 0 0 0 .9.9h2.1a.9.9 0 0 0 .9-.9v-5.88a5.83 5.83 0 0 0-5.85-5.82z"/><rect x="3" y="9.3" width="4.5" height="11.7" rx=".9" ry=".9"/><circle cx="5.25" cy="5.25" r="2.25"/></g></g>',list:'<g data-name="Layer 2"><g data-name="list"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><circle cx="4" cy="7" r="1"/><circle cx="4" cy="12" r="1"/><circle cx="4" cy="17" r="1"/><rect x="7" y="11" width="14" height="2" rx=".94" ry=".94"/><rect x="7" y="16" width="14" height="2" rx=".94" ry=".94"/><rect x="7" y="6" width="14" height="2" rx=".94" ry=".94"/></g></g>',lock:'<g data-name="Layer 2"><g data-name="lock"><rect width="24" height="24" opacity="0"/><circle cx="12" cy="15" r="1"/><path d="M17 8h-1V6.11a4 4 0 1 0-8 0V8H7a3 3 0 0 0-3 3v8a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3v-8a3 3 0 0 0-3-3zm-7-1.89A2.06 2.06 0 0 1 12 4a2.06 2.06 0 0 1 2 2.11V8h-4zM12 18a3 3 0 1 1 3-3 3 3 0 0 1-3 3z"/></g></g>',"log-in":'<g data-name="Layer 2"><g data-name="log-in"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><path d="M19 4h-2a1 1 0 0 0 0 2h1v12h-1a1 1 0 0 0 0 2h2a1 1 0 0 0 1-1V5a1 1 0 0 0-1-1z"/><path d="M11.8 7.4a1 1 0 0 0-1.6 1.2L12 11H4a1 1 0 0 0 0 2h8.09l-1.72 2.44a1 1 0 0 0 .24 1.4 1 1 0 0 0 .58.18 1 1 0 0 0 .81-.42l2.82-4a1 1 0 0 0 0-1.18z"/></g></g>',"log-out":'<g data-name="Layer 2"><g data-name="log-out"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M7 6a1 1 0 0 0 0-2H5a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h2a1 1 0 0 0 0-2H6V6z"/><path d="M20.82 11.42l-2.82-4a1 1 0 0 0-1.39-.24 1 1 0 0 0-.24 1.4L18.09 11H10a1 1 0 0 0 0 2h8l-1.8 2.4a1 1 0 0 0 .2 1.4 1 1 0 0 0 .6.2 1 1 0 0 0 .8-.4l3-4a1 1 0 0 0 .02-1.18z"/></g></g>',map:'<g data-name="Layer 2"><g data-name="map"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M20.41 5.89l-4-1.8H15.59L12 5.7 8.41 4.09h-.05L8.24 4h-.6l-4 1.8a1 1 0 0 0-.64 1V19a1 1 0 0 0 .46.84A1 1 0 0 0 4 20a1 1 0 0 0 .41-.09L8 18.3l3.59 1.61h.05a.85.85 0 0 0 .72 0h.05L16 18.3l3.59 1.61A1 1 0 0 0 20 20a1 1 0 0 0 .54-.16A1 1 0 0 0 21 19V6.8a1 1 0 0 0-.59-.91zM9 6.55l2 .89v10l-2-.89zm10 10.9l-2-.89v-10l2 .89z"/></g></g>',maximize:'<g data-name="Layer 2"><g data-name="maximize"><rect width="24" height="24" opacity="0"/><path d="M20.71 19.29l-3.4-3.39A7.92 7.92 0 0 0 19 11a8 8 0 1 0-8 8 7.92 7.92 0 0 0 4.9-1.69l3.39 3.4a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42zM13 12h-1v1a1 1 0 0 1-2 0v-1H9a1 1 0 0 1 0-2h1V9a1 1 0 0 1 2 0v1h1a1 1 0 0 1 0 2z"/></g></g>',"menu-2":'<g data-name="Layer 2"><g data-name="menu-2"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><circle cx="4" cy="12" r="1"/><rect x="7" y="11" width="14" height="2" rx=".94" ry=".94"/><rect x="3" y="16" width="18" height="2" rx=".94" ry=".94"/><rect x="3" y="6" width="18" height="2" rx=".94" ry=".94"/></g></g>',"menu-arrow":'<g data-name="Layer 2"><g data-name="menu-arrow"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M20.05 11H5.91l1.3-1.29a1 1 0 0 0-1.42-1.42l-3 3a1 1 0 0 0 0 1.42l3 3a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42L5.91 13h14.14a1 1 0 0 0 .95-.95V12a1 1 0 0 0-.95-1z"/><rect x="3" y="17" width="18" height="2" rx=".95" ry=".95"/><rect x="3" y="5" width="18" height="2" rx=".95" ry=".95"/></g></g>',menu:'<g data-name="Layer 2"><g data-name="menu"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><rect x="3" y="11" width="18" height="2" rx=".95" ry=".95"/><rect x="3" y="16" width="18" height="2" rx=".95" ry=".95"/><rect x="3" y="6" width="18" height="2" rx=".95" ry=".95"/></g></g>',"message-circle":'<g data-name="Layer 2"><g data-name="message-circle"><rect width="24" height="24" opacity="0"/><path d="M19.07 4.93a10 10 0 0 0-16.28 11 1.06 1.06 0 0 1 .09.64L2 20.8a1 1 0 0 0 .27.91A1 1 0 0 0 3 22h.2l4.28-.86a1.26 1.26 0 0 1 .64.09 10 10 0 0 0 11-16.28zM8 13a1 1 0 1 1 1-1 1 1 0 0 1-1 1zm4 0a1 1 0 1 1 1-1 1 1 0 0 1-1 1zm4 0a1 1 0 1 1 1-1 1 1 0 0 1-1 1z"/></g></g>',"message-square":'<g data-name="Layer 2"><g data-name="message-square"><rect width="24" height="24" opacity="0"/><path d="M19 3H5a3 3 0 0 0-3 3v15a1 1 0 0 0 .51.87A1 1 0 0 0 3 22a1 1 0 0 0 .51-.14L8 19.14a1 1 0 0 1 .55-.14H19a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3zM8 12a1 1 0 1 1 1-1 1 1 0 0 1-1 1zm4 0a1 1 0 1 1 1-1 1 1 0 0 1-1 1zm4 0a1 1 0 1 1 1-1 1 1 0 0 1-1 1z"/></g></g>',"mic-off":'<g data-name="Layer 2"><g data-name="mic-off"><rect width="24" height="24" opacity="0"/><path d="M15.58 12.75A4 4 0 0 0 16 11V6a4 4 0 0 0-7.92-.75"/><path d="M19 11a1 1 0 0 0-2 0 4.86 4.86 0 0 1-.69 2.48L17.78 15A7 7 0 0 0 19 11z"/><path d="M12 15h.16L8 10.83V11a4 4 0 0 0 4 4z"/><path d="M20.71 19.29l-16-16a1 1 0 0 0-1.42 1.42l16 16a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"/><path d="M15 20h-2v-2.08a7 7 0 0 0 1.65-.44l-1.6-1.6A4.57 4.57 0 0 1 12 16a5 5 0 0 1-5-5 1 1 0 0 0-2 0 7 7 0 0 0 6 6.92V20H9a1 1 0 0 0 0 2h6a1 1 0 0 0 0-2z"/></g></g>',mic:'<g data-name="Layer 2"><g data-name="mic"><rect width="24" height="24" opacity="0"/><path d="M12 15a4 4 0 0 0 4-4V6a4 4 0 0 0-8 0v5a4 4 0 0 0 4 4z"/><path d="M19 11a1 1 0 0 0-2 0 5 5 0 0 1-10 0 1 1 0 0 0-2 0 7 7 0 0 0 6 6.92V20H8.89a.89.89 0 0 0-.89.89v.22a.89.89 0 0 0 .89.89h6.22a.89.89 0 0 0 .89-.89v-.22a.89.89 0 0 0-.89-.89H13v-2.08A7 7 0 0 0 19 11z"/></g></g>',minimize:'<g data-name="Layer 2"><g data-name="minimize"><rect width="24" height="24" opacity="0"/><path d="M20.71 19.29l-3.4-3.39A7.92 7.92 0 0 0 19 11a8 8 0 1 0-8 8 7.92 7.92 0 0 0 4.9-1.69l3.39 3.4a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42zM13 12H9a1 1 0 0 1 0-2h4a1 1 0 0 1 0 2z"/></g></g>',"minus-circle":'<g data-name="Layer 2"><g data-name="minus-circle"><rect width="24" height="24" opacity="0"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm3 11H9a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2z"/></g></g>',"minus-square":'<g data-name="Layer 2"><g data-name="minus-square"><rect width="24" height="24" opacity="0"/><path d="M18 3H6a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3zm-3 10H9a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2z"/></g></g>',minus:'<g data-name="Layer 2"><g data-name="minus"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M19 13H5a1 1 0 0 1 0-2h14a1 1 0 0 1 0 2z"/></g></g>',monitor:'<g data-name="Layer 2"><g data-name="monitor"><rect width="24" height="24" opacity="0"/><path d="M19 3H5a3 3 0 0 0-3 3v5h20V6a3 3 0 0 0-3-3z"/><path d="M2 14a3 3 0 0 0 3 3h6v2H7a1 1 0 0 0 0 2h10a1 1 0 0 0 0-2h-4v-2h6a3 3 0 0 0 3-3v-1H2z"/></g></g>',moon:'<g data-name="Layer 2"><g data-name="moon"><rect width="24" height="24" opacity="0"/><path d="M12.3 22h-.1a10.31 10.31 0 0 1-7.34-3.15 10.46 10.46 0 0 1-.26-14 10.13 10.13 0 0 1 4-2.74 1 1 0 0 1 1.06.22 1 1 0 0 1 .24 1 8.4 8.4 0 0 0 1.94 8.81 8.47 8.47 0 0 0 8.83 1.94 1 1 0 0 1 1.27 1.29A10.16 10.16 0 0 1 19.6 19a10.28 10.28 0 0 1-7.3 3z"/></g></g>',"more-horizontal":'<g data-name="Layer 2"><g data-name="more-horizotnal"><rect width="24" height="24" opacity="0"/><circle cx="12" cy="12" r="2"/><circle cx="19" cy="12" r="2"/><circle cx="5" cy="12" r="2"/></g></g>',"more-vertical":'<g data-name="Layer 2"><g data-name="more-vertical"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><circle cx="12" cy="12" r="2"/><circle cx="12" cy="5" r="2"/><circle cx="12" cy="19" r="2"/></g></g>',move:'<g data-name="Layer 2"><g data-name="move"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M21.71 11.31l-3-3a1 1 0 0 0-1.42 1.42L18.58 11H13V5.41l1.29 1.3A1 1 0 0 0 15 7a1 1 0 0 0 .71-.29 1 1 0 0 0 0-1.42l-3-3A1 1 0 0 0 12 2a1 1 0 0 0-.7.29l-3 3a1 1 0 0 0 1.41 1.42L11 5.42V11H5.41l1.3-1.29a1 1 0 0 0-1.42-1.42l-3 3A1 1 0 0 0 2 12a1 1 0 0 0 .29.71l3 3A1 1 0 0 0 6 16a1 1 0 0 0 .71-.29 1 1 0 0 0 0-1.42L5.42 13H11v5.59l-1.29-1.3a1 1 0 0 0-1.42 1.42l3 3A1 1 0 0 0 12 22a1 1 0 0 0 .7-.29l3-3a1 1 0 0 0-1.42-1.42L13 18.58V13h5.59l-1.3 1.29a1 1 0 0 0 0 1.42A1 1 0 0 0 18 16a1 1 0 0 0 .71-.29l3-3A1 1 0 0 0 22 12a1 1 0 0 0-.29-.69z"/></g></g>',music:'<g data-name="Layer 2"><g data-name="music"><rect width="24" height="24" opacity="0"/><path d="M19 15V4a1 1 0 0 0-.38-.78 1 1 0 0 0-.84-.2l-9 2A1 1 0 0 0 8 6v8.34a3.49 3.49 0 1 0 2 3.18 4.36 4.36 0 0 0 0-.52V6.8l7-1.55v7.09a3.49 3.49 0 1 0 2 3.17 4.57 4.57 0 0 0 0-.51z"/></g></g>',"navigation-2":'<g data-name="Layer 2"><g data-name="navigation-2"><rect width="24" height="24" opacity="0"/><path d="M13.67 22h-.06a1 1 0 0 1-.92-.8l-1.54-7.57a1 1 0 0 0-.78-.78L2.8 11.31a1 1 0 0 1-.12-1.93l16-5.33A1 1 0 0 1 20 5.32l-5.33 16a1 1 0 0 1-1 .68z"/></g></g>',navigation:'<g data-name="Layer 2"><g data-name="navigation"><rect width="24" height="24" opacity="0"/><path d="M20 20a.94.94 0 0 1-.55-.17l-6.9-4.56a1 1 0 0 0-1.1 0l-6.9 4.56a1 1 0 0 1-1.44-1.28l8-16a1 1 0 0 1 1.78 0l8 16a1 1 0 0 1-.23 1.2A1 1 0 0 1 20 20z"/></g></g>',npm:'<g data-name="Layer 2"><g data-name="npm"><rect width="24" height="24" opacity="0"/><path d="M18 3H6a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h7V11h4v10h1a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3z"/></g></g>',"options-2":'<g data-name="Layer 2"><g data-name="options-2"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M19 9a3 3 0 0 0-2.82 2H3a1 1 0 0 0 0 2h13.18A3 3 0 1 0 19 9z"/><path d="M3 7h1.18a3 3 0 0 0 5.64 0H21a1 1 0 0 0 0-2H9.82a3 3 0 0 0-5.64 0H3a1 1 0 0 0 0 2z"/><path d="M21 17h-7.18a3 3 0 0 0-5.64 0H3a1 1 0 0 0 0 2h5.18a3 3 0 0 0 5.64 0H21a1 1 0 0 0 0-2z"/></g></g>',options:'<g data-name="Layer 2"><g data-name="options"><rect width="24" height="24" opacity="0"/><path d="M7 14.18V3a1 1 0 0 0-2 0v11.18a3 3 0 0 0 0 5.64V21a1 1 0 0 0 2 0v-1.18a3 3 0 0 0 0-5.64z"/><path d="M21 13a3 3 0 0 0-2-2.82V3a1 1 0 0 0-2 0v7.18a3 3 0 0 0 0 5.64V21a1 1 0 0 0 2 0v-5.18A3 3 0 0 0 21 13z"/><path d="M15 5a3 3 0 1 0-4 2.82V21a1 1 0 0 0 2 0V7.82A3 3 0 0 0 15 5z"/></g></g>',pantone:'<g data-name="Layer 2"><g data-name="pantone"><rect width="24" height="24" opacity="0"/><path d="M20 13.18h-2.7l-1.86 2L11.88 19l-1.41 1.52L10 21h10a1 1 0 0 0 1-1v-5.82a1 1 0 0 0-1-1z"/><path d="M18.19 9.3l-4.14-3.86a.89.89 0 0 0-.71-.26 1 1 0 0 0-.7.31l-.82.89v10.71a5.23 5.23 0 0 1-.06.57l6.48-6.95a1 1 0 0 0-.05-1.41z"/><path d="M10.82 4a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v13.09a3.91 3.91 0 0 0 7.82 0zm-2 13.09a1.91 1.91 0 0 1-3.82 0V15h3.82zm0-4.09H5v-3h3.82zm0-5H5V5h3.82z"/></g></g>',"paper-plane":'<g data-name="Layer 2"><g data-name="paper-plane"><rect width="24" height="24" opacity="0"/><path d="M21 4a1.31 1.31 0 0 0-.06-.27v-.09a1 1 0 0 0-.2-.3 1 1 0 0 0-.29-.19h-.09a.86.86 0 0 0-.31-.15H20a1 1 0 0 0-.3 0l-18 6a1 1 0 0 0 0 1.9l8.53 2.84 2.84 8.53a1 1 0 0 0 1.9 0l6-18A1 1 0 0 0 21 4zm-4.7 2.29l-5.57 5.57L5.16 10zM14 18.84l-1.86-5.57 5.57-5.57z"/></g></g>',"pause-circle":'<g data-name="Layer 2"><g data-name="pause-circle"><rect width="24" height="24" opacity="0"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm-2 13a1 1 0 0 1-2 0V9a1 1 0 0 1 2 0zm6 0a1 1 0 0 1-2 0V9a1 1 0 0 1 2 0z"/></g></g>',people:'<g data-name="Layer 2"><g data-name="people"><rect width="24" height="24" opacity="0"/><path d="M9 11a4 4 0 1 0-4-4 4 4 0 0 0 4 4z"/><path d="M17 13a3 3 0 1 0-3-3 3 3 0 0 0 3 3z"/><path d="M21 20a1 1 0 0 0 1-1 5 5 0 0 0-8.06-3.95A7 7 0 0 0 2 20a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1"/></g></g>',percent:'<g data-name="Layer 2"><g data-name="percent"><rect width="24" height="24" opacity="0"/><path d="M8 11a3.5 3.5 0 1 0-3.5-3.5A3.5 3.5 0 0 0 8 11zm0-5a1.5 1.5 0 1 1-1.5 1.5A1.5 1.5 0 0 1 8 6z"/><path d="M16 14a3.5 3.5 0 1 0 3.5 3.5A3.5 3.5 0 0 0 16 14zm0 5a1.5 1.5 0 1 1 1.5-1.5A1.5 1.5 0 0 1 16 19z"/><path d="M19.74 4.26a.89.89 0 0 0-1.26 0L4.26 18.48a.91.91 0 0 0-.26.63.89.89 0 0 0 1.52.63L19.74 5.52a.89.89 0 0 0 0-1.26z"/></g></g>',"person-add":'<g data-name="Layer 2"><g data-name="person-add"><rect width="24" height="24" opacity="0"/><path d="M21 6h-1V5a1 1 0 0 0-2 0v1h-1a1 1 0 0 0 0 2h1v1a1 1 0 0 0 2 0V8h1a1 1 0 0 0 0-2z"/><path d="M10 11a4 4 0 1 0-4-4 4 4 0 0 0 4 4z"/><path d="M16 21a1 1 0 0 0 1-1 7 7 0 0 0-14 0 1 1 0 0 0 1 1"/></g></g>',"person-delete":'<g data-name="Layer 2"><g data-name="person-delete"><rect width="24" height="24" opacity="0"/><path d="M20.47 7.5l.73-.73a1 1 0 0 0-1.47-1.47L19 6l-.73-.73a1 1 0 0 0-1.47 1.5l.73.73-.73.73a1 1 0 0 0 1.47 1.47L19 9l.73.73a1 1 0 0 0 1.47-1.5z"/><path d="M10 11a4 4 0 1 0-4-4 4 4 0 0 0 4 4z"/><path d="M16 21a1 1 0 0 0 1-1 7 7 0 0 0-14 0 1 1 0 0 0 1 1z"/></g></g>',"person-done":'<g data-name="Layer 2"><g data-name="person-done"><rect width="24" height="24" opacity="0"/><path d="M21.66 4.25a1 1 0 0 0-1.41.09l-1.87 2.15-.63-.71a1 1 0 0 0-1.5 1.33l1.39 1.56a1 1 0 0 0 .75.33 1 1 0 0 0 .74-.34l2.61-3a1 1 0 0 0-.08-1.41z"/><path d="M10 11a4 4 0 1 0-4-4 4 4 0 0 0 4 4z"/><path d="M16 21a1 1 0 0 0 1-1 7 7 0 0 0-14 0 1 1 0 0 0 1 1"/></g></g>',"person-remove":'<g data-name="Layer 2"><g data-name="person-remove"><rect width="24" height="24" opacity="0"/><path d="M21 6h-4a1 1 0 0 0 0 2h4a1 1 0 0 0 0-2z"/><path d="M10 11a4 4 0 1 0-4-4 4 4 0 0 0 4 4z"/><path d="M16 21a1 1 0 0 0 1-1 7 7 0 0 0-14 0 1 1 0 0 0 1 1"/></g></g>',person:'<g data-name="Layer 2"><g data-name="person"><rect width="24" height="24" opacity="0"/><path d="M12 11a4 4 0 1 0-4-4 4 4 0 0 0 4 4z"/><path d="M18 21a1 1 0 0 0 1-1 7 7 0 0 0-14 0 1 1 0 0 0 1 1z"/></g></g>',"phone-call":'<g data-name="Layer 2"><g data-name="phone-call"><rect width="24" height="24" opacity="0"/><path d="M13 8a3 3 0 0 1 3 3 1 1 0 0 0 2 0 5 5 0 0 0-5-5 1 1 0 0 0 0 2z"/><path d="M13 4a7 7 0 0 1 7 7 1 1 0 0 0 2 0 9 9 0 0 0-9-9 1 1 0 0 0 0 2z"/><path d="M21.75 15.91a1 1 0 0 0-.72-.65l-6-1.37a1 1 0 0 0-.92.26c-.14.13-.15.14-.8 1.38a9.91 9.91 0 0 1-4.87-4.89C9.71 10 9.72 10 9.85 9.85a1 1 0 0 0 .26-.92L8.74 3a1 1 0 0 0-.65-.72 3.79 3.79 0 0 0-.72-.18A3.94 3.94 0 0 0 6.6 2 4.6 4.6 0 0 0 2 6.6 15.42 15.42 0 0 0 17.4 22a4.6 4.6 0 0 0 4.6-4.6 4.77 4.77 0 0 0-.06-.76 4.34 4.34 0 0 0-.19-.73z"/></g></g>',"phone-missed":'<g data-name="Layer 2"><g data-name="phone-missed"><rect width="24" height="24" opacity="0"/><path d="M21.94 16.64a4.34 4.34 0 0 0-.19-.73 1 1 0 0 0-.72-.65l-6-1.37a1 1 0 0 0-.92.26c-.14.13-.15.14-.8 1.38a10 10 0 0 1-4.88-4.89C9.71 10 9.72 10 9.85 9.85a1 1 0 0 0 .26-.92L8.74 3a1 1 0 0 0-.65-.72 3.79 3.79 0 0 0-.72-.18A3.94 3.94 0 0 0 6.6 2 4.6 4.6 0 0 0 2 6.6 15.42 15.42 0 0 0 17.4 22a4.6 4.6 0 0 0 4.6-4.6 4.77 4.77 0 0 0-.06-.76z"/><path d="M15.8 8.7a1.05 1.05 0 0 0 1.47 0L18 8l.73.73a1 1 0 0 0 1.47-1.5l-.73-.73.73-.73a1 1 0 0 0-1.47-1.47L18 5l-.73-.73a1 1 0 0 0-1.47 1.5l.73.73-.73.73a1.05 1.05 0 0 0 0 1.47z"/></g></g>',"phone-off":'<g data-name="Layer 2"><g data-name="phone-off"><rect width="24" height="24" opacity="0"/><path d="M9.27 12.06a10.37 10.37 0 0 1-.8-1.42C9.71 10 9.72 10 9.85 9.85a1 1 0 0 0 .26-.92L8.74 3a1 1 0 0 0-.65-.72 3.79 3.79 0 0 0-.72-.18A3.94 3.94 0 0 0 6.6 2 4.6 4.6 0 0 0 2 6.6a15.33 15.33 0 0 0 3.27 9.46z"/><path d="M21.94 16.64a4.34 4.34 0 0 0-.19-.73 1 1 0 0 0-.72-.65l-6-1.37a1 1 0 0 0-.92.26c-.14.13-.15.14-.8 1.38a10.88 10.88 0 0 1-1.41-.8l-4 4A15.33 15.33 0 0 0 17.4 22a4.6 4.6 0 0 0 4.6-4.6 4.77 4.77 0 0 0-.06-.76z"/><path d="M19.74 4.26a.89.89 0 0 0-1.26 0L4.26 18.48a.91.91 0 0 0-.26.63.89.89 0 0 0 1.52.63L19.74 5.52a.89.89 0 0 0 0-1.26z"/></g></g>',phone:'<g data-name="Layer 2"><g data-name="phone"><rect width="24" height="24" opacity="0"/><path d="M17.4 22A15.42 15.42 0 0 1 2 6.6 4.6 4.6 0 0 1 6.6 2a3.94 3.94 0 0 1 .77.07 3.79 3.79 0 0 1 .72.18 1 1 0 0 1 .65.75l1.37 6a1 1 0 0 1-.26.92c-.13.14-.14.15-1.37.79a9.91 9.91 0 0 0 4.87 4.89c.65-1.24.66-1.25.8-1.38a1 1 0 0 1 .92-.26l6 1.37a1 1 0 0 1 .72.65 4.34 4.34 0 0 1 .19.73 4.77 4.77 0 0 1 .06.76A4.6 4.6 0 0 1 17.4 22z"/></g></g>',"pie-chart-2":'<g data-name="Layer 2"><g data-name="pie-chart-2"><rect width="24" height="24" opacity="0"/><path d="M14.5 10.33h6.67A.83.83 0 0 0 22 9.5 7.5 7.5 0 0 0 14.5 2a.83.83 0 0 0-.83.83V9.5a.83.83 0 0 0 .83.83zm.83-6.6a5.83 5.83 0 0 1 4.94 4.94h-4.94z"/><path d="M21.08 12h-8.15a.91.91 0 0 1-.91-.91V2.92A.92.92 0 0 0 11 2a10 10 0 1 0 11 11 .92.92 0 0 0-.92-1z"/></g></g>',"pie-chart":'<g data-name="Layer 2"><g data-name="pie-chart"><rect width="24" height="24" opacity="0"/><path d="M14.5 10.33h6.67A.83.83 0 0 0 22 9.5 7.5 7.5 0 0 0 14.5 2a.83.83 0 0 0-.83.83V9.5a.83.83 0 0 0 .83.83z"/><path d="M21.08 12h-8.15a.91.91 0 0 1-.91-.91V2.92A.92.92 0 0 0 11 2a10 10 0 1 0 11 11 .92.92 0 0 0-.92-1z"/></g></g>',pin:'<g data-name="Layer 2"><g data-name="pin"><rect width="24" height="24" opacity="0"/><circle cx="12" cy="9.5" r="1.5"/><path d="M12 2a8 8 0 0 0-8 7.92c0 5.48 7.05 11.58 7.35 11.84a1 1 0 0 0 1.3 0C13 21.5 20 15.4 20 9.92A8 8 0 0 0 12 2zm0 11a3.5 3.5 0 1 1 3.5-3.5A3.5 3.5 0 0 1 12 13z"/></g></g>',"play-circle":'<g data-name="Layer 2"><g data-name="play-circle"><rect width="24" height="24" opacity="0"/><polygon points="11.5 14.6 14.31 12 11.5 9.4 11.5 14.6"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm4 11.18l-3.64 3.37a1.74 1.74 0 0 1-1.16.45 1.68 1.68 0 0 1-.69-.15 1.6 1.6 0 0 1-1-1.48V8.63a1.6 1.6 0 0 1 1-1.48 1.7 1.7 0 0 1 1.85.3L16 10.82a1.6 1.6 0 0 1 0 2.36z"/></g></g>',"plus-circle":'<g data-name="Layer 2"><g data-name="plus-circle"><rect width="24" height="24" opacity="0"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm3 11h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V9a1 1 0 0 1 2 0v2h2a1 1 0 0 1 0 2z"/></g></g>',"plus-square":'<g data-name="Layer 2"><g data-name="plus-square"><rect width="24" height="24" opacity="0"/><path d="M18 3H6a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3zm-3 10h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V9a1 1 0 0 1 2 0v2h2a1 1 0 0 1 0 2z"/></g></g>',plus:'<g data-name="Layer 2"><g data-name="plus"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M19 11h-6V5a1 1 0 0 0-2 0v6H5a1 1 0 0 0 0 2h6v6a1 1 0 0 0 2 0v-6h6a1 1 0 0 0 0-2z"/></g></g>',power:'<g data-name="Layer 2"><g data-name="power"><rect width="24" height="24" opacity="0"/><path d="M12 13a1 1 0 0 0 1-1V2a1 1 0 0 0-2 0v10a1 1 0 0 0 1 1z"/><path d="M16.59 3.11a1 1 0 0 0-.92 1.78 8 8 0 1 1-7.34 0 1 1 0 1 0-.92-1.78 10 10 0 1 0 9.18 0z"/></g></g>',pricetags:'<g data-name="Layer 2"><g data-name="pricetags"><rect width="24" height="24" opacity="0"/><path d="M21.47 11.58l-6.42-6.41a1 1 0 0 0-.61-.29L5.09 4a1 1 0 0 0-.8.29 1 1 0 0 0-.29.8l.88 9.35a1 1 0 0 0 .29.61l6.41 6.42a1.84 1.84 0 0 0 1.29.53 1.82 1.82 0 0 0 1.28-.53l7.32-7.32a1.82 1.82 0 0 0 0-2.57zm-9.91 0a1.5 1.5 0 1 1 0-2.12 1.49 1.49 0 0 1 0 2.1z"/></g></g>',printer:'<g data-name="Layer 2"><g data-name="printer"><rect width="24" height="24" opacity="0"/><path d="M19.36 7H18V5a1.92 1.92 0 0 0-1.83-2H7.83A1.92 1.92 0 0 0 6 5v2H4.64A2.66 2.66 0 0 0 2 9.67v6.66A2.66 2.66 0 0 0 4.64 19h.86a2 2 0 0 0 2 2h9a2 2 0 0 0 2-2h.86A2.66 2.66 0 0 0 22 16.33V9.67A2.66 2.66 0 0 0 19.36 7zM8 5h8v2H8zm-.5 14v-4h9v4z"/></g></g>',"question-mark-circle":'<g data-name="Layer 2"><g data-name="menu-arrow-circle"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 16a1 1 0 1 1 1-1 1 1 0 0 1-1 1zm1-5.16V14a1 1 0 0 1-2 0v-2a1 1 0 0 1 1-1 1.5 1.5 0 1 0-1.5-1.5 1 1 0 0 1-2 0 3.5 3.5 0 1 1 4.5 3.34z"/></g></g>',"question-mark":'<g data-name="Layer 2"><g data-name="menu-arrow"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M17 9A5 5 0 0 0 7 9a1 1 0 0 0 2 0 3 3 0 1 1 3 3 1 1 0 0 0-1 1v2a1 1 0 0 0 2 0v-1.1A5 5 0 0 0 17 9z"/><circle cx="12" cy="19" r="1"/></g></g>',"radio-button-off":'<g data-name="Layer 2"><g data-name="radio-button-off"><rect width="24" height="24" opacity="0"/><path d="M12 22a10 10 0 1 1 10-10 10 10 0 0 1-10 10zm0-18a8 8 0 1 0 8 8 8 8 0 0 0-8-8z"/></g></g>',"radio-button-on":'<g data-name="Layer 2"><g data-name="radio-button-on"><rect width="24" height="24" opacity="0"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8 8 0 0 1-8 8z"/><path d="M12 7a5 5 0 1 0 5 5 5 5 0 0 0-5-5z"/></g></g>',radio:'<g data-name="Layer 2"><g data-name="radio"><rect width="24" height="24" opacity="0"/><path d="M12 8a3 3 0 0 0-1 5.83 1 1 0 0 0 0 .17v6a1 1 0 0 0 2 0v-6a1 1 0 0 0 0-.17A3 3 0 0 0 12 8z"/><path d="M3.5 11a6.87 6.87 0 0 1 2.64-5.23 1 1 0 1 0-1.28-1.54A8.84 8.84 0 0 0 1.5 11a8.84 8.84 0 0 0 3.36 6.77 1 1 0 1 0 1.28-1.54A6.87 6.87 0 0 1 3.5 11z"/><path d="M16.64 6.24a1 1 0 0 0-1.28 1.52A4.28 4.28 0 0 1 17 11a4.28 4.28 0 0 1-1.64 3.24A1 1 0 0 0 16 16a1 1 0 0 0 .64-.24A6.2 6.2 0 0 0 19 11a6.2 6.2 0 0 0-2.36-4.76z"/><path d="M8.76 6.36a1 1 0 0 0-1.4-.12A6.2 6.2 0 0 0 5 11a6.2 6.2 0 0 0 2.36 4.76 1 1 0 0 0 1.4-.12 1 1 0 0 0-.12-1.4A4.28 4.28 0 0 1 7 11a4.28 4.28 0 0 1 1.64-3.24 1 1 0 0 0 .12-1.4z"/><path d="M19.14 4.23a1 1 0 1 0-1.28 1.54A6.87 6.87 0 0 1 20.5 11a6.87 6.87 0 0 1-2.64 5.23 1 1 0 0 0 1.28 1.54A8.84 8.84 0 0 0 22.5 11a8.84 8.84 0 0 0-3.36-6.77z"/></g></g>',recording:'<g data-name="Layer 2"><g data-name="recording"><rect width="24" height="24" opacity="0"/><path d="M18 8a4 4 0 0 0-4 4 3.91 3.91 0 0 0 .56 2H9.44a3.91 3.91 0 0 0 .56-2 4 4 0 1 0-4 4h12a4 4 0 0 0 0-8z"/></g></g>',refresh:'<g data-name="Layer 2"><g data-name="refresh"><rect width="24" height="24" opacity="0"/><path d="M20.3 13.43a1 1 0 0 0-1.25.65A7.14 7.14 0 0 1 12.18 19 7.1 7.1 0 0 1 5 12a7.1 7.1 0 0 1 7.18-7 7.26 7.26 0 0 1 4.65 1.67l-2.17-.36a1 1 0 0 0-1.15.83 1 1 0 0 0 .83 1.15l4.24.7h.17a1 1 0 0 0 .34-.06.33.33 0 0 0 .1-.06.78.78 0 0 0 .2-.11l.09-.11c0-.05.09-.09.13-.15s0-.1.05-.14a1.34 1.34 0 0 0 .07-.18l.75-4a1 1 0 0 0-2-.38l-.27 1.45A9.21 9.21 0 0 0 12.18 3 9.1 9.1 0 0 0 3 12a9.1 9.1 0 0 0 9.18 9A9.12 9.12 0 0 0 21 14.68a1 1 0 0 0-.7-1.25z"/></g></g>',repeat:'<g data-name="Layer 2"><g data-name="repeat"><rect width="24" height="24" opacity="0"/><path d="M17.91 5h-12l1.3-1.29a1 1 0 0 0-1.42-1.42l-3 3a1 1 0 0 0 0 1.42l3 3a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42L5.91 7h12a1.56 1.56 0 0 1 1.59 1.53V11a1 1 0 0 0 2 0V8.53A3.56 3.56 0 0 0 17.91 5z"/><path d="M18.21 14.29a1 1 0 0 0-1.42 1.42l1.3 1.29h-12a1.56 1.56 0 0 1-1.59-1.53V13a1 1 0 0 0-2 0v2.47A3.56 3.56 0 0 0 6.09 19h12l-1.3 1.29a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0l3-3a1 1 0 0 0 0-1.42z"/></g></g>',"rewind-left":'<g data-name="Layer 2"><g data-name="rewind-left"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M18.45 6.2a2.1 2.1 0 0 0-2.21.26l-4.74 3.92V7.79a1.76 1.76 0 0 0-1.05-1.59 2.1 2.1 0 0 0-2.21.26l-5.1 4.21a1.7 1.7 0 0 0 0 2.66l5.1 4.21a2.06 2.06 0 0 0 1.3.46 2.23 2.23 0 0 0 .91-.2 1.76 1.76 0 0 0 1.05-1.59v-2.59l4.74 3.92a2.06 2.06 0 0 0 1.3.46 2.23 2.23 0 0 0 .91-.2 1.76 1.76 0 0 0 1.05-1.59V7.79a1.76 1.76 0 0 0-1.05-1.59z"/></g></g>',"rewind-right":'<g data-name="Layer 2"><g data-name="rewind-right"><rect width="24" height="24" opacity="0"/><path d="M20.86 10.67l-5.1-4.21a2.1 2.1 0 0 0-2.21-.26 1.76 1.76 0 0 0-1.05 1.59v2.59L7.76 6.46a2.1 2.1 0 0 0-2.21-.26 1.76 1.76 0 0 0-1 1.59v8.42a1.76 1.76 0 0 0 1 1.59 2.23 2.23 0 0 0 .91.2 2.06 2.06 0 0 0 1.3-.46l4.74-3.92v2.59a1.76 1.76 0 0 0 1.05 1.59 2.23 2.23 0 0 0 .91.2 2.06 2.06 0 0 0 1.3-.46l5.1-4.21a1.7 1.7 0 0 0 0-2.66z"/></g></g>',save:'<g data-name="Layer 2"><g data-name="save"><rect width="24" height="24" opacity="0"/><rect x="10" y="17" width="4" height="4"/><path d="M20.12 8.71l-4.83-4.83A3 3 0 0 0 13.17 3H10v6h5a1 1 0 0 1 0 2H9a1 1 0 0 1-1-1V3H6a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h2v-4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v4h2a3 3 0 0 0 3-3v-7.17a3 3 0 0 0-.88-2.12z"/></g></g>',scissors:'<g data-name="Layer 2"><g data-name="scissors"><rect width="24" height="24" opacity="0"/><path d="M20.21 5.71a1 1 0 1 0-1.42-1.42l-6.28 6.31-3.3-3.31A3 3 0 0 0 9.5 6a3 3 0 1 0-3 3 3 3 0 0 0 1.29-.3L11.1 12l-3.29 3.3A3 3 0 0 0 6.5 15a3 3 0 1 0 3 3 3 3 0 0 0-.29-1.26zM6.5 7a1 1 0 1 1 1-1 1 1 0 0 1-1 1zm0 12a1 1 0 1 1 1-1 1 1 0 0 1-1 1z"/><path d="M15.21 13.29a1 1 0 0 0-1.42 1.42l5 5a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"/></g></g>',search:'<g data-name="Layer 2"><g data-name="search"><rect width="24" height="24" opacity="0"/><path d="M20.71 19.29l-3.4-3.39A7.92 7.92 0 0 0 19 11a8 8 0 1 0-8 8 7.92 7.92 0 0 0 4.9-1.69l3.39 3.4a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42zM5 11a6 6 0 1 1 6 6 6 6 0 0 1-6-6z"/></g></g>',"settings-2":'<g data-name="Layer 2"><g data-name="settings-2"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><circle cx="12" cy="12" r="1.5"/><path d="M20.32 9.37h-1.09c-.14 0-.24-.11-.3-.26a.34.34 0 0 1 0-.37l.81-.74a1.63 1.63 0 0 0 .5-1.18 1.67 1.67 0 0 0-.5-1.19L18.4 4.26a1.67 1.67 0 0 0-2.37 0l-.77.74a.38.38 0 0 1-.41 0 .34.34 0 0 1-.22-.29V3.68A1.68 1.68 0 0 0 13 2h-1.94a1.69 1.69 0 0 0-1.69 1.68v1.09c0 .14-.11.24-.26.3a.34.34 0 0 1-.37 0L8 4.26a1.72 1.72 0 0 0-1.19-.5 1.65 1.65 0 0 0-1.18.5L4.26 5.6a1.67 1.67 0 0 0 0 2.4l.74.74a.38.38 0 0 1 0 .41.34.34 0 0 1-.29.22H3.68A1.68 1.68 0 0 0 2 11.05v1.89a1.69 1.69 0 0 0 1.68 1.69h1.09c.14 0 .24.11.3.26a.34.34 0 0 1 0 .37l-.81.74a1.72 1.72 0 0 0-.5 1.19 1.66 1.66 0 0 0 .5 1.19l1.34 1.36a1.67 1.67 0 0 0 2.37 0l.77-.74a.38.38 0 0 1 .41 0 .34.34 0 0 1 .22.29v1.09A1.68 1.68 0 0 0 11.05 22h1.89a1.69 1.69 0 0 0 1.69-1.68v-1.09c0-.14.11-.24.26-.3a.34.34 0 0 1 .37 0l.76.77a1.72 1.72 0 0 0 1.19.5 1.65 1.65 0 0 0 1.18-.5l1.34-1.34a1.67 1.67 0 0 0 0-2.37l-.73-.73a.34.34 0 0 1 0-.37.34.34 0 0 1 .29-.22h1.09A1.68 1.68 0 0 0 22 13v-1.94a1.69 1.69 0 0 0-1.68-1.69zM12 15.5a3.5 3.5 0 1 1 3.5-3.5 3.5 3.5 0 0 1-3.5 3.5z"/></g></g>',settings:'<g data-name="Layer 2"><g data-name="settings"><rect width="24" height="24" opacity="0"/><circle cx="12" cy="12" r="1.5"/><path d="M21.89 10.32L21.1 7.8a2.26 2.26 0 0 0-2.88-1.51l-.34.11a1.74 1.74 0 0 1-1.59-.26l-.11-.08a1.76 1.76 0 0 1-.69-1.43v-.28a2.37 2.37 0 0 0-.68-1.68 2.26 2.26 0 0 0-1.6-.67h-2.55a2.32 2.32 0 0 0-2.29 2.33v.24a1.94 1.94 0 0 1-.73 1.51l-.13.1a1.93 1.93 0 0 1-1.78.29 2.14 2.14 0 0 0-1.68.12 2.18 2.18 0 0 0-1.12 1.33l-.82 2.6a2.34 2.34 0 0 0 1.48 2.94h.16a1.83 1.83 0 0 1 1.12 1.22l.06.16a2.06 2.06 0 0 1-.23 1.86 2.37 2.37 0 0 0 .49 3.3l2.07 1.57a2.25 2.25 0 0 0 1.35.43A2 2 0 0 0 9 22a2.25 2.25 0 0 0 1.47-1l.23-.33a1.8 1.8 0 0 1 1.43-.77 1.75 1.75 0 0 1 1.5.78l.12.17a2.24 2.24 0 0 0 3.22.53L19 19.86a2.38 2.38 0 0 0 .5-3.23l-.26-.38A2 2 0 0 1 19 14.6a1.89 1.89 0 0 1 1.21-1.28l.2-.07a2.36 2.36 0 0 0 1.48-2.93zM12 15.5a3.5 3.5 0 1 1 3.5-3.5 3.5 3.5 0 0 1-3.5 3.5z"/></g></g>',shake:'<g data-name="Layer 2"><g data-name="shake"><rect width="24" height="24" opacity="0"/><path d="M5.5 18a1 1 0 0 1-.64-.24A8.81 8.81 0 0 1 1.5 11a8.81 8.81 0 0 1 3.36-6.76 1 1 0 1 1 1.28 1.52A6.9 6.9 0 0 0 3.5 11a6.9 6.9 0 0 0 2.64 5.24 1 1 0 0 1 .13 1.4 1 1 0 0 1-.77.36z"/><path d="M12 7a4.09 4.09 0 0 1 1 .14V3a1 1 0 0 0-2 0v4.14A4.09 4.09 0 0 1 12 7z"/><path d="M12 15a4.09 4.09 0 0 1-1-.14V20a1 1 0 0 0 2 0v-5.14a4.09 4.09 0 0 1-1 .14z"/><path d="M16 16a1 1 0 0 1-.77-.36 1 1 0 0 1 .13-1.4A4.28 4.28 0 0 0 17 11a4.28 4.28 0 0 0-1.64-3.24 1 1 0 1 1 1.28-1.52A6.2 6.2 0 0 1 19 11a6.2 6.2 0 0 1-2.36 4.76A1 1 0 0 1 16 16z"/><path d="M8 16a1 1 0 0 1-.64-.24A6.2 6.2 0 0 1 5 11a6.2 6.2 0 0 1 2.36-4.76 1 1 0 1 1 1.28 1.52A4.28 4.28 0 0 0 7 11a4.28 4.28 0 0 0 1.64 3.24 1 1 0 0 1 .13 1.4A1 1 0 0 1 8 16z"/><path d="M18.5 18a1 1 0 0 1-.77-.36 1 1 0 0 1 .13-1.4A6.9 6.9 0 0 0 20.5 11a6.9 6.9 0 0 0-2.64-5.24 1 1 0 1 1 1.28-1.52A8.81 8.81 0 0 1 22.5 11a8.81 8.81 0 0 1-3.36 6.76 1 1 0 0 1-.64.24z"/><path d="M12 12a1 1 0 1 1 1-1 1 1 0 0 1-1 1zm0-1zm0 0zm0 0zm0 0zm0 0zm0 0zm0 0z"/></g></g>',share:'<g data-name="Layer 2"><g data-name="share"><rect width="24" height="24" opacity="0"/><path d="M18 15a3 3 0 0 0-2.1.86L8 12.34V12v-.33l7.9-3.53A3 3 0 1 0 15 6v.34L7.1 9.86a3 3 0 1 0 0 4.28l7.9 3.53V18a3 3 0 1 0 3-3z"/></g></g>',"shield-off":'<g data-name="Layer 2"><g data-name="shield-off"><rect width="24" height="24" opacity="0"/><path d="M3.73 6.56A2 2 0 0 0 3 8.09v.14a15.17 15.17 0 0 0 7.72 13.2l.3.17a2 2 0 0 0 2 0l.3-.17a15.22 15.22 0 0 0 3-2.27z"/><path d="M18.84 16A15.08 15.08 0 0 0 21 8.23v-.14a2 2 0 0 0-1-1.75L13 2.4a2 2 0 0 0-2 0L7.32 4.49z"/><path d="M4.71 3.29a1 1 0 0 0-1.42 1.42l16 16a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"/></g></g>',shield:'<g data-name="Layer 2"><g data-name="shield"><rect width="24" height="24" opacity="0"/><path d="M12 21.85a2 2 0 0 1-1-.25l-.3-.17A15.17 15.17 0 0 1 3 8.23v-.14a2 2 0 0 1 1-1.75l7-3.94a2 2 0 0 1 2 0l7 3.94a2 2 0 0 1 1 1.75v.14a15.17 15.17 0 0 1-7.72 13.2l-.3.17a2 2 0 0 1-.98.25z"/></g></g>',"shopping-bag":'<g data-name="Layer 2"><g data-name="shopping-bag"><rect width="24" height="24" opacity="0"/><path d="M20.12 6.71l-2.83-2.83A3 3 0 0 0 15.17 3H8.83a3 3 0 0 0-2.12.88L3.88 6.71A3 3 0 0 0 3 8.83V18a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V8.83a3 3 0 0 0-.88-2.12zM12 16a4 4 0 0 1-4-4 1 1 0 0 1 2 0 2 2 0 0 0 4 0 1 1 0 0 1 2 0 4 4 0 0 1-4 4zM6.41 7l1.71-1.71A1.05 1.05 0 0 1 8.83 5h6.34a1.05 1.05 0 0 1 .71.29L17.59 7z"/></g></g>',"shopping-cart":'<g data-name="Layer 2"><g data-name="shopping-cart"><rect width="24" height="24" opacity="0"/><path d="M21.08 7a2 2 0 0 0-1.7-1H6.58L6 3.74A1 1 0 0 0 5 3H3a1 1 0 0 0 0 2h1.24L7 15.26A1 1 0 0 0 8 16h9a1 1 0 0 0 .89-.55l3.28-6.56A2 2 0 0 0 21.08 7z"/><circle cx="7.5" cy="19.5" r="1.5"/><circle cx="17.5" cy="19.5" r="1.5"/></g></g>',"shuffle-2":'<g data-name="Layer 2"><g data-name="shuffle-2"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M18.71 14.29a1 1 0 0 0-1.42 1.42l.29.29H16a4 4 0 0 1 0-8h1.59l-.3.29a1 1 0 0 0 0 1.42A1 1 0 0 0 18 10a1 1 0 0 0 .71-.29l2-2A1 1 0 0 0 21 7a1 1 0 0 0-.29-.71l-2-2a1 1 0 0 0-1.42 1.42l.29.29H16a6 6 0 0 0-5 2.69A6 6 0 0 0 6 6H4a1 1 0 0 0 0 2h2a4 4 0 0 1 0 8H4a1 1 0 0 0 0 2h2a6 6 0 0 0 5-2.69A6 6 0 0 0 16 18h1.59l-.3.29a1 1 0 0 0 0 1.42A1 1 0 0 0 18 20a1 1 0 0 0 .71-.29l2-2A1 1 0 0 0 21 17a1 1 0 0 0-.29-.71z"/></g></g>',shuffle:'<g data-name="Layer 2"><g data-name="shuffle"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M18 9.31a1 1 0 0 0 1 1 1 1 0 0 0 1-1V5a1 1 0 0 0-1-1h-4.3a1 1 0 0 0-1 1 1 1 0 0 0 1 1h1.89L12 10.59 6.16 4.76a1 1 0 0 0-1.41 1.41L10.58 12l-6.29 6.29a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0L18 7.42z"/><path d="M19 13.68a1 1 0 0 0-1 1v1.91l-2.78-2.79a1 1 0 0 0-1.42 1.42L16.57 18h-1.88a1 1 0 0 0 0 2H19a1 1 0 0 0 1-1.11v-4.21a1 1 0 0 0-1-1z"/></g></g>',"skip-back":'<g data-name="Layer 2"><g data-name="skip-back"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M16.45 6.2a2.1 2.1 0 0 0-2.21.26l-5.1 4.21-.14.15V7a1 1 0 0 0-2 0v10a1 1 0 0 0 2 0v-3.82l.14.15 5.1 4.21a2.06 2.06 0 0 0 1.3.46 2.23 2.23 0 0 0 .91-.2 1.76 1.76 0 0 0 1.05-1.59V7.79a1.76 1.76 0 0 0-1.05-1.59z"/></g></g>',"skip-forward":'<g data-name="Layer 2"><g data-name="skip-forward"><rect width="24" height="24" opacity="0"/><path d="M16 6a1 1 0 0 0-1 1v3.82l-.14-.15-5.1-4.21a2.1 2.1 0 0 0-2.21-.26 1.76 1.76 0 0 0-1 1.59v8.42a1.76 1.76 0 0 0 1 1.59 2.23 2.23 0 0 0 .91.2 2.06 2.06 0 0 0 1.3-.46l5.1-4.21.14-.15V17a1 1 0 0 0 2 0V7a1 1 0 0 0-1-1z"/></g></g>',slash:'<g data-name="Layer 2"><g data-name="slash"><rect width="24" height="24" opacity="0"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm8 10a7.92 7.92 0 0 1-1.69 4.9L7.1 5.69A7.92 7.92 0 0 1 12 4a8 8 0 0 1 8 8zM4 12a7.92 7.92 0 0 1 1.69-4.9L16.9 18.31A7.92 7.92 0 0 1 12 20a8 8 0 0 1-8-8z"/></g></g>',smartphone:'<g data-name="Layer 2"><g data-name="smartphone"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M17 2H7a3 3 0 0 0-3 3v14a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V5a3 3 0 0 0-3-3zm-5 16a1.5 1.5 0 1 1 1.5-1.5A1.5 1.5 0 0 1 12 18zm2.5-10h-5a1 1 0 0 1 0-2h5a1 1 0 0 1 0 2z"/></g></g>',"smiling-face":'<defs><style/></defs><g id="Layer_2" data-name="Layer 2"><g id="smiling-face"><g id="smiling-face" data-name="smiling-face"><rect width="24" height="24" opacity="0"/><path d="M12 2c5.523 0 10 4.477 10 10s-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2zm0 2a8 8 0 1 0 0 16 8 8 0 0 0 0-16zm5 9a5 5 0 0 1-10 0z" id="&#x1F3A8;-Icon-&#x421;olor"/></g></g></g>',speaker:'<g data-name="Layer 2"><g data-name="speaker"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><circle cx="12" cy="15.5" r="1.5"/><circle cx="12" cy="8" r="1"/><path d="M17 2H7a3 3 0 0 0-3 3v14a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V5a3 3 0 0 0-3-3zm-5 3a3 3 0 1 1-3 3 3 3 0 0 1 3-3zm0 14a3.5 3.5 0 1 1 3.5-3.5A3.5 3.5 0 0 1 12 19z"/></g></g>',square:'<g data-name="Layer 2"><g data-name="square"><rect width="24" height="24" opacity="0"/><path d="M18 21H6a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h12a3 3 0 0 1 3 3v12a3 3 0 0 1-3 3zM6 5a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1z"/></g></g>',star:'<g data-name="Layer 2"><g data-name="star"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M17.56 21a1 1 0 0 1-.46-.11L12 18.22l-5.1 2.67a1 1 0 0 1-1.45-1.06l1-5.63-4.12-4a1 1 0 0 1-.25-1 1 1 0 0 1 .81-.68l5.7-.83 2.51-5.13a1 1 0 0 1 1.8 0l2.54 5.12 5.7.83a1 1 0 0 1 .81.68 1 1 0 0 1-.25 1l-4.12 4 1 5.63a1 1 0 0 1-.4 1 1 1 0 0 1-.62.18z"/></g></g>',"stop-circle":'<g data-name="Layer 2"><g data-name="stop-circle"><rect width="24" height="24" opacity="0"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm4 12.75A1.25 1.25 0 0 1 14.75 16h-5.5A1.25 1.25 0 0 1 8 14.75v-5.5A1.25 1.25 0 0 1 9.25 8h5.5A1.25 1.25 0 0 1 16 9.25z"/><rect x="10" y="10" width="4" height="4"/></g></g>',sun:'<g data-name="Layer 2"><g data-name="sun"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M12 6a1 1 0 0 0 1-1V3a1 1 0 0 0-2 0v2a1 1 0 0 0 1 1z"/><path d="M21 11h-2a1 1 0 0 0 0 2h2a1 1 0 0 0 0-2z"/><path d="M6 12a1 1 0 0 0-1-1H3a1 1 0 0 0 0 2h2a1 1 0 0 0 1-1z"/><path d="M6.22 5a1 1 0 0 0-1.39 1.47l1.44 1.39a1 1 0 0 0 .73.28 1 1 0 0 0 .72-.31 1 1 0 0 0 0-1.41z"/><path d="M17 8.14a1 1 0 0 0 .69-.28l1.44-1.39A1 1 0 0 0 17.78 5l-1.44 1.42a1 1 0 0 0 0 1.41 1 1 0 0 0 .66.31z"/><path d="M12 18a1 1 0 0 0-1 1v2a1 1 0 0 0 2 0v-2a1 1 0 0 0-1-1z"/><path d="M17.73 16.14a1 1 0 0 0-1.39 1.44L17.78 19a1 1 0 0 0 .69.28 1 1 0 0 0 .72-.3 1 1 0 0 0 0-1.42z"/><path d="M6.27 16.14l-1.44 1.39a1 1 0 0 0 0 1.42 1 1 0 0 0 .72.3 1 1 0 0 0 .67-.25l1.44-1.39a1 1 0 0 0-1.39-1.44z"/><path d="M12 8a4 4 0 1 0 4 4 4 4 0 0 0-4-4z"/></g></g>',swap:'<g data-name="Layer 2"><g data-name="swap"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><path d="M4 9h13l-1.6 1.2a1 1 0 0 0-.2 1.4 1 1 0 0 0 .8.4 1 1 0 0 0 .6-.2l4-3a1 1 0 0 0 0-1.59l-3.86-3a1 1 0 0 0-1.23 1.58L17.08 7H4a1 1 0 0 0 0 2z"/><path d="M20 16H7l1.6-1.2a1 1 0 0 0-1.2-1.6l-4 3a1 1 0 0 0 0 1.59l3.86 3a1 1 0 0 0 .61.21 1 1 0 0 0 .79-.39 1 1 0 0 0-.17-1.4L6.92 18H20a1 1 0 0 0 0-2z"/></g></g>',sync:'<g data-name="Layer 2"><g data-name="sync"><rect width="24" height="24" opacity="0"/><path d="M21.66 10.37a.62.62 0 0 0 .07-.19l.75-4a1 1 0 0 0-2-.36l-.37 2a9.22 9.22 0 0 0-16.58.84 1 1 0 0 0 .55 1.3 1 1 0 0 0 1.31-.55A7.08 7.08 0 0 1 12.07 5a7.17 7.17 0 0 1 6.24 3.58l-1.65-.27a1 1 0 1 0-.32 2l4.25.71h.16a.93.93 0 0 0 .34-.06.33.33 0 0 0 .1-.06.78.78 0 0 0 .2-.11l.08-.1a1.07 1.07 0 0 0 .14-.16.58.58 0 0 0 .05-.16z"/><path d="M19.88 14.07a1 1 0 0 0-1.31.56A7.08 7.08 0 0 1 11.93 19a7.17 7.17 0 0 1-6.24-3.58l1.65.27h.16a1 1 0 0 0 .16-2L3.41 13a.91.91 0 0 0-.33 0H3a1.15 1.15 0 0 0-.32.14 1 1 0 0 0-.18.18l-.09.1a.84.84 0 0 0-.07.19.44.44 0 0 0-.07.17l-.75 4a1 1 0 0 0 .8 1.22h.18a1 1 0 0 0 1-.82l.37-2a9.22 9.22 0 0 0 16.58-.83 1 1 0 0 0-.57-1.28z"/></g></g>',text:'<g data-name="Layer 2"><g data-name="text"><rect width="24" height="24" opacity="0"/><path d="M20 4H4a1 1 0 0 0-1 1v3a1 1 0 0 0 2 0V6h6v13H9a1 1 0 0 0 0 2h6a1 1 0 0 0 0-2h-2V6h6v2a1 1 0 0 0 2 0V5a1 1 0 0 0-1-1z"/></g></g>',"thermometer-minus":'<g data-name="Layer 2"><g data-name="thermometer-minus"><rect width="24" height="24" opacity="0"/><rect x="2" y="5" width="6" height="2" rx="1" ry="1"/><path d="M14 22a5 5 0 0 1-3-9V5a3 3 0 0 1 3-3 3 3 0 0 1 3 3v8a5 5 0 0 1-3 9zm1-12.46V5a.93.93 0 0 0-.29-.69A1 1 0 0 0 14 4a1 1 0 0 0-1 1v4.54z"/></g></g>',"thermometer-plus":'<g data-name="Layer 2"><g data-name="thermometer-plus"><rect width="24" height="24" opacity="0"/><rect x="2" y="5" width="6" height="2" rx="1" ry="1"/><rect x="2" y="5" width="6" height="2" rx="1" ry="1" transform="rotate(-90 5 6)"/><path d="M14 22a5 5 0 0 1-3-9V5a3 3 0 0 1 3-3 3 3 0 0 1 3 3v8a5 5 0 0 1-3 9zm1-12.46V5a.93.93 0 0 0-.29-.69A1 1 0 0 0 14 4a1 1 0 0 0-1 1v4.54z"/></g></g>',thermometer:'<g data-name="Layer 2"><g data-name="thermometer"><rect width="24" height="24" opacity="0"/><path d="M12 22a5 5 0 0 1-3-9V5a3 3 0 0 1 3-3 3 3 0 0 1 3 3v8a5 5 0 0 1-3 9zm1-12.46V5a.93.93 0 0 0-.29-.69A1 1 0 0 0 12 4a1 1 0 0 0-1 1v4.54z"/></g></g>',"toggle-left":'<g data-name="Layer 2"><g data-name="toggle-left"><rect x=".02" y=".02" width="23.97" height="23.97" transform="rotate(179.92 12.002 11.998)" opacity="0"/><path d="M15 5H9a7 7 0 0 0 0 14h6a7 7 0 0 0 0-14zM9 15a3 3 0 1 1 3-3 3 3 0 0 1-3 3z"/><path d="M9 11a1 1 0 1 0 0 2 1 1 0 0 0 0-2z"/></g></g>',"toggle-right":'<g data-name="Layer 2"><g data-name="toggle-right"><rect width="24" height="24" opacity="0"/><circle cx="15" cy="12" r="1"/><path d="M15 5H9a7 7 0 0 0 0 14h6a7 7 0 0 0 0-14zm0 10a3 3 0 1 1 3-3 3 3 0 0 1-3 3z"/></g></g>',"trash-2":'<g data-name="Layer 2"><g data-name="trash-2"><rect width="24" height="24" opacity="0"/><path d="M21 6h-5V4.33A2.42 2.42 0 0 0 13.5 2h-3A2.42 2.42 0 0 0 8 4.33V6H3a1 1 0 0 0 0 2h1v11a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V8h1a1 1 0 0 0 0-2zM10 16a1 1 0 0 1-2 0v-4a1 1 0 0 1 2 0zm0-11.67c0-.16.21-.33.5-.33h3c.29 0 .5.17.5.33V6h-4zM16 16a1 1 0 0 1-2 0v-4a1 1 0 0 1 2 0z"/></g></g>',trash:'<g data-name="Layer 2"><g data-name="trash"><rect width="24" height="24" opacity="0"/><path d="M21 6h-5V4.33A2.42 2.42 0 0 0 13.5 2h-3A2.42 2.42 0 0 0 8 4.33V6H3a1 1 0 0 0 0 2h1v11a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V8h1a1 1 0 0 0 0-2zM10 4.33c0-.16.21-.33.5-.33h3c.29 0 .5.17.5.33V6h-4z"/></g></g>',"trending-down":'<g data-name="Layer 2"><g data-name="trending-down"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><path d="M21 12a1 1 0 0 0-2 0v2.3l-4.24-5a1 1 0 0 0-1.27-.21L9.22 11.7 4.77 6.36a1 1 0 1 0-1.54 1.28l5 6a1 1 0 0 0 1.28.22l4.28-2.57 4 4.71H15a1 1 0 0 0 0 2h5a1.1 1.1 0 0 0 .36-.07l.14-.08a1.19 1.19 0 0 0 .15-.09.75.75 0 0 0 .14-.17 1.1 1.1 0 0 0 .09-.14.64.64 0 0 0 .05-.17A.78.78 0 0 0 21 17z"/></g></g>',"trending-up":'<g data-name="Layer 2"><g data-name="trending-up"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><path d="M21 7a.78.78 0 0 0 0-.21.64.64 0 0 0-.05-.17 1.1 1.1 0 0 0-.09-.14.75.75 0 0 0-.14-.17l-.12-.07a.69.69 0 0 0-.19-.1h-.2A.7.7 0 0 0 20 6h-5a1 1 0 0 0 0 2h2.83l-4 4.71-4.32-2.57a1 1 0 0 0-1.28.22l-5 6a1 1 0 0 0 .13 1.41A1 1 0 0 0 4 18a1 1 0 0 0 .77-.36l4.45-5.34 4.27 2.56a1 1 0 0 0 1.27-.21L19 9.7V12a1 1 0 0 0 2 0V7z"/></g></g>',tv:'<g data-name="Layer 2"><g data-name="tv"><rect width="24" height="24" opacity="0"/><path d="M18 6h-3.59l2.3-2.29a1 1 0 1 0-1.42-1.42L12 5.59l-3.29-3.3a1 1 0 1 0-1.42 1.42L9.59 6H6a3 3 0 0 0-3 3v10a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V9a3 3 0 0 0-3-3zm1 13a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1v-7a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1z"/></g></g>',twitter:'<g data-name="Layer 2"><g data-name="twitter"><polyline points="0 0 24 0 24 24 0 24" opacity="0"/><path d="M8.08 20A11.07 11.07 0 0 0 19.52 9 8.09 8.09 0 0 0 21 6.16a.44.44 0 0 0-.62-.51 1.88 1.88 0 0 1-2.16-.38 3.89 3.89 0 0 0-5.58-.17A4.13 4.13 0 0 0 11.49 9C8.14 9.2 5.84 7.61 4 5.43a.43.43 0 0 0-.75.24 9.68 9.68 0 0 0 4.6 10.05A6.73 6.73 0 0 1 3.38 18a.45.45 0 0 0-.14.84A11 11 0 0 0 8.08 20"/></g></g>',umbrella:'<g data-name="Layer 2"><g data-name="umbrella"><rect width="24" height="24" opacity="0"/><path d="M12 2A10 10 0 0 0 2 12a1 1 0 0 0 1 1h8v6a3 3 0 0 0 6 0 1 1 0 0 0-2 0 1 1 0 0 1-2 0v-6h8a1 1 0 0 0 1-1A10 10 0 0 0 12 2z"/></g></g>',undo:'<g data-name="Layer 2"><g data-name="undo"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><path d="M20.22 21a1 1 0 0 1-1-.76 8.91 8.91 0 0 0-7.8-6.69v1.12a1.78 1.78 0 0 1-1.09 1.64A2 2 0 0 1 8.18 16l-5.06-4.41a1.76 1.76 0 0 1 0-2.68l5.06-4.42a2 2 0 0 1 2.18-.3 1.78 1.78 0 0 1 1.09 1.64V7A10.89 10.89 0 0 1 21.5 17.75a10.29 10.29 0 0 1-.31 2.49 1 1 0 0 1-1 .76z"/></g></g>',unlock:'<g data-name="Layer 2"><g data-name="unlock"><rect width="24" height="24" opacity="0"/><circle cx="12" cy="15" r="1"/><path d="M17 8h-7V6a2 2 0 0 1 4 0 1 1 0 0 0 2 0 4 4 0 0 0-8 0v2H7a3 3 0 0 0-3 3v8a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3v-8a3 3 0 0 0-3-3zm-5 10a3 3 0 1 1 3-3 3 3 0 0 1-3 3z"/></g></g>',upload:'<g data-name="Layer 2"><g data-name="upload"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><rect x="4" y="4" width="16" height="2" rx="1" ry="1" transform="rotate(180 12 5)"/><rect x="17" y="5" width="4" height="2" rx="1" ry="1" transform="rotate(90 19 6)"/><rect x="3" y="5" width="4" height="2" rx="1" ry="1" transform="rotate(90 5 6)"/><path d="M8 14a1 1 0 0 1-.8-.4 1 1 0 0 1 .2-1.4l4-3a1 1 0 0 1 1.18 0l4 2.82a1 1 0 0 1 .24 1.39 1 1 0 0 1-1.4.24L12 11.24 8.6 13.8a1 1 0 0 1-.6.2z"/><path d="M12 21a1 1 0 0 1-1-1v-8a1 1 0 0 1 2 0v8a1 1 0 0 1-1 1z"/></g></g>',"video-off":'<g data-name="Layer 2"><g data-name="video-off"><rect width="24" height="24" opacity="0"/><path d="M14.22 17.05L4.88 7.71 3.12 6 3 5.8A3 3 0 0 0 2 8v8a3 3 0 0 0 3 3h9a2.94 2.94 0 0 0 1.66-.51z"/><path d="M21 7.15a1.7 1.7 0 0 0-1.85.3l-2.15 2V8a3 3 0 0 0-3-3H7.83l1.29 1.29 6.59 6.59 2 2 2 2a1.73 1.73 0 0 0 .6.11 1.68 1.68 0 0 0 .69-.15 1.6 1.6 0 0 0 1-1.48V8.63a1.6 1.6 0 0 0-1-1.48z"/><path d="M17 15.59l-2-2L8.41 7l-2-2-1.7-1.71a1 1 0 0 0-1.42 1.42l.54.53L5.59 7l9.34 9.34 1.46 1.46 2.9 2.91a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"/></g></g>',video:'<g data-name="Layer 2"><g data-name="video"><rect width="24" height="24" opacity="0"/><path d="M21 7.15a1.7 1.7 0 0 0-1.85.3l-2.15 2V8a3 3 0 0 0-3-3H5a3 3 0 0 0-3 3v8a3 3 0 0 0 3 3h9a3 3 0 0 0 3-3v-1.45l2.16 2a1.74 1.74 0 0 0 1.16.45 1.68 1.68 0 0 0 .69-.15 1.6 1.6 0 0 0 1-1.48V8.63A1.6 1.6 0 0 0 21 7.15z"/></g></g>',"volume-down":'<g data-name="Layer 2"><g data-name="volume-down"><rect width="24" height="24" opacity="0"/><path d="M20.78 8.37a1 1 0 1 0-1.56 1.26 4 4 0 0 1 0 4.74A1 1 0 0 0 20 16a1 1 0 0 0 .78-.37 6 6 0 0 0 0-7.26z"/><path d="M16.47 3.12a1 1 0 0 0-1 0L9 7.57H4a1 1 0 0 0-1 1v6.86a1 1 0 0 0 1 1h5l6.41 4.4A1.06 1.06 0 0 0 16 21a1 1 0 0 0 1-1V4a1 1 0 0 0-.53-.88z"/></g></g>',"volume-mute":'<g data-name="Layer 2"><g data-name="volume-mute"><rect width="24" height="24" opacity="0"/><path d="M17 21a1.06 1.06 0 0 1-.57-.17L10 16.43H5a1 1 0 0 1-1-1V8.57a1 1 0 0 1 1-1h5l6.41-4.4A1 1 0 0 1 18 4v16a1 1 0 0 1-1 1z"/></g></g>',"volume-off":'<g data-name="Layer 2"><g data-name="volume-off"><rect width="24" height="24" opacity="0"/><path d="M16.91 14.08l1.44 1.44a6 6 0 0 0-.07-7.15 1 1 0 1 0-1.56 1.26 4 4 0 0 1 .19 4.45z"/><path d="M21 12a6.51 6.51 0 0 1-1.78 4.39l1.42 1.42A8.53 8.53 0 0 0 23 12a8.75 8.75 0 0 0-3.36-6.77 1 1 0 1 0-1.28 1.54A6.8 6.8 0 0 1 21 12z"/><path d="M15 12.17V4a1 1 0 0 0-1.57-.83L9 6.2z"/><path d="M4.74 7.57H2a1 1 0 0 0-1 1v6.86a1 1 0 0 0 1 1h5l6.41 4.4A1.06 1.06 0 0 0 14 21a1 1 0 0 0 1-1v-2.17z"/><path d="M4.71 3.29a1 1 0 0 0-1.42 1.42l16 16a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"/></g></g>',"volume-up":'<g data-name="Layer 2"><g data-name="volume-up"><rect width="24" height="24" opacity="0"/><path d="M18.28 8.37a1 1 0 1 0-1.56 1.26 4 4 0 0 1 0 4.74A1 1 0 0 0 17.5 16a1 1 0 0 0 .78-.37 6 6 0 0 0 0-7.26z"/><path d="M19.64 5.23a1 1 0 1 0-1.28 1.54A6.8 6.8 0 0 1 21 12a6.8 6.8 0 0 1-2.64 5.23 1 1 0 0 0-.13 1.41A1 1 0 0 0 19 19a1 1 0 0 0 .64-.23A8.75 8.75 0 0 0 23 12a8.75 8.75 0 0 0-3.36-6.77z"/><path d="M14.47 3.12a1 1 0 0 0-1 0L7 7.57H2a1 1 0 0 0-1 1v6.86a1 1 0 0 0 1 1h5l6.41 4.4A1.06 1.06 0 0 0 14 21a1 1 0 0 0 1-1V4a1 1 0 0 0-.53-.88z"/></g></g>',"wifi-off":'<g data-name="Layer 2"><g data-name="wifi-off"><rect width="24" height="24" opacity="0"/><circle cx="12" cy="19" r="1"/><path d="M12.44 11l-1.9-1.89-2.46-2.44-1.55-1.55-1.82-1.83a1 1 0 0 0-1.42 1.42l1.38 1.37 1.46 1.46 2.23 2.24 1.55 1.54 2.74 2.74 2.79 2.8 3.85 3.85a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"/><path d="M21.72 7.93A13.93 13.93 0 0 0 12 4a14.1 14.1 0 0 0-4.44.73l1.62 1.62a11.89 11.89 0 0 1 11.16 3 1 1 0 0 0 .69.28 1 1 0 0 0 .72-.31 1 1 0 0 0-.03-1.39z"/><path d="M3.82 6.65a14.32 14.32 0 0 0-1.54 1.28 1 1 0 0 0 1.38 1.44 13.09 13.09 0 0 1 1.6-1.29z"/><path d="M17 13.14a1 1 0 0 0 .71.3 1 1 0 0 0 .72-1.69A9 9 0 0 0 12 9h-.16l2.35 2.35A7 7 0 0 1 17 13.14z"/><path d="M7.43 10.26a8.8 8.8 0 0 0-1.9 1.49A1 1 0 0 0 7 13.14a7.3 7.3 0 0 1 2-1.41z"/><path d="M8.53 15.4a1 1 0 1 0 1.39 1.44 3.06 3.06 0 0 1 3.84-.25l-2.52-2.52a5 5 0 0 0-2.71 1.33z"/></g></g>',wifi:'<g data-name="Layer 2"><g data-name="wifi"><rect width="24" height="24" opacity="0"/><circle cx="12" cy="19" r="1"/><path d="M12 14a5 5 0 0 0-3.47 1.4 1 1 0 1 0 1.39 1.44 3.08 3.08 0 0 1 4.16 0 1 1 0 1 0 1.39-1.44A5 5 0 0 0 12 14z"/><path d="M12 9a9 9 0 0 0-6.47 2.75A1 1 0 0 0 7 13.14a7 7 0 0 1 10.08 0 1 1 0 0 0 .71.3 1 1 0 0 0 .72-1.69A9 9 0 0 0 12 9z"/><path d="M21.72 7.93a14 14 0 0 0-19.44 0 1 1 0 0 0 1.38 1.44 12 12 0 0 1 16.68 0 1 1 0 0 0 .69.28 1 1 0 0 0 .72-.31 1 1 0 0 0-.03-1.41z"/></g></g>',"activity-outline":'<g data-name="Layer 2"><g data-name="activity"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M14.33 20h-.21a2 2 0 0 1-1.76-1.58L9.68 6l-2.76 6.4A1 1 0 0 1 6 13H3a1 1 0 0 1 0-2h2.34l2.51-5.79a2 2 0 0 1 3.79.38L14.32 18l2.76-6.38A1 1 0 0 1 18 11h3a1 1 0 0 1 0 2h-2.34l-2.51 5.79A2 2 0 0 1 14.33 20z"/></g></g>',"alert-circle-outline":'<g data-name="Layer 2"><g data-name="alert-circle"><rect width="24" height="24" opacity="0"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8 8 0 0 1-8 8z"/><circle cx="12" cy="16" r="1"/><path d="M12 7a1 1 0 0 0-1 1v5a1 1 0 0 0 2 0V8a1 1 0 0 0-1-1z"/></g></g>',"alert-triangle-outline":'<g data-name="Layer 2"><g data-name="alert-triangle"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M22.56 16.3L14.89 3.58a3.43 3.43 0 0 0-5.78 0L1.44 16.3a3 3 0 0 0-.05 3A3.37 3.37 0 0 0 4.33 21h15.34a3.37 3.37 0 0 0 2.94-1.66 3 3 0 0 0-.05-3.04zm-1.7 2.05a1.31 1.31 0 0 1-1.19.65H4.33a1.31 1.31 0 0 1-1.19-.65 1 1 0 0 1 0-1l7.68-12.73a1.48 1.48 0 0 1 2.36 0l7.67 12.72a1 1 0 0 1 .01 1.01z"/><circle cx="12" cy="16" r="1"/><path d="M12 8a1 1 0 0 0-1 1v4a1 1 0 0 0 2 0V9a1 1 0 0 0-1-1z"/></g></g>',"archive-outline":'<g data-name="Layer 2"><g data-name="archive"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M21 6a3 3 0 0 0-3-3H6a3 3 0 0 0-2 5.22V18a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V8.22A3 3 0 0 0 21 6zM6 5h12a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2zm12 13a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V9h12z"/><rect x="9" y="12" width="6" height="2" rx=".87" ry=".87"/></g></g>',"arrow-back-outline":'<g data-name="Layer 2"><g data-name="arrow-back"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M19 11H7.14l3.63-4.36a1 1 0 1 0-1.54-1.28l-5 6a1.19 1.19 0 0 0-.09.15c0 .05 0 .08-.07.13A1 1 0 0 0 4 12a1 1 0 0 0 .07.36c0 .05 0 .08.07.13a1.19 1.19 0 0 0 .09.15l5 6A1 1 0 0 0 10 19a1 1 0 0 0 .64-.23 1 1 0 0 0 .13-1.41L7.14 13H19a1 1 0 0 0 0-2z"/></g></g>',"arrow-circle-down-outline":'<g data-name="Layer 2"><g data-name="arrow-circle-down"><rect width="24" height="24" opacity="0"/><path d="M14.31 12.41L13 13.66V8a1 1 0 0 0-2 0v5.59l-1.29-1.3a1 1 0 0 0-1.42 1.42l3 3a1 1 0 0 0 .33.21.94.94 0 0 0 .76 0 .54.54 0 0 0 .16-.1.49.49 0 0 0 .15-.1l3-2.86a1 1 0 0 0-1.38-1.45z"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8 8 0 0 1-8 8z"/></g></g>',"arrow-circle-left-outline":'<g data-name="Layer 2"><g data-name="arrow-circle-left"><rect width="24" height="24" opacity="0"/><path d="M16 11h-5.66l1.25-1.31a1 1 0 0 0-1.45-1.38l-2.86 3a1 1 0 0 0-.09.13.72.72 0 0 0-.11.19.88.88 0 0 0-.06.28L7 12a1 1 0 0 0 .08.38 1 1 0 0 0 .21.32l3 3a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42L10.41 13H16a1 1 0 0 0 0-2z"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8 8 0 0 1-8 8z"/></g></g>',"arrow-circle-right-outline":'<g data-name="Layer 2"><g data-name="arrow-circle-right"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><path d="M17 12v-.09a.88.88 0 0 0-.06-.28.72.72 0 0 0-.11-.19 1 1 0 0 0-.09-.13l-2.86-3a1 1 0 0 0-1.45 1.38L13.66 11H8a1 1 0 0 0 0 2h5.59l-1.3 1.29a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0l3-3a1 1 0 0 0 .21-.32A1 1 0 0 0 17 12z"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8 8 0 0 1-8 8z"/></g></g>',"arrow-circle-up-outline":'<g data-name="Layer 2"><g data-name="arrow-circle-up"><rect width="24" height="24" opacity="0"/><path d="M12.71 7.29a1 1 0 0 0-.32-.21A1 1 0 0 0 12 7h-.1a.82.82 0 0 0-.27.06.72.72 0 0 0-.19.11 1 1 0 0 0-.13.09l-3 2.86a1 1 0 0 0 1.38 1.45L11 10.34V16a1 1 0 0 0 2 0v-5.59l1.29 1.3a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8 8 0 0 1-8 8z"/></g></g>',"arrow-down-outline":'<g data-name="Layer 2"><g data-name="arrow-down"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><path d="M12 17a1.72 1.72 0 0 1-1.33-.64l-4.21-5.1a2.1 2.1 0 0 1-.26-2.21A1.76 1.76 0 0 1 7.79 8h8.42a1.76 1.76 0 0 1 1.59 1.05 2.1 2.1 0 0 1-.26 2.21l-4.21 5.1A1.72 1.72 0 0 1 12 17zm-3.91-7L12 14.82 16 10z"/></g></g>',"arrow-downward-outline":'<g data-name="Layer 2"><g data-name="arrow-downward"><rect width="24" height="24" opacity="0"/><path d="M18.77 13.36a1 1 0 0 0-1.41-.13L13 16.86V5a1 1 0 0 0-2 0v11.86l-4.36-3.63a1 1 0 1 0-1.28 1.54l6 5 .15.09.13.07a1 1 0 0 0 .72 0l.13-.07.15-.09 6-5a1 1 0 0 0 .13-1.41z"/></g></g>',"arrow-forward-outline":'<g data-name="Layer 2"><g data-name="arrow-forward"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><path d="M5 13h11.86l-3.63 4.36a1 1 0 0 0 1.54 1.28l5-6a1.19 1.19 0 0 0 .09-.15c0-.05.05-.08.07-.13A1 1 0 0 0 20 12a1 1 0 0 0-.07-.36c0-.05-.05-.08-.07-.13a1.19 1.19 0 0 0-.09-.15l-5-6A1 1 0 0 0 14 5a1 1 0 0 0-.64.23 1 1 0 0 0-.13 1.41L16.86 11H5a1 1 0 0 0 0 2z"/></g></g>',"arrow-ios-back-outline":'<g data-name="Layer 2"><g data-name="arrow-ios-back"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M13.83 19a1 1 0 0 1-.78-.37l-4.83-6a1 1 0 0 1 0-1.27l5-6a1 1 0 0 1 1.54 1.28L10.29 12l4.32 5.36a1 1 0 0 1-.78 1.64z"/></g></g>',"arrow-ios-downward-outline":'<g data-name="Layer 2"><g data-name="arrow-ios-downward"><rect width="24" height="24" opacity="0"/><path d="M12 16a1 1 0 0 1-.64-.23l-6-5a1 1 0 1 1 1.28-1.54L12 13.71l5.36-4.32a1 1 0 0 1 1.41.15 1 1 0 0 1-.14 1.46l-6 4.83A1 1 0 0 1 12 16z"/></g></g>',"arrow-ios-forward-outline":'<g data-name="Layer 2"><g data-name="arrow-ios-forward"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><path d="M10 19a1 1 0 0 1-.64-.23 1 1 0 0 1-.13-1.41L13.71 12 9.39 6.63a1 1 0 0 1 .15-1.41 1 1 0 0 1 1.46.15l4.83 6a1 1 0 0 1 0 1.27l-5 6A1 1 0 0 1 10 19z"/></g></g>',"arrow-ios-upward-outline":'<g data-name="Layer 2"><g data-name="arrow-ios-upward"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M18 15a1 1 0 0 1-.64-.23L12 10.29l-5.37 4.32a1 1 0 0 1-1.41-.15 1 1 0 0 1 .15-1.41l6-4.83a1 1 0 0 1 1.27 0l6 5a1 1 0 0 1 .13 1.41A1 1 0 0 1 18 15z"/></g></g>',"arrow-left-outline":'<g data-name="Layer 2"><g data-name="arrow-left"><rect width="24" height="24" opacity="0"/><path d="M13.54 18a2.06 2.06 0 0 1-1.3-.46l-5.1-4.21a1.7 1.7 0 0 1 0-2.66l5.1-4.21a2.1 2.1 0 0 1 2.21-.26 1.76 1.76 0 0 1 1.05 1.59v8.42a1.76 1.76 0 0 1-1.05 1.59 2.23 2.23 0 0 1-.91.2zm-4.86-6l4.82 4V8.09z"/></g></g>',"arrow-right-outline":'<g data-name="Layer 2"><g data-name="arrow-right"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M10.46 18a2.23 2.23 0 0 1-.91-.2 1.76 1.76 0 0 1-1.05-1.59V7.79A1.76 1.76 0 0 1 9.55 6.2a2.1 2.1 0 0 1 2.21.26l5.1 4.21a1.7 1.7 0 0 1 0 2.66l-5.1 4.21a2.06 2.06 0 0 1-1.3.46zm0-10v7.9l4.86-3.9z"/></g></g>',"arrow-up-outline":'<g data-name="Layer 2"><g data-name="arrow-up"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M16.21 16H7.79a1.76 1.76 0 0 1-1.59-1 2.1 2.1 0 0 1 .26-2.21l4.21-5.1a1.76 1.76 0 0 1 2.66 0l4.21 5.1A2.1 2.1 0 0 1 17.8 15a1.76 1.76 0 0 1-1.59 1zM8 14h7.9L12 9.18z"/></g></g>',"arrow-upward-outline":'<g data-name="Layer 2"><g data-name="arrow-upward"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M5.23 10.64a1 1 0 0 0 1.41.13L11 7.14V19a1 1 0 0 0 2 0V7.14l4.36 3.63a1 1 0 1 0 1.28-1.54l-6-5-.15-.09-.13-.07a1 1 0 0 0-.72 0l-.13.07-.15.09-6 5a1 1 0 0 0-.13 1.41z"/></g></g>',"arrowhead-down-outline":'<g data-name="Layer 2"><g data-name="arrowhead-down"><rect width="24" height="24" opacity="0"/><path d="M17.37 12.39L12 16.71l-5.36-4.48a1 1 0 1 0-1.28 1.54l6 5a1 1 0 0 0 1.27 0l6-4.83a1 1 0 0 0 .15-1.41 1 1 0 0 0-1.41-.14z"/><path d="M11.36 11.77a1 1 0 0 0 1.27 0l6-4.83a1 1 0 0 0 .15-1.41 1 1 0 0 0-1.41-.15L12 9.71 6.64 5.23a1 1 0 0 0-1.28 1.54z"/></g></g>',"arrowhead-left-outline":'<g data-name="Layer 2"><g data-name="arrowhead-left"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M11.64 5.23a1 1 0 0 0-1.41.13l-5 6a1 1 0 0 0 0 1.27l4.83 6a1 1 0 0 0 .78.37 1 1 0 0 0 .78-1.63L7.29 12l4.48-5.37a1 1 0 0 0-.13-1.4z"/><path d="M14.29 12l4.48-5.37a1 1 0 0 0-1.54-1.28l-5 6a1 1 0 0 0 0 1.27l4.83 6a1 1 0 0 0 .78.37 1 1 0 0 0 .78-1.63z"/></g></g>',"arrowhead-right-outline":'<g data-name="Layer 2"><g data-name="arrowhead-right"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><path d="M18.78 11.37l-4.78-6a1 1 0 0 0-1.41-.15 1 1 0 0 0-.15 1.41L16.71 12l-4.48 5.37a1 1 0 0 0 .13 1.41A1 1 0 0 0 13 19a1 1 0 0 0 .77-.36l5-6a1 1 0 0 0 .01-1.27z"/><path d="M7 5.37a1 1 0 0 0-1.61 1.26L9.71 12l-4.48 5.36a1 1 0 0 0 .13 1.41A1 1 0 0 0 6 19a1 1 0 0 0 .77-.36l5-6a1 1 0 0 0 0-1.27z"/></g></g>',"arrowhead-up-outline":'<g data-name="Layer 2"><g data-name="arrowhead-up"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M6.63 11.61L12 7.29l5.37 4.48A1 1 0 0 0 18 12a1 1 0 0 0 .77-.36 1 1 0 0 0-.13-1.41l-6-5a1 1 0 0 0-1.27 0l-6 4.83a1 1 0 0 0-.15 1.41 1 1 0 0 0 1.41.14z"/><path d="M12.64 12.23a1 1 0 0 0-1.27 0l-6 4.83a1 1 0 0 0-.15 1.41 1 1 0 0 0 1.41.15L12 14.29l5.37 4.48A1 1 0 0 0 18 19a1 1 0 0 0 .77-.36 1 1 0 0 0-.13-1.41z"/></g></g>',"at-outline":'<g data-name="Layer 2"><g data-name="at"><rect width="24" height="24" opacity="0"/><path d="M13 2a10 10 0 0 0-5 19.1 10.15 10.15 0 0 0 4 .9 10 10 0 0 0 6.08-2.06 1 1 0 0 0 .19-1.4 1 1 0 0 0-1.41-.19A8 8 0 1 1 12.77 4 8.17 8.17 0 0 1 20 12.22v.68a1.71 1.71 0 0 1-1.78 1.7 1.82 1.82 0 0 1-1.62-1.88V8.4a1 1 0 0 0-1-1 1 1 0 0 0-1 .87 5 5 0 0 0-3.44-1.36A5.09 5.09 0 1 0 15.31 15a3.6 3.6 0 0 0 5.55.61A3.67 3.67 0 0 0 22 12.9v-.68A10.2 10.2 0 0 0 13 2zm-1.82 13.09A3.09 3.09 0 1 1 14.27 12a3.1 3.1 0 0 1-3.09 3.09z"/></g></g>',"attach-2-outline":'<g data-name="Layer 2"><g data-name="attach-2"><rect width="24" height="24" opacity="0"/><path d="M12 22a5.86 5.86 0 0 1-6-5.7V6.13A4.24 4.24 0 0 1 10.33 2a4.24 4.24 0 0 1 4.34 4.13v10.18a2.67 2.67 0 0 1-5.33 0V6.92a1 1 0 0 1 1-1 1 1 0 0 1 1 1v9.39a.67.67 0 0 0 1.33 0V6.13A2.25 2.25 0 0 0 10.33 4 2.25 2.25 0 0 0 8 6.13V16.3a3.86 3.86 0 0 0 4 3.7 3.86 3.86 0 0 0 4-3.7V6.13a1 1 0 1 1 2 0V16.3a5.86 5.86 0 0 1-6 5.7z"/></g></g>',"attach-outline":'<g data-name="Layer 2"><g data-name="attach"><rect width="24" height="24" opacity="0"/><path d="M9.29 21a6.23 6.23 0 0 1-4.43-1.88 6 6 0 0 1-.22-8.49L12 3.2A4.11 4.11 0 0 1 15 2a4.48 4.48 0 0 1 3.19 1.35 4.36 4.36 0 0 1 .15 6.13l-7.4 7.43a2.54 2.54 0 0 1-1.81.75 2.72 2.72 0 0 1-1.95-.82 2.68 2.68 0 0 1-.08-3.77l6.83-6.86a1 1 0 0 1 1.37 1.41l-6.83 6.86a.68.68 0 0 0 .08.95.78.78 0 0 0 .53.23.56.56 0 0 0 .4-.16l7.39-7.43a2.36 2.36 0 0 0-.15-3.31 2.38 2.38 0 0 0-3.27-.15L6.06 12a4 4 0 0 0 .22 5.67 4.22 4.22 0 0 0 3 1.29 3.67 3.67 0 0 0 2.61-1.06l7.39-7.43a1 1 0 1 1 1.42 1.41l-7.39 7.43A5.65 5.65 0 0 1 9.29 21z"/></g></g>',"award-outline":'<g data-name="Layer 2"><g data-name="award"><rect width="24" height="24" opacity="0"/><path d="M19 20.75l-2.31-9A5.94 5.94 0 0 0 18 8 6 6 0 0 0 6 8a5.94 5.94 0 0 0 1.34 3.77L5 20.75a1 1 0 0 0 1.48 1.11l5.33-3.13 5.68 3.14A.91.91 0 0 0 18 22a1 1 0 0 0 1-1.25zM12 4a4 4 0 1 1-4 4 4 4 0 0 1 4-4zm.31 12.71a1 1 0 0 0-1 0l-3.75 2.2L9 13.21a5.94 5.94 0 0 0 5.92 0L16.45 19z"/></g></g>',"backspace-outline":'<g data-name="Layer 2"><g data-name="backspace"><rect width="24" height="24" opacity="0"/><path d="M20.14 4h-9.77a3 3 0 0 0-2 .78l-.1.11-6 7.48a1 1 0 0 0 .11 1.37l6 5.48a3 3 0 0 0 2 .78h9.77A1.84 1.84 0 0 0 22 18.18V5.82A1.84 1.84 0 0 0 20.14 4zM20 18h-9.63a1 1 0 0 1-.67-.26l-5.33-4.85 5.38-6.67a1 1 0 0 1 .62-.22H20z"/><path d="M11.29 14.71a1 1 0 0 0 1.42 0l1.29-1.3 1.29 1.3a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42L15.41 12l1.3-1.29a1 1 0 0 0-1.42-1.42L14 10.59l-1.29-1.3a1 1 0 0 0-1.42 1.42l1.3 1.29-1.3 1.29a1 1 0 0 0 0 1.42z"/></g></g>',"bar-chart-2-outline":'<g data-name="Layer 2"><g data-name="bar-chart-2"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M12 8a1 1 0 0 0-1 1v11a1 1 0 0 0 2 0V9a1 1 0 0 0-1-1z"/><path d="M19 4a1 1 0 0 0-1 1v15a1 1 0 0 0 2 0V5a1 1 0 0 0-1-1z"/><path d="M5 12a1 1 0 0 0-1 1v7a1 1 0 0 0 2 0v-7a1 1 0 0 0-1-1z"/></g></g>',"bar-chart-outline":'<g data-name="Layer 2"><g data-name="bar-chart"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M12 4a1 1 0 0 0-1 1v15a1 1 0 0 0 2 0V5a1 1 0 0 0-1-1z"/><path d="M19 12a1 1 0 0 0-1 1v7a1 1 0 0 0 2 0v-7a1 1 0 0 0-1-1z"/><path d="M5 8a1 1 0 0 0-1 1v11a1 1 0 0 0 2 0V9a1 1 0 0 0-1-1z"/></g></g>',"battery-outline":'<g data-name="Layer 2"><g data-name="battery"><rect width="24" height="24" opacity="0"/><path d="M15.83 6H4.17A2.31 2.31 0 0 0 2 8.43v7.14A2.31 2.31 0 0 0 4.17 18h11.66A2.31 2.31 0 0 0 18 15.57V8.43A2.31 2.31 0 0 0 15.83 6zm.17 9.57a.52.52 0 0 1-.17.43H4.18a.5.5 0 0 1-.18-.43V8.43A.53.53 0 0 1 4.17 8h11.65a.5.5 0 0 1 .18.43z"/><path d="M21 9a1 1 0 0 0-1 1v4a1 1 0 0 0 2 0v-4a1 1 0 0 0-1-1z"/></g></g>',"behance-outline":'<g data-name="Layer 2"><g data-name="behance"><rect width="24" height="24" opacity="0"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8 8 0 0 1-8 8z"/><path d="M10.52 11.78a1.4 1.4 0 0 0 1.12-1.43c0-1-.77-1.6-1.94-1.6H7v6.5h2.7c1.3-.05 2.3-.72 2.3-1.88a1.52 1.52 0 0 0-1.48-1.59zM8.26 9.67h1.15c.6 0 .95.32.95.85s-.38.89-1.25.89h-.85zm1 4.57h-1V12.3h1.23c.75 0 1.17.38 1.17 1s-.42.94-1.44.94z"/><path d="M14.75 10.3a2.11 2.11 0 0 0-2.28 2.25V13a2.15 2.15 0 0 0 2.34 2.31A2 2 0 0 0 17 13.75h-1.21a.9.9 0 0 1-1 .63 1.07 1.07 0 0 1-1.09-1.19v-.14H17v-.47a2.12 2.12 0 0 0-2.25-2.28zm1 2h-2.02a1 1 0 0 1 1-1.09 1 1 0 0 1 1 1.09z"/><rect x="13.25" y="9.2" width="3" height=".5"/></g></g>',"bell-off-outline":'<g data-name="Layer 2"><g data-name="bell-off"><rect width="24" height="24" opacity="0"/><path d="M8.9 5.17A4.67 4.67 0 0 1 12.64 4a4.86 4.86 0 0 1 4.08 4.9v4.5a1.92 1.92 0 0 0 .1.59l3.6 3.6a1.58 1.58 0 0 0 .45-.6 1.62 1.62 0 0 0-.35-1.78l-1.8-1.81V8.94a6.86 6.86 0 0 0-5.82-6.88 6.71 6.71 0 0 0-5.32 1.61 6.88 6.88 0 0 0-.58.54l1.47 1.43a4.79 4.79 0 0 1 .43-.47z"/><path d="M14 16.86l-.83-.86H5.51l1.18-1.18a2 2 0 0 0 .59-1.42v-3.29l-2-2a5.68 5.68 0 0 0 0 .59v4.7l-1.8 1.81A1.63 1.63 0 0 0 4.64 18H8v.34A3.84 3.84 0 0 0 12 22a3.88 3.88 0 0 0 4-3.22l-.83-.78zM12 20a1.88 1.88 0 0 1-2-1.66V18h4v.34A1.88 1.88 0 0 1 12 20z"/><path d="M20.71 19.29L19.41 18l-2-2-9.52-9.53L6.42 5 4.71 3.29a1 1 0 0 0-1.42 1.42L5.53 7l1.75 1.7 7.31 7.3.07.07L16 17.41l.59.59 2.7 2.71a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"/></g></g>',"bell-outline":'<g data-name="Layer 2"><g data-name="bell"><rect width="24" height="24" opacity="0"/><path d="M20.52 15.21l-1.8-1.81V8.94a6.86 6.86 0 0 0-5.82-6.88 6.74 6.74 0 0 0-7.62 6.67v4.67l-1.8 1.81A1.64 1.64 0 0 0 4.64 18H8v.34A3.84 3.84 0 0 0 12 22a3.84 3.84 0 0 0 4-3.66V18h3.36a1.64 1.64 0 0 0 1.16-2.79zM14 18.34A1.88 1.88 0 0 1 12 20a1.88 1.88 0 0 1-2-1.66V18h4zM5.51 16l1.18-1.18a2 2 0 0 0 .59-1.42V8.73A4.73 4.73 0 0 1 8.9 5.17 4.67 4.67 0 0 1 12.64 4a4.86 4.86 0 0 1 4.08 4.9v4.5a2 2 0 0 0 .58 1.42L18.49 16z"/></g></g>',"bluetooth-outline":'<g data-name="Layer 2"><g data-name="bluetooth"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M13.63 12l4-3.79a1.14 1.14 0 0 0-.13-1.77l-4.67-3.23a1.17 1.17 0 0 0-1.21-.08 1.15 1.15 0 0 0-.62 1v6.2l-3.19-4a1 1 0 0 0-1.56 1.3L9.72 12l-3.5 4.43a1 1 0 0 0 .16 1.4A1 1 0 0 0 7 18a1 1 0 0 0 .78-.38L11 13.56v6.29A1.16 1.16 0 0 0 12.16 21a1.16 1.16 0 0 0 .67-.21l4.64-3.18a1.17 1.17 0 0 0 .49-.85 1.15 1.15 0 0 0-.34-.91zM13 5.76l2.5 1.73L13 9.85zm0 12.49v-4.07l2.47 2.38z"/></g></g>',"book-open-outline":'<g data-name="Layer 2"><g data-name="book-open"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M20.62 4.22a1 1 0 0 0-.84-.2L12 5.77 4.22 4A1 1 0 0 0 3 5v12.2a1 1 0 0 0 .78 1l8 1.8h.44l8-1.8a1 1 0 0 0 .78-1V5a1 1 0 0 0-.38-.78zM5 6.25l6 1.35v10.15L5 16.4zM19 16.4l-6 1.35V7.6l6-1.35z"/></g></g>',"book-outline":'<g data-name="Layer 2"><g data-name="book"><rect width="24" height="24" opacity="0"/><path d="M19 3H7a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1zM7 5h11v10H7a3 3 0 0 0-1 .18V6a1 1 0 0 1 1-1zm0 14a1 1 0 0 1 0-2h11v2z"/></g></g>',"bookmark-outline":'<g data-name="Layer 2"><g data-name="bookmark"><rect width="24" height="24" opacity="0"/><path d="M6.09 21.06a1 1 0 0 1-1-1L4.94 5.4a2.26 2.26 0 0 1 2.18-2.35L16.71 3a2.27 2.27 0 0 1 2.23 2.31l.14 14.66a1 1 0 0 1-.49.87 1 1 0 0 1-1 0l-5.7-3.16-5.29 3.23a1.2 1.2 0 0 1-.51.15zm5.76-5.55a1.11 1.11 0 0 1 .5.12l4.71 2.61-.12-12.95c0-.2-.13-.34-.21-.33l-9.6.09c-.08 0-.19.13-.19.33l.12 12.9 4.28-2.63a1.06 1.06 0 0 1 .51-.14z"/></g></g>',"briefcase-outline":'<g data-name="Layer 2"><g data-name="briefcase"><rect width="24" height="24" opacity="0"/><path d="M19 7h-3V5.5A2.5 2.5 0 0 0 13.5 3h-3A2.5 2.5 0 0 0 8 5.5V7H5a3 3 0 0 0-3 3v8a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-8a3 3 0 0 0-3-3zm-4 2v10H9V9zm-5-3.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5V7h-4zM4 18v-8a1 1 0 0 1 1-1h2v10H5a1 1 0 0 1-1-1zm16 0a1 1 0 0 1-1 1h-2V9h2a1 1 0 0 1 1 1z"/></g></g>',"browser-outline":'<g data-name="Layer 2"><g data-name="browser"><rect width="24" height="24" opacity="0"/><path d="M18 3H6a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3zm1 15a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1v-7h14zM5 9V6a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3z"/><circle cx="8" cy="7.03" r="1"/><circle cx="12" cy="7.03" r="1"/></g></g>',"brush-outline":'<g data-name="Layer 2"><g data-name="brush"><rect width="24" height="24" opacity="0"/><path d="M20 6.83a2.76 2.76 0 0 0-.82-2 2.89 2.89 0 0 0-4 0l-6.6 6.6h-.22a4.42 4.42 0 0 0-4.3 4.31L4 19a1 1 0 0 0 .29.73A1.05 1.05 0 0 0 5 20l3.26-.06a4.42 4.42 0 0 0 4.31-4.3v-.23l6.61-6.6A2.74 2.74 0 0 0 20 6.83zM8.25 17.94L6 18v-2.23a2.4 2.4 0 0 1 2.4-2.36 2.15 2.15 0 0 1 2.15 2.19 2.4 2.4 0 0 1-2.3 2.34zm9.52-10.55l-5.87 5.87a4.55 4.55 0 0 0-.52-.64 3.94 3.94 0 0 0-.64-.52l5.87-5.86a.84.84 0 0 1 1.16 0 .81.81 0 0 1 .23.59.79.79 0 0 1-.23.56z"/></g></g>',"bulb-outline":'<g data-name="Layer 2"><g data-name="bulb"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M12 7a5 5 0 0 0-3 9v4a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2v-4a5 5 0 0 0-3-9zm1.5 7.59a1 1 0 0 0-.5.87V20h-2v-4.54a1 1 0 0 0-.5-.87A3 3 0 0 1 9 12a3 3 0 0 1 6 0 3 3 0 0 1-1.5 2.59z"/><path d="M12 6a1 1 0 0 0 1-1V3a1 1 0 0 0-2 0v2a1 1 0 0 0 1 1z"/><path d="M21 11h-2a1 1 0 0 0 0 2h2a1 1 0 0 0 0-2z"/><path d="M5 11H3a1 1 0 0 0 0 2h2a1 1 0 0 0 0-2z"/><path d="M7.66 6.42L6.22 5a1 1 0 0 0-1.39 1.47l1.44 1.39a1 1 0 0 0 .73.28 1 1 0 0 0 .72-.31 1 1 0 0 0-.06-1.41z"/><path d="M19.19 5.05a1 1 0 0 0-1.41 0l-1.44 1.37a1 1 0 0 0 0 1.41 1 1 0 0 0 .72.31 1 1 0 0 0 .69-.28l1.44-1.39a1 1 0 0 0 0-1.42z"/></g></g>',"calendar-outline":'<g data-name="Layer 2"><g data-name="calendar"><rect width="24" height="24" opacity="0"/><path d="M18 4h-1V3a1 1 0 0 0-2 0v1H9V3a1 1 0 0 0-2 0v1H6a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V7a3 3 0 0 0-3-3zM6 6h1v1a1 1 0 0 0 2 0V6h6v1a1 1 0 0 0 2 0V6h1a1 1 0 0 1 1 1v4H5V7a1 1 0 0 1 1-1zm12 14H6a1 1 0 0 1-1-1v-6h14v6a1 1 0 0 1-1 1z"/><circle cx="8" cy="16" r="1"/><path d="M16 15h-4a1 1 0 0 0 0 2h4a1 1 0 0 0 0-2z"/></g></g>',"camera-outline":'<g data-name="Layer 2"><g data-name="camera"><rect width="24" height="24" opacity="0"/><path d="M19 7h-3V5.5A2.5 2.5 0 0 0 13.5 3h-3A2.5 2.5 0 0 0 8 5.5V7H5a3 3 0 0 0-3 3v8a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-8a3 3 0 0 0-3-3zm-9-1.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5V7h-4zM20 18a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-8a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1z"/><path d="M12 10.5a3.5 3.5 0 1 0 3.5 3.5 3.5 3.5 0 0 0-3.5-3.5zm0 5a1.5 1.5 0 1 1 1.5-1.5 1.5 1.5 0 0 1-1.5 1.5z"/></g></g>',"car-outline":'<g data-name="Layer 2"><g data-name="car"><rect width="24" height="24" opacity="0"/><path d="M21.6 11.22L17 7.52V5a1.91 1.91 0 0 0-1.81-2H3.79A1.91 1.91 0 0 0 2 5v10a2 2 0 0 0 1.2 1.88 3 3 0 1 0 5.6.12h6.36a3 3 0 1 0 5.64 0h.2a1 1 0 0 0 1-1v-4a1 1 0 0 0-.4-.78zM20 12.48V15h-3v-4.92zM7 18a1 1 0 1 1-1-1 1 1 0 0 1 1 1zm5-3H4V5h11v10zm7 3a1 1 0 1 1-1-1 1 1 0 0 1 1 1z"/></g></g>',"cast-outline":'<g data-name="Layer 2"><g data-name="cast"><polyline points="24 24 0 24 0 0" opacity="0"/><path d="M18.4 3H5.6A2.7 2.7 0 0 0 3 5.78V7a1 1 0 0 0 2 0V5.78A.72.72 0 0 1 5.6 5h12.8a.72.72 0 0 1 .6.78v12.44a.72.72 0 0 1-.6.78H17a1 1 0 0 0 0 2h1.4a2.7 2.7 0 0 0 2.6-2.78V5.78A2.7 2.7 0 0 0 18.4 3z"/><path d="M3.86 14A1 1 0 0 0 3 15.17a1 1 0 0 0 1.14.83 2.49 2.49 0 0 1 2.12.72 2.52 2.52 0 0 1 .51 2.84 1 1 0 0 0 .48 1.33 1.06 1.06 0 0 0 .42.09 1 1 0 0 0 .91-.58A4.52 4.52 0 0 0 3.86 14z"/><path d="M3.86 10.08a1 1 0 0 0 .28 2 6 6 0 0 1 5.09 1.71 6 6 0 0 1 1.53 5.95 1 1 0 0 0 .68 1.26.9.9 0 0 0 .28 0 1 1 0 0 0 1-.72 8 8 0 0 0-8.82-10.2z"/><circle cx="4" cy="19" r="1"/></g></g>',"charging-outline":'<g data-name="Layer 2"><g data-name="charging"><rect width="24" height="24" opacity="0"/><path d="M21 9a1 1 0 0 0-1 1v4a1 1 0 0 0 2 0v-4a1 1 0 0 0-1-1z"/><path d="M15.83 6h-3.1l-1.14 2h4.23a.5.5 0 0 1 .18.43v7.14a.52.52 0 0 1-.17.43H13l-1.15 2h4A2.31 2.31 0 0 0 18 15.57V8.43A2.31 2.31 0 0 0 15.83 6z"/><path d="M4 15.57V8.43A.53.53 0 0 1 4.17 8H7l1.13-2h-4A2.31 2.31 0 0 0 2 8.43v7.14A2.31 2.31 0 0 0 4.17 18h3.1l1.14-2H4.18a.5.5 0 0 1-.18-.43z"/><path d="M9 20a1 1 0 0 1-.87-1.5l3.15-5.5H7a1 1 0 0 1-.86-.5 1 1 0 0 1 0-1l4-7a1 1 0 0 1 1.74 1L8.72 11H13a1 1 0 0 1 .86.5 1 1 0 0 1 0 1l-4 7A1 1 0 0 1 9 20z"/></g></g>',"checkmark-circle-2-outline":'<g data-name="Layer 2"><g data-name="checkmark-circle-2"><rect width="24" height="24" opacity="0"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8 8 0 0 1-8 8z"/><path d="M14.7 8.39l-3.78 5-1.63-2.11a1 1 0 0 0-1.58 1.23l2.43 3.11a1 1 0 0 0 .79.38 1 1 0 0 0 .79-.39l4.57-6a1 1 0 1 0-1.6-1.22z"/></g></g>',"checkmark-circle-outline":'<g data-name="Layer 2"><g data-name="checkmark-circle"><rect width="24" height="24" opacity="0"/><path d="M9.71 11.29a1 1 0 0 0-1.42 1.42l3 3A1 1 0 0 0 12 16a1 1 0 0 0 .72-.34l7-8a1 1 0 0 0-1.5-1.32L12 13.54z"/><path d="M21 11a1 1 0 0 0-1 1 8 8 0 0 1-8 8A8 8 0 0 1 6.33 6.36 7.93 7.93 0 0 1 12 4a8.79 8.79 0 0 1 1.9.22 1 1 0 1 0 .47-1.94A10.54 10.54 0 0 0 12 2a10 10 0 0 0-7 17.09A9.93 9.93 0 0 0 12 22a10 10 0 0 0 10-10 1 1 0 0 0-1-1z"/></g></g>',"checkmark-outline":'<g data-name="Layer 2"><g data-name="checkmark"><rect width="24" height="24" opacity="0"/><path d="M9.86 18a1 1 0 0 1-.73-.32l-4.86-5.17a1 1 0 1 1 1.46-1.37l4.12 4.39 8.41-9.2a1 1 0 1 1 1.48 1.34l-9.14 10a1 1 0 0 1-.73.33z"/></g></g>',"checkmark-square-2-outline":'<g data-name="Layer 2"><g data-name="checkmark-square-2"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M18 3H6a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3zm1 15a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1z"/><path d="M14.7 8.39l-3.78 5-1.63-2.11a1 1 0 0 0-1.58 1.23l2.43 3.11a1 1 0 0 0 .79.38 1 1 0 0 0 .79-.39l4.57-6a1 1 0 1 0-1.6-1.22z"/></g></g>',"checkmark-square-outline":'<g data-name="Layer 2"><g data-name="checkmark-square"><rect width="24" height="24" opacity="0"/><path d="M20 11.83a1 1 0 0 0-1 1v5.57a.6.6 0 0 1-.6.6H5.6a.6.6 0 0 1-.6-.6V5.6a.6.6 0 0 1 .6-.6h9.57a1 1 0 1 0 0-2H5.6A2.61 2.61 0 0 0 3 5.6v12.8A2.61 2.61 0 0 0 5.6 21h12.8a2.61 2.61 0 0 0 2.6-2.6v-5.57a1 1 0 0 0-1-1z"/><path d="M10.72 11a1 1 0 0 0-1.44 1.38l2.22 2.33a1 1 0 0 0 .72.31 1 1 0 0 0 .72-.3l6.78-7a1 1 0 1 0-1.44-1.4l-6.05 6.26z"/></g></g>',"chevron-down-outline":'<g data-name="Layer 2"><g data-name="chevron-down"><rect width="24" height="24" opacity="0"/><path d="M12 15.5a1 1 0 0 1-.71-.29l-4-4a1 1 0 1 1 1.42-1.42L12 13.1l3.3-3.18a1 1 0 1 1 1.38 1.44l-4 3.86a1 1 0 0 1-.68.28z"/></g></g>',"chevron-left-outline":'<g data-name="Layer 2"><g data-name="chevron-left"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M13.36 17a1 1 0 0 1-.72-.31l-3.86-4a1 1 0 0 1 0-1.4l4-4a1 1 0 1 1 1.42 1.42L10.9 12l3.18 3.3a1 1 0 0 1 0 1.41 1 1 0 0 1-.72.29z"/></g></g>',"chevron-right-outline":'<g data-name="Layer 2"><g data-name="chevron-right"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><path d="M10.5 17a1 1 0 0 1-.71-.29 1 1 0 0 1 0-1.42L13.1 12 9.92 8.69a1 1 0 0 1 0-1.41 1 1 0 0 1 1.42 0l3.86 4a1 1 0 0 1 0 1.4l-4 4a1 1 0 0 1-.7.32z"/></g></g>',"chevron-up-outline":'<g data-name="Layer 2"><g data-name="chevron-up"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M16 14.5a1 1 0 0 1-.71-.29L12 10.9l-3.3 3.18a1 1 0 0 1-1.41 0 1 1 0 0 1 0-1.42l4-3.86a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1 0 1.42 1 1 0 0 1-.69.28z"/></g></g>',"clipboard-outline":'<g data-name="Layer 2"><g data-name="clipboard"><rect width="24" height="24" opacity="0"/><path d="M18 5V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v1a3 3 0 0 0-3 3v11a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V8a3 3 0 0 0-3-3zM8 4h8v4H8V4zm11 15a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1v1a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V7a1 1 0 0 1 1 1z"/></g></g>',"clock-outline":'<g data-name="Layer 2"><g data-name="clock"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8 8 0 0 1-8 8z"/><path d="M16 11h-3V8a1 1 0 0 0-2 0v4a1 1 0 0 0 1 1h4a1 1 0 0 0 0-2z"/></g></g>',"close-circle-outline":'<g data-name="Layer 2"><g data-name="close-circle"><rect width="24" height="24" opacity="0"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8 8 0 0 1-8 8z"/><path d="M14.71 9.29a1 1 0 0 0-1.42 0L12 10.59l-1.29-1.3a1 1 0 0 0-1.42 1.42l1.3 1.29-1.3 1.29a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0l1.29-1.3 1.29 1.3a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42L13.41 12l1.3-1.29a1 1 0 0 0 0-1.42z"/></g></g>',"close-outline":'<g data-name="Layer 2"><g data-name="close"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M13.41 12l4.3-4.29a1 1 0 1 0-1.42-1.42L12 10.59l-4.29-4.3a1 1 0 0 0-1.42 1.42l4.3 4.29-4.3 4.29a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0l4.29-4.3 4.29 4.3a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"/></g></g>',"close-square-outline":'<g data-name="Layer 2"><g data-name="close-square"><rect width="24" height="24" opacity="0"/><path d="M18 3H6a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3zm1 15a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1z"/><path d="M14.71 9.29a1 1 0 0 0-1.42 0L12 10.59l-1.29-1.3a1 1 0 0 0-1.42 1.42l1.3 1.29-1.3 1.29a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0l1.29-1.3 1.29 1.3a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42L13.41 12l1.3-1.29a1 1 0 0 0 0-1.42z"/></g></g>',"cloud-download-outline":'<g data-name="Layer 2"><g data-name="cloud-download"><rect width="24" height="24" opacity="0"/><path d="M14.31 16.38L13 17.64V12a1 1 0 0 0-2 0v5.59l-1.29-1.3a1 1 0 0 0-1.42 1.42l3 3A1 1 0 0 0 12 21a1 1 0 0 0 .69-.28l3-2.9a1 1 0 1 0-1.38-1.44z"/><path d="M17.67 7A6 6 0 0 0 6.33 7a5 5 0 0 0-3.08 8.27A1 1 0 1 0 4.75 14 3 3 0 0 1 7 9h.1a1 1 0 0 0 1-.8 4 4 0 0 1 7.84 0 1 1 0 0 0 1 .8H17a3 3 0 0 1 2.25 5 1 1 0 0 0 .09 1.42 1 1 0 0 0 .66.25 1 1 0 0 0 .75-.34A5 5 0 0 0 17.67 7z"/></g></g>',"cloud-upload-outline":'<g data-name="Layer 2"><g data-name="cloud-upload"><rect width="24" height="24" opacity="0"/><path d="M12.71 11.29a1 1 0 0 0-1.4 0l-3 2.9a1 1 0 1 0 1.38 1.44L11 14.36V20a1 1 0 0 0 2 0v-5.59l1.29 1.3a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"/><path d="M17.67 7A6 6 0 0 0 6.33 7a5 5 0 0 0-3.08 8.27A1 1 0 1 0 4.75 14 3 3 0 0 1 7 9h.1a1 1 0 0 0 1-.8 4 4 0 0 1 7.84 0 1 1 0 0 0 1 .8H17a3 3 0 0 1 2.25 5 1 1 0 0 0 .09 1.42 1 1 0 0 0 .66.25 1 1 0 0 0 .75-.34A5 5 0 0 0 17.67 7z"/></g></g>',"code-download-outline":'<g data-name="Layer 2"><g data-name="code-download"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M4.29 12l4.48-5.36a1 1 0 1 0-1.54-1.28l-5 6a1 1 0 0 0 0 1.27l4.83 6a1 1 0 0 0 .78.37 1 1 0 0 0 .78-1.63z"/><path d="M21.78 11.37l-4.78-6a1 1 0 0 0-1.56 1.26L19.71 12l-4.48 5.37a1 1 0 0 0 .13 1.41A1 1 0 0 0 16 19a1 1 0 0 0 .77-.36l5-6a1 1 0 0 0 .01-1.27z"/><path d="M15.72 11.41a1 1 0 0 0-1.41 0L13 12.64V8a1 1 0 0 0-2 0v4.59l-1.29-1.3a1 1 0 0 0-1.42 1.42l3 3A1 1 0 0 0 12 16a1 1 0 0 0 .69-.28l3-2.9a1 1 0 0 0 .03-1.41z"/></g></g>',"code-outline":'<g data-name="Layer 2"><g data-name="code"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M8.64 5.23a1 1 0 0 0-1.41.13l-5 6a1 1 0 0 0 0 1.27l4.83 6a1 1 0 0 0 .78.37 1 1 0 0 0 .78-1.63L4.29 12l4.48-5.36a1 1 0 0 0-.13-1.41z"/><path d="M21.78 11.37l-4.78-6a1 1 0 0 0-1.41-.15 1 1 0 0 0-.15 1.41L19.71 12l-4.48 5.37a1 1 0 0 0 .13 1.41A1 1 0 0 0 16 19a1 1 0 0 0 .77-.36l5-6a1 1 0 0 0 .01-1.27z"/></g></g>',"collapse-outline":'<g data-name="Layer 2"><g data-name="collapse"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M19 9h-2.58l3.29-3.29a1 1 0 1 0-1.42-1.42L15 7.57V5a1 1 0 0 0-1-1 1 1 0 0 0-1 1v5a1 1 0 0 0 1 1h5a1 1 0 0 0 0-2z"/><path d="M10 13H5a1 1 0 0 0 0 2h2.57l-3.28 3.29a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0L9 16.42V19a1 1 0 0 0 1 1 1 1 0 0 0 1-1v-5a1 1 0 0 0-1-1z"/></g></g>',"color-palette-outline":'<g data-name="Layer 2"><g data-name="color-palette"><rect width="24" height="24" opacity="0"/><path d="M19.54 5.08A10.61 10.61 0 0 0 11.91 2a10 10 0 0 0-.05 20 2.58 2.58 0 0 0 2.53-1.89 2.52 2.52 0 0 0-.57-2.28.5.5 0 0 1 .37-.83h1.65A6.15 6.15 0 0 0 22 11.33a8.48 8.48 0 0 0-2.46-6.25zM15.88 15h-1.65a2.49 2.49 0 0 0-1.87 4.15.49.49 0 0 1 .12.49c-.05.21-.28.34-.59.36a8 8 0 0 1-7.82-9.11A8.1 8.1 0 0 1 11.92 4H12a8.47 8.47 0 0 1 6.1 2.48 6.5 6.5 0 0 1 1.9 4.77A4.17 4.17 0 0 1 15.88 15z"/><circle cx="12" cy="6.5" r="1.5"/><path d="M15.25 7.2a1.5 1.5 0 1 0 2.05.55 1.5 1.5 0 0 0-2.05-.55z"/><path d="M8.75 7.2a1.5 1.5 0 1 0 .55 2.05 1.5 1.5 0 0 0-.55-2.05z"/><path d="M6.16 11.26a1.5 1.5 0 1 0 2.08.4 1.49 1.49 0 0 0-2.08-.4z"/></g></g>',"color-picker-outline":'<g data-name="Layer 2"><g data-name="color-picker"><rect width="24" height="24" opacity="0"/><path d="M19.4 7.34L16.66 4.6A1.92 1.92 0 0 0 14 4.53l-2 2-1.29-1.24a1 1 0 0 0-1.42 1.42L10.53 8 5 13.53a2 2 0 0 0-.57 1.21L4 18.91a1 1 0 0 0 .29.8A1 1 0 0 0 5 20h.09l4.17-.38a2 2 0 0 0 1.21-.57l5.58-5.58 1.24 1.24a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42l-1.24-1.24 2-2a1.92 1.92 0 0 0-.07-2.71zM9.08 17.62l-3 .28.27-3L12 9.36l2.69 2.7zm7-7L13.36 8l1.91-2L18 8.73z"/></g></g>',"compass-outline":'<g data-name="Layer 2"><g data-name="compass"><rect width="24" height="24" opacity="0"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8 8 0 0 1-8 8z"/><path d="M15.68 8.32a1 1 0 0 0-1.1-.25l-4.21 1.7a1 1 0 0 0-.55.55l-1.75 4.26a1 1 0 0 0 .18 1h.05A1 1 0 0 0 9 16a1 1 0 0 0 .38-.07l4.21-1.7a1 1 0 0 0 .55-.55l1.75-4.26a1 1 0 0 0-.21-1.1zm-4.88 4.89l.71-1.74 1.69-.68-.71 1.74z"/></g></g>',"copy-outline":'<g data-name="Layer 2"><g data-name="copy"><rect width="24" height="24" opacity="0"/><path d="M18 21h-6a3 3 0 0 1-3-3v-6a3 3 0 0 1 3-3h6a3 3 0 0 1 3 3v6a3 3 0 0 1-3 3zm-6-10a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-6a1 1 0 0 0-1-1z"/><path d="M9.73 15H5.67A2.68 2.68 0 0 1 3 12.33V5.67A2.68 2.68 0 0 1 5.67 3h6.66A2.68 2.68 0 0 1 15 5.67V9.4h-2V5.67a.67.67 0 0 0-.67-.67H5.67a.67.67 0 0 0-.67.67v6.66a.67.67 0 0 0 .67.67h4.06z"/></g></g>',"corner-down-left-outline":'<g data-name="Layer 2"><g data-name="corner-down-left"><rect x=".05" y=".05" width="24" height="24" transform="rotate(-89.76 12.05 12.05)" opacity="0"/><path d="M20 6a1 1 0 0 0-1-1 1 1 0 0 0-1 1v5a1 1 0 0 1-.29.71A1 1 0 0 1 17 12H8.08l2.69-3.39a1 1 0 0 0-1.52-1.17l-4 5a1 1 0 0 0 0 1.25l4 5a1 1 0 0 0 .78.37 1 1 0 0 0 .62-.22 1 1 0 0 0 .15-1.41l-2.66-3.36h8.92a3 3 0 0 0 3-3z"/></g></g>',"corner-down-right-outline":'<g data-name="Layer 2"><g data-name="corner-down-right"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><path d="M19.78 12.38l-4-5a1 1 0 0 0-1.56 1.24l2.7 3.38H8a1 1 0 0 1-1-1V6a1 1 0 0 0-2 0v5a3 3 0 0 0 3 3h8.92l-2.7 3.38a1 1 0 0 0 .16 1.4A1 1 0 0 0 15 19a1 1 0 0 0 .78-.38l4-5a1 1 0 0 0 0-1.24z"/></g></g>',"corner-left-down-outline":'<g data-name="Layer 2"><g data-name="corner-left-down"><rect width="24" height="24" opacity="0"/><path d="M18 5h-5a3 3 0 0 0-3 3v8.92l-3.38-2.7a1 1 0 0 0-1.24 1.56l5 4a1 1 0 0 0 1.24 0l5-4a1 1 0 1 0-1.24-1.56L12 16.92V8a1 1 0 0 1 1-1h5a1 1 0 0 0 0-2z"/></g></g>',"corner-left-up-outline":'<g data-name="Layer 2"><g data-name="corner-left-up"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M18 17h-5a1 1 0 0 1-1-1V7.08l3.38 2.7A1 1 0 0 0 16 10a1 1 0 0 0 .78-.38 1 1 0 0 0-.16-1.4l-5-4a1 1 0 0 0-1.24 0l-5 4a1 1 0 0 0 1.24 1.56L10 7.08V16a3 3 0 0 0 3 3h5a1 1 0 0 0 0-2z"/></g></g>',"corner-right-down-outline":'<g data-name="Layer 2"><g data-name="corner-right-down"><rect width="24" height="24" opacity="0"/><path d="M18.78 14.38a1 1 0 0 0-1.4-.16L14 16.92V8a3 3 0 0 0-3-3H6a1 1 0 0 0 0 2h5a1 1 0 0 1 1 1v8.92l-3.38-2.7a1 1 0 0 0-1.24 1.56l5 4a1 1 0 0 0 1.24 0l5-4a1 1 0 0 0 .16-1.4z"/></g></g>',"corner-right-up-outline":'<g data-name="Layer 2"><g data-name="corner-right-up"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M18.62 8.22l-5-4a1 1 0 0 0-1.24 0l-5 4a1 1 0 0 0 1.24 1.56L12 7.08V16a1 1 0 0 1-1 1H6a1 1 0 0 0 0 2h5a3 3 0 0 0 3-3V7.08l3.38 2.7A1 1 0 0 0 18 10a1 1 0 0 0 .78-.38 1 1 0 0 0-.16-1.4z"/></g></g>',"corner-up-left-outline":'<g data-name="Layer 2"><g data-name="corner-up-left"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M16 10H7.08l2.7-3.38a1 1 0 1 0-1.56-1.24l-4 5a1 1 0 0 0 0 1.24l4 5A1 1 0 0 0 9 17a1 1 0 0 0 .62-.22 1 1 0 0 0 .16-1.4L7.08 12H16a1 1 0 0 1 1 1v5a1 1 0 0 0 2 0v-5a3 3 0 0 0-3-3z"/></g></g>',"corner-up-right-outline":'<g data-name="Layer 2"><g data-name="corner-up-right"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><path d="M19.78 10.38l-4-5a1 1 0 0 0-1.56 1.24l2.7 3.38H8a3 3 0 0 0-3 3v5a1 1 0 0 0 2 0v-5a1 1 0 0 1 1-1h8.92l-2.7 3.38a1 1 0 0 0 .16 1.4A1 1 0 0 0 15 17a1 1 0 0 0 .78-.38l4-5a1 1 0 0 0 0-1.24z"/></g></g>',"credit-card-outline":'<g data-name="Layer 2"><g data-name="credit-card"><rect width="24" height="24" opacity="0"/><path d="M19 5H5a3 3 0 0 0-3 3v8a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V8a3 3 0 0 0-3-3zM4 8a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v1H4zm16 8a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-5h16z"/><path d="M7 15h4a1 1 0 0 0 0-2H7a1 1 0 0 0 0 2z"/><path d="M15 15h2a1 1 0 0 0 0-2h-2a1 1 0 0 0 0 2z"/></g></g>',"crop-outline":'<g data-name="Layer 2"><g data-name="crop"><rect width="24" height="24" opacity="0"/><path d="M21 16h-3V8.56A2.56 2.56 0 0 0 15.44 6H8V3a1 1 0 0 0-2 0v3H3a1 1 0 0 0 0 2h3v7.44A2.56 2.56 0 0 0 8.56 18H16v3a1 1 0 0 0 2 0v-3h3a1 1 0 0 0 0-2zM8.56 16a.56.56 0 0 1-.56-.56V8h7.44a.56.56 0 0 1 .56.56V16z"/></g></g>',"cube-outline":'<g data-name="Layer 2"><g data-name="cube"><rect width="24" height="24" opacity="0"/><path d="M20.66 7.26c0-.07-.1-.14-.15-.21l-.09-.1a2.5 2.5 0 0 0-.86-.68l-6.4-3a2.7 2.7 0 0 0-2.26 0l-6.4 3a2.6 2.6 0 0 0-.86.68L3.52 7a1 1 0 0 0-.15.2A2.39 2.39 0 0 0 3 8.46v7.06a2.49 2.49 0 0 0 1.46 2.26l6.4 3a2.7 2.7 0 0 0 2.27 0l6.4-3A2.49 2.49 0 0 0 21 15.54V8.46a2.39 2.39 0 0 0-.34-1.2zm-8.95-2.2a.73.73 0 0 1 .58 0l5.33 2.48L12 10.15 6.38 7.54zM5.3 16a.47.47 0 0 1-.3-.43V9.1l6 2.79v6.72zm13.39 0L13 18.61v-6.72l6-2.79v6.44a.48.48 0 0 1-.31.46z"/></g></g>',"diagonal-arrow-left-down-outline":'<g data-name="Layer 2"><g data-name="diagonal-arrow-left-down"><rect width="24" height="24" opacity="0"/><path d="M17.71 6.29a1 1 0 0 0-1.42 0L8 14.59V9a1 1 0 0 0-2 0v8a1 1 0 0 0 1 1h8a1 1 0 0 0 0-2H9.41l8.3-8.29a1 1 0 0 0 0-1.42z"/></g></g>',"diagonal-arrow-left-up-outline":'<g data-name="Layer 2"><g data-name="diagonal-arrow-left-up"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M17.71 16.29L9.42 8H15a1 1 0 0 0 0-2H7.05a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1H7a1 1 0 0 0 1-1V9.45l8.26 8.26a1 1 0 0 0 1.42 0 1 1 0 0 0 .03-1.42z"/></g></g>',"diagonal-arrow-right-down-outline":'<g data-name="Layer 2"><g data-name="diagonal-arrow-right-down"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><path d="M17 8a1 1 0 0 0-1 1v5.59l-8.29-8.3a1 1 0 0 0-1.42 1.42l8.3 8.29H9a1 1 0 0 0 0 2h8a1 1 0 0 0 1-1V9a1 1 0 0 0-1-1z"/></g></g>',"diagonal-arrow-right-up-outline":'<g data-name="Layer 2"><g data-name="diagonal-arrow-right-up"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M18 7.05a1 1 0 0 0-1-1L9 6a1 1 0 0 0 0 2h5.56l-8.27 8.29a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0L16 9.42V15a1 1 0 0 0 1 1 1 1 0 0 0 1-1z"/></g></g>',"done-all-outline":'<g data-name="Layer 2"><g data-name="done-all"><rect width="24" height="24" opacity="0"/><path d="M16.62 6.21a1 1 0 0 0-1.41.17l-7 9-3.43-4.18a1 1 0 1 0-1.56 1.25l4.17 5.18a1 1 0 0 0 .78.37 1 1 0 0 0 .83-.38l7.83-10a1 1 0 0 0-.21-1.41z"/><path d="M21.62 6.21a1 1 0 0 0-1.41.17l-7 9-.61-.75-1.26 1.62 1.1 1.37a1 1 0 0 0 .78.37 1 1 0 0 0 .78-.38l7.83-10a1 1 0 0 0-.21-1.4z"/><path d="M8.71 13.06L10 11.44l-.2-.24a1 1 0 0 0-1.43-.2 1 1 0 0 0-.15 1.41z"/></g></g>',"download-outline":'<g data-name="Layer 2"><g data-name="download"><rect width="24" height="24" opacity="0"/><rect x="4" y="18" width="16" height="2" rx="1" ry="1"/><rect x="3" y="17" width="4" height="2" rx="1" ry="1" transform="rotate(-90 5 18)"/><rect x="17" y="17" width="4" height="2" rx="1" ry="1" transform="rotate(-90 19 18)"/><path d="M12 15a1 1 0 0 1-.58-.18l-4-2.82a1 1 0 0 1-.24-1.39 1 1 0 0 1 1.4-.24L12 12.76l3.4-2.56a1 1 0 0 1 1.2 1.6l-4 3a1 1 0 0 1-.6.2z"/><path d="M12 13a1 1 0 0 1-1-1V4a1 1 0 0 1 2 0v8a1 1 0 0 1-1 1z"/></g></g>',"droplet-off-outline":'<g data-name="Layer 2"><g data-name="droplet-off-outline"><rect width="24" height="24" opacity="0"/><path d="M12 19a5.4 5.4 0 0 1-3.88-1.64 5.73 5.73 0 0 1-.69-7.11L6 8.82a7.74 7.74 0 0 0 .7 9.94A7.37 7.37 0 0 0 12 21a7.36 7.36 0 0 0 4.58-1.59L15.15 18A5.43 5.43 0 0 1 12 19z"/><path d="M12 5.43l3.88 4a5.71 5.71 0 0 1 1.49 5.15L19 16.15A7.72 7.72 0 0 0 17.31 8l-4.6-4.7A1 1 0 0 0 12 3a1 1 0 0 0-.72.3L8.73 5.9l1.42 1.42z"/><path d="M20.71 19.29l-16-16a1 1 0 0 0-1.42 1.42l16 16a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"/></g></g>',"droplet-outline":'<g data-name="Layer 2"><g data-name="droplet-outline"><rect x=".1" y=".1" width="24" height="24" transform="rotate(.48 11.987 11.887)" opacity="0"/><path d="M12 21.1a7.4 7.4 0 0 1-5.28-2.28 7.73 7.73 0 0 1 .1-10.77l4.64-4.65a.94.94 0 0 1 .71-.3 1 1 0 0 1 .71.31l4.56 4.72a7.73 7.73 0 0 1-.09 10.77A7.33 7.33 0 0 1 12 21.1zm.13-15.57L8.24 9.45a5.74 5.74 0 0 0-.07 8A5.43 5.43 0 0 0 12 19.1a5.42 5.42 0 0 0 3.9-1.61 5.72 5.72 0 0 0 .06-8z"/></g></g>',"edit-2-outline":'<g data-name="Layer 2"><g data-name="edit-2"><rect width="24" height="24" opacity="0"/><path d="M19 20H5a1 1 0 0 0 0 2h14a1 1 0 0 0 0-2z"/><path d="M5 18h.09l4.17-.38a2 2 0 0 0 1.21-.57l9-9a1.92 1.92 0 0 0-.07-2.71L16.66 2.6A2 2 0 0 0 14 2.53l-9 9a2 2 0 0 0-.57 1.21L4 16.91a1 1 0 0 0 .29.8A1 1 0 0 0 5 18zM15.27 4L18 6.73l-2 1.95L13.32 6zm-8.9 8.91L12 7.32l2.7 2.7-5.6 5.6-3 .28z"/></g></g>',"edit-outline":'<g data-name="Layer 2"><g data-name="edit"><rect width="24" height="24" opacity="0"/><path d="M19.4 7.34L16.66 4.6A2 2 0 0 0 14 4.53l-9 9a2 2 0 0 0-.57 1.21L4 18.91a1 1 0 0 0 .29.8A1 1 0 0 0 5 20h.09l4.17-.38a2 2 0 0 0 1.21-.57l9-9a1.92 1.92 0 0 0-.07-2.71zM9.08 17.62l-3 .28.27-3L12 9.32l2.7 2.7zM16 10.68L13.32 8l1.95-2L18 8.73z"/></g></g>',"email-outline":'<g data-name="Layer 2"><g data-name="email"><rect width="24" height="24" opacity="0"/><path d="M19 4H5a3 3 0 0 0-3 3v10a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V7a3 3 0 0 0-3-3zm-.67 2L12 10.75 5.67 6zM19 18H5a1 1 0 0 1-1-1V7.25l7.4 5.55a1 1 0 0 0 .6.2 1 1 0 0 0 .6-.2L20 7.25V17a1 1 0 0 1-1 1z"/></g></g>',"expand-outline":'<g data-name="Layer 2"><g data-name="expand"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M20 5a1 1 0 0 0-1-1h-5a1 1 0 0 0 0 2h2.57l-3.28 3.29a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0L18 7.42V10a1 1 0 0 0 1 1 1 1 0 0 0 1-1z"/><path d="M10.71 13.29a1 1 0 0 0-1.42 0L6 16.57V14a1 1 0 0 0-1-1 1 1 0 0 0-1 1v5a1 1 0 0 0 1 1h5a1 1 0 0 0 0-2H7.42l3.29-3.29a1 1 0 0 0 0-1.42z"/></g></g>',"external-link-outline":'<g data-name="Layer 2"><g data-name="external-link"><rect width="24" height="24" opacity="0"/><path d="M20 11a1 1 0 0 0-1 1v6a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h6a1 1 0 0 0 0-2H6a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3v-6a1 1 0 0 0-1-1z"/><path d="M16 5h1.58l-6.29 6.28a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0L19 6.42V8a1 1 0 0 0 1 1 1 1 0 0 0 1-1V4a1 1 0 0 0-1-1h-4a1 1 0 0 0 0 2z"/></g></g>',"eye-off-2-outline":'<g data-name="Layer 2"><g data-name="eye-off-2"><rect width="24" height="24" opacity="0"/><path d="M17.81 13.39A8.93 8.93 0 0 0 21 7.62a1 1 0 1 0-2-.24 7.07 7.07 0 0 1-14 0 1 1 0 1 0-2 .24 8.93 8.93 0 0 0 3.18 5.77l-2.3 2.32a1 1 0 0 0 1.41 1.41l2.61-2.6a9.06 9.06 0 0 0 3.1.92V19a1 1 0 0 0 2 0v-3.56a9.06 9.06 0 0 0 3.1-.92l2.61 2.6a1 1 0 0 0 1.41-1.41z"/></g></g>',"eye-off-outline":'<g data-name="Layer 2"><g data-name="eye-off"><rect width="24" height="24" opacity="0"/><path d="M4.71 3.29a1 1 0 0 0-1.42 1.42l5.63 5.63a3.5 3.5 0 0 0 4.74 4.74l5.63 5.63a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42zM12 13.5a1.5 1.5 0 0 1-1.5-1.5v-.07l1.56 1.56z"/><path d="M12.22 17c-4.3.1-7.12-3.59-8-5a13.7 13.7 0 0 1 2.24-2.72L5 7.87a15.89 15.89 0 0 0-2.87 3.63 1 1 0 0 0 0 1c.63 1.09 4 6.5 9.89 6.5h.25a9.48 9.48 0 0 0 3.23-.67l-1.58-1.58a7.74 7.74 0 0 1-1.7.25z"/><path d="M21.87 11.5c-.64-1.11-4.17-6.68-10.14-6.5a9.48 9.48 0 0 0-3.23.67l1.58 1.58a7.74 7.74 0 0 1 1.7-.25c4.29-.11 7.11 3.59 8 5a13.7 13.7 0 0 1-2.29 2.72L19 16.13a15.89 15.89 0 0 0 2.91-3.63 1 1 0 0 0-.04-1z"/></g></g>',"eye-outline":'<g data-name="Layer 2"><g data-name="eye"><rect width="24" height="24" opacity="0"/><path d="M21.87 11.5c-.64-1.11-4.16-6.68-10.14-6.5-5.53.14-8.73 5-9.6 6.5a1 1 0 0 0 0 1c.63 1.09 4 6.5 9.89 6.5h.25c5.53-.14 8.74-5 9.6-6.5a1 1 0 0 0 0-1zM12.22 17c-4.31.1-7.12-3.59-8-5 1-1.61 3.61-4.9 7.61-5 4.29-.11 7.11 3.59 8 5-1.03 1.61-3.61 4.9-7.61 5z"/><path d="M12 8.5a3.5 3.5 0 1 0 3.5 3.5A3.5 3.5 0 0 0 12 8.5zm0 5a1.5 1.5 0 1 1 1.5-1.5 1.5 1.5 0 0 1-1.5 1.5z"/></g></g>',"facebook-outline":'<g data-name="Layer 2"><g data-name="facebook"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M13 22H9a1 1 0 0 1-1-1v-6.2H6a1 1 0 0 1-1-1v-3.6a1 1 0 0 1 1-1h2V7.5A5.77 5.77 0 0 1 14 2h3a1 1 0 0 1 1 1v3.6a1 1 0 0 1-1 1h-3v1.6h3a1 1 0 0 1 .8.39 1 1 0 0 1 .16.88l-1 3.6a1 1 0 0 1-1 .73H14V21a1 1 0 0 1-1 1zm-3-2h2v-6.2a1 1 0 0 1 1-1h2.24l.44-1.6H13a1 1 0 0 1-1-1V7.5a2 2 0 0 1 2-1.9h2V4h-2a3.78 3.78 0 0 0-4 3.5v2.7a1 1 0 0 1-1 1H7v1.6h2a1 1 0 0 1 1 1z"/></g></g>',"file-add-outline":'<g data-name="Layer 2"><g data-name="file-add"><rect width="24" height="24" opacity="0"/><path d="M19.74 8.33l-5.44-6a1 1 0 0 0-.74-.33h-7A2.53 2.53 0 0 0 4 4.5v15A2.53 2.53 0 0 0 6.56 22h10.88A2.53 2.53 0 0 0 20 19.5V9a1 1 0 0 0-.26-.67zM14 5l2.74 3h-2a.79.79 0 0 1-.74-.85zm3.44 15H6.56a.53.53 0 0 1-.56-.5v-15a.53.53 0 0 1 .56-.5H12v3.15A2.79 2.79 0 0 0 14.71 10H18v9.5a.53.53 0 0 1-.56.5z"/><path d="M14 13h-1v-1a1 1 0 0 0-2 0v1h-1a1 1 0 0 0 0 2h1v1a1 1 0 0 0 2 0v-1h1a1 1 0 0 0 0-2z"/></g></g>',"file-outline":'<g data-name="Layer 2"><g data-name="file"><rect width="24" height="24" opacity="0"/><path d="M19.74 8.33l-5.44-6a1 1 0 0 0-.74-.33h-7A2.53 2.53 0 0 0 4 4.5v15A2.53 2.53 0 0 0 6.56 22h10.88A2.53 2.53 0 0 0 20 19.5V9a1 1 0 0 0-.26-.67zM17.65 9h-3.94a.79.79 0 0 1-.71-.85V4h.11zm-.21 11H6.56a.53.53 0 0 1-.56-.5v-15a.53.53 0 0 1 .56-.5H11v4.15A2.79 2.79 0 0 0 13.71 11H18v8.5a.53.53 0 0 1-.56.5z"/></g></g>',"file-remove-outline":'<g data-name="Layer 2"><g data-name="file-remove"><rect width="24" height="24" opacity="0"/><path d="M19.74 8.33l-5.44-6a1 1 0 0 0-.74-.33h-7A2.53 2.53 0 0 0 4 4.5v15A2.53 2.53 0 0 0 6.56 22h10.88A2.53 2.53 0 0 0 20 19.5V9a1 1 0 0 0-.26-.67zM14 5l2.74 3h-2a.79.79 0 0 1-.74-.85zm3.44 15H6.56a.53.53 0 0 1-.56-.5v-15a.53.53 0 0 1 .56-.5H12v3.15A2.79 2.79 0 0 0 14.71 10H18v9.5a.53.53 0 0 1-.56.5z"/><path d="M14 13h-4a1 1 0 0 0 0 2h4a1 1 0 0 0 0-2z"/></g></g>',"file-text-outline":'<g data-name="Layer 2"><g data-name="file-text"><rect width="24" height="24" opacity="0"/><path d="M15 16H9a1 1 0 0 0 0 2h6a1 1 0 0 0 0-2z"/><path d="M9 14h3a1 1 0 0 0 0-2H9a1 1 0 0 0 0 2z"/><path d="M19.74 8.33l-5.44-6a1 1 0 0 0-.74-.33h-7A2.53 2.53 0 0 0 4 4.5v15A2.53 2.53 0 0 0 6.56 22h10.88A2.53 2.53 0 0 0 20 19.5V9a1 1 0 0 0-.26-.67zM14 5l2.74 3h-2a.79.79 0 0 1-.74-.85zm3.44 15H6.56a.53.53 0 0 1-.56-.5v-15a.53.53 0 0 1 .56-.5H12v3.15A2.79 2.79 0 0 0 14.71 10H18v9.5a.53.53 0 0 1-.56.5z"/></g></g>',"film-outline":'<g data-name="Layer 2"><g data-name="film"><rect width="24" height="24" opacity="0"/><path d="M18.26 3H5.74A2.74 2.74 0 0 0 3 5.74v12.52A2.74 2.74 0 0 0 5.74 21h12.52A2.74 2.74 0 0 0 21 18.26V5.74A2.74 2.74 0 0 0 18.26 3zM7 11H5V9h2zm-2 2h2v2H5zm4-8h6v14H9zm10 6h-2V9h2zm-2 2h2v2h-2zm2-7.26V7h-2V5h1.26a.74.74 0 0 1 .74.74zM5.74 5H7v2H5V5.74A.74.74 0 0 1 5.74 5zM5 18.26V17h2v2H5.74a.74.74 0 0 1-.74-.74zm14 0a.74.74 0 0 1-.74.74H17v-2h2z"/></g></g>',"flag-outline":'<g data-name="Layer 2"><g data-name="flag"><polyline points="24 24 0 24 0 0" opacity="0"/><path d="M19.27 4.68a1.79 1.79 0 0 0-1.6-.25 7.53 7.53 0 0 1-2.17.28 8.54 8.54 0 0 1-3.13-.78A10.15 10.15 0 0 0 8.5 3c-2.89 0-4 1-4.2 1.14a1 1 0 0 0-.3.72V20a1 1 0 0 0 2 0v-4.3a6.28 6.28 0 0 1 2.5-.41 8.54 8.54 0 0 1 3.13.78 10.15 10.15 0 0 0 3.87.93 7.66 7.66 0 0 0 3.5-.7 1.74 1.74 0 0 0 1-1.55V6.11a1.77 1.77 0 0 0-.73-1.43zM18 14.59a6.32 6.32 0 0 1-2.5.41 8.36 8.36 0 0 1-3.13-.79 10.34 10.34 0 0 0-3.87-.92 9.51 9.51 0 0 0-2.5.29V5.42A6.13 6.13 0 0 1 8.5 5a8.36 8.36 0 0 1 3.13.79 10.34 10.34 0 0 0 3.87.92 9.41 9.41 0 0 0 2.5-.3z"/></g></g>',"flash-off-outline":'<g data-name="Layer 2"><g data-name="flash-off"><rect width="24" height="24" opacity="0"/><path d="M20.71 19.29l-16-16a1 1 0 0 0-1.42 1.42l16 16a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"/><path d="M12.54 18.06l.27-2.42L10 12.8H6.87l1.24-1.86L6.67 9.5l-2.5 3.74A1 1 0 0 0 5 14.8h5.89l-.77 7.09a1 1 0 0 0 .65 1.05 1 1 0 0 0 .34.06 1 1 0 0 0 .83-.44l3.12-4.67-1.44-1.44z"/><path d="M11.46 5.94l-.27 2.42L14 11.2h3.1l-1.24 1.86 1.44 1.44 2.5-3.74A1 1 0 0 0 19 9.2h-5.89l.77-7.09a1 1 0 0 0-.65-1 1 1 0 0 0-1.17.38L8.94 6.11l1.44 1.44z"/></g></g>',"flash-outline":'<g data-name="Layer 2"><g data-name="flash"><rect width="24" height="24" opacity="0"/><path d="M11.11 23a1 1 0 0 1-.34-.06 1 1 0 0 1-.65-1.05l.77-7.09H5a1 1 0 0 1-.83-1.56l7.89-11.8a1 1 0 0 1 1.17-.38 1 1 0 0 1 .65 1l-.77 7.14H19a1 1 0 0 1 .83 1.56l-7.89 11.8a1 1 0 0 1-.83.44zM6.87 12.8H12a1 1 0 0 1 .74.33 1 1 0 0 1 .25.78l-.45 4.15 4.59-6.86H12a1 1 0 0 1-1-1.11l.45-4.15z"/></g></g>',"flip-2-outline":'<g data-name="Layer 2"><g data-name="flip-2"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M6.09 19h12l-1.3 1.29a1 1 0 0 0 1.42 1.42l3-3a1 1 0 0 0 0-1.42l-3-3a1 1 0 0 0-1.42 0 1 1 0 0 0 0 1.42l1.3 1.29h-12a1.56 1.56 0 0 1-1.59-1.53V13a1 1 0 0 0-2 0v2.47A3.56 3.56 0 0 0 6.09 19z"/><path d="M5.79 9.71a1 1 0 1 0 1.42-1.42L5.91 7h12a1.56 1.56 0 0 1 1.59 1.53V11a1 1 0 0 0 2 0V8.53A3.56 3.56 0 0 0 17.91 5h-12l1.3-1.29a1 1 0 0 0 0-1.42 1 1 0 0 0-1.42 0l-3 3a1 1 0 0 0 0 1.42z"/></g></g>',"flip-outline":'<g data-name="Layer 2"><g data-name="flip-in"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><path d="M5 6.09v12l-1.29-1.3a1 1 0 0 0-1.42 1.42l3 3a1 1 0 0 0 1.42 0l3-3a1 1 0 0 0 0-1.42 1 1 0 0 0-1.42 0L7 18.09v-12A1.56 1.56 0 0 1 8.53 4.5H11a1 1 0 0 0 0-2H8.53A3.56 3.56 0 0 0 5 6.09z"/><path d="M14.29 5.79a1 1 0 0 0 1.42 1.42L17 5.91v12a1.56 1.56 0 0 1-1.53 1.59H13a1 1 0 0 0 0 2h2.47A3.56 3.56 0 0 0 19 17.91v-12l1.29 1.3a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42l-3-3a1 1 0 0 0-1.42 0z"/></g></g>',"folder-add-outline":'<g data-name="Layer 2"><g data-name="folder-add"><rect width="24" height="24" opacity="0"/><path d="M14 13h-1v-1a1 1 0 0 0-2 0v1h-1a1 1 0 0 0 0 2h1v1a1 1 0 0 0 2 0v-1h1a1 1 0 0 0 0-2z"/><path d="M19.5 7.05h-7L9.87 3.87a1 1 0 0 0-.77-.37H4.5A2.47 2.47 0 0 0 2 5.93v12.14a2.47 2.47 0 0 0 2.5 2.43h15a2.47 2.47 0 0 0 2.5-2.43V9.48a2.47 2.47 0 0 0-2.5-2.43zm.5 11a.46.46 0 0 1-.5.43h-15a.46.46 0 0 1-.5-.43V5.93a.46.46 0 0 1 .5-.43h4.13l2.6 3.18a1 1 0 0 0 .77.37h7.5a.46.46 0 0 1 .5.43z"/></g></g>',"folder-outline":'<g data-name="Layer 2"><g data-name="folder"><rect width="24" height="24" opacity="0"/><path d="M19.5 20.5h-15A2.47 2.47 0 0 1 2 18.07V5.93A2.47 2.47 0 0 1 4.5 3.5h4.6a1 1 0 0 1 .77.37l2.6 3.18h7A2.47 2.47 0 0 1 22 9.48v8.59a2.47 2.47 0 0 1-2.5 2.43zM4 13.76v4.31a.46.46 0 0 0 .5.43h15a.46.46 0 0 0 .5-.43V9.48a.46.46 0 0 0-.5-.43H12a1 1 0 0 1-.77-.37L8.63 5.5H4.5a.46.46 0 0 0-.5.43z"/></g></g>',"folder-remove-outline":'<g data-name="Layer 2"><g data-name="folder-remove"><rect width="24" height="24" opacity="0"/><path d="M14 13h-4a1 1 0 0 0 0 2h4a1 1 0 0 0 0-2z"/><path d="M19.5 7.05h-7L9.87 3.87a1 1 0 0 0-.77-.37H4.5A2.47 2.47 0 0 0 2 5.93v12.14a2.47 2.47 0 0 0 2.5 2.43h15a2.47 2.47 0 0 0 2.5-2.43V9.48a2.47 2.47 0 0 0-2.5-2.43zm.5 11a.46.46 0 0 1-.5.43h-15a.46.46 0 0 1-.5-.43V5.93a.46.46 0 0 1 .5-.43h4.13l2.6 3.18a1 1 0 0 0 .77.37h7.5a.46.46 0 0 1 .5.43z"/></g></g>',"funnel-outline":'<g data-name="Layer 2"><g data-name="funnel"><rect width="24" height="24" opacity="0"/><path d="M13.9 22a1 1 0 0 1-.6-.2l-4-3.05a1 1 0 0 1-.39-.8v-3.27l-4.8-9.22A1 1 0 0 1 5 4h14a1 1 0 0 1 .86.49 1 1 0 0 1 0 1l-5 9.21V21a1 1 0 0 1-.55.9 1 1 0 0 1-.41.1zm-3-4.54l2 1.53v-4.55A1 1 0 0 1 13 14l4.3-8H6.64l4.13 8a1 1 0 0 1 .11.46z"/></g></g>',"gift-outline":'<g data-name="Layer 2"><g data-name="gift"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M19.2 7h-.39A3 3 0 0 0 19 6a3.08 3.08 0 0 0-3.14-3A4.46 4.46 0 0 0 12 5.4 4.46 4.46 0 0 0 8.14 3 3.08 3.08 0 0 0 5 6a3 3 0 0 0 .19 1H4.8A2 2 0 0 0 3 9.2v3.6A2.08 2.08 0 0 0 4.5 15v4.37A1.75 1.75 0 0 0 6.31 21h11.38a1.75 1.75 0 0 0 1.81-1.67V15a2.08 2.08 0 0 0 1.5-2.2V9.2A2 2 0 0 0 19.2 7zM19 9.2v3.6a.56.56 0 0 1 0 .2h-6V9h6a.56.56 0 0 1 0 .2zM15.86 5A1.08 1.08 0 0 1 17 6a1.08 1.08 0 0 1-1.14 1H13.4a2.93 2.93 0 0 1 2.46-2zM7 6a1.08 1.08 0 0 1 1.14-1 2.93 2.93 0 0 1 2.45 2H8.14A1.08 1.08 0 0 1 7 6zM5 9.2A.56.56 0 0 1 5 9h6v4H5a.56.56 0 0 1 0-.2zM6.5 15H11v4H6.5zm6.5 4v-4h4.5v4z"/></g></g>',"github-outline":'<g data-name="Layer 2"><rect width="24" height="24" opacity="0"/><path d="M16.24 22a1 1 0 0 1-1-1v-2.6a2.15 2.15 0 0 0-.54-1.66 1 1 0 0 1 .61-1.67C17.75 14.78 20 14 20 9.77a4 4 0 0 0-.67-2.22 2.75 2.75 0 0 1-.41-2.06 3.71 3.71 0 0 0 0-1.41 7.65 7.65 0 0 0-2.09 1.09 1 1 0 0 1-.84.15 10.15 10.15 0 0 0-5.52 0 1 1 0 0 1-.84-.15 7.4 7.4 0 0 0-2.11-1.09 3.52 3.52 0 0 0 0 1.41 2.84 2.84 0 0 1-.43 2.08 4.07 4.07 0 0 0-.67 2.23c0 3.89 1.88 4.93 4.7 5.29a1 1 0 0 1 .82.66 1 1 0 0 1-.21 1 2.06 2.06 0 0 0-.55 1.56V21a1 1 0 0 1-2 0v-.57a6 6 0 0 1-5.27-2.09 3.9 3.9 0 0 0-1.16-.88 1 1 0 1 1 .5-1.94 4.93 4.93 0 0 1 2 1.36c1 1 2 1.88 3.9 1.52a3.89 3.89 0 0 1 .23-1.58c-2.06-.52-5-2-5-7a6 6 0 0 1 1-3.33.85.85 0 0 0 .13-.62 5.69 5.69 0 0 1 .33-3.21 1 1 0 0 1 .63-.57c.34-.1 1.56-.3 3.87 1.2a12.16 12.16 0 0 1 5.69 0c2.31-1.5 3.53-1.31 3.86-1.2a1 1 0 0 1 .63.57 5.71 5.71 0 0 1 .33 3.22.75.75 0 0 0 .11.57 6 6 0 0 1 1 3.34c0 5.07-2.92 6.54-5 7a4.28 4.28 0 0 1 .22 1.67V21a1 1 0 0 1-.94 1z"/></g>',"globe-2-outline":'<g data-name="Layer 2"><g data-name="globe-2"><rect width="24" height="24" opacity="0"/><rect width="24" height="24" opacity="0"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 2a8.19 8.19 0 0 1 1.79.21 2.61 2.61 0 0 1-.78 1c-.22.17-.46.31-.7.46a4.56 4.56 0 0 0-1.85 1.67 6.49 6.49 0 0 0-.62 3.3c0 1.36 0 2.16-.95 2.87-1.37 1.07-3.46.47-4.76-.07A8.33 8.33 0 0 1 4 12a8 8 0 0 1 8-8zM5 15.8a8.42 8.42 0 0 0 2 .27 5 5 0 0 0 3.14-1c1.71-1.34 1.71-3.06 1.71-4.44a4.76 4.76 0 0 1 .37-2.34 2.86 2.86 0 0 1 1.12-.91 9.75 9.75 0 0 0 .92-.61 4.55 4.55 0 0 0 1.4-1.87A8 8 0 0 1 19 8.12c-1.43.2-3.46.67-3.86 2.53A7 7 0 0 0 15 12a2.93 2.93 0 0 1-.29 1.47l-.1.17c-.65 1.08-1.38 2.31-.39 4 .12.21.25.41.38.61a2.29 2.29 0 0 1 .52 1.08A7.89 7.89 0 0 1 12 20a8 8 0 0 1-7-4.2zm11.93 2.52a6.79 6.79 0 0 0-.63-1.14c-.11-.16-.22-.32-.32-.49-.39-.68-.25-1 .38-2l.1-.17a4.77 4.77 0 0 0 .54-2.43 5.42 5.42 0 0 1 .09-1c.16-.73 1.71-.93 2.67-1a7.94 7.94 0 0 1-2.86 8.28z"/></g></g>',"globe-outline":'<g data-name="Layer 2"><g data-name="globe"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M22 12A10 10 0 0 0 12 2a10 10 0 0 0 0 20 10 10 0 0 0 10-10zm-2.07-1H17a12.91 12.91 0 0 0-2.33-6.54A8 8 0 0 1 19.93 11zM9.08 13H15a11.44 11.44 0 0 1-3 6.61A11 11 0 0 1 9.08 13zm0-2A11.4 11.4 0 0 1 12 4.4a11.19 11.19 0 0 1 3 6.6zm.36-6.57A13.18 13.18 0 0 0 7.07 11h-3a8 8 0 0 1 5.37-6.57zM4.07 13h3a12.86 12.86 0 0 0 2.35 6.56A8 8 0 0 1 4.07 13zm10.55 6.55A13.14 13.14 0 0 0 17 13h2.95a8 8 0 0 1-5.33 6.55z"/></g></g>',"google-outline":'<g data-name="Layer 2"><g data-name="google"><polyline points="0 0 24 0 24 24 0 24" opacity="0"/><path d="M12 22h-.43A10.16 10.16 0 0 1 2 12.29a10 10 0 0 1 14.12-9.41 1.48 1.48 0 0 1 .77.86 1.47 1.47 0 0 1-.1 1.16L15.5 7.28a1.44 1.44 0 0 1-1.83.64A4.5 4.5 0 0 0 8.77 9a4.41 4.41 0 0 0-1.16 3.34 4.36 4.36 0 0 0 1.66 3 4.52 4.52 0 0 0 3.45 1 3.89 3.89 0 0 0 2.63-1.57h-2.9A1.45 1.45 0 0 1 11 13.33v-2.68a1.45 1.45 0 0 1 1.45-1.45h8.1A1.46 1.46 0 0 1 22 10.64v1.88A10 10 0 0 1 12 22zm0-18a8 8 0 0 0-8 8.24A8.12 8.12 0 0 0 11.65 20 8 8 0 0 0 20 12.42V11.2h-7v1.58h5.31l-.41 1.3a6 6 0 0 1-4.9 4.25A6.58 6.58 0 0 1 8 17a6.33 6.33 0 0 1-.72-9.3A6.52 6.52 0 0 1 14 5.91l.77-1.43A7.9 7.9 0 0 0 12 4z"/></g></g>',"grid-outline":'<g data-name="Layer 2"><g data-name="grid"><rect width="24" height="24" opacity="0"/><path d="M9 3H5a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h4a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2zM5 9V5h4v4z"/><path d="M19 3h-4a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h4a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2zm-4 6V5h4v4z"/><path d="M9 13H5a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h4a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2zm-4 6v-4h4v4z"/><path d="M19 13h-4a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h4a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2zm-4 6v-4h4v4z"/></g></g>',"hard-drive-outline":'<g data-name="Layer 2"><g data-name="hard-drive"><rect width="24" height="24" opacity="0"/><path d="M20.79 11.34l-3.34-6.68A3 3 0 0 0 14.76 3H9.24a3 3 0 0 0-2.69 1.66l-3.34 6.68a2 2 0 0 0-.21.9V18a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3v-5.76a2 2 0 0 0-.21-.9zM8.34 5.55a1 1 0 0 1 .9-.55h5.52a1 1 0 0 1 .9.55L18.38 11H5.62zM18 19H6a1 1 0 0 1-1-1v-5h14v5a1 1 0 0 1-1 1z"/><path d="M16 15h-4a1 1 0 0 0 0 2h4a1 1 0 0 0 0-2z"/><circle cx="8" cy="16" r="1"/></g></g>',"hash-outline":'<g data-name="Layer 2"><g data-name="hash"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M20 14h-4.3l.73-4H20a1 1 0 0 0 0-2h-3.21l.69-3.81A1 1 0 0 0 16.64 3a1 1 0 0 0-1.22.82L14.67 8h-3.88l.69-3.81A1 1 0 0 0 10.64 3a1 1 0 0 0-1.22.82L8.67 8H4a1 1 0 0 0 0 2h4.3l-.73 4H4a1 1 0 0 0 0 2h3.21l-.69 3.81A1 1 0 0 0 7.36 21a1 1 0 0 0 1.22-.82L9.33 16h3.88l-.69 3.81a1 1 0 0 0 .84 1.19 1 1 0 0 0 1.22-.82l.75-4.18H20a1 1 0 0 0 0-2zM9.7 14l.73-4h3.87l-.73 4z"/></g></g>',"headphones-outline":'<g data-name="Layer 2"><g data-name="headphones"><rect width="24" height="24" opacity="0"/><path d="M12 2A10.2 10.2 0 0 0 2 12.37V17a4 4 0 1 0 4-4 3.91 3.91 0 0 0-2 .56v-1.19A8.2 8.2 0 0 1 12 4a8.2 8.2 0 0 1 8 8.37v1.19a3.91 3.91 0 0 0-2-.56 4 4 0 1 0 4 4v-4.63A10.2 10.2 0 0 0 12 2zM6 15a2 2 0 1 1-2 2 2 2 0 0 1 2-2zm12 4a2 2 0 1 1 2-2 2 2 0 0 1-2 2z"/></g></g>',"heart-outline":'<g data-name="Layer 2"><g data-name="heart"><rect width="24" height="24" opacity="0"/><path d="M12 21a1 1 0 0 1-.71-.29l-7.77-7.78a5.26 5.26 0 0 1 0-7.4 5.24 5.24 0 0 1 7.4 0L12 6.61l1.08-1.08a5.24 5.24 0 0 1 7.4 0 5.26 5.26 0 0 1 0 7.4l-7.77 7.78A1 1 0 0 1 12 21zM7.22 6a3.2 3.2 0 0 0-2.28.94 3.24 3.24 0 0 0 0 4.57L12 18.58l7.06-7.07a3.24 3.24 0 0 0 0-4.57 3.32 3.32 0 0 0-4.56 0l-1.79 1.8a1 1 0 0 1-1.42 0L9.5 6.94A3.2 3.2 0 0 0 7.22 6z"/></g></g>',"home-outline":'<g data-name="Layer 2"><g data-name="home"><rect width="24" height="24" opacity="0"/><path d="M20.42 10.18L12.71 2.3a1 1 0 0 0-1.42 0l-7.71 7.89A2 2 0 0 0 3 11.62V20a2 2 0 0 0 1.89 2h14.22A2 2 0 0 0 21 20v-8.38a2.07 2.07 0 0 0-.58-1.44zM10 20v-6h4v6zm9 0h-3v-7a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v7H5v-8.42l7-7.15 7 7.19z"/></g></g>',"image-outline":'<g data-name="Layer 2"><g data-name="image"><rect width="24" height="24" opacity="0"/><path d="M18 3H6a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3zM6 5h12a1 1 0 0 1 1 1v8.36l-3.2-2.73a2.77 2.77 0 0 0-3.52 0L5 17.7V6a1 1 0 0 1 1-1zm12 14H6.56l7-5.84a.78.78 0 0 1 .93 0L19 17v1a1 1 0 0 1-1 1z"/><circle cx="8" cy="8.5" r="1.5"/></g></g>',"inbox-outline":'<g data-name="Layer 2"><g data-name="inbox"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M20.79 11.34l-3.34-6.68A3 3 0 0 0 14.76 3H9.24a3 3 0 0 0-2.69 1.66l-3.34 6.68a2 2 0 0 0-.21.9V18a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3v-5.76a2 2 0 0 0-.21-.9zM8.34 5.55a1 1 0 0 1 .9-.55h5.52a1 1 0 0 1 .9.55L18.38 11H16a1 1 0 0 0-1 1v3H9v-3a1 1 0 0 0-1-1H5.62zM18 19H6a1 1 0 0 1-1-1v-5h2v3a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1v-3h2v5a1 1 0 0 1-1 1z"/></g></g>',"info-outline":'<g data-name="Layer 2"><g data-name="info"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8 8 0 0 1-8 8z"/><circle cx="12" cy="8" r="1"/><path d="M12 10a1 1 0 0 0-1 1v5a1 1 0 0 0 2 0v-5a1 1 0 0 0-1-1z"/></g></g>',"keypad-outline":'<g data-name="Layer 2"><g data-name="keypad"><rect width="24" height="24" opacity="0"/><path d="M5 2a3 3 0 1 0 3 3 3 3 0 0 0-3-3zm0 4a1 1 0 1 1 1-1 1 1 0 0 1-1 1z"/><path d="M12 2a3 3 0 1 0 3 3 3 3 0 0 0-3-3zm0 4a1 1 0 1 1 1-1 1 1 0 0 1-1 1z"/><path d="M19 8a3 3 0 1 0-3-3 3 3 0 0 0 3 3zm0-4a1 1 0 1 1-1 1 1 1 0 0 1 1-1z"/><path d="M5 9a3 3 0 1 0 3 3 3 3 0 0 0-3-3zm0 4a1 1 0 1 1 1-1 1 1 0 0 1-1 1z"/><path d="M12 9a3 3 0 1 0 3 3 3 3 0 0 0-3-3zm0 4a1 1 0 1 1 1-1 1 1 0 0 1-1 1z"/><path d="M19 9a3 3 0 1 0 3 3 3 3 0 0 0-3-3zm0 4a1 1 0 1 1 1-1 1 1 0 0 1-1 1z"/><path d="M5 16a3 3 0 1 0 3 3 3 3 0 0 0-3-3zm0 4a1 1 0 1 1 1-1 1 1 0 0 1-1 1z"/><path d="M12 16a3 3 0 1 0 3 3 3 3 0 0 0-3-3zm0 4a1 1 0 1 1 1-1 1 1 0 0 1-1 1z"/><path d="M19 16a3 3 0 1 0 3 3 3 3 0 0 0-3-3zm0 4a1 1 0 1 1 1-1 1 1 0 0 1-1 1z"/></g></g>',"layers-outline":'<g data-name="Layer 2"><g data-name="layers"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M21 11.35a1 1 0 0 0-.61-.86l-2.15-.92 2.26-1.3a1 1 0 0 0 .5-.92 1 1 0 0 0-.61-.86l-8-3.41a1 1 0 0 0-.78 0l-8 3.41a1 1 0 0 0-.61.86 1 1 0 0 0 .5.92l2.26 1.3-2.15.92a1 1 0 0 0-.61.86 1 1 0 0 0 .5.92l2.26 1.3-2.15.92a1 1 0 0 0-.61.86 1 1 0 0 0 .5.92l8 4.6a1 1 0 0 0 1 0l8-4.6a1 1 0 0 0 .5-.92 1 1 0 0 0-.61-.86l-2.15-.92 2.26-1.3a1 1 0 0 0 .5-.92zm-9-6.26l5.76 2.45L12 10.85 6.24 7.54zm-.5 7.78a1 1 0 0 0 1 0l3.57-2 1.69.72L12 14.85l-5.76-3.31 1.69-.72zm6.26 2.67L12 18.85l-5.76-3.31 1.69-.72 3.57 2.05a1 1 0 0 0 1 0l3.57-2.05z"/></g></g>',"layout-outline":'<g data-name="Layer 2"><g data-name="layout"><rect width="24" height="24" opacity="0"/><path d="M18 3H6a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3zM6 5h12a1 1 0 0 1 1 1v2H5V6a1 1 0 0 1 1-1zM5 18v-8h6v9H6a1 1 0 0 1-1-1zm13 1h-5v-9h6v8a1 1 0 0 1-1 1z"/></g></g>',"link-2-outline":'<g data-name="Layer 2"><g data-name="link-2"><rect width="24" height="24" opacity="0"/><path d="M13.29 9.29l-4 4a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0l4-4a1 1 0 0 0-1.42-1.42z"/><path d="M12.28 17.4L11 18.67a4.2 4.2 0 0 1-5.58.4 4 4 0 0 1-.27-5.93l1.42-1.43a1 1 0 0 0 0-1.42 1 1 0 0 0-1.42 0l-1.27 1.28a6.15 6.15 0 0 0-.67 8.07 6.06 6.06 0 0 0 9.07.6l1.42-1.42a1 1 0 0 0-1.42-1.42z"/><path d="M19.66 3.22a6.18 6.18 0 0 0-8.13.68L10.45 5a1.09 1.09 0 0 0-.17 1.61 1 1 0 0 0 1.42 0L13 5.3a4.17 4.17 0 0 1 5.57-.4 4 4 0 0 1 .27 5.95l-1.42 1.43a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0l1.42-1.42a6.06 6.06 0 0 0-.6-9.06z"/></g></g>',"link-outline":'<g data-name="Layer 2"><g data-name="link"><rect width="24" height="24" opacity="0"/><path d="M8 12a1 1 0 0 0 1 1h6a1 1 0 0 0 0-2H9a1 1 0 0 0-1 1z"/><path d="M9 16H7.21A4.13 4.13 0 0 1 3 12.37 4 4 0 0 1 7 8h2a1 1 0 0 0 0-2H7.21a6.15 6.15 0 0 0-6.16 5.21A6 6 0 0 0 7 18h2a1 1 0 0 0 0-2z"/><path d="M23 11.24A6.16 6.16 0 0 0 16.76 6h-1.51C14.44 6 14 6.45 14 7a1 1 0 0 0 1 1h1.79A4.13 4.13 0 0 1 21 11.63 4 4 0 0 1 17 16h-2a1 1 0 0 0 0 2h2a6 6 0 0 0 6-6.76z"/></g></g>',"linkedin-outline":'<g data-name="Layer 2"><g data-name="linkedin"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M20 22h-1.67a2 2 0 0 1-2-2v-5.37a.92.92 0 0 0-.69-.93.84.84 0 0 0-.67.19.85.85 0 0 0-.3.65V20a2 2 0 0 1-2 2H11a2 2 0 0 1-2-2v-5.46a6.5 6.5 0 1 1 13 0V20a2 2 0 0 1-2 2zm-4.5-10.31a3.73 3.73 0 0 1 .47 0 2.91 2.91 0 0 1 2.36 2.9V20H20v-5.46a4.5 4.5 0 1 0-9 0V20h1.67v-5.46a2.85 2.85 0 0 1 2.83-2.85z"/><path d="M6 22H4a2 2 0 0 1-2-2V10a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2zM4 10v10h2V10z"/><path d="M5 7a3 3 0 1 1 3-3 3 3 0 0 1-3 3zm0-4a1 1 0 1 0 1 1 1 1 0 0 0-1-1z"/></g></g>',"list-outline":'<g data-name="Layer 2"><g data-name="list"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><circle cx="4" cy="7" r="1"/><circle cx="4" cy="12" r="1"/><circle cx="4" cy="17" r="1"/><rect x="7" y="11" width="14" height="2" rx=".94" ry=".94"/><rect x="7" y="16" width="14" height="2" rx=".94" ry=".94"/><rect x="7" y="6" width="14" height="2" rx=".94" ry=".94"/></g></g>',"loader-outline":'<g data-name="Layer 2"><g data-name="loader"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M12 2a1 1 0 0 0-1 1v2a1 1 0 0 0 2 0V3a1 1 0 0 0-1-1z"/><path d="M21 11h-2a1 1 0 0 0 0 2h2a1 1 0 0 0 0-2z"/><path d="M6 12a1 1 0 0 0-1-1H3a1 1 0 0 0 0 2h2a1 1 0 0 0 1-1z"/><path d="M6.22 5a1 1 0 0 0-1.39 1.47l1.44 1.39a1 1 0 0 0 .73.28 1 1 0 0 0 .72-.31 1 1 0 0 0 0-1.41z"/><path d="M17 8.14a1 1 0 0 0 .69-.28l1.44-1.39A1 1 0 0 0 17.78 5l-1.44 1.42a1 1 0 0 0 0 1.41 1 1 0 0 0 .66.31z"/><path d="M12 18a1 1 0 0 0-1 1v2a1 1 0 0 0 2 0v-2a1 1 0 0 0-1-1z"/><path d="M17.73 16.14a1 1 0 0 0-1.39 1.44L17.78 19a1 1 0 0 0 .69.28 1 1 0 0 0 .72-.3 1 1 0 0 0 0-1.42z"/><path d="M6.27 16.14l-1.44 1.39a1 1 0 0 0 0 1.42 1 1 0 0 0 .72.3 1 1 0 0 0 .67-.25l1.44-1.39a1 1 0 0 0-1.39-1.44z"/></g></g>',"lock-outline":'<g data-name="Layer 2"><g data-name="lock"><rect width="24" height="24" opacity="0"/><path d="M17 8h-1V6.11a4 4 0 1 0-8 0V8H7a3 3 0 0 0-3 3v8a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3v-8a3 3 0 0 0-3-3zm-7-1.89A2.06 2.06 0 0 1 12 4a2.06 2.06 0 0 1 2 2.11V8h-4zM18 19a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1v-8a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1z"/><path d="M12 12a3 3 0 1 0 3 3 3 3 0 0 0-3-3zm0 4a1 1 0 1 1 1-1 1 1 0 0 1-1 1z"/></g></g>',"log-in-outline":'<g data-name="Layer 2"><g data-name="log-in"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><path d="M19 4h-2a1 1 0 0 0 0 2h1v12h-1a1 1 0 0 0 0 2h2a1 1 0 0 0 1-1V5a1 1 0 0 0-1-1z"/><path d="M11.8 7.4a1 1 0 0 0-1.6 1.2L12 11H4a1 1 0 0 0 0 2h8.09l-1.72 2.44a1 1 0 0 0 .24 1.4 1 1 0 0 0 .58.18 1 1 0 0 0 .81-.42l2.82-4a1 1 0 0 0 0-1.18z"/></g></g>',"log-out-outline":'<g data-name="Layer 2"><g data-name="log-out"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M7 6a1 1 0 0 0 0-2H5a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h2a1 1 0 0 0 0-2H6V6z"/><path d="M20.82 11.42l-2.82-4a1 1 0 0 0-1.39-.24 1 1 0 0 0-.24 1.4L18.09 11H10a1 1 0 0 0 0 2h8l-1.8 2.4a1 1 0 0 0 .2 1.4 1 1 0 0 0 .6.2 1 1 0 0 0 .8-.4l3-4a1 1 0 0 0 .02-1.18z"/></g></g>',"map-outline":'<g data-name="Layer 2"><g data-name="map"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M20.41 5.89l-4-1.8H15.59L12 5.7 8.41 4.09h-.05L8.24 4h-.6l-4 1.8a1 1 0 0 0-.64 1V19a1 1 0 0 0 .46.84A1 1 0 0 0 4 20a1 1 0 0 0 .41-.09L8 18.3l3.59 1.61h.05a.85.85 0 0 0 .72 0h.05L16 18.3l3.59 1.61A1 1 0 0 0 20 20a1 1 0 0 0 .54-.16A1 1 0 0 0 21 19V6.8a1 1 0 0 0-.59-.91zM5 7.44l2-.89v10l-2 .89zm4-.89l2 .89v10l-2-.89zm4 .89l2-.89v10l-2 .89zm6 10l-2-.89v-10l2 .89z"/></g></g>',"maximize-outline":'<g data-name="Layer 2"><g data-name="maximize"><rect width="24" height="24" opacity="0"/><path d="M20.71 19.29l-3.4-3.39A7.92 7.92 0 0 0 19 11a8 8 0 1 0-8 8 7.92 7.92 0 0 0 4.9-1.69l3.39 3.4a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42zM5 11a6 6 0 1 1 6 6 6 6 0 0 1-6-6z"/><path d="M13 10h-1V9a1 1 0 0 0-2 0v1H9a1 1 0 0 0 0 2h1v1a1 1 0 0 0 2 0v-1h1a1 1 0 0 0 0-2z"/></g></g>',"menu-2-outline":'<g data-name="Layer 2"><g data-name="menu-2"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><circle cx="4" cy="12" r="1"/><rect x="7" y="11" width="14" height="2" rx=".94" ry=".94"/><rect x="3" y="16" width="18" height="2" rx=".94" ry=".94"/><rect x="3" y="6" width="18" height="2" rx=".94" ry=".94"/></g></g>',"menu-arrow-outline":'<g data-name="Layer 2"><g data-name="menu-arrow"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M20.05 11H5.91l1.3-1.29a1 1 0 0 0-1.42-1.42l-3 3a1 1 0 0 0 0 1.42l3 3a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42L5.91 13h14.14a1 1 0 0 0 .95-.95V12a1 1 0 0 0-.95-1z"/><rect x="3" y="17" width="18" height="2" rx=".95" ry=".95"/><rect x="3" y="5" width="18" height="2" rx=".95" ry=".95"/></g></g>',"menu-outline":'<g data-name="Layer 2"><g data-name="menu"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><rect x="3" y="11" width="18" height="2" rx=".95" ry=".95"/><rect x="3" y="16" width="18" height="2" rx=".95" ry=".95"/><rect x="3" y="6" width="18" height="2" rx=".95" ry=".95"/></g></g>',"message-circle-outline":'<g data-name="Layer 2"><g data-name="message-circle"><circle cx="12" cy="12" r="1"/><circle cx="16" cy="12" r="1"/><circle cx="8" cy="12" r="1"/><path d="M19.07 4.93a10 10 0 0 0-16.28 11 1.06 1.06 0 0 1 .09.64L2 20.8a1 1 0 0 0 .27.91A1 1 0 0 0 3 22h.2l4.28-.86a1.26 1.26 0 0 1 .64.09 10 10 0 0 0 11-16.28zm.83 8.36a8 8 0 0 1-11 6.08 3.26 3.26 0 0 0-1.25-.26 3.43 3.43 0 0 0-.56.05l-2.82.57.57-2.82a3.09 3.09 0 0 0-.21-1.81 8 8 0 0 1 6.08-11 8 8 0 0 1 9.19 9.19z"/><rect width="24" height="24" opacity="0"/></g></g>',"message-square-outline":'<g data-name="Layer 2"><g data-name="message-square"><rect width="24" height="24" opacity="0"/><circle cx="12" cy="11" r="1"/><circle cx="16" cy="11" r="1"/><circle cx="8" cy="11" r="1"/><path d="M19 3H5a3 3 0 0 0-3 3v15a1 1 0 0 0 .51.87A1 1 0 0 0 3 22a1 1 0 0 0 .51-.14L8 19.14a1 1 0 0 1 .55-.14H19a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3zm1 13a1 1 0 0 1-1 1H8.55a3 3 0 0 0-1.55.43l-3 1.8V6a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1z"/></g></g>',"mic-off-outline":'<g data-name="Layer 2"><g data-name="mic-off"><rect width="24" height="24" opacity="0"/><path d="M10 6a2 2 0 0 1 4 0v5a1 1 0 0 1 0 .16l1.6 1.59A4 4 0 0 0 16 11V6a4 4 0 0 0-7.92-.75L10 7.17z"/><path d="M19 11a1 1 0 0 0-2 0 4.86 4.86 0 0 1-.69 2.48L17.78 15A7 7 0 0 0 19 11z"/><path d="M12 15h.16L8 10.83V11a4 4 0 0 0 4 4z"/><path d="M20.71 19.29l-16-16a1 1 0 0 0-1.42 1.42l16 16a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"/><path d="M15 20h-2v-2.08a7 7 0 0 0 1.65-.44l-1.6-1.6A4.57 4.57 0 0 1 12 16a5 5 0 0 1-5-5 1 1 0 0 0-2 0 7 7 0 0 0 6 6.92V20H9a1 1 0 0 0 0 2h6a1 1 0 0 0 0-2z"/></g></g>',"mic-outline":'<g data-name="Layer 2"><g data-name="mic"><rect width="24" height="24" opacity="0"/><path d="M12 15a4 4 0 0 0 4-4V6a4 4 0 0 0-8 0v5a4 4 0 0 0 4 4zm-2-9a2 2 0 0 1 4 0v5a2 2 0 0 1-4 0z"/><path d="M19 11a1 1 0 0 0-2 0 5 5 0 0 1-10 0 1 1 0 0 0-2 0 7 7 0 0 0 6 6.92V20H8.89a.89.89 0 0 0-.89.89v.22a.89.89 0 0 0 .89.89h6.22a.89.89 0 0 0 .89-.89v-.22a.89.89 0 0 0-.89-.89H13v-2.08A7 7 0 0 0 19 11z"/></g></g>',"minimize-outline":'<g data-name="Layer 2"><g data-name="minimize"><rect width="24" height="24" opacity="0"/><path d="M20.71 19.29l-3.4-3.39A7.92 7.92 0 0 0 19 11a8 8 0 1 0-8 8 7.92 7.92 0 0 0 4.9-1.69l3.39 3.4a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42zM5 11a6 6 0 1 1 6 6 6 6 0 0 1-6-6z"/><path d="M13 10H9a1 1 0 0 0 0 2h4a1 1 0 0 0 0-2z"/></g></g>',"minus-circle-outline":'<g data-name="Layer 2"><g data-name="minus-circle"><rect width="24" height="24" opacity="0"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8 8 0 0 1-8 8z"/><path d="M15 11H9a1 1 0 0 0 0 2h6a1 1 0 0 0 0-2z"/></g></g>',"minus-outline":'<g data-name="Layer 2"><g data-name="minus"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M19 13H5a1 1 0 0 1 0-2h14a1 1 0 0 1 0 2z"/></g></g>',"minus-square-outline":'<g data-name="Layer 2"><g data-name="minus-square"><rect width="24" height="24" opacity="0"/><path d="M18 3H6a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3zm1 15a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1z"/><path d="M15 11H9a1 1 0 0 0 0 2h6a1 1 0 0 0 0-2z"/></g></g>',"monitor-outline":'<g data-name="Layer 2"><g data-name="monitor"><rect width="24" height="24" opacity="0"/><path d="M19 3H5a3 3 0 0 0-3 3v8a3 3 0 0 0 3 3h6v2H7a1 1 0 0 0 0 2h10a1 1 0 0 0 0-2h-4v-2h6a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3zm1 11a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1z"/></g></g>',"moon-outline":'<g data-name="Layer 2"><g data-name="moon"><rect width="24" height="24" opacity="0"/><path d="M12.3 22h-.1a10.31 10.31 0 0 1-7.34-3.15 10.46 10.46 0 0 1-.26-14 10.13 10.13 0 0 1 4-2.74 1 1 0 0 1 1.06.22 1 1 0 0 1 .24 1 8.4 8.4 0 0 0 1.94 8.81 8.47 8.47 0 0 0 8.83 1.94 1 1 0 0 1 1.27 1.29A10.16 10.16 0 0 1 19.6 19a10.28 10.28 0 0 1-7.3 3zM7.46 4.92a7.93 7.93 0 0 0-1.37 1.22 8.44 8.44 0 0 0 .2 11.32A8.29 8.29 0 0 0 12.22 20h.08a8.34 8.34 0 0 0 6.78-3.49A10.37 10.37 0 0 1 7.46 4.92z"/></g></g>',"more-horizontal-outline":'<g data-name="Layer 2"><g data-name="more-horizotnal"><rect width="24" height="24" opacity="0"/><circle cx="12" cy="12" r="2"/><circle cx="19" cy="12" r="2"/><circle cx="5" cy="12" r="2"/></g></g>',"more-vertical-outline":'<g data-name="Layer 2"><g data-name="more-vertical"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><circle cx="12" cy="12" r="2"/><circle cx="12" cy="5" r="2"/><circle cx="12" cy="19" r="2"/></g></g>',"move-outline":'<g data-name="Layer 2"><g data-name="move"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M21.71 11.31l-3-3a1 1 0 0 0-1.42 1.42L18.58 11H13V5.41l1.29 1.3A1 1 0 0 0 15 7a1 1 0 0 0 .71-.29 1 1 0 0 0 0-1.42l-3-3A1 1 0 0 0 12 2a1 1 0 0 0-.7.29l-3 3a1 1 0 0 0 1.41 1.42L11 5.42V11H5.41l1.3-1.29a1 1 0 0 0-1.42-1.42l-3 3A1 1 0 0 0 2 12a1 1 0 0 0 .29.71l3 3A1 1 0 0 0 6 16a1 1 0 0 0 .71-.29 1 1 0 0 0 0-1.42L5.42 13H11v5.59l-1.29-1.3a1 1 0 0 0-1.42 1.42l3 3A1 1 0 0 0 12 22a1 1 0 0 0 .7-.29l3-3a1 1 0 0 0-1.42-1.42L13 18.58V13h5.59l-1.3 1.29a1 1 0 0 0 0 1.42A1 1 0 0 0 18 16a1 1 0 0 0 .71-.29l3-3A1 1 0 0 0 22 12a1 1 0 0 0-.29-.69z"/></g></g>',"music-outline":'<g data-name="Layer 2"><g data-name="music"><rect width="24" height="24" opacity="0"/><path d="M19 15V4a1 1 0 0 0-.38-.78 1 1 0 0 0-.84-.2l-9 2A1 1 0 0 0 8 6v8.34a3.49 3.49 0 1 0 2 3.18 4.36 4.36 0 0 0 0-.52V6.8l7-1.55v7.09a3.49 3.49 0 1 0 2 3.17 4.57 4.57 0 0 0 0-.51zM6.54 19A1.49 1.49 0 1 1 8 17.21a1.53 1.53 0 0 1 0 .3A1.49 1.49 0 0 1 6.54 19zm9-2A1.5 1.5 0 1 1 17 15.21a1.53 1.53 0 0 1 0 .3A1.5 1.5 0 0 1 15.51 17z"/></g></g>',"navigation-2-outline":'<g data-name="Layer 2"><g data-name="navigation-2"><rect width="24" height="24" opacity="0"/><path d="M13.67 22h-.06a1 1 0 0 1-.92-.8L11 13l-8.2-1.69a1 1 0 0 1-.12-1.93l16-5.33A1 1 0 0 1 20 5.32l-5.33 16a1 1 0 0 1-1 .68zm-6.8-11.9l5.19 1.06a1 1 0 0 1 .79.78l1.05 5.19 3.52-10.55z"/></g></g>',"navigation-outline":'<g data-name="Layer 2"><g data-name="navigation"><rect width="24" height="24" opacity="0"/><path d="M20 20a.94.94 0 0 1-.55-.17L12 14.9l-7.45 4.93a1 1 0 0 1-1.44-1.28l8-16a1 1 0 0 1 1.78 0l8 16a1 1 0 0 1-.23 1.2A1 1 0 0 1 20 20zm-8-7.3a1 1 0 0 1 .55.17l4.88 3.23L12 5.24 6.57 16.1l4.88-3.23a1 1 0 0 1 .55-.17z"/></g></g>',"npm-outline":'<g data-name="Layer 2"><g data-name="npm"><rect width="24" height="24" opacity="0"/><path d="M18 21H6a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h12a3 3 0 0 1 3 3v12a3 3 0 0 1-3 3zM6 5a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1z"/><rect x="12" y="9" width="4" height="10"/></g></g>',"options-2-outline":'<g data-name="Layer 2"><g data-name="options-2"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M19 9a3 3 0 0 0-2.82 2H3a1 1 0 0 0 0 2h13.18A3 3 0 1 0 19 9zm0 4a1 1 0 1 1 1-1 1 1 0 0 1-1 1z"/><path d="M3 7h1.18a3 3 0 0 0 5.64 0H21a1 1 0 0 0 0-2H9.82a3 3 0 0 0-5.64 0H3a1 1 0 0 0 0 2zm4-2a1 1 0 1 1-1 1 1 1 0 0 1 1-1z"/><path d="M21 17h-7.18a3 3 0 0 0-5.64 0H3a1 1 0 0 0 0 2h5.18a3 3 0 0 0 5.64 0H21a1 1 0 0 0 0-2zm-10 2a1 1 0 1 1 1-1 1 1 0 0 1-1 1z"/></g></g>',"options-outline":'<g data-name="Layer 2"><g data-name="options"><rect width="24" height="24" opacity="0"/><path d="M7 14.18V3a1 1 0 0 0-2 0v11.18a3 3 0 0 0 0 5.64V21a1 1 0 0 0 2 0v-1.18a3 3 0 0 0 0-5.64zM6 18a1 1 0 1 1 1-1 1 1 0 0 1-1 1z"/><path d="M21 13a3 3 0 0 0-2-2.82V3a1 1 0 0 0-2 0v7.18a3 3 0 0 0 0 5.64V21a1 1 0 0 0 2 0v-5.18A3 3 0 0 0 21 13zm-3 1a1 1 0 1 1 1-1 1 1 0 0 1-1 1z"/><path d="M15 5a3 3 0 1 0-4 2.82V21a1 1 0 0 0 2 0V7.82A3 3 0 0 0 15 5zm-3 1a1 1 0 1 1 1-1 1 1 0 0 1-1 1z"/></g></g>',"pantone-outline":'<g data-name="Layer 2"><g data-name="pantone"><rect width="24" height="24" opacity="0"/><path d="M20 13.18h-4.06l2.3-2.47a1 1 0 0 0 0-1.41l-4.19-3.86a.93.93 0 0 0-.71-.26 1 1 0 0 0-.7.31l-1.82 2V4a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v13.09A3.91 3.91 0 0 0 6.91 21H20a1 1 0 0 0 1-1v-5.82a1 1 0 0 0-1-1zm-6.58-5.59l2.67 2.49-5.27 5.66v-5.36zM8.82 10v3H5v-3zm0-5v3H5V5zM5 17.09V15h3.82v2.09a1.91 1.91 0 0 1-3.82 0zM19 19h-8.49l3.56-3.82H19z"/></g></g>',"paper-plane-outline":'<g data-name="Layer 2"><g data-name="paper-plane"><rect width="24" height="24" opacity="0"/><path d="M21 4a1.31 1.31 0 0 0-.06-.27v-.09a1 1 0 0 0-.2-.3 1 1 0 0 0-.29-.19h-.09a.86.86 0 0 0-.31-.15H20a1 1 0 0 0-.3 0l-18 6a1 1 0 0 0 0 1.9l8.53 2.84 2.84 8.53a1 1 0 0 0 1.9 0l6-18A1 1 0 0 0 21 4zm-4.7 2.29l-5.57 5.57L5.16 10zM14 18.84l-1.86-5.57 5.57-5.57z"/></g></g>',"pause-circle-outline":'<g data-name="Layer 2"><g data-name="pause-circle"><rect width="24" height="24" opacity="0"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8 8 0 0 1-8 8z"/><path d="M15 8a1 1 0 0 0-1 1v6a1 1 0 0 0 2 0V9a1 1 0 0 0-1-1z"/><path d="M9 8a1 1 0 0 0-1 1v6a1 1 0 0 0 2 0V9a1 1 0 0 0-1-1z"/></g></g>',"people-outline":'<g data-name="Layer 2"><g data-name="people"><rect width="24" height="24" opacity="0"/><path d="M9 11a4 4 0 1 0-4-4 4 4 0 0 0 4 4zm0-6a2 2 0 1 1-2 2 2 2 0 0 1 2-2z"/><path d="M17 13a3 3 0 1 0-3-3 3 3 0 0 0 3 3zm0-4a1 1 0 1 1-1 1 1 1 0 0 1 1-1z"/><path d="M17 14a5 5 0 0 0-3.06 1.05A7 7 0 0 0 2 20a1 1 0 0 0 2 0 5 5 0 0 1 10 0 1 1 0 0 0 2 0 6.9 6.9 0 0 0-.86-3.35A3 3 0 0 1 20 19a1 1 0 0 0 2 0 5 5 0 0 0-5-5z"/></g></g>',"percent-outline":'<g data-name="Layer 2"><g data-name="percent"><rect width="24" height="24" opacity="0"/><path d="M8 11a3.5 3.5 0 1 0-3.5-3.5A3.5 3.5 0 0 0 8 11zm0-5a1.5 1.5 0 1 1-1.5 1.5A1.5 1.5 0 0 1 8 6z"/><path d="M16 14a3.5 3.5 0 1 0 3.5 3.5A3.5 3.5 0 0 0 16 14zm0 5a1.5 1.5 0 1 1 1.5-1.5A1.5 1.5 0 0 1 16 19z"/><path d="M19.74 4.26a.89.89 0 0 0-1.26 0L4.26 18.48a.91.91 0 0 0-.26.63.89.89 0 0 0 1.52.63L19.74 5.52a.89.89 0 0 0 0-1.26z"/></g></g>',"person-add-outline":'<g data-name="Layer 2"><g data-name="person-add"><rect width="24" height="24" opacity="0"/><path d="M21 6h-1V5a1 1 0 0 0-2 0v1h-1a1 1 0 0 0 0 2h1v1a1 1 0 0 0 2 0V8h1a1 1 0 0 0 0-2z"/><path d="M10 11a4 4 0 1 0-4-4 4 4 0 0 0 4 4zm0-6a2 2 0 1 1-2 2 2 2 0 0 1 2-2z"/><path d="M10 13a7 7 0 0 0-7 7 1 1 0 0 0 2 0 5 5 0 0 1 10 0 1 1 0 0 0 2 0 7 7 0 0 0-7-7z"/></g></g>',"person-delete-outline":'<g data-name="Layer 2"><g data-name="person-delete"><rect width="24" height="24" opacity="0"/><path d="M20.47 7.5l.73-.73a1 1 0 0 0-1.47-1.47L19 6l-.73-.73a1 1 0 0 0-1.47 1.5l.73.73-.73.73a1 1 0 0 0 1.47 1.47L19 9l.73.73a1 1 0 0 0 1.47-1.5z"/><path d="M10 11a4 4 0 1 0-4-4 4 4 0 0 0 4 4zm0-6a2 2 0 1 1-2 2 2 2 0 0 1 2-2z"/><path d="M10 13a7 7 0 0 0-7 7 1 1 0 0 0 2 0 5 5 0 0 1 10 0 1 1 0 0 0 2 0 7 7 0 0 0-7-7z"/></g></g>',"person-done-outline":'<g data-name="Layer 2"><g data-name="person-done"><rect width="24" height="24" opacity="0"/><path d="M21.66 4.25a1 1 0 0 0-1.41.09l-1.87 2.15-.63-.71a1 1 0 0 0-1.5 1.33l1.39 1.56a1 1 0 0 0 .75.33 1 1 0 0 0 .74-.34l2.61-3a1 1 0 0 0-.08-1.41z"/><path d="M10 11a4 4 0 1 0-4-4 4 4 0 0 0 4 4zm0-6a2 2 0 1 1-2 2 2 2 0 0 1 2-2z"/><path d="M10 13a7 7 0 0 0-7 7 1 1 0 0 0 2 0 5 5 0 0 1 10 0 1 1 0 0 0 2 0 7 7 0 0 0-7-7z"/></g></g>',"person-outline":'<g data-name="Layer 2"><g data-name="person"><rect width="24" height="24" opacity="0"/><path d="M12 11a4 4 0 1 0-4-4 4 4 0 0 0 4 4zm0-6a2 2 0 1 1-2 2 2 2 0 0 1 2-2z"/><path d="M12 13a7 7 0 0 0-7 7 1 1 0 0 0 2 0 5 5 0 0 1 10 0 1 1 0 0 0 2 0 7 7 0 0 0-7-7z"/></g></g>',"person-remove-outline":'<g data-name="Layer 2"><g data-name="person-remove"><rect width="24" height="24" opacity="0"/><path d="M21 6h-4a1 1 0 0 0 0 2h4a1 1 0 0 0 0-2z"/><path d="M10 11a4 4 0 1 0-4-4 4 4 0 0 0 4 4zm0-6a2 2 0 1 1-2 2 2 2 0 0 1 2-2z"/><path d="M10 13a7 7 0 0 0-7 7 1 1 0 0 0 2 0 5 5 0 0 1 10 0 1 1 0 0 0 2 0 7 7 0 0 0-7-7z"/></g></g>',"phone-call-outline":'<g data-name="Layer 2"><g data-name="phone-call"><rect width="24" height="24" opacity="0"/><path d="M13 8a3 3 0 0 1 3 3 1 1 0 0 0 2 0 5 5 0 0 0-5-5 1 1 0 0 0 0 2z"/><path d="M13 4a7 7 0 0 1 7 7 1 1 0 0 0 2 0 9 9 0 0 0-9-9 1 1 0 0 0 0 2z"/><path d="M21.75 15.91a1 1 0 0 0-.72-.65l-6-1.37a1 1 0 0 0-.92.26c-.14.13-.15.14-.8 1.38a9.91 9.91 0 0 1-4.87-4.89C9.71 10 9.72 10 9.85 9.85a1 1 0 0 0 .26-.92L8.74 3a1 1 0 0 0-.65-.72 3.79 3.79 0 0 0-.72-.18A3.94 3.94 0 0 0 6.6 2 4.6 4.6 0 0 0 2 6.6 15.42 15.42 0 0 0 17.4 22a4.6 4.6 0 0 0 4.6-4.6 4.77 4.77 0 0 0-.06-.76 4.34 4.34 0 0 0-.19-.73zM17.4 20A13.41 13.41 0 0 1 4 6.6 2.61 2.61 0 0 1 6.6 4h.33L8 8.64l-.54.28c-.86.45-1.54.81-1.18 1.59a11.85 11.85 0 0 0 7.18 7.21c.84.34 1.17-.29 1.62-1.16l.29-.55L20 17.07v.33a2.61 2.61 0 0 1-2.6 2.6z"/></g></g>',"phone-missed-outline":'<g data-name="Layer 2"><g data-name="phone-missed"><rect width="24" height="24" opacity="0"/><path d="M21.94 16.64a4.34 4.34 0 0 0-.19-.73 1 1 0 0 0-.72-.65l-6-1.37a1 1 0 0 0-.92.26c-.14.13-.15.14-.8 1.38a10 10 0 0 1-4.88-4.89C9.71 10 9.72 10 9.85 9.85a1 1 0 0 0 .26-.92L8.74 3a1 1 0 0 0-.65-.72 3.79 3.79 0 0 0-.72-.18A3.94 3.94 0 0 0 6.6 2 4.6 4.6 0 0 0 2 6.6 15.42 15.42 0 0 0 17.4 22a4.6 4.6 0 0 0 4.6-4.6 4.77 4.77 0 0 0-.06-.76zM17.4 20A13.41 13.41 0 0 1 4 6.6 2.61 2.61 0 0 1 6.6 4h.33L8 8.64l-.55.29c-.87.45-1.5.78-1.17 1.58a11.85 11.85 0 0 0 7.18 7.21c.84.34 1.17-.29 1.62-1.16l.29-.55L20 17.07v.33a2.61 2.61 0 0 1-2.6 2.6z"/><path d="M15.8 8.7a1.05 1.05 0 0 0 1.47 0L18 8l.73.73a1 1 0 0 0 1.47-1.5l-.73-.73.73-.73a1 1 0 0 0-1.47-1.47L18 5l-.73-.73a1 1 0 0 0-1.47 1.5l.73.73-.73.73a1.05 1.05 0 0 0 0 1.47z"/></g></g>',"phone-off-outline":'<g data-name="Layer 2"><g data-name="phone-off"><rect width="24" height="24" opacity="0"/><path d="M19.74 4.26a.89.89 0 0 0-1.26 0L4.26 18.48a.91.91 0 0 0-.26.63.89.89 0 0 0 1.52.63L19.74 5.52a.89.89 0 0 0 0-1.26z"/><path d="M6.7 14.63A13.29 13.29 0 0 1 4 6.6 2.61 2.61 0 0 1 6.6 4h.33L8 8.64l-.55.29c-.87.45-1.5.78-1.17 1.58a11.57 11.57 0 0 0 1.57 3l1.43-1.42a10.37 10.37 0 0 1-.8-1.42C9.71 10 9.72 10 9.85 9.85a1 1 0 0 0 .26-.92L8.74 3a1 1 0 0 0-.65-.72 3.79 3.79 0 0 0-.72-.18A3.94 3.94 0 0 0 6.6 2 4.6 4.6 0 0 0 2 6.6a15.33 15.33 0 0 0 3.27 9.46z"/><path d="M21.94 16.64a4.34 4.34 0 0 0-.19-.73 1 1 0 0 0-.72-.65l-6-1.37a1 1 0 0 0-.92.26c-.14.13-.15.14-.8 1.38a10.88 10.88 0 0 1-1.41-.8l-1.43 1.43a11.52 11.52 0 0 0 2.94 1.56c.84.34 1.17-.29 1.62-1.16l.29-.55L20 17.07v.33a2.61 2.61 0 0 1-2.6 2.6 13.29 13.29 0 0 1-8-2.7l-1.46 1.43A15.33 15.33 0 0 0 17.4 22a4.6 4.6 0 0 0 4.6-4.6 4.77 4.77 0 0 0-.06-.76z"/></g></g>',"phone-outline":'<g data-name="Layer 2"><g data-name="phone"><rect width="24" height="24" opacity="0"/><path d="M17.4 22A15.42 15.42 0 0 1 2 6.6 4.6 4.6 0 0 1 6.6 2a3.94 3.94 0 0 1 .77.07 3.79 3.79 0 0 1 .72.18 1 1 0 0 1 .65.75l1.37 6a1 1 0 0 1-.26.92c-.13.14-.14.15-1.37.79a9.91 9.91 0 0 0 4.87 4.89c.65-1.24.66-1.25.8-1.38a1 1 0 0 1 .92-.26l6 1.37a1 1 0 0 1 .72.65 4.34 4.34 0 0 1 .19.73 4.77 4.77 0 0 1 .06.76A4.6 4.6 0 0 1 17.4 22zM6.6 4A2.61 2.61 0 0 0 4 6.6 13.41 13.41 0 0 0 17.4 20a2.61 2.61 0 0 0 2.6-2.6v-.33L15.36 16l-.29.55c-.45.87-.78 1.5-1.62 1.16a11.85 11.85 0 0 1-7.18-7.21c-.36-.78.32-1.14 1.18-1.59L8 8.64 6.93 4z"/></g></g>',"pie-chart-outline":'<g data-name="Layer 2"><g data-name="pie-chart"><rect width="24" height="24" opacity="0"/><path d="M13 2a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1 9 9 0 0 0-9-9zm1 8V4.07A7 7 0 0 1 19.93 10z"/><path d="M20.82 14.06a1 1 0 0 0-1.28.61A8 8 0 1 1 9.33 4.46a1 1 0 0 0-.66-1.89 10 10 0 1 0 12.76 12.76 1 1 0 0 0-.61-1.27z"/></g></g>',"pin-outline":'<g data-name="Layer 2"><g data-name="pin"><rect width="24" height="24" opacity="0"/><path d="M12 2a8 8 0 0 0-8 7.92c0 5.48 7.05 11.58 7.35 11.84a1 1 0 0 0 1.3 0C13 21.5 20 15.4 20 9.92A8 8 0 0 0 12 2zm0 17.65c-1.67-1.59-6-6-6-9.73a6 6 0 0 1 12 0c0 3.7-4.33 8.14-6 9.73z"/><path d="M12 6a3.5 3.5 0 1 0 3.5 3.5A3.5 3.5 0 0 0 12 6zm0 5a1.5 1.5 0 1 1 1.5-1.5A1.5 1.5 0 0 1 12 11z"/></g></g>',"play-circle-outline":'<g data-name="Layer 2"><g data-name="play-circle"><rect width="24" height="24" opacity="0"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8 8 0 0 1-8 8z"/><path d="M12.34 7.45a1.7 1.7 0 0 0-1.85-.3 1.6 1.6 0 0 0-1 1.48v6.74a1.6 1.6 0 0 0 1 1.48 1.68 1.68 0 0 0 .69.15 1.74 1.74 0 0 0 1.16-.45L16 13.18a1.6 1.6 0 0 0 0-2.36zm-.84 7.15V9.4l2.81 2.6z"/></g></g>',"plus-circle-outline":'<g data-name="Layer 2"><g data-name="plus-circle"><rect width="24" height="24" opacity="0"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8 8 0 0 1-8 8z"/><path d="M15 11h-2V9a1 1 0 0 0-2 0v2H9a1 1 0 0 0 0 2h2v2a1 1 0 0 0 2 0v-2h2a1 1 0 0 0 0-2z"/></g></g>',"plus-outline":'<g data-name="Layer 2"><g data-name="plus"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M19 11h-6V5a1 1 0 0 0-2 0v6H5a1 1 0 0 0 0 2h6v6a1 1 0 0 0 2 0v-6h6a1 1 0 0 0 0-2z"/></g></g>',"plus-square-outline":'<g data-name="Layer 2"><g data-name="plus-square"><rect width="24" height="24" opacity="0"/><path d="M18 3H6a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3zm1 15a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1z"/><path d="M15 11h-2V9a1 1 0 0 0-2 0v2H9a1 1 0 0 0 0 2h2v2a1 1 0 0 0 2 0v-2h2a1 1 0 0 0 0-2z"/></g></g>',"power-outline":'<g data-name="Layer 2"><g data-name="power"><rect width="24" height="24" opacity="0"/><path d="M12 13a1 1 0 0 0 1-1V2a1 1 0 0 0-2 0v10a1 1 0 0 0 1 1z"/><path d="M16.59 3.11a1 1 0 0 0-.92 1.78 8 8 0 1 1-7.34 0 1 1 0 1 0-.92-1.78 10 10 0 1 0 9.18 0z"/></g></g>',"pricetags-outline":'<g data-name="Layer 2"><g data-name="pricetags"><rect width="24" height="24" opacity="0"/><path d="M12.87 22a1.84 1.84 0 0 1-1.29-.53l-6.41-6.42a1 1 0 0 1-.29-.61L4 5.09a1 1 0 0 1 .29-.8 1 1 0 0 1 .8-.29l9.35.88a1 1 0 0 1 .61.29l6.42 6.41a1.82 1.82 0 0 1 0 2.57l-7.32 7.32a1.82 1.82 0 0 1-1.28.53zm-6-8.11l6 6 7.05-7.05-6-6-7.81-.73z"/><circle cx="10.5" cy="10.5" r="1.5"/></g></g>',"printer-outline":'<g data-name="Layer 2"><g data-name="printer"><rect width="24" height="24" opacity="0"/><path d="M19.36 7H18V5a1.92 1.92 0 0 0-1.83-2H7.83A1.92 1.92 0 0 0 6 5v2H4.64A2.66 2.66 0 0 0 2 9.67v6.66A2.66 2.66 0 0 0 4.64 19h.86a2 2 0 0 0 2 2h9a2 2 0 0 0 2-2h.86A2.66 2.66 0 0 0 22 16.33V9.67A2.66 2.66 0 0 0 19.36 7zM8 5h8v2H8zm-.5 14v-4h9v4zM20 16.33a.66.66 0 0 1-.64.67h-.86v-2a2 2 0 0 0-2-2h-9a2 2 0 0 0-2 2v2h-.86a.66.66 0 0 1-.64-.67V9.67A.66.66 0 0 1 4.64 9h14.72a.66.66 0 0 1 .64.67z"/></g></g>',"question-mark-circle-outline":'<g data-name="Layer 2"><g data-name="menu-arrow-circle"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8 8 0 0 1-8 8z"/><path d="M12 6a3.5 3.5 0 0 0-3.5 3.5 1 1 0 0 0 2 0A1.5 1.5 0 1 1 12 11a1 1 0 0 0-1 1v2a1 1 0 0 0 2 0v-1.16A3.49 3.49 0 0 0 12 6z"/><circle cx="12" cy="17" r="1"/></g></g>',"question-mark-outline":'<g data-name="Layer 2"><g data-name="question-mark"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M17 9A5 5 0 0 0 7 9a1 1 0 0 0 2 0 3 3 0 1 1 3 3 1 1 0 0 0-1 1v2a1 1 0 0 0 2 0v-1.1A5 5 0 0 0 17 9z"/><circle cx="12" cy="19" r="1"/></g></g>',"radio-button-off-outline":'<g data-name="Layer 2"><g data-name="radio-button-off"><rect width="24" height="24" opacity="0"/><path d="M12 22a10 10 0 1 1 10-10 10 10 0 0 1-10 10zm0-18a8 8 0 1 0 8 8 8 8 0 0 0-8-8z"/></g></g>',"radio-button-on-outline":'<g data-name="Layer 2"><g data-name="radio-button-on"><rect width="24" height="24" opacity="0"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8 8 0 0 1-8 8z"/><path d="M12 7a5 5 0 1 0 5 5 5 5 0 0 0-5-5zm0 8a3 3 0 1 1 3-3 3 3 0 0 1-3 3z"/></g></g>',"radio-outline":'<g data-name="Layer 2"><g data-name="radio"><rect width="24" height="24" opacity="0"/><path d="M12 8a3 3 0 0 0-1 5.83 1 1 0 0 0 0 .17v6a1 1 0 0 0 2 0v-6a1 1 0 0 0 0-.17A3 3 0 0 0 12 8zm0 4a1 1 0 1 1 1-1 1 1 0 0 1-1 1z"/><path d="M3.5 11a6.87 6.87 0 0 1 2.64-5.23 1 1 0 1 0-1.28-1.54A8.84 8.84 0 0 0 1.5 11a8.84 8.84 0 0 0 3.36 6.77 1 1 0 1 0 1.28-1.54A6.87 6.87 0 0 1 3.5 11z"/><path d="M16.64 6.24a1 1 0 0 0-1.28 1.52A4.28 4.28 0 0 1 17 11a4.28 4.28 0 0 1-1.64 3.24A1 1 0 0 0 16 16a1 1 0 0 0 .64-.24A6.2 6.2 0 0 0 19 11a6.2 6.2 0 0 0-2.36-4.76z"/><path d="M8.76 6.36a1 1 0 0 0-1.4-.12A6.2 6.2 0 0 0 5 11a6.2 6.2 0 0 0 2.36 4.76 1 1 0 0 0 1.4-.12 1 1 0 0 0-.12-1.4A4.28 4.28 0 0 1 7 11a4.28 4.28 0 0 1 1.64-3.24 1 1 0 0 0 .12-1.4z"/><path d="M19.14 4.23a1 1 0 1 0-1.28 1.54A6.87 6.87 0 0 1 20.5 11a6.87 6.87 0 0 1-2.64 5.23 1 1 0 0 0 1.28 1.54A8.84 8.84 0 0 0 22.5 11a8.84 8.84 0 0 0-3.36-6.77z"/></g></g>',"recording-outline":'<g data-name="Layer 2"><g data-name="recording"><rect width="24" height="24" opacity="0"/><path d="M18 8a4 4 0 0 0-4 4 3.91 3.91 0 0 0 .56 2H9.44a3.91 3.91 0 0 0 .56-2 4 4 0 1 0-4 4h12a4 4 0 0 0 0-8zM4 12a2 2 0 1 1 2 2 2 2 0 0 1-2-2zm14 2a2 2 0 1 1 2-2 2 2 0 0 1-2 2z"/></g></g>',"refresh-outline":'<g data-name="Layer 2"><g data-name="refresh"><rect width="24" height="24" opacity="0"/><path d="M20.3 13.43a1 1 0 0 0-1.25.65A7.14 7.14 0 0 1 12.18 19 7.1 7.1 0 0 1 5 12a7.1 7.1 0 0 1 7.18-7 7.26 7.26 0 0 1 4.65 1.67l-2.17-.36a1 1 0 0 0-1.15.83 1 1 0 0 0 .83 1.15l4.24.7h.17a1 1 0 0 0 .34-.06.33.33 0 0 0 .1-.06.78.78 0 0 0 .2-.11l.09-.11c0-.05.09-.09.13-.15s0-.1.05-.14a1.34 1.34 0 0 0 .07-.18l.75-4a1 1 0 0 0-2-.38l-.27 1.45A9.21 9.21 0 0 0 12.18 3 9.1 9.1 0 0 0 3 12a9.1 9.1 0 0 0 9.18 9A9.12 9.12 0 0 0 21 14.68a1 1 0 0 0-.7-1.25z"/></g></g>',"repeat-outline":'<g data-name="Layer 2"><g data-name="repeat"><rect width="24" height="24" opacity="0"/><path d="M17.91 5h-12l1.3-1.29a1 1 0 0 0-1.42-1.42l-3 3a1 1 0 0 0 0 1.42l3 3a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42L5.91 7h12a1.56 1.56 0 0 1 1.59 1.53V11a1 1 0 0 0 2 0V8.53A3.56 3.56 0 0 0 17.91 5z"/><path d="M18.21 14.29a1 1 0 0 0-1.42 1.42l1.3 1.29h-12a1.56 1.56 0 0 1-1.59-1.53V13a1 1 0 0 0-2 0v2.47A3.56 3.56 0 0 0 6.09 19h12l-1.3 1.29a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0l3-3a1 1 0 0 0 0-1.42z"/></g></g>',"rewind-left-outline":'<g data-name="Layer 2"><g data-name="rewind-left"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M18.45 6.2a2.1 2.1 0 0 0-2.21.26l-4.74 3.92V7.79a1.76 1.76 0 0 0-1.05-1.59 2.1 2.1 0 0 0-2.21.26l-5.1 4.21a1.7 1.7 0 0 0 0 2.66l5.1 4.21a2.06 2.06 0 0 0 1.3.46 2.23 2.23 0 0 0 .91-.2 1.76 1.76 0 0 0 1.05-1.59v-2.59l4.74 3.92a2.06 2.06 0 0 0 1.3.46 2.23 2.23 0 0 0 .91-.2 1.76 1.76 0 0 0 1.05-1.59V7.79a1.76 1.76 0 0 0-1.05-1.59zM9.5 16l-4.82-4L9.5 8.09zm8 0l-4.82-4 4.82-3.91z"/></g></g>',"rewind-right-outline":'<g data-name="Layer 2"><g data-name="rewind-right"><rect width="24" height="24" opacity="0"/><path d="M20.86 10.67l-5.1-4.21a2.1 2.1 0 0 0-2.21-.26 1.76 1.76 0 0 0-1.05 1.59v2.59L7.76 6.46a2.1 2.1 0 0 0-2.21-.26 1.76 1.76 0 0 0-1 1.59v8.42a1.76 1.76 0 0 0 1 1.59 2.23 2.23 0 0 0 .91.2 2.06 2.06 0 0 0 1.3-.46l4.74-3.92v2.59a1.76 1.76 0 0 0 1.05 1.59 2.23 2.23 0 0 0 .91.2 2.06 2.06 0 0 0 1.3-.46l5.1-4.21a1.7 1.7 0 0 0 0-2.66zM6.5 15.91V8l4.82 4zm8 0V8l4.82 4z"/></g></g>',"save-outline":'<g data-name="Layer 2"><g data-name="save"><rect width="24" height="24" opacity="0"/><path d="M20.12 8.71l-4.83-4.83A3 3 0 0 0 13.17 3H6a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3v-7.17a3 3 0 0 0-.88-2.12zM10 19v-2h4v2zm9-1a1 1 0 0 1-1 1h-2v-3a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v3H6a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h2v5a1 1 0 0 0 1 1h4a1 1 0 0 0 0-2h-3V5h3.17a1.05 1.05 0 0 1 .71.29l4.83 4.83a1 1 0 0 1 .29.71z"/></g></g>',"scissors-outline":'<g data-name="Layer 2"><g data-name="scissors"><rect width="24" height="24" opacity="0"/><path d="M20.21 5.71a1 1 0 1 0-1.42-1.42l-6.28 6.31-3.3-3.31A3 3 0 0 0 9.5 6a3 3 0 1 0-3 3 3 3 0 0 0 1.29-.3L11.1 12l-3.29 3.3A3 3 0 0 0 6.5 15a3 3 0 1 0 3 3 3 3 0 0 0-.29-1.26zM6.5 7a1 1 0 1 1 1-1 1 1 0 0 1-1 1zm0 12a1 1 0 1 1 1-1 1 1 0 0 1-1 1z"/><path d="M15.21 13.29a1 1 0 0 0-1.42 1.42l5 5a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"/></g></g>',"search-outline":'<g data-name="Layer 2"><g data-name="search"><rect width="24" height="24" opacity="0"/><path d="M20.71 19.29l-3.4-3.39A7.92 7.92 0 0 0 19 11a8 8 0 1 0-8 8 7.92 7.92 0 0 0 4.9-1.69l3.39 3.4a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42zM5 11a6 6 0 1 1 6 6 6 6 0 0 1-6-6z"/></g></g>',"settings-2-outline":'<g data-name="Layer 2"><g data-name="settings-2"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M12.94 22h-1.89a1.68 1.68 0 0 1-1.68-1.68v-1.09a.34.34 0 0 0-.22-.29.38.38 0 0 0-.41 0l-.74.8a1.67 1.67 0 0 1-2.37 0L4.26 18.4a1.66 1.66 0 0 1-.5-1.19 1.72 1.72 0 0 1 .5-1.21l.74-.74a.34.34 0 0 0 0-.37c-.06-.15-.16-.26-.3-.26H3.68A1.69 1.69 0 0 1 2 12.94v-1.89a1.68 1.68 0 0 1 1.68-1.68h1.09a.34.34 0 0 0 .29-.22.38.38 0 0 0 0-.41L4.26 8a1.67 1.67 0 0 1 0-2.37L5.6 4.26a1.65 1.65 0 0 1 1.18-.5 1.72 1.72 0 0 1 1.22.5l.74.74a.34.34 0 0 0 .37 0c.15-.06.26-.16.26-.3V3.68A1.69 1.69 0 0 1 11.06 2H13a1.68 1.68 0 0 1 1.68 1.68v1.09a.34.34 0 0 0 .22.29.38.38 0 0 0 .41 0l.69-.8a1.67 1.67 0 0 1 2.37 0l1.37 1.34a1.67 1.67 0 0 1 .5 1.19 1.63 1.63 0 0 1-.5 1.21l-.74.74a.34.34 0 0 0 0 .37c.06.15.16.26.3.26h1.09A1.69 1.69 0 0 1 22 11.06V13a1.68 1.68 0 0 1-1.68 1.68h-1.09a.34.34 0 0 0-.29.22.34.34 0 0 0 0 .37l.77.77a1.67 1.67 0 0 1 0 2.37l-1.31 1.33a1.65 1.65 0 0 1-1.18.5 1.72 1.72 0 0 1-1.19-.5l-.77-.74a.34.34 0 0 0-.37 0c-.15.06-.26.16-.26.3v1.09A1.69 1.69 0 0 1 12.94 22zm-1.57-2h1.26v-.77a2.33 2.33 0 0 1 1.46-2.14 2.36 2.36 0 0 1 2.59.47l.54.54.88-.88-.54-.55a2.34 2.34 0 0 1-.48-2.56 2.33 2.33 0 0 1 2.14-1.45H20v-1.29h-.77a2.33 2.33 0 0 1-2.14-1.46 2.36 2.36 0 0 1 .47-2.59l.54-.54-.88-.88-.55.54a2.39 2.39 0 0 1-4-1.67V4h-1.3v.77a2.33 2.33 0 0 1-1.46 2.14 2.36 2.36 0 0 1-2.59-.47l-.54-.54-.88.88.54.55a2.39 2.39 0 0 1-1.67 4H4v1.26h.77a2.33 2.33 0 0 1 2.14 1.46 2.36 2.36 0 0 1-.47 2.59l-.54.54.88.88.55-.54a2.39 2.39 0 0 1 4 1.67z" data-name="&lt;Group&gt;"/><path d="M12 15.5a3.5 3.5 0 1 1 3.5-3.5 3.5 3.5 0 0 1-3.5 3.5zm0-5a1.5 1.5 0 1 0 1.5 1.5 1.5 1.5 0 0 0-1.5-1.5z"/></g></g>',"settings-outline":'<g data-name="Layer 2"><g data-name="settings"><rect width="24" height="24" opacity="0"/><path d="M8.61 22a2.25 2.25 0 0 1-1.35-.46L5.19 20a2.37 2.37 0 0 1-.49-3.22 2.06 2.06 0 0 0 .23-1.86l-.06-.16a1.83 1.83 0 0 0-1.12-1.22h-.16a2.34 2.34 0 0 1-1.48-2.94L2.93 8a2.18 2.18 0 0 1 1.12-1.41 2.14 2.14 0 0 1 1.68-.12 1.93 1.93 0 0 0 1.78-.29l.13-.1a1.94 1.94 0 0 0 .73-1.51v-.24A2.32 2.32 0 0 1 10.66 2h2.55a2.26 2.26 0 0 1 1.6.67 2.37 2.37 0 0 1 .68 1.68v.28a1.76 1.76 0 0 0 .69 1.43l.11.08a1.74 1.74 0 0 0 1.59.26l.34-.11A2.26 2.26 0 0 1 21.1 7.8l.79 2.52a2.36 2.36 0 0 1-1.46 2.93l-.2.07A1.89 1.89 0 0 0 19 14.6a2 2 0 0 0 .25 1.65l.26.38a2.38 2.38 0 0 1-.5 3.23L17 21.41a2.24 2.24 0 0 1-3.22-.53l-.12-.17a1.75 1.75 0 0 0-1.5-.78 1.8 1.8 0 0 0-1.43.77l-.23.33A2.25 2.25 0 0 1 9 22a2 2 0 0 1-.39 0zM4.4 11.62a3.83 3.83 0 0 1 2.38 2.5v.12a4 4 0 0 1-.46 3.62.38.38 0 0 0 0 .51L8.47 20a.25.25 0 0 0 .37-.07l.23-.33a3.77 3.77 0 0 1 6.2 0l.12.18a.3.3 0 0 0 .18.12.25.25 0 0 0 .19-.05l2.06-1.56a.36.36 0 0 0 .07-.49l-.26-.38A4 4 0 0 1 17.1 14a3.92 3.92 0 0 1 2.49-2.61l.2-.07a.34.34 0 0 0 .19-.44l-.78-2.49a.35.35 0 0 0-.2-.19.21.21 0 0 0-.19 0l-.34.11a3.74 3.74 0 0 1-3.43-.57L15 7.65a3.76 3.76 0 0 1-1.49-3v-.31a.37.37 0 0 0-.1-.26.31.31 0 0 0-.21-.08h-2.54a.31.31 0 0 0-.29.33v.25a3.9 3.9 0 0 1-1.52 3.09l-.13.1a3.91 3.91 0 0 1-3.63.59.22.22 0 0 0-.14 0 .28.28 0 0 0-.12.15L4 11.12a.36.36 0 0 0 .22.45z" data-name="&lt;Group&gt;"/><path d="M12 15.5a3.5 3.5 0 1 1 3.5-3.5 3.5 3.5 0 0 1-3.5 3.5zm0-5a1.5 1.5 0 1 0 1.5 1.5 1.5 1.5 0 0 0-1.5-1.5z"/></g></g>',"shake-outline":'<g data-name="Layer 2"><g data-name="shake"><rect width="24" height="24" opacity="0"/><path d="M5.5 18a1 1 0 0 1-.64-.24A8.81 8.81 0 0 1 1.5 11a8.81 8.81 0 0 1 3.36-6.76 1 1 0 1 1 1.28 1.52A6.9 6.9 0 0 0 3.5 11a6.9 6.9 0 0 0 2.64 5.24 1 1 0 0 1 .13 1.4 1 1 0 0 1-.77.36z"/><path d="M12 7a4.09 4.09 0 0 1 1 .14V3a1 1 0 0 0-2 0v4.14A4.09 4.09 0 0 1 12 7z"/><path d="M12 15a4.09 4.09 0 0 1-1-.14V20a1 1 0 0 0 2 0v-5.14a4.09 4.09 0 0 1-1 .14z"/><path d="M16 16a1 1 0 0 1-.77-.36 1 1 0 0 1 .13-1.4A4.28 4.28 0 0 0 17 11a4.28 4.28 0 0 0-1.64-3.24 1 1 0 1 1 1.28-1.52A6.2 6.2 0 0 1 19 11a6.2 6.2 0 0 1-2.36 4.76A1 1 0 0 1 16 16z"/><path d="M8 16a1 1 0 0 1-.64-.24A6.2 6.2 0 0 1 5 11a6.2 6.2 0 0 1 2.36-4.76 1 1 0 1 1 1.28 1.52A4.28 4.28 0 0 0 7 11a4.28 4.28 0 0 0 1.64 3.24 1 1 0 0 1 .13 1.4A1 1 0 0 1 8 16z"/><path d="M18.5 18a1 1 0 0 1-.77-.36 1 1 0 0 1 .13-1.4A6.9 6.9 0 0 0 20.5 11a6.9 6.9 0 0 0-2.64-5.24 1 1 0 1 1 1.28-1.52A8.81 8.81 0 0 1 22.5 11a8.81 8.81 0 0 1-3.36 6.76 1 1 0 0 1-.64.24z"/><path d="M12 12a1 1 0 1 1 1-1 1 1 0 0 1-1 1zm0-1zm0 0zm0 0zm0 0zm0 0zm0 0zm0 0z"/></g></g>',"share-outline":'<g data-name="Layer 2"><g data-name="share"><rect width="24" height="24" opacity="0"/><path d="M18 15a3 3 0 0 0-2.1.86L8 12.34V12v-.33l7.9-3.53A3 3 0 1 0 15 6v.34L7.1 9.86a3 3 0 1 0 0 4.28l7.9 3.53V18a3 3 0 1 0 3-3zm0-10a1 1 0 1 1-1 1 1 1 0 0 1 1-1zM5 13a1 1 0 1 1 1-1 1 1 0 0 1-1 1zm13 6a1 1 0 1 1 1-1 1 1 0 0 1-1 1z"/></g></g>',"shield-off-outline":'<g data-name="Layer 2"><g data-name="shield-off"><rect width="24" height="24" opacity="0"/><path d="M4.71 3.29a1 1 0 0 0-1.42 1.42l16 16a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"/><path d="M12.3 19.68l-.3.17-.3-.17A13.15 13.15 0 0 1 5 8.23v-.14L5.16 8 3.73 6.56A2 2 0 0 0 3 8.09v.14a15.17 15.17 0 0 0 7.72 13.2l.3.17a2 2 0 0 0 2 0l.3-.17a15.22 15.22 0 0 0 3-2.27l-1.42-1.42a12.56 12.56 0 0 1-2.6 1.94z"/><path d="M20 6.34L13 2.4a2 2 0 0 0-2 0L7.32 4.49 8.78 6 12 4.15l7 3.94v.14a13 13 0 0 1-1.63 6.31L18.84 16A15.08 15.08 0 0 0 21 8.23v-.14a2 2 0 0 0-1-1.75z"/></g></g>',"shield-outline":'<g data-name="Layer 2"><g data-name="shield"><rect width="24" height="24" opacity="0"/><path d="M12 21.85a2 2 0 0 1-1-.25l-.3-.17A15.17 15.17 0 0 1 3 8.23v-.14a2 2 0 0 1 1-1.75l7-3.94a2 2 0 0 1 2 0l7 3.94a2 2 0 0 1 1 1.75v.14a15.17 15.17 0 0 1-7.72 13.2l-.3.17a2 2 0 0 1-.98.25zm0-17.7L5 8.09v.14a13.15 13.15 0 0 0 6.7 11.45l.3.17.3-.17A13.15 13.15 0 0 0 19 8.23v-.14z"/></g></g>',"shopping-bag-outline":'<g data-name="Layer 2"><g data-name="shopping-bag"><rect width="24" height="24" opacity="0"/><path d="M20.12 6.71l-2.83-2.83A3 3 0 0 0 15.17 3H8.83a3 3 0 0 0-2.12.88L3.88 6.71A3 3 0 0 0 3 8.83V18a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V8.83a3 3 0 0 0-.88-2.12zm-12-1.42A1.05 1.05 0 0 1 8.83 5h6.34a1.05 1.05 0 0 1 .71.29L17.59 7H6.41zM18 19H6a1 1 0 0 1-1-1V9h14v9a1 1 0 0 1-1 1z"/><path d="M15 11a1 1 0 0 0-1 1 2 2 0 0 1-4 0 1 1 0 0 0-2 0 4 4 0 0 0 8 0 1 1 0 0 0-1-1z"/></g></g>',"shopping-cart-outline":'<g data-name="Layer 2"><g data-name="shopping-cart"><rect width="24" height="24" opacity="0"/><path d="M21.08 7a2 2 0 0 0-1.7-1H6.58L6 3.74A1 1 0 0 0 5 3H3a1 1 0 0 0 0 2h1.24L7 15.26A1 1 0 0 0 8 16h9a1 1 0 0 0 .89-.55l3.28-6.56A2 2 0 0 0 21.08 7zm-4.7 7H8.76L7.13 8h12.25z"/><circle cx="7.5" cy="19.5" r="1.5"/><circle cx="17.5" cy="19.5" r="1.5"/></g></g>',"shuffle-2-outline":'<g data-name="Layer 2"><g data-name="shuffle-2"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M18.71 14.29a1 1 0 0 0-1.42 1.42l.29.29H16a4 4 0 0 1 0-8h1.59l-.3.29a1 1 0 0 0 0 1.42A1 1 0 0 0 18 10a1 1 0 0 0 .71-.29l2-2A1 1 0 0 0 21 7a1 1 0 0 0-.29-.71l-2-2a1 1 0 0 0-1.42 1.42l.29.29H16a6 6 0 0 0-5 2.69A6 6 0 0 0 6 6H4a1 1 0 0 0 0 2h2a4 4 0 0 1 0 8H4a1 1 0 0 0 0 2h2a6 6 0 0 0 5-2.69A6 6 0 0 0 16 18h1.59l-.3.29a1 1 0 0 0 0 1.42A1 1 0 0 0 18 20a1 1 0 0 0 .71-.29l2-2A1 1 0 0 0 21 17a1 1 0 0 0-.29-.71z"/></g></g>',"shuffle-outline":'<g data-name="Layer 2"><g data-name="shuffle"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M18 9.31a1 1 0 0 0 1 1 1 1 0 0 0 1-1V5a1 1 0 0 0-1-1h-4.3a1 1 0 0 0-1 1 1 1 0 0 0 1 1h1.89L12 10.59 6.16 4.76a1 1 0 0 0-1.41 1.41L10.58 12l-6.29 6.29a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0L18 7.42z"/><path d="M19 13.68a1 1 0 0 0-1 1v1.91l-2.78-2.79a1 1 0 0 0-1.42 1.42L16.57 18h-1.88a1 1 0 0 0 0 2H19a1 1 0 0 0 1-1.11v-4.21a1 1 0 0 0-1-1z"/></g></g>',"skip-back-outline":'<g data-name="Layer 2"><g data-name="skip-back"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M16.45 6.2a2.1 2.1 0 0 0-2.21.26l-5.1 4.21-.14.15V7a1 1 0 0 0-2 0v10a1 1 0 0 0 2 0v-3.82l.14.15 5.1 4.21a2.06 2.06 0 0 0 1.3.46 2.23 2.23 0 0 0 .91-.2 1.76 1.76 0 0 0 1.05-1.59V7.79a1.76 1.76 0 0 0-1.05-1.59zM15.5 16l-4.82-4 4.82-3.91z"/></g></g>',"skip-forward-outline":'<g data-name="Layer 2"><g data-name="skip-forward"><rect width="24" height="24" opacity="0"/><path d="M16 6a1 1 0 0 0-1 1v3.82l-.14-.15-5.1-4.21a2.1 2.1 0 0 0-2.21-.26 1.76 1.76 0 0 0-1 1.59v8.42a1.76 1.76 0 0 0 1 1.59 2.23 2.23 0 0 0 .91.2 2.06 2.06 0 0 0 1.3-.46l5.1-4.21.14-.15V17a1 1 0 0 0 2 0V7a1 1 0 0 0-1-1zm-7.5 9.91V8l4.82 4z"/></g></g>',"slash-outline":'<g data-name="Layer 2"><g data-name="slash"><rect width="24" height="24" opacity="0"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm8 10a7.92 7.92 0 0 1-1.69 4.9L7.1 5.69A7.92 7.92 0 0 1 12 4a8 8 0 0 1 8 8zM4 12a7.92 7.92 0 0 1 1.69-4.9L16.9 18.31A7.92 7.92 0 0 1 12 20a8 8 0 0 1-8-8z"/></g></g>',"smartphone-outline":'<g data-name="Layer 2"><g data-name="smartphone"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M17 2H7a3 3 0 0 0-3 3v14a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V5a3 3 0 0 0-3-3zm1 17a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1z"/><circle cx="12" cy="16.5" r="1.5"/><path d="M14.5 6h-5a1 1 0 0 0 0 2h5a1 1 0 0 0 0-2z"/></g></g>',"smiling-face-outline":'<defs><style/></defs><g id="Layer_2" data-name="Layer 2"><g id="smiling-face"><g id="smiling-face" data-name="smiling-face"><rect width="24" height="24" opacity="0"/><path d="M12 2c5.523 0 10 4.477 10 10s-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2zm0 2a8 8 0 1 0 0 16 8 8 0 0 0 0-16zm5 9a5 5 0 0 1-10 0z" id="&#x1F3A8;-Icon-&#x421;olor"/></g></g></g>',"speaker-outline":'<g data-name="Layer 2"><g data-name="speaker"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M12 11a3 3 0 1 0-3-3 3 3 0 0 0 3 3zm0-4a1 1 0 1 1-1 1 1 1 0 0 1 1-1z"/><path d="M12 12a3.5 3.5 0 1 0 3.5 3.5A3.5 3.5 0 0 0 12 12zm0 5a1.5 1.5 0 1 1 1.5-1.5A1.5 1.5 0 0 1 12 17z"/><path d="M17 2H7a3 3 0 0 0-3 3v14a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V5a3 3 0 0 0-3-3zm1 17a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1z"/></g></g>',"square-outline":'<g data-name="Layer 2"><g data-name="square"><rect width="24" height="24" opacity="0"/><path d="M18 21H6a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h12a3 3 0 0 1 3 3v12a3 3 0 0 1-3 3zM6 5a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1z"/></g></g>',"star-outline":'<g data-name="Layer 2"><g data-name="star"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M17.56 21a1 1 0 0 1-.46-.11L12 18.22l-5.1 2.67a1 1 0 0 1-1.45-1.06l1-5.63-4.12-4a1 1 0 0 1-.25-1 1 1 0 0 1 .81-.68l5.7-.83 2.51-5.13a1 1 0 0 1 1.8 0l2.54 5.12 5.7.83a1 1 0 0 1 .81.68 1 1 0 0 1-.25 1l-4.12 4 1 5.63a1 1 0 0 1-.4 1 1 1 0 0 1-.62.18zM12 16.1a.92.92 0 0 1 .46.11l3.77 2-.72-4.21a1 1 0 0 1 .29-.89l3-2.93-4.2-.62a1 1 0 0 1-.71-.56L12 5.25 10.11 9a1 1 0 0 1-.75.54l-4.2.62 3 2.93a1 1 0 0 1 .29.89l-.72 4.16 3.77-2a.92.92 0 0 1 .5-.04z"/></g></g>',"stop-circle-outline":'<g data-name="Layer 2"><g data-name="stop-circle"><rect width="24" height="24" opacity="0"/><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8 8 0 0 1-8 8z"/><path d="M14.75 8h-5.5A1.25 1.25 0 0 0 8 9.25v5.5A1.25 1.25 0 0 0 9.25 16h5.5A1.25 1.25 0 0 0 16 14.75v-5.5A1.25 1.25 0 0 0 14.75 8zM14 14h-4v-4h4z"/></g></g>',"sun-outline":'<g data-name="Layer 2"><g data-name="sun"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M12 6a1 1 0 0 0 1-1V3a1 1 0 0 0-2 0v2a1 1 0 0 0 1 1z"/><path d="M21 11h-2a1 1 0 0 0 0 2h2a1 1 0 0 0 0-2z"/><path d="M6 12a1 1 0 0 0-1-1H3a1 1 0 0 0 0 2h2a1 1 0 0 0 1-1z"/><path d="M6.22 5a1 1 0 0 0-1.39 1.47l1.44 1.39a1 1 0 0 0 .73.28 1 1 0 0 0 .72-.31 1 1 0 0 0 0-1.41z"/><path d="M17 8.14a1 1 0 0 0 .69-.28l1.44-1.39A1 1 0 0 0 17.78 5l-1.44 1.42a1 1 0 0 0 0 1.41 1 1 0 0 0 .66.31z"/><path d="M12 18a1 1 0 0 0-1 1v2a1 1 0 0 0 2 0v-2a1 1 0 0 0-1-1z"/><path d="M17.73 16.14a1 1 0 0 0-1.39 1.44L17.78 19a1 1 0 0 0 .69.28 1 1 0 0 0 .72-.3 1 1 0 0 0 0-1.42z"/><path d="M6.27 16.14l-1.44 1.39a1 1 0 0 0 0 1.42 1 1 0 0 0 .72.3 1 1 0 0 0 .67-.25l1.44-1.39a1 1 0 0 0-1.39-1.44z"/><path d="M12 8a4 4 0 1 0 4 4 4 4 0 0 0-4-4zm0 6a2 2 0 1 1 2-2 2 2 0 0 1-2 2z"/></g></g>',"swap-outline":'<g data-name="Layer 2"><g data-name="swap"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><path d="M4 9h13l-1.6 1.2a1 1 0 0 0-.2 1.4 1 1 0 0 0 .8.4 1 1 0 0 0 .6-.2l4-3a1 1 0 0 0 0-1.59l-3.86-3a1 1 0 0 0-1.23 1.58L17.08 7H4a1 1 0 0 0 0 2z"/><path d="M20 16H7l1.6-1.2a1 1 0 0 0-1.2-1.6l-4 3a1 1 0 0 0 0 1.59l3.86 3a1 1 0 0 0 .61.21 1 1 0 0 0 .79-.39 1 1 0 0 0-.17-1.4L6.92 18H20a1 1 0 0 0 0-2z"/></g></g>',"sync-outline":'<g data-name="Layer 2"><g data-name="sync"><rect width="24" height="24" opacity="0"/><path d="M21.66 10.37a.62.62 0 0 0 .07-.19l.75-4a1 1 0 0 0-2-.36l-.37 2a9.22 9.22 0 0 0-16.58.84 1 1 0 0 0 .55 1.3 1 1 0 0 0 1.31-.55A7.08 7.08 0 0 1 12.07 5a7.17 7.17 0 0 1 6.24 3.58l-1.65-.27a1 1 0 1 0-.32 2l4.25.71h.16a.93.93 0 0 0 .34-.06.33.33 0 0 0 .1-.06.78.78 0 0 0 .2-.11l.08-.1a1.07 1.07 0 0 0 .14-.16.58.58 0 0 0 .05-.16z"/><path d="M19.88 14.07a1 1 0 0 0-1.31.56A7.08 7.08 0 0 1 11.93 19a7.17 7.17 0 0 1-6.24-3.58l1.65.27h.16a1 1 0 0 0 .16-2L3.41 13a.91.91 0 0 0-.33 0H3a1.15 1.15 0 0 0-.32.14 1 1 0 0 0-.18.18l-.09.1a.84.84 0 0 0-.07.19.44.44 0 0 0-.07.17l-.75 4a1 1 0 0 0 .8 1.22h.18a1 1 0 0 0 1-.82l.37-2a9.22 9.22 0 0 0 16.58-.83 1 1 0 0 0-.57-1.28z"/></g></g>',"text-outline":'<g data-name="Layer 2"><g data-name="text"><rect width="24" height="24" opacity="0"/><path d="M20 4H4a1 1 0 0 0-1 1v3a1 1 0 0 0 2 0V6h6v13H9a1 1 0 0 0 0 2h6a1 1 0 0 0 0-2h-2V6h6v2a1 1 0 0 0 2 0V5a1 1 0 0 0-1-1z"/></g></g>',"thermometer-minus-outline":'<g data-name="Layer 2"><g data-name="thermometer-minus"><rect width="24" height="24" opacity="0"/><rect x="2" y="5" width="6" height="2" rx="1" ry="1"/><path d="M14 22a5 5 0 0 1-3-9V5a3 3 0 0 1 3-3 3 3 0 0 1 3 3v8a5 5 0 0 1-3 9zm0-18a1 1 0 0 0-1 1v8.54a1 1 0 0 1-.5.87A3 3 0 0 0 11 17a3 3 0 0 0 6 0 3 3 0 0 0-1.5-2.59 1 1 0 0 1-.5-.87V5a.93.93 0 0 0-.29-.69A1 1 0 0 0 14 4z"/></g></g>',"thermometer-outline":'<g data-name="Layer 2"><g data-name="thermometer"><rect width="24" height="24" opacity="0"/><path d="M12 22a5 5 0 0 1-3-9V5a3 3 0 0 1 3-3 3 3 0 0 1 3 3v8a5 5 0 0 1-3 9zm0-18a1 1 0 0 0-1 1v8.54a1 1 0 0 1-.5.87A3 3 0 0 0 9 17a3 3 0 0 0 6 0 3 3 0 0 0-1.5-2.59 1 1 0 0 1-.5-.87V5a.93.93 0 0 0-.29-.69A1 1 0 0 0 12 4z"/></g></g>',"thermometer-plus-outline":'<g data-name="Layer 2"><g data-name="thermometer-plus"><rect width="24" height="24" opacity="0"/><rect x="2" y="5" width="6" height="2" rx="1" ry="1"/><rect x="2" y="5" width="6" height="2" rx="1" ry="1" transform="rotate(-90 5 6)"/><path d="M14 22a5 5 0 0 1-3-9V5a3 3 0 0 1 3-3 3 3 0 0 1 3 3v8a5 5 0 0 1-3 9zm0-18a1 1 0 0 0-1 1v8.54a1 1 0 0 1-.5.87A3 3 0 0 0 11 17a3 3 0 0 0 6 0 3 3 0 0 0-1.5-2.59 1 1 0 0 1-.5-.87V5a.93.93 0 0 0-.29-.69A1 1 0 0 0 14 4z"/></g></g>',"toggle-left-outline":'<g data-name="Layer 2"><g data-name="toggle-left"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M15 5H9a7 7 0 0 0 0 14h6a7 7 0 0 0 0-14zm0 12H9A5 5 0 0 1 9 7h6a5 5 0 0 1 0 10z"/><path d="M9 9a3 3 0 1 0 3 3 3 3 0 0 0-3-3zm0 4a1 1 0 1 1 1-1 1 1 0 0 1-1 1z"/></g></g>',"toggle-right-outline":'<g data-name="Layer 2"><g data-name="toggle-right"><rect width="24" height="24" opacity="0"/><path d="M15 5H9a7 7 0 0 0 0 14h6a7 7 0 0 0 0-14zm0 12H9A5 5 0 0 1 9 7h6a5 5 0 0 1 0 10z"/><path d="M15 9a3 3 0 1 0 3 3 3 3 0 0 0-3-3zm0 4a1 1 0 1 1 1-1 1 1 0 0 1-1 1z"/></g></g>',"trash-2-outline":'<g data-name="Layer 2"><g data-name="trash-2"><rect width="24" height="24" opacity="0"/><path d="M21 6h-5V4.33A2.42 2.42 0 0 0 13.5 2h-3A2.42 2.42 0 0 0 8 4.33V6H3a1 1 0 0 0 0 2h1v11a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V8h1a1 1 0 0 0 0-2zM10 4.33c0-.16.21-.33.5-.33h3c.29 0 .5.17.5.33V6h-4zM18 19a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8h12z"/><path d="M9 17a1 1 0 0 0 1-1v-4a1 1 0 0 0-2 0v4a1 1 0 0 0 1 1z"/><path d="M15 17a1 1 0 0 0 1-1v-4a1 1 0 0 0-2 0v4a1 1 0 0 0 1 1z"/></g></g>',"trash-outline":'<g data-name="Layer 2"><g data-name="trash"><rect width="24" height="24" opacity="0"/><path d="M21 6h-5V4.33A2.42 2.42 0 0 0 13.5 2h-3A2.42 2.42 0 0 0 8 4.33V6H3a1 1 0 0 0 0 2h1v11a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V8h1a1 1 0 0 0 0-2zM10 4.33c0-.16.21-.33.5-.33h3c.29 0 .5.17.5.33V6h-4zM18 19a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8h12z"/></g></g>',"trending-down-outline":'<g data-name="Layer 2"><g data-name="trending-down"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><path d="M21 12a1 1 0 0 0-2 0v2.3l-4.24-5a1 1 0 0 0-1.27-.21L9.22 11.7 4.77 6.36a1 1 0 1 0-1.54 1.28l5 6a1 1 0 0 0 1.28.22l4.28-2.57 4 4.71H15a1 1 0 0 0 0 2h5a1.1 1.1 0 0 0 .36-.07l.14-.08a1.19 1.19 0 0 0 .15-.09.75.75 0 0 0 .14-.17 1.1 1.1 0 0 0 .09-.14.64.64 0 0 0 .05-.17A.78.78 0 0 0 21 17z"/></g></g>',"trending-up-outline":'<g data-name="Layer 2"><g data-name="trending-up"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><path d="M21 7a.78.78 0 0 0 0-.21.64.64 0 0 0-.05-.17 1.1 1.1 0 0 0-.09-.14.75.75 0 0 0-.14-.17l-.12-.07a.69.69 0 0 0-.19-.1h-.2A.7.7 0 0 0 20 6h-5a1 1 0 0 0 0 2h2.83l-4 4.71-4.32-2.57a1 1 0 0 0-1.28.22l-5 6a1 1 0 0 0 .13 1.41A1 1 0 0 0 4 18a1 1 0 0 0 .77-.36l4.45-5.34 4.27 2.56a1 1 0 0 0 1.27-.21L19 9.7V12a1 1 0 0 0 2 0V7z"/></g></g>',"tv-outline":'<g data-name="Layer 2"><g data-name="tv"><rect width="24" height="24" opacity="0"/><path d="M18 6h-3.59l2.3-2.29a1 1 0 1 0-1.42-1.42L12 5.59l-3.29-3.3a1 1 0 1 0-1.42 1.42L9.59 6H6a3 3 0 0 0-3 3v10a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V9a3 3 0 0 0-3-3zm1 13a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1z"/></g></g>',"twitter-outline":'<g data-name="Layer 2"><g data-name="twitter"><polyline points="0 0 24 0 24 24 0 24" opacity="0"/><path d="M8.51 20h-.08a10.87 10.87 0 0 1-4.65-1.09A1.38 1.38 0 0 1 3 17.47a1.41 1.41 0 0 1 1.16-1.18 6.63 6.63 0 0 0 2.54-.89 9.49 9.49 0 0 1-3.51-9.07 1.41 1.41 0 0 1 1-1.15 1.35 1.35 0 0 1 1.43.41 7.09 7.09 0 0 0 4.88 2.75 4.5 4.5 0 0 1 1.41-3.1 4.47 4.47 0 0 1 6.37.19.7.7 0 0 0 .78.1A1.39 1.39 0 0 1 21 7.13a6.66 6.66 0 0 1-1.28 2.6A10.79 10.79 0 0 1 8.51 20zm0-2h.08a8.79 8.79 0 0 0 9.09-8.59 1.32 1.32 0 0 1 .37-.85 5.19 5.19 0 0 0 .62-1 2.56 2.56 0 0 1-1.91-.85A2.45 2.45 0 0 0 15 6a2.5 2.5 0 0 0-1.79.69 2.53 2.53 0 0 0-.72 2.42l.26 1.14-1.17.08a8.3 8.3 0 0 1-6.54-2.4 7.12 7.12 0 0 0 3.73 6.46l.95.54-.63.9a5.62 5.62 0 0 1-2.68 1.92A8.34 8.34 0 0 0 8.5 18zM19 6.65z"/></g></g>',"umbrella-outline":'<g data-name="Layer 2"><g data-name="umbrella"><rect width="24" height="24" opacity="0"/><path d="M12 2A10 10 0 0 0 2 12a1 1 0 0 0 1 1h8v6a3 3 0 0 0 6 0 1 1 0 0 0-2 0 1 1 0 0 1-2 0v-6h8a1 1 0 0 0 1-1A10 10 0 0 0 12 2zm-7.94 9a8 8 0 0 1 15.88 0z"/></g></g>',"undo-outline":'<g data-name="Layer 2"><g data-name="undo"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><path d="M20.22 21a1 1 0 0 1-1-.76 8.91 8.91 0 0 0-7.8-6.69v1.12a1.78 1.78 0 0 1-1.09 1.64A2 2 0 0 1 8.18 16l-5.06-4.41a1.76 1.76 0 0 1 0-2.68l5.06-4.42a2 2 0 0 1 2.18-.3 1.78 1.78 0 0 1 1.09 1.64V7A10.89 10.89 0 0 1 21.5 17.75a10.29 10.29 0 0 1-.31 2.49 1 1 0 0 1-1 .76zm-9.77-9.5a11.07 11.07 0 0 1 8.81 4.26A9 9 0 0 0 10.45 9a1 1 0 0 1-1-1V6.08l-4.82 4.17 4.82 4.21v-2a1 1 0 0 1 1-.96z"/></g></g>',"unlock-outline":'<g data-name="Layer 2"><g data-name="unlock"><rect width="24" height="24" opacity="0"/><path d="M17 8h-7V6a2 2 0 0 1 4 0 1 1 0 0 0 2 0 4 4 0 0 0-8 0v2H7a3 3 0 0 0-3 3v8a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3v-8a3 3 0 0 0-3-3zm1 11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1v-8a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1z"/><path d="M12 12a3 3 0 1 0 3 3 3 3 0 0 0-3-3zm0 4a1 1 0 1 1 1-1 1 1 0 0 1-1 1z"/></g></g>',"upload-outline":'<g data-name="Layer 2"><g data-name="upload"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><rect x="4" y="4" width="16" height="2" rx="1" ry="1" transform="rotate(180 12 5)"/><rect x="17" y="5" width="4" height="2" rx="1" ry="1" transform="rotate(90 19 6)"/><rect x="3" y="5" width="4" height="2" rx="1" ry="1" transform="rotate(90 5 6)"/><path d="M8 14a1 1 0 0 1-.8-.4 1 1 0 0 1 .2-1.4l4-3a1 1 0 0 1 1.18 0l4 2.82a1 1 0 0 1 .24 1.39 1 1 0 0 1-1.4.24L12 11.24 8.6 13.8a1 1 0 0 1-.6.2z"/><path d="M12 21a1 1 0 0 1-1-1v-8a1 1 0 0 1 2 0v8a1 1 0 0 1-1 1z"/></g></g>',"video-off-outline":'<g data-name="Layer 2"><g data-name="video-off"><rect width="24" height="24" opacity="0"/><path d="M17 15.59l-2-2L8.41 7l-2-2-1.7-1.71a1 1 0 0 0-1.42 1.42l.54.53L5.59 7l9.34 9.34 1.46 1.46 2.9 2.91a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"/><path d="M14 17H5a1 1 0 0 1-1-1V8a1 1 0 0 1 .4-.78L3 5.8A3 3 0 0 0 2 8v8a3 3 0 0 0 3 3h9a2.94 2.94 0 0 0 1.66-.51L14.14 17a.7.7 0 0 1-.14 0z"/><path d="M21 7.15a1.7 1.7 0 0 0-1.85.3l-2.15 2V8a3 3 0 0 0-3-3H7.83l2 2H14a1 1 0 0 1 1 1v4.17l4.72 4.72a1.73 1.73 0 0 0 .6.11 1.68 1.68 0 0 0 .69-.15 1.6 1.6 0 0 0 1-1.48V8.63A1.6 1.6 0 0 0 21 7.15zm-1 7.45L17.19 12 20 9.4z"/></g></g>',"video-outline":'<g data-name="Layer 2"><g data-name="video"><rect width="24" height="24" opacity="0"/><path d="M21 7.15a1.7 1.7 0 0 0-1.85.3l-2.15 2V8a3 3 0 0 0-3-3H5a3 3 0 0 0-3 3v8a3 3 0 0 0 3 3h9a3 3 0 0 0 3-3v-1.45l2.16 2a1.74 1.74 0 0 0 1.16.45 1.68 1.68 0 0 0 .69-.15 1.6 1.6 0 0 0 1-1.48V8.63A1.6 1.6 0 0 0 21 7.15zM15 16a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1h9a1 1 0 0 1 1 1zm5-1.4L17.19 12 20 9.4z"/></g></g>',"volume-down-outline":'<g data-name="Layer 2"><g data-name="volume-down"><rect width="24" height="24" opacity="0"/><path d="M20.78 8.37a1 1 0 1 0-1.56 1.26 4 4 0 0 1 0 4.74A1 1 0 0 0 20 16a1 1 0 0 0 .78-.37 6 6 0 0 0 0-7.26z"/><path d="M16.47 3.12a1 1 0 0 0-1 0L9 7.57H4a1 1 0 0 0-1 1v6.86a1 1 0 0 0 1 1h5l6.41 4.4A1.06 1.06 0 0 0 16 21a1 1 0 0 0 1-1V4a1 1 0 0 0-.53-.88zM15 18.1l-5.1-3.5a1 1 0 0 0-.57-.17H5V9.57h4.33a1 1 0 0 0 .57-.17L15 5.9z"/></g></g>',"volume-mute-outline":'<g data-name="Layer 2"><g data-name="volume-mute"><rect width="24" height="24" opacity="0"/><path d="M17 21a1.06 1.06 0 0 1-.57-.17L10 16.43H5a1 1 0 0 1-1-1V8.57a1 1 0 0 1 1-1h5l6.41-4.4A1 1 0 0 1 18 4v16a1 1 0 0 1-1 1zM6 14.43h4.33a1 1 0 0 1 .57.17l5.1 3.5V5.9l-5.1 3.5a1 1 0 0 1-.57.17H6z"/></g></g>',"volume-off-outline":'<g data-name="Layer 2"><g data-name="volume-off"><rect width="24" height="24" opacity="0"/><path d="M4.71 3.29a1 1 0 0 0-1.42 1.42l16 16a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"/><path d="M16.91 14.08l1.44 1.44a6 6 0 0 0-.07-7.15 1 1 0 1 0-1.56 1.26 4 4 0 0 1 .19 4.45z"/><path d="M21 12a6.51 6.51 0 0 1-1.78 4.39l1.42 1.42A8.53 8.53 0 0 0 23 12a8.75 8.75 0 0 0-3.36-6.77 1 1 0 1 0-1.28 1.54A6.8 6.8 0 0 1 21 12z"/><path d="M13.5 18.1l-5.1-3.5a1 1 0 0 0-.57-.17H3.5V9.57h3.24l-2-2H2.5a1 1 0 0 0-1 1v6.86a1 1 0 0 0 1 1h5l6.41 4.4a1.06 1.06 0 0 0 .57.17 1 1 0 0 0 1-1v-1.67l-2-2z"/><path d="M13.5 5.9v4.77l2 2V4a1 1 0 0 0-1.57-.83L9.23 6.4l1.44 1.44z"/></g></g>',"volume-up-outline":'<g data-name="Layer 2"><g data-name="volume-up"><rect width="24" height="24" opacity="0"/><path d="M18.28 8.37a1 1 0 1 0-1.56 1.26 4 4 0 0 1 0 4.74A1 1 0 0 0 17.5 16a1 1 0 0 0 .78-.37 6 6 0 0 0 0-7.26z"/><path d="M19.64 5.23a1 1 0 1 0-1.28 1.54A6.8 6.8 0 0 1 21 12a6.8 6.8 0 0 1-2.64 5.23 1 1 0 0 0-.13 1.41A1 1 0 0 0 19 19a1 1 0 0 0 .64-.23A8.75 8.75 0 0 0 23 12a8.75 8.75 0 0 0-3.36-6.77z"/><path d="M15 3.12a1 1 0 0 0-1 0L7.52 7.57h-5a1 1 0 0 0-1 1v6.86a1 1 0 0 0 1 1h5l6.41 4.4a1.06 1.06 0 0 0 .57.17 1 1 0 0 0 1-1V4a1 1 0 0 0-.5-.88zm-1.47 15L8.4 14.6a1 1 0 0 0-.57-.17H3.5V9.57h4.33a1 1 0 0 0 .57-.17l5.1-3.5z"/></g></g>',"wifi-off-outline":'<g data-name="Layer 2"><g data-name="wifi-off"><rect width="24" height="24" opacity="0"/><circle cx="12" cy="19" r="1"/><path d="M12.44 11l-1.9-1.89-2.46-2.44-1.55-1.55-1.82-1.83a1 1 0 0 0-1.42 1.42l1.38 1.37 1.46 1.46 2.23 2.24 1.55 1.54 2.74 2.74 2.79 2.8 3.85 3.85a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"/><path d="M21.72 7.93A13.93 13.93 0 0 0 12 4a14.1 14.1 0 0 0-4.44.73l1.62 1.62a11.89 11.89 0 0 1 11.16 3 1 1 0 0 0 .69.28 1 1 0 0 0 .72-.31 1 1 0 0 0-.03-1.39z"/><path d="M3.82 6.65a14.32 14.32 0 0 0-1.54 1.28 1 1 0 0 0 1.38 1.44 13.09 13.09 0 0 1 1.6-1.29z"/><path d="M17 13.14a1 1 0 0 0 .71.3 1 1 0 0 0 .72-1.69A9 9 0 0 0 12 9h-.16l2.35 2.35A7 7 0 0 1 17 13.14z"/><path d="M7.43 10.26a8.8 8.8 0 0 0-1.9 1.49A1 1 0 0 0 7 13.14a7.3 7.3 0 0 1 2-1.41z"/><path d="M8.53 15.4a1 1 0 1 0 1.39 1.44 3.06 3.06 0 0 1 3.84-.25l-2.52-2.52a5 5 0 0 0-2.71 1.33z"/></g></g>',"wifi-outline":'<g data-name="Layer 2"><g data-name="wifi"><rect width="24" height="24" opacity="0"/><circle cx="12" cy="19" r="1"/><path d="M12 14a5 5 0 0 0-3.47 1.4 1 1 0 1 0 1.39 1.44 3.08 3.08 0 0 1 4.16 0 1 1 0 1 0 1.39-1.44A5 5 0 0 0 12 14z"/><path d="M12 9a9 9 0 0 0-6.47 2.75A1 1 0 0 0 7 13.14a7 7 0 0 1 10.08 0 1 1 0 0 0 .71.3 1 1 0 0 0 .72-1.69A9 9 0 0 0 12 9z"/><path d="M21.72 7.93a14 14 0 0 0-19.44 0 1 1 0 0 0 1.38 1.44 12 12 0 0 1 16.68 0 1 1 0 0 0 .69.28 1 1 0 0 0 .72-.31 1 1 0 0 0-.03-1.41z"/></g></g>'}},"./package/src/animation.scss":function(Tn,Jt,Ve){var Xe=Ve("./node_modules/css-loader/index.js!./node_modules/sass-loader/lib/loader.js!./package/src/animation.scss"),$t=Ve("./node_modules/isomorphic-style-loader/insertCss.js"),wt="string"==typeof Xe?[[Tn.i,Xe,""]]:Xe;(Jt=Tn.exports=Xe.locals||{})._getContent=function(){return wt},Jt._getCss=function(){return""+Xe},Jt._insertCss=function(Kn){return $t(wt,Kn)}},"./package/src/default-attrs.json":function(Tn){Tn.exports={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24"}},"./package/src/icon.js":function(Tn,Jt,Ve){"use strict";Ve.r(Jt);var ue=Ve("./node_modules/classnames/dedupe.js"),Xe=Ve.n(ue),$t=Ve("./package/src/default-attrs.json");function We(le,Ne){if(null==le)return{};var At,Dn,qe=function Kn(le,Ne){if(null==le)return{};var Dn,En,qe={},At=Object.keys(le);for(En=0;En<At.length;En++)!(Ne.indexOf(Dn=At[En])>=0)&&(qe[Dn]=le[Dn]);return qe}(le,Ne);if(Object.getOwnPropertySymbols){var En=Object.getOwnPropertySymbols(le);for(Dn=0;Dn<En.length;Dn++)!(Ne.indexOf(At=En[Dn])>=0)&&(!Object.prototype.propertyIsEnumerable.call(le,At)||(qe[At]=le[At]))}return qe}function pn(le){for(var Ne=1;Ne<arguments.length;Ne++){var qe=null!=arguments[Ne]?arguments[Ne]:{},At=Object.keys(qe);"function"==typeof Object.getOwnPropertySymbols&&(At=At.concat(Object.getOwnPropertySymbols(qe).filter(function(Dn){return Object.getOwnPropertyDescriptor(qe,Dn).enumerable}))),At.forEach(function(Dn){Ci(le,Dn,qe[Dn])})}return le}function Ci(le,Ne,qe){return Ne in le?Object.defineProperty(le,Ne,{value:qe,enumerable:!0,configurable:!0,writable:!0}):le[Ne]=qe,le}function ga(le,Ne){for(var qe=0;qe<Ne.length;qe++){var At=Ne[qe];At.enumerable=At.enumerable||!1,At.configurable=!0,"value"in At&&(At.writable=!0),Object.defineProperty(le,At.key,At)}}var za={hover:!0},or=function(Ne){return"string"==typeof Ne||Ne instanceof String},gn=function(){function le(Ne,qe){(function ar(le,Ne){if(!(le instanceof Ne))throw new TypeError("Cannot call a class as a function")})(this,le),this.name=Ne,this.contents=qe,this.attrs=pn({},$t,{class:"eva eva-".concat(Ne)})}return function Ss(le,Ne,qe){return Ne&&ga(le.prototype,Ne),qe&&ga(le,qe),le}(le,[{key:"toSvg",value:function(){var qe=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},At=qe.animation,Dn=We(qe,["animation"]),En=Ie(At),ed=En?En.class:"",uo=pn({},this.attrs,Dn,{class:Xe()(this.attrs.class,qe.class,ed)}),Xl="<svg ".concat(at(uo),">").concat(this.contents,"</svg>");return En&&En.hover?'<i class="eva-hover">'.concat(Xl,"</i>"):Xl}},{key:"toString",value:function(){return this.contents}}]),le}();function Ie(le){if(!le)return null;le.hover&&(le.hover=or(le.hover)?JSON.parse(le.hover):le.hover);var Ne=pn({},za,le),qe=Ne.hover?"eva-icon-hover-".concat(Ne.type):"eva-icon-".concat(Ne.type);return Ne.class=Xe()({"eva-animation":!0,"eva-infinite":or(le.infinite)?JSON.parse(le.infinite):le.infinite},qe),Ne}function at(le){return Object.keys(le).map(function(Ne){return"".concat(Ne,'="').concat(le[Ne],'"')}).join(" ")}Jt.default=gn},"./package/src/icons.js":function(Tn,Jt,Ve){"use strict";Ve.r(Jt);var ue=Ve("./package/src/icon.js"),Xe=Ve("./package-build/eva-icons.json");Jt.default=Object.keys(Xe).map(function(wt){return new ue.default(wt,Xe[wt])}).reduce(function(wt,We){return wt[We.name]=We,wt},{})},"./package/src/index.js":function(Tn,Jt,Ve){"use strict";Ve.r(Jt);var ue=Ve("./package/src/icons.js");Ve.d(Jt,"icons",function(){return ue.default});var Xe=Ve("./package/src/replace.js");Ve.d(Jt,"replace",function(){return Xe.default});var $t=Ve("./package/src/animation.scss");typeof window<"u"&&Ve.n($t).a._insertCss()},"./package/src/replace.js":function(Tn,Jt,Ve){"use strict";Ve.r(Jt);var ue=Ve("./node_modules/classnames/dedupe.js"),Xe=Ve.n(ue),$t=Ve("./package/src/icons.js");function wt(Ie){for(var at=1;at<arguments.length;at++){var le=null!=arguments[at]?arguments[at]:{},Ne=Object.keys(le);"function"==typeof Object.getOwnPropertySymbols&&(Ne=Ne.concat(Object.getOwnPropertySymbols(le).filter(function(qe){return Object.getOwnPropertyDescriptor(le,qe).enumerable}))),Ne.forEach(function(qe){We(Ie,qe,le[qe])})}return Ie}function We(Ie,at,le){return at in Ie?Object.defineProperty(Ie,at,{value:le,enumerable:!0,configurable:!0,writable:!0}):Ie[at]=le,Ie}function Kn(Ie,at){if(null==Ie)return{};var Ne,qe,le=function pn(Ie,at){if(null==Ie)return{};var qe,At,le={},Ne=Object.keys(Ie);for(At=0;At<Ne.length;At++)!(at.indexOf(qe=Ne[At])>=0)&&(le[qe]=Ie[qe]);return le}(Ie,at);if(Object.getOwnPropertySymbols){var At=Object.getOwnPropertySymbols(Ie);for(qe=0;qe<At.length;qe++)!(at.indexOf(Ne=At[qe])>=0)&&(!Object.prototype.propertyIsEnumerable.call(Ie,Ne)||(le[Ne]=Ie[Ne]))}return le}var Ci={"data-eva-animation":"type","data-eva-hover":"hover","data-eva-infinite":"infinite"},ar={"data-eva":"name","data-eva-width":"width","data-eva-height":"height","data-eva-fill":"fill"};function Ss(Ie){var at=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},le=za(Ie),Ne=le.name,qe=Kn(le,["name"]),At=$t.default[Ne].toSvg(wt({},at,qe,{animation:gn(at.animation,qe.animation)},{class:Xe()(at.class,qe.class)})),Dn=(new DOMParser).parseFromString(At,"text/html"),En=Dn.querySelector(".eva-hover")||Dn.querySelector("svg");Ie.parentNode.replaceChild(En,Ie)}function za(Ie){return Array.from(Ie.attributes).reduce(function(at,le){return Ci[le.name]?at.animation=wt({},at.animation,We({},Ci[le.name],le.value)):at=wt({},at,function or(Ie){return We({},ar[Ie.name]?ar[Ie.name]:Ie.name,Ie.value)}(le)),at},{})}function gn(Ie,at){return Ie||at?wt({},Ie,at):null}Jt.default=function ga(){var Ie=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(typeof document>"u")throw new Error("`eva.replace()` only works in a browser environment.");var at=document.querySelectorAll("[data-eva]");Array.from(at).forEach(function(le){return Ss(le,Ie)})}}})}},Bp=>{Bp(Bp.s=798)}]);